!function(e){function t(t){for(var i,a,s=t[0],c=t[1],l=t[2],d=0,p=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&p.push(r[a][0]),r[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);for(u&&u(t);p.length;)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(i=!1)}i&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},r={0:0},o=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a.h="974c42135a74cb8bca62",a.cn="webcommon";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;n()}([function(e,t,n){"use strict";e.exports=n(527)},function(e,t,n){"use strict";n.r(t),n.d(t,"setLocale",(function(){return k})),n.d(t,"setLocaleForActionsAndPackages",(function(){return U})),n.d(t,"getLanguage",(function(){return G})),n.d(t,"getString",(function(){return F})),n.d(t,"getSharedString",(function(){return B})),n.d(t,"getOOBPackageString",(function(){return V})),n.d(t,"getLocaleDirection",(function(){return W})),n.d(t,"isRTLLanguage",(function(){return j})),n.d(t,"didAlignmentChange",(function(){return z})),n.d(t,"showAlertForAlignmentChange",(function(){return Y})),n.d(t,"getPackageLocalizer",(function(){return Q})),n.d(t,"setLocaleData",(function(){return J})),n.d(t,"_setLocaleForPackage",(function(){return X})),n.d(t,"getMiniAppStringMap",(function(){return Z}));var i=n(97),r=n(14),o=n(4);class a{constructor(e){this.packageId=e}getString(e){return V(e,this.packageId)}}var s=n(182),c=n(149),l=n(80),u=n(175),d=n(11),p=n(57),h=n(52),f=n(61),g=n(63),m=n(181),E=n.n(m),_=n(132),S=n.n(_),T=n(73),v=n.n(T),I=n(154),b=n.n(I),y=n(121),C=n.n(y),A=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(a,s)}c((i=i.apply(e,t||[])).next())}))};const O="Localizer";let N,R,P={},w={},M={},D={};const L=new u.a("mlsd",50);var x;function k(e,t=!1,n=!1,i){e!==N?(N=function(e){const t=e.split("-");if(t.length>0&&C()(ne,t[0]))return t[0];if(e=K(e),C()(ie,e))return e;return re}(e),R=H(e),w={},P={},M={},D={},r.u.purge(),X(c.a.WEBAPP_ASSETS_PACKAGE,N,null).then(e=>{h.b.post(new p.a(p.b.LOCALE_CONTENT_STATE_CHANGE,!0)),n?U(i):i&&i()}).catch(()=>{h.b.post(new p.a(p.b.LOCALE_CONTENT_STATE_CHANGE,!1))})):i&&i()}function U(e){Promise.all([...s.a,c.a.MINIAPP_DEF_PACKAGE,c.a.KAIZALA_SHARED_PACKAGE].map(e=>X(e,N,null))).then(t=>{e&&e()})}function G(){return N||re}function F(e){return q(e,c.a.WEBAPP_ASSETS_PACKAGE)}function B(e){return q(e,c.a.KAIZALA_SHARED_PACKAGE)}function V(e,t=c.a.MINIAPP_DEF_PACKAGE){return q(e,t)}function W(){return R||H()}function j(){return W()===x.RTL}function H(e){return R=-1!==ae.indexOf(f.a.getData("currentLocale"))?x.RTL:oe,R}function z(e,t){return-1!==ae.indexOf(e)&&-1===ae.indexOf(t)||-1===ae.indexOf(e)&&-1!==ae.indexOf(t)}function Y(e){const t=f.a.getData("currentLocale");let n=!1;return t!==e&&(f.a.setData("currentLocale",e),z(e,t)&&(Object(g.c)({id:"webApp-alignment-change",title:F("AlignmentChangeTitle"),message:F("AlignmentChangeMessage"),acceptButtonText:F("OkButtonText"),onAccept:()=>{document.location.reload()},isLightDismiss:!1}),n=!0)),n}function K(e){return"zh-TW"===e||"zh-Hant"===e?"zh-Hant":"zh-CN"===e||"zh-Hans"===e?"zh-Hans":e}function q(e,t){if(!w[t]||!w[t][e]){const n=function(e,t){const n=e.split(".");let i=M[t]||P[t],r=P[t]||M[t];for(const t of n){if(!i)return e;const n=i[t],o=r[t];r=o,i=n||r}if("string"==typeof i)return i;return""}(e,t);w[t]=w[t]||{},w[t][e]=n}return w[t][e]}function Q(e){return D[e]||(D[e]=new a(e)),D[e]}function J(e,t=N){return A(this,void 0,void 0,(function*(){const n=[];if(S()(v()(e),e=>{$(e)&&n.push(e)}),n.length>0){const i=b()(n,n=>X(n,t,e[n]));yield Promise.all(i)}}))}function X(e,t,r){o.b.debugWithNonPIIData(O,"Setting Locale data for packageId "+e+", locale "+t);const a=$(e),u=a?function(e,t){const n=L.get(e),i=t.split("/").pop();if(n&&n.path===i)return n.data;return null}(e,r):null;let p=!1,h=!1;if(u){if(w[e]={},P[e]=u[re],p=!0,u.hasOwnProperty(t)?(o.b.debugWithNonPIIData(O,"Locale data for packageId "+e+" and locale "+t+" exists in LRU cache."),M[e]=u[t],h=!0):delete M[e],p&&h)return new Promise((e,n)=>e(t))}else delete P[e],delete M[e];e===c.a.WEBAPP_ASSETS_PACKAGE&&(P[c.a.WEBAPP_ASSETS_PACKAGE]=n(680),p=!0);const f=t=>{if(t===re?p:h)return new Promise((n,i)=>{n((t===re?P:M)[e])});{const n=function(e,t,n){const r=(e===c.a.KAIZALA_SHARED_PACKAGE?"/rawstrings/LocalizedStrings_":"/strings_")+K(t)+".json";e===c.a.WEBAPP_ASSETS_PACKAGE?n=i.AssetsSource.getAssetsPath(i.AssetType.WEB_STRINGS,r):$(e)?n+=r:n=i.AssetsSource.getAssetsPath(i.AssetType.OOB_ACTIONS_PACKAGE_SRC,Object(s.b)(e)+r);return n}(e,t,r);return Object(l.i)(n,t===re)}},g=n=>{a&&function(e,t,n){if(o.b.infoWithNonPIIData(O,"Adding Locale data for packageId "+e+"to LRU cache."),n){const i={path:n.split("/").pop(),data:{}};i.data[re]=P[e],t!==re&&(i.data[t]=M[e]),L.put(e,i)}}(e,t,r),n(t)},m=(n,i)=>{P[e]=n||{},n&&o.b.debugWithNonPIIData(O,"Successfully set the defaultLocale data for packageId "+e+" and defaultLocale "+re),t!==re?f(t).then(e=>E(e,i)).catch(r=>{404==r.errCode?(ee(e,t),n&&d.e.recordEvent(d.c.LOCALE_STRINGS_NOT_FOUND,{PACKAGE_ID:e,LOCALE:t})):te(e,t,r),E(n,i)}):E(n,i)},E=(n,i)=>{M[e]=n||{},w[e]={},n&&o.b.debugWithNonPIIData(O,"Successfully set the Locale data for packageId "+e+" and locale "+t),g(i)};return new Promise((t,n)=>{f(re).then(e=>m(e,t)).catch(n=>{404==n.errCode?(ee(e,re),m(null,t)):te(e,re,n)})})}function $(e){return e!==c.a.WEBAPP_ASSETS_PACKAGE&&e!==c.a.KAIZALA_SHARED_PACKAGE&&e!==c.a.MINIAPP_DEF_PACKAGE&&!Object(s.c)(e)}function Z(e){if($(e)){const t=L.get(e);if(t){if(E()(t.data,N))return t.data[N];if(E()(t.data,re))return t.data[re]}}else{if(E()(M,e))return M[e];if(E()(P,e))return P[e]}return null}function ee(e,t){o.b.infoWithNonPIIData(O,"Locale data for packageId "+e+", locale "+t+" does not exist.")}function te(e,t,n){o.b.infoWithNonPIIData(O,"Error loading Locale data for packageId "+e+", locale "+t+". ErrorCode: "+n.errCode+", Message: "+n.errMsg)}!function(e){e.LTR="ltr",e.RTL="rtl"}(x||(x={}));const ne=["en","hi","ar","he","te","kn","ml","fil","id","sw","es","gu","mr","ta","th","tr","vi","fr","de","bg","nl","ro","sr","uk","ru","ja","hr","cs","da","fi","el","hu","it","nb","ko","pl","sk","sv","et","lv","lt","sl"],ie=["pt-BR","pt-PT","bn-BD","zh-Hans","pa-IN","zh-Hant"],re="en",oe=x.LTR,ae=["ar","he"]},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{static SetCanvasWidth(e){i.CANVAS_WIDTH=e}}i.CANVAS_WIDTH=600,i.APP_HEADER_HEIGHT=45,i.DEFAULT_CANVAS_ICON_SIZE=204,i.DEFAULT_MAIN_TEXT_MARGIN=26,i.DEFAULT_SUBTEXT_MARGIN=14,i.LIST_ITEM={HEADER_HEIGHT:36,HEIGHT:72,PROFILE_PIC:{SIZE:44,MARGIN_LEFT:12,MARGIN_RIGHT:8,MARGIN_TOP:14,MARGIN_BOTTOM:14},TITLE_HEIGHT:47,TENANT_BADGE_PADDING:0,MESSAGE_STATE_ICON_SIZE:16,MESSAGE_TYPE_ICON_SIZE:14},i.HEIGHT_72=72,i.HEIGHT_58=58,i.EMOTICON_HEIGHT=20,i.EMOTICON_PALETTE_HEIGHT=298,i.AT_MENTION_ITEM_HEIGHT=54,i.MARGIN_N26=-26,i.MARGIN_N4=-4,i.MARGIN_N3=-3,i.MARGIN_0=0,i.MARGIN_1=1,i.MARGIN_2=2,i.MARGIN_3=3,i.MARGIN_4=4,i.MARGIN_5=5,i.MARGIN_6=6,i.MARGIN_8=8,i.MARGIN_10=10,i.MARGIN_11=11,i.MARGIN_12=12,i.MARGIN_14=14,i.MARGIN_15=15,i.MARGIN_16=16,i.MARGIN_17=17,i.MARGIN_18=18,i.MARGIN_20=20,i.MARGIN_22=22,i.MARGIN_24=24,i.MARGIN_25=25,i.MARGIN_26=26,i.MARGIN_28=28,i.MARGIN_30=30,i.MARGIN_40=40,i.MARGIN_47=47,i.MARGIN_66=66,i.MARGIN_83=83,i.PADDING_0=0,i.PADDING_2=2,i.PADDING_4=4,i.PADDING_6=6,i.PADDING_7=7,i.PADDING_8=8,i.PADDING_9=9,i.PADDING_10=10,i.PADDING_12=12,i.PADDING_14=14,i.PADDING_16=16,i.PADDING_17=17,i.PADDING_18=18,i.PADDING_20=20,i.PADDING_22=22,i.PADDING_24=24,i.PADDING_25=25,i.PADDING_28=28,i.PADDING_96=96,i.PADDING_221=221,i.RADIUS_2=2,i.RADIUS_4=4,i.RADIUS_6=6,i.RADIUS_8=8,i.RADIUS_10=10,i.RADIUS_12=12,i.RADIUS_14=14,i.RADIUS_16=16,i.RADIUS_20=20,i.RADIUS_22=22,i.RADIUS_24=24,i.RADIUS_28=28,i.RADIUS_30=30,i.BORDER_RADIUS_SMALL=3,i.MESSAGE_CONTAINER_DEFAULT_RADIUS=8,i.CARD_IMAGE_VIEW_BORDER_RADIUS=8,i.LENGTH_GENERIC_TAB_ICON=72,i.LENGTH_ICON_IMAGE=24,i.WIDTH_MESSAGE_MAX=.6*window.innerWidth,i.WIDTH_GENERIC_BORDER=1,i.WIDTH_CONVERSATION_LIST=370,i.WIDTH_CONVERSATION_LIST_MINIAPP_ACTIVE=308,i.HEIGHT_TEXT_INPUT_DEFAULT=35,i.HEIGHT_TEXT_INPUT_MAX=100,i.HEIGHT_GENERIC_SECTION_HEADER=72,i.HEIGHT_TAB_ICON_CAPTION=18,i.FONT_SIZE_DEFAULT=14,i.CARD_TITLE_LETTER_SPACING=2,i.LOW_ELEVATION=4,i.SHADOW_LOW_OPACITY=.15,i.SHADOW_LOW_RADIUS=1,i.BUBBLE_LARGE_RADIUS=16,i.BUBBLE_SMALL_RADIUS=8,i.TEXT_MESSAGE_MAX_WIDTH=470,i.TEXT_MESSAGE_MIN_WIDTH=100,i.TEXT_BUBBLE_SHADOW_OPACITY=.25,i.ALBUM_ICON_SIZE=30,i.IMMERSIVE_VIEW_TOP_COUNTER_VIEW_HEIGHT=30,i.IMMERSIVE_VIEW_TOP_COUNTER_VIEW_WIDTH=75,i.IMMERSIVE_VIEW_PROFILE_PIC_SIZE=32,i.IMMERSIVE_VIEW_BUTTON_PIC_SIZE=16,i.WIDTH_NON_SURVEY_CARD=384,i.WIDTH_SURVEY_CARD=384,i.WIDTH_CARD_HEADER=372,i.HEIGHT_CARD_COVER_IMAGE=240,i.WIDTH_CARD_COVER_IMAGE=376,i.PADDING_FOR_REPLY_BUTTON=10,i.MESSAGE_OPTIONS_BUTTON_WIDTH=15,i.MESSAGE_OPTIONS_BUTTON_HEIGHT=15,i.MESSAGE_HEIGHT_STATE_ICON_SIZE=8,i.MESSAGE_WEIGHT_STATE_ICON_SIZE=14,i.MESSAGE_STATE_ICON_RIGHT_MARGIN=-5,i.MESSAGE_STATE_ICON_TOP_MARGIN=-2,i.NEW_CHAT_ICON_SIZE=36,i.NEW_CHAT_ICON_BORDER_RADIUS=18,i.CHAT_CANVAS_PROFILE_PIC_SIZE=48,i.CARD_CHEVRON_SIZE=14,i.COVER_IMAGE_BOTTOM_GAP=8,i.CARD_INFO_HEIGHT=40,i.CARD_ICON_HEIGHT=24,i.CARD_PADDING=10,i.BG_ICON_WIDTH=46,i.BG_ICON_HEIGHT=64,i.BOTTOM_HEIGHT=46,i.ASSIGNEES_VIEW_HEIGHT=16,i.SUMMARY_VIEW_HEIGHT=16,i.CARD_CORNER_RADIUS=8,i.CardViewDividerWidth=30,i.SUMMARY_PROGRESS_HEIGHT=8,i.OPTION_HEIGHT=44,i.COLOR_CODE_HELPER_HEIGHT=24,i.OPTION_GAP=8,i.SUMMARY_HEIGHT=20,i.COUNT_TEXT_HEIGHT=24,i.CARD_MIN_WIDTH=260,i.REPLY_THUMBNAIL_WIDTH=72,i.REPLY_THUMBNAIL_HEIGHT=72,i.PALETTE_NO_ACTION_ROW_HEIGHT=120,i.PALETTE_ELEMENT_ICON_SIZE=44,i.PALETTE_ELEMENT_CAPTION_MAX_WIDTH=100,i.PALETTE_ELEMENT_WIDTH=100,i.PALETTE_ACTION_ELEMENT_HEIGHT=86,i.PALETTE_ATTACHMENT_ELEMENT_HEIGHT=60,i.PALETTE_SEGMENT_HEADER_HEIGHT=16,i.MANAGAED_PALETTE_INDICATOR_HEIGHT=34,i.PALETTE_SEGMENT_PADDING=24,i.BACK_BUTTON_WIDTH=30,i.BACK_BUTTON_HEIGHT=16,i.CONVERSATION_LIST_OVER_SCAN_ROW_COUNT=10,i.PARTICIPANT_LIST_OVER_SCAN_ROW_COUNT=10,i.SCREENSHOT_ATTACHMENT_ICON_SIZE=20,i.SCREENSHOT_VIEW_SIZE=48,i.SCREENSHOT_DISPLAY_CLOSE_BUTTON_SIZE=11,i.GROUP_ICON_HEIGHT=18,i.GROUP_ICON_WIDTH=20,i.LOADING_UI_IMAGE_WIDTH=100,i.LOADING_UI_IMAGE_HEIGHT=100,i.APP_VIEW_ALERT_DIALOG_WIDTH=440,i.APP_VIEW_ALERT_DIALOG_HEIGHT=168,i.APP_VIEW_ALERT_DIALOG_BUTTON_HEIGHT=32,i.APP_VIEW_ALERT_DIALOG_BUTTON_WIDTH=108,i.APP_VIEW_ALERT_DIALOG_BORDER_RADIUS=4,i.DELETE_ICON_HEIGHT=16,i.DELETE_ICON_WIDTH=18,i.MESSAGE_OPTIONS_MENU_ITEM_WIDTH=140,i.MESSAGE_OPTIONS_MENU_ITEM_HEIGHT=37,i.DEFAULT_PICKER_MODAL_WIDTH=400,i.DEFAULT_PICKER_MODAL_HEIGHT=650,i.DEFAULT_PICKER_MODAL_HEADER_HEIGHT=52,i.DEFAULT_PICKER_MODAL_PADDING_BOTTOM=22,i.DEFAULT_PICKER_CHECKBOX_WIDTH=19,i.DEFAULT_PICKER_CHECKBOX_HEIGHT=19,i.JOIN_GROUP_POPUP_HEIGHT=346,i.JOIN_GROUP_POPUP_WIDTH=416,i.JOIN_GROUP_PROFILE_PIC_SIZE=96,i.JOIN_GROUP_TENANT_PIC_SIZE=40,i.JOIN_GROUP_TEXT_BOX_HEIGHT=24,i.JOIN_GROUP_DESCRIPTION_TEXT_BOX_HEIGHT=60,i.JOIN_GROUP_FETCHING_VIEW_BLANK_BOX_HEIGHT=86,i.JOIN_GROUP_ERROR_IMAGE_HEIGHT=120,i.JOIN_GROUP_ERROR_IMAGE_WIDTH=219,i.REDIRECT_TOOLTIP_WIDTH=240,i.REDIRECT_TOOLTIP_HEIGHT=65,i.URL_PREVIEW_WIDGET_MAX_HEIGHT=104,i.URL_PREVIEW_WIDGET_MIN_HEIGHT=86,i.URL_PREVIEW_THUMBNAIL_HEIGHT=92,i.URL_PREVIEW_THUMBNAIL_WIDTH=92,i.URL_PREVIEW_HEIGHT=100,i.URL_PREVIEW_CLOSE_ICON_HEIGHT=24,i.URL_PREVIEW_CLOSE_ICON_WIDTH=24,i.URL_PREVIEW_CLOSE_ICON_BACKGROUND_HEIGHT=48,i.URL_PREVIEW_CLOSE_ICON_BACKGROUND_WIDTH=48,i.REPLY_WIDTH_HEIGHT=80,i.REPLY_TO_PREVIEW_TEXT_MINWIDTH=50,i.REPLY_TO_MESSAGE_ICON_HEIGHT=16,i.REPLY_TO_MESSAGE_ICON_WIDTH=16,i.REPLY_TO_CLOSE_ICON_HEIGHT=24,i.REPLY_TO_CLOSE_ICON_WIDTH=24,i.REPLY_TO_CLOSE_ICON_BACKGROUND_HEIGHT=48,i.REPLY_TO_CLOSE_ICON_BACKGROUND_WIDTH=48,i.STICKY_NOTIFICATION_HEIGHT=72,i.NETWORK_DISCONNECTED_NOTIFICATION_VIEW_HEIGHT=72,i.NETWORK_CONNECTED_NOTIFICATION_VIEW_HEIGHT=20,i.STICKY_NOTIFICATION_CLOSE_ICON_HEIGHT=12,i.STICKY_NOTIFICATION_CLOSE_ICON_WIDTH=12,i.BATTERY_NOTIFICATION_HEIGHT=72,i.BROWSER_NOTIFICATION_HEIGHT=72,i.FILTER_CONTROL_BACK_ICON_HEIGHT=20,i.FILTER_CONTROL_BACK_ICON_WIDTH=20,i.FILTER_CONTROL_CLEAR_BUTTON_HEIGHT=20,i.FILTER_CONTROL_CLEAR_BUTTON_WIDTH=20,i.BACK_ICON_HEIGHT=24,i.BACK_ICON_WIDTH=24,i.CONVERSATION_OPTIONS_CHEVRON_HEIGHT=18,i.CONVERSATION_OPTIONS_CHEVRON_WIDTH=18,i.CONVERSATION_OPERATION_MENU_ITEM_HEIGHT=33,i.CONVERSATION_OPERATION_MENU_WIDTH=240,i.PALETTE_ICON_HEIGHT=48,i.PALETTE_ICON_WIDTH=48,i.PREVIEW_TAG_HEIGHT=15,i.GROUP_INFORMATION_CROSS_ICON_HEIGHT=16,i.GROUP_INFORMATION_CROSS_ICON_WIDTH=16,i.GROUP_INFORMATION_PROFILE_PIC_SIZE=174,i.GROUP_INFORMATION_PROFILE_PIC_HEIGHT=224,i.GROUP_INFORMATION_PROFILE_PIC_MARGIN=25,i.GROUP_INFORMATION_ADD_PARTICIPANT_HEIGHT=40,i.GROUP_INFORMATION_ADD_PARTICIPANT_WIDTH=40,i.GROUP_INFORMATION_DIV_HEIGHT=73,i.GROUP_INFORMATION_PUBLIC_GROUP_ICON_HEIGHT=20,i.GROUP_INFORMATION_PUBLIC_GROUP_ICON_WIDTH=20,i.GROUP_INFORMATION_ORG_VIEW_HEIGHT=55,i.GROUP_INFORMATION_ORG_ICON_HEIGHT=20,i.GROUP_INFORMATION_ORG_ICON_WIDTH=20,i.GROUP_OPERATION_MENU_ITEM_HEIGHT=33,i.GROUP_OPERATION_MENU_WIDTH=180,i.GROUP_INFORMATION_HEIRARCHY_ICON_HEIGHT=12,i.GROUP_INFORMATION_HEIRARCHY_ICON_WIDTH=12,i.GROUP_INFORMATION_PARTICIPANT_CONTAINER_HEIGHT=48,i.GROUP_INFORMATION_ADD_PARTICIPANT_POP_UP_HEIGHT=682,i.GROUP_INFORMATION_ADD_PARTICIPANT_POP_UP_WIDTH=400,i.GROUP_INFORMATION_ADD_PARTICIPANT_POP_UP_HEADER_HEIGHT=52,i.GROUP_INFORMATION_CHEVRON_HEIGHT=15,i.GROUP_INFORMATION_CHEVRON_WIDTH=15,i.GROUP_INFORMATION_ORG_DIV_HEIGHT=63,i.GROUP_INFORMATION_RESULT_NOT_FOUND_DEV_HEIGHT=221,i.GET_FROM_APP_STORE_BUTTON_WIDTH=136,i.GET_FROM_APP_STORE_BUTTON_HEIGHT=40,i.JOIN_GROUP_UI_HEIGHT=547,i.JOIN_GROUP_UI_WIDTH=574,i.NEW_USER_GUIDE_HEIGHT=574,i.NEW_USER_GUIDE_WIDTH=440,i.NEW_USER_ILLUSTRATION_ICON_HEIGHT=228,i.NEW_USER_ILLUSTRATION_ICON_WIDTH=228,i.NEW_USER_GUIDE_OK_BUTTON_CONTAINER_HEIGHT=84,i.DOWNLOAD_KAIZALA_BUTTON_CONTAINER_HEIGHT=96,i.JOIN_GROUP_UI_QR_CODE_HEIGHT=188,i.JOIN_GROUP_UI_QR_CODE_WIDTH=188,i.JOIN_GROUP_OK_BUTTON_CONTAINER_HEIGHT=72,i.OK_BUTTON_TEXT_WIDTH=92,i.OK_BUTTON_TEXT_HEIGHT=30,i.POPUP_HEIGHT=500,i.POPUP_WIDTH=560,i.TITLE_MARGIN=40,i.TITLE_WEIGHT=700,i.DESCRIPTION_FONT="Segoe UI",i.DESCRIPTION_MARGIN=4,i.IMAGE_MARGIN_TOP=14,i.IMAGE_MARGIN_BOTTOM=20,i.IMAGE_HEIGHT=248,i.IMAGE_WIDTH=400,i.SEPARATOR_HEIGHT=1},function(e,t,n){"use strict";e.exports=n(528)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i,r=n(194),o=n.n(r),a=n(6);!function(e){e[e.ALL=0]="ALL",e[e.TRACE=1]="TRACE",e[e.DEBUG=2]="DEBUG",e[e.INFO=3]="INFO",e[e.WARN=4]="WARN",e[e.ERROR=5]="ERROR",e[e.FATAL=6]="FATAL",e[e.OFF=7]="OFF"}(i||(i={}));class s{static traceWithNonPIIData(e,...t){this.log(i.TRACE,e,t,void 0)}static traceWithPIIData(e,t,...n){this.log(i.TRACE,e,t,n)}static debugWithNonPIIData(e,...t){this.log(i.DEBUG,e,t,void 0)}static debugWithPIIData(e,t,...n){this.log(i.DEBUG,e,t,n)}static infoWithNonPIIData(e,...t){this.log(i.INFO,e,t,void 0)}static infoWithPIIData(e,t,...n){this.log(i.INFO,e,t,n)}static warnWithNonPIIData(e,...t){this.log(i.WARN,e,t,void 0)}static warnWithPIIData(e,t,...n){this.log(i.WARN,e,t,n)}static errorWithNonPIIData(e,...t){this.log(i.ERROR,e,t,void 0)}static errorWithPIIData(e,t,...n){this.log(i.ERROR,e,t,n)}static fatalWithNonPIIData(e,...t){this.log(i.FATAL,e,t,void 0)}static fatalWithPIIData(e,t,...n){this.log(i.FATAL,e,t,n)}static registerOnLog(e,t=i.OFF){s.onLogListeners.push({listener:e,loggerLevel:t})}static log(t,n,r,c){const l=o()().format("YYYY-MM-DD HH:mm:ss.sss Z");if(Object(a.f)())return void e.log(i[t],l,n,...r);let u;if(s.isInitialized||s.initialize(),s.BuildConfig.isAutomation||!s.BuildConfig.isProdMode&&c?u=r.concat(c):(c=void 0,u=r),s.sLogger){const e=s.convertLevel(t);s.sLogger.getLevel()&&s.sLogger.isEnabledFor(e,null)&&s.sLogger.log(e,[n,...u])}this.notifyOnLog(l,t,n,...u)}static initialize(){s.isInitialized=!0,s.BuildConfig=n(20),s.BuildConfig.isProdMode||s.BuildConfig.isAutomation||(s.logger=n(652),s.sLogger=s.logger.getDefaultLogger(),s.sLogger.setLevel(s.logger.Level.ALL))}static convertLevel(e){switch(e){case i.ALL:return s.logger.Level.ALL;case i.DEBUG:return s.logger.Level.DEBUG;case i.ERROR:return s.logger.Level.ERROR;case i.FATAL:return s.logger.Level.FATAL;case i.INFO:return s.logger.Level.INFO;case i.OFF:return s.logger.Level.OFF;case i.TRACE:return s.logger.Level.TRACE;case i.WARN:return s.logger.Level.WARN;default:return s.logger.Level.ERROR}}static notifyOnLog(e,t,n,...i){s.onLogListeners.forEach(r=>{try{r.loggerLevel<=t&&r.listener(e,t,n,...i)}catch(e){}})}}s.logger=null,s.sLogger=null,s.BuildConfig=null,s.isInitialized=!1,s.onLogListeners=[]}).call(this,n(110))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var i=n(78),r=n(61);const o={primary500:"#00508D",primary400:"#0078D4",primary300:"#00A1FF",primary200:"#C1D9EB",primary100:"#BFE8FF",backgroundColor1:"#f3f6f8",backgroundColor2:"#ffffff",backgroundColor3:"#00000000",backgroundColor4:"#ffffff",backgroundColor5:"#f4f4f4",backgroundColor6:"#c5eaff",backgroundColor7:"#E3FAFE",backgroundColor8:"#ffffff99",backgroundColor9:"#B4DBF1",backgroundColor10:"#eaf1f5",backgroundColor11:"#a2c5d8",backgroundColor12:"#d9d9d9",backgroundColor13:"#bcbcbc",backgroundColor14:"#f4f4f4",backgroundColor15:"#ffffff",backgroundColor16:"#f3f6f8",surfaceColor1:"#FFFFFF",surfaceColor2:"#000000",surfaceColor3:"#323639",separatorColor1:"#F4F4F4",separatorColor2:"#d4d8dB",separatorColor3:"#0078D4",textPrimaryColor:"#000000",textSecondaryColor:"#737373",textTertiaryColor:"#98A3A5",textQuaternaryColor:"#32495F",textQuinaryColor:"#636363",textReverseColor:"#FFFFFF",textLinkColor:"#0078D4",textBoldColor:"#00508D",textNegativeColor:"#E81123",textPositiveColor:"#107C10",textWhiteColor:"#FFFFFF",textPinkColor:"#DE1289",iconPrimaryColor:"#0078D4",iconSecondaryColor:"#667787",iconTertiaryColor:"#98A3A5",iconReverseColor:"#FFFFFF",iconNegativeColor:"#E81123",iconPositiveColor:"#107C10",indicatorColor1:"#E81123",indicatorColor2:"#107C10",indicatorColor3:"#FFB900",indicatorColor4:"#E5FAFF",listHeaderColor:"#ffffff",listItemHoverColor:"#f4f4f4",tabBackgroundColor:"#00508d",tabBackgroundHoverColor:"#0078d480",tabSelectedBackgroundColor:"#0078d4",scrollBarColor1:"#d3d3d3",scrollBarColor2:"#a9a9a9",shimmerShineColor1:"#f6f7f8",shimmerShineColor2:"#edeef1"},a={primary500:"#00508D",primary400:"#0078D4",primary300:"#0090FF",primary200:"#C1D9EB",primary100:"#BFE8FF",backgroundColor1:"#292929",backgroundColor2:"#141414",backgroundColor3:"#00000000",backgroundColor4:"#212121",backgroundColor5:"#292929",backgroundColor6:"#00508d",backgroundColor7:"#193e57",backgroundColor8:"#21212160",backgroundColor9:"#347bb2",backgroundColor10:"#292929",backgroundColor11:"#3c7390",backgroundColor12:"#12181c",backgroundColor13:"#6b757b",backgroundColor14:"#212121",backgroundColor15:"#292929",backgroundColor16:"#000000",surfaceColor1:"#000000",surfaceColor2:"#000000",surfaceColor3:"#323639",separatorColor1:"#292929",separatorColor2:"#292929",separatorColor3:"#b3dfe6",textPrimaryColor:"#ffffff",textSecondaryColor:"#8E8E8E",textTertiaryColor:"#ACACAC",textQuaternaryColor:"#E1E1E1",textQuinaryColor:"#BFBFBF",textReverseColor:"#000000",textLinkColor:"#00A1FF",textBoldColor:"#00508D",textNegativeColor:"#E81123",textPositiveColor:"#107C10",textWhiteColor:"#FFFFFF",textPinkColor:"#F359B3",iconPrimaryColor:"#FFFFFF",iconSecondaryColor:"#767676",iconTertiaryColor:"#98A3A5",iconReverseColor:"#000000",iconNegativeColor:"#E81123",iconPositiveColor:"#107C10",indicatorColor1:"#E81123",indicatorColor2:"#107C10",indicatorColor3:"#FFB900",indicatorColor4:"#E5FAFF",listHeaderColor:"#212121",listItemHoverColor:"#404040",tabBackgroundColor:"#212121CC",tabBackgroundHoverColor:"#404040",tabSelectedBackgroundColor:"#505050",scrollBarColor1:"#a9a9a9",scrollBarColor2:"#808080",shimmerShineColor1:"#545454",shimmerShineColor2:"#424242"};function s(){return c?a:o}const c=!!r.a.getData(i.c)&&r.a.getData(i.c)},function(e,t,n){"use strict";n.d(t,"g",(function(){return p})),n.d(t,"i",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return g})),n.d(t,"h",(function(){return m})),n.d(t,"e",(function(){return E})),n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return S})),n.d(t,"f",(function(){return T})),n.d(t,"j",(function(){return v}));var i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),r=new Uint8Array(16);function o(){if(!i)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(r)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var s=function(e){return"string"==typeof e&&a.test(e)},c=[],l=0;l<256;++l)c.push((l+256).toString(16).substr(1));var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase();if(!s(n))throw TypeError("Stringified UUID is invalid");return n};var d=function(e,t,n){var i=(e=e||{}).random||(e.rng||o)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=i[r];return t}return u(i)};function p(e){return null==e}function h(e){return 0|e}function f(e){if(p(e))return 0;let t=0;for(let n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t}function g(e){return"number"==typeof e&&(e=e.toString()),!e||0===e.trim().length}function m(e){const t=e.split("\n");let n="";for(const e of t)e.trim().startsWith("//")||(n+=e+"\n");return n}function E(e){return"string"==typeof e&&(0===e.trim().search("http://")||0===e.trim().search("https://"))}function _(e){const t=e.indexOf("@"),n=-1!==t?e.substr(t):"";return S()+n}const S=()=>d();function T(){return"undefined"==typeof window||!window}function v(e){return e.replace(/^\s+/,"")}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var i=n(5),r=n(6);class o{constructor(){this.ImagesAssetsPath="/web-app-images/",this.getImageAssetPath=(e,t=!1)=>{if(Object(r.f)())return this.ImagesAssetsPath+e;{const i=n(1);if(t&&i.isRTLLanguage()){const t=e.split("/");t[t.length-1]="rtl_"+t[t.length-1],e=t.join("/")}return n(97).AssetsSource.getImageAssetPath(e)}},this.KaizalaIcon=this.getImageAssetPath("Kaizala-logo.svg"),this.KaizalaWhiteIcon=this.getImageAssetPath("kaizala-white.png"),this.UnsupportedBrowserScreen=this.getImageAssetPath("unsupported-browser-screen.png"),this.DiscoverSelectedIcon=this.getImageAssetPath("discover_selected_icon.svg"),this.DiscoverUnselectedIcon=this.getImageAssetPath("discover_unselected_icon.svg"),this.PeopleSelectedIcon=this.getImageAssetPath("ic_people_selected_icon.svg"),this.PeopleUnselectedIcon=this.getImageAssetPath("ic_people_normal_icon.svg"),this.ConversationSelectedIcon=this.getImageAssetPath("main_conversation_fragment_selected_icon.svg"),this.ConversationUnselectedIcon=this.getImageAssetPath("main_conversation_fragment_unselected_icon.svg"),this.PublicGroupIndicatorIcon=this.getImageAssetPath("public_group_badge.png"),this.WorkGroupIndicatorIcon=this.getImageAssetPath("work_group_badge.png"),this.EmptyCanvasScreenIcon=this.getImageAssetPath("empty-canvas-screen-icon.svg"),this.TripleDotsIcon=this.getImageAssetPath("triple_dots.png"),this.PinnedConversationIndicator=this.getImageAssetPath("pin_in_conversation.svg"),this.MutedConversationIndicator=this.getImageAssetPath("muted_small.svg"),this.BackPressIconBlue=this.getImageAssetPath("back_blue.png"),this.ConversationWhiteIcon=this.getImageAssetPath("conversation_white_icon.png"),this.WhiteInfoIcon=this.getImageAssetPath("info-white.svg"),this.SuccessIcon=this.getImageAssetPath("issue-submitted.svg"),this.FailureIcon=this.getImageAssetPath("issue-not-submitted.svg"),this.MessageActionsGrey=this.getImageAssetPath("message-actions-grey.svg"),this.MessageActionsWhite=this.getImageAssetPath("message-actions-white.svg"),this.MessageActionsBackgroundBlue=i.b?this.getImageAssetPath("message-actions-bg-blue-dark.svg"):this.getImageAssetPath("message-actions-bg-blue.svg"),this.MessageActionsBackgroundWhite=i.b?this.getImageAssetPath("message-actions-bg-white_v2-dark.svg"):this.getImageAssetPath("message-actions-bg-white_v2.svg"),this.MessageActionsBackgroundGrey=this.getImageAssetPath("message-actions-bg-grey.svg"),this.closeReplyPreview=this.getImageAssetPath("close_reply_preview.svg"),this.BlueDownloadButton=this.getImageAssetPath("blue_download_icon.png"),this.NoResultsIcon=this.getImageAssetPath("NoResultIcon.png"),this.NewChatIcon=this.getImageAssetPath("NewChatIcon.svg"),this.PrevViewIcon=this.getImageAssetPath("PrevViewIcon.svg",!0),this.NewGroupIcon=this.getImageAssetPath("NewGroupIcon.svg"),this.AddGroupPictureIcon=this.getImageAssetPath("AddGroupPictureIcon.svg"),this.NextButtonClickableIcon=this.getImageAssetPath("NextButtonClickable.svg"),this.CameraIcon=this.getImageAssetPath("CameraIcon.svg"),this.NewImageIcon=this.getImageAssetPath("NewGroupIcon.svg"),this.InnerImageGroupIcon=this.getImageAssetPath("WhiteInnerPictureIcon.svg"),this.PicCloseIcon=this.getImageAssetPath("PicCloseIcon.svg"),this.CrossButtonWhiteIcon=this.getImageAssetPath("CrossButtonWhiteIcon.svg"),this.CrossButtonBlueIcon=this.getImageAssetPath("CrossBlue.svg"),this.ChevronUpIcon=this.getImageAssetPath("ic_chevron_up.svg"),this.ChevronDownIcon=this.getImageAssetPath("ic_chevron_down.svg"),this.NewWebAppVersionAvailable=this.getImageAssetPath("NewWebAppVersionAvailable.svg"),this.GifButtonIcon=this.getImageAssetPath("gifIcon.png"),this.FeedbackIcon=this.getImageAssetPath("feedback_icon.svg"),this.FeedbackTooltipBackground=this.getImageAssetPath("combined-shape.svg"),this.WhiteCross=this.getImageAssetPath("ic_clear_search.svg"),this.GreyCross=this.getImageAssetPath("ic_clear_searchGrey.svg"),this.BlueCross=this.getImageAssetPath("ic_clear_searchBlue.svg"),this.ActiveStar=this.getImageAssetPath("ic_Rating_star_active.svg"),this.InactiveStar=this.getImageAssetPath("ic_Rating_star_inactive.svg"),this.FeedbackSubmittedIcon=this.getImageAssetPath("ic_Feedback_Submitted.svg"),this.FeedbackAttachmentButton=this.getImageAssetPath("feedback/FeedbackAttachment.png"),this.FeedbackAttachmentCloseButton=this.getImageAssetPath("feedback/WhiteCloseButton.svg"),this.paletteButton=this.getImageAssetPath("canvas/palette_android.svg"),this.emoticonButton=this.getImageAssetPath("canvas/emoticon.png"),this.paletteCloseButton=this.getImageAssetPath("canvas/palette_close.svg"),this.sendButton=this.getImageAssetPath("canvas/send-button.svg",!0),this.RestrictedGroupChatIcon=this.getImageAssetPath("canvas/restrictedGroup.png"),this.UnCompatibleDeviceViewIcon=this.getImageAssetPath("canvas/incompatibleVersion.png"),this.ForwardMessageShortcutIcon=this.getImageAssetPath("canvas/forward_icon.svg"),this.CanvasBackground=i.b?this.getImageAssetPath("canvas/canvas_background_dark.png"):this.getImageAssetPath("canvas/canvas_background.png"),this.ScrollToTheBottom=i.b?this.getImageAssetPath("scroll-to-the-bottom-dark.svg"):this.getImageAssetPath("scroll-to-the-bottom.svg"),this.myLocationIcon=this.getImageAssetPath("chatCard/my_location_map.png"),this.placeIcon=this.getImageAssetPath("chatCard/place_map.png"),this.drillDownChevron=this.getImageAssetPath("chatCard/drill_down_chevron.png"),this.LineSeparator=this.getImageAssetPath("chatCard/LineSeparator.png"),this.billCardIcon=this.getImageAssetPath("chatCard/card_billsubmit.png"),this.videoCardIcon=this.getImageAssetPath("chatCard/card_video.png"),this.videoPlayerIcon=this.getImageAssetPath("chatCard/video-play-icon.svg"),this.CardInfoGradient=this.getImageAssetPath("chatCard/CardInfoGradient.png"),this.PollCardIcon=this.getImageAssetPath("chatCard/PollCardIcon.png"),this.SurveyCardIcon=this.getImageAssetPath("chatCard/SurveyCardIcon.png"),this.MeetCardIcon=this.getImageAssetPath("chatCard/MeetCardIcon.png"),this.JobCardIcon=this.getImageAssetPath("chatCard/JobCardIcon.png"),this.GreenTickIcon=this.getImageAssetPath("chatCard/GreenTickIcon.png"),this.EditResponseIcon=this.getImageAssetPath("chatCard/EditResponseIcon.png"),this.RetryIcon=this.getImageAssetPath("chatCard/RetryIcon.png"),this.AssigneeIcon=this.getImageAssetPath("chatCard/AssigneeIcon.png"),this.JobNotStartedIcon=this.getImageAssetPath("chatCard/JobNotStartedIcon.png"),this.JobInProgressIcon=this.getImageAssetPath("chatCard/JobInProgressIcon.png"),this.JobNobodyRespondedIcon=this.getImageAssetPath("chatCard/JobNobodyRespondedIcon.png"),this.DownloadDefaultImage=this.getImageAssetPath("chatCard/DownloadDefaultImage.png"),this.DownloadRetryIcon=this.getImageAssetPath("chatCard/DownloadRetryIcon.png"),this.UnsupportedCardIcon=this.getImageAssetPath("chatCard/card_unsupported.png"),this.AttachmentIcon=this.getImageAssetPath("chatCard/card_attachment.png"),this.WordIcon=this.getImageAssetPath("chatCard/word_icon.png"),this.PptIcon=this.getImageAssetPath("chatCard/powerpoint_icon.png"),this.PdfIcon=this.getImageAssetPath("chatCard/pdf_icon.png"),this.ExcelIcon=this.getImageAssetPath("chatCard/excel_icon.png"),this.CardDocumentIcon=this.getImageAssetPath("chatCard/card_document.png"),this.AudioIcon=this.getImageAssetPath("chatCard/audio.png"),this.AttachmentDownloadIcon=this.getImageAssetPath("chatCard/attachment_download.png"),this.AttachmentBlueDownloadIcon=this.getImageAssetPath("blue_download.svg"),this.ImageAttachmentPreviewIcon=this.getImageAssetPath("chatCard/cl_image.png"),this.ActionPreviewIcon=this.getImageAssetPath("chatCard/cl_action.svg"),this.AnnouncementPreviewIcon=this.getImageAssetPath("chatCard/cl_announcement.png"),this.AttendancePreviewIcon=this.getImageAssetPath("chatCard/cl_attendance.png"),this.AudioAttachmentPreviewIcon=this.getImageAssetPath("chatCard/cl_audio.png"),this.BillPreviewIcon=this.getImageAssetPath("chatCard/cl_bill.png"),this.ChecklistPreviewIcon=this.getImageAssetPath("chatCard/cl_checklist.png"),this.ChessPreviewIcon=this.getImageAssetPath("chatCard/cl_chess.png"),this.ContactAttachmentPreviewIcon=this.getImageAssetPath("chatCard/cl_contact.png"),this.DocumentAttachmentPreviewIcon=this.getImageAssetPath("chatCard/cl_document.png"),this.ImageStoryAttachmentPreviewIcon=this.getImageAssetPath("chatCard/cl_imagestory.png"),this.JobPreviewIcon=this.getImageAssetPath("chatCard/cl_job.png"),this.LiveLocationPreviewIcon=this.getImageAssetPath("chatCard/cl_livelocation.png"),this.LocationRequestPreviewIcon=this.getImageAssetPath("chatCard/cl_location_request.png"),this.MeetingPreviewIcon=this.getImageAssetPath("chatCard/cl_meeting.png"),this.MobiqwikPreviewIcon=this.getImageAssetPath("chatCard/cl_mobiqwik.png"),this.PayPreviewIcon=this.getImageAssetPath("chatCard/cl_pay.png"),this.PhotoCheckInPreviewIcon=this.getImageAssetPath("chatCard/cl_photocheckin.png"),this.PollPreviewIcon=this.getImageAssetPath("chatCard/cl_poll.png"),this.QuizPreviewIcon=this.getImageAssetPath("chatCard/cl_quiz.png"),this.ShareLocationPreviewIcon=this.getImageAssetPath("chatCard/cl_sharelocation.png"),this.SurveyPreviewIcon=this.getImageAssetPath("chatCard/cl_survey.svg"),this.TicTacToePreviewIcon=this.getImageAssetPath("chatCard/cl_tictactoe.png"),this.TrainingPreviewIcon=this.getImageAssetPath("chatCard/cl_training.png"),this.VideoAttachmentPreviewIcon=this.getImageAssetPath("chatCard/cl_video.png"),this.ReplyToShadowImg=this.getImageAssetPath("chatCard/reply_to_shadow.png"),this.TimestampBackgroundImg=this.getImageAssetPath("chatCard/timestamp_background_img.svg"),this.CardTitleTopGradient=this.getImageAssetPath("chatCard/card-title-top-gradient.svg"),this.CardFooterLeftGradient=this.getImageAssetPath("chatCard/card-footer-left-gradient.svg"),this.LikeFilledIcon=this.getImageAssetPath("reactions/like_filled.png"),this.LikeEmptyIcon=this.getImageAssetPath("reactions/like_empty.png"),this.CommentFilledIcon=this.getImageAssetPath("reactions/comment_filled.png"),this.CommentEmptyIcon=this.getImageAssetPath("reactions/comment_empty.png"),this.LikeWhiteFilledIcon=this.getImageAssetPath("reactions/likes_white_filled.png"),this.LikeWhiteEmptyIcon=this.getImageAssetPath("reactions/likes_white_empty.png"),this.CommentWhiteFilledIcon=this.getImageAssetPath("reactions/comment_white_filled.png"),this.CommentWhiteEmptyIcon=this.getImageAssetPath("reactions/comment_white_empty.png"),this.ExcelStagingIcon=this.getImageAssetPath("staging/excel_staging_icon.png"),this.WordStagingIcon=this.getImageAssetPath("staging/word_staging_icon.png"),this.PptStagingIcon=this.getImageAssetPath("staging/powerpoint_staging_icon.png"),this.PdfStagingIcon=this.getImageAssetPath("staging/pdf_staging_icon.png"),this.CloseWhiteIcon=this.getImageAssetPath("staging/close_white.png"),this.SendButtonBlue=this.getImageAssetPath("staging/send_button_blue.svg"),this.SendButtonLeftGradient=this.getImageAssetPath("staging/left-gradient.svg"),this.AttachmentBlueForwardIcon=this.getImageAssetPath("blue_forward.svg"),this.MESSAGE_SENDING_ICON=this.getImageAssetPath("messageStates/message_sending.svg"),this.MESSAGE_SENT_ICON=this.getImageAssetPath("messageStates/message_sent.svg"),this.MESSAGE_SENT_ICON_WHITE=this.getImageAssetPath("messageStates/message_sent_white.svg"),this.MESSAGE_DELIVERED_ICON=this.getImageAssetPath("messageStates/message_delivered.svg"),this.MESSAGE_DELIVERED_ICON_WHITE=this.getImageAssetPath("messageStates/message_delivered_white.svg"),this.MESSAGE_READ_ICON=this.getImageAssetPath("messageStates/message_read.svg"),this.MESSAGE_UNSYNCED_ICON=this.getImageAssetPath("messageStates/message-not-sent-on-app.png"),this.MESSAGE_FAILED_ICON=this.getImageAssetPath("messageStates/message_failed.png"),this.SIGN_IN_GRAPHIC=this.getImageAssetPath("auth/sign-in-graphic-image.png"),this.VERIFY_PAIRING_CODE_GRAPHIC=this.getImageAssetPath("auth/auth_code_verification.gif"),this.LOGOUT_ICON=this.getImageAssetPath("auth/logout-button.png"),this.LoginPageToolTip=this.getImageAssetPath("auth/LoginPageToolTip.svg"),this.GET_ON_GOOGLE_PLAY=this.getImageAssetPath("auth/GetOnGooglePlay.svg"),this.GET_ON_APP_STORE=this.getImageAssetPath("auth/GetOnAppStore.svg"),this.OK_BUTTON=this.getImageAssetPath("auth/ok_button.png"),this.NEW_USER_UI_ICON=this.getImageAssetPath("auth/new_user_icon.svg"),this.ImageAttchmentPaletteIcon=this.getImageAssetPath("discover/add_from_gallery.png"),this.VideoAttchmentPaletteIcon=this.getImageAssetPath("discover/attach_video_file.png"),this.DocumentAttchmentPaletteIcon=this.getImageAssetPath("discover/document_attach.png"),this.ContactAttchmentPaletteIcon=this.getImageAssetPath("discover/share_contact.png"),this.AudioAttchmentPaletteIcon=this.getImageAssetPath("discover/audio_attach.png"),this.PaletteCheveron=this.getImageAssetPath("discover/chevronpalette.png"),this.EmailIcon=this.getImageAssetPath("profile/profile_mail_icon.svg"),this.CallIconWhite=this.getImageAssetPath("profile/ic_phonecall.svg"),this.SelectedParticipantIcon=this.getImageAssetPath("selected_participant.png"),this.SearchIcon=this.getImageAssetPath("ic_search.png",!0),this.DefaultPeopleDetailIcon=this.getImageAssetPath("people-empty-state.png"),this.BackButtonIcon=this.getImageAssetPath("back.svg"),this.MyCurrentLocationIcon=this.getImageAssetPath("myCurrentLocationLogo.svg"),this.SearchedLocationIcon=this.getImageAssetPath("searchLocationLogo.png"),this.ImmersiveViewCloseIcon=this.getImageAssetPath("close-tag.svg"),this.PauseIcon=this.getImageAssetPath("ic_pause.png"),this.PlayIcon=this.getImageAssetPath("ic_play_fill.png"),this.NotificationCloseIcon=this.getImageAssetPath("notifications/close_icon.svg"),this.NotificationChromeIcon=this.getImageAssetPath("notifications/notification_chrome.png"),this.NotificationEdgeIcon=this.getImageAssetPath("notifications/notification_edge.svg"),this.NotificationGroupProfileDefaultIcon=this.getImageAssetPath("notifications/group_profile_default.png"),this.NotificationProfileDefaultIcon=this.getImageAssetPath("notifications/profile_default.png"),this.BatteryLowNotificationIcon=this.getImageAssetPath("notifications/low_battery_notification_icon.png"),this.PowerSaveModeNotificationIcon=this.getImageAssetPath("notifications/low_battery_notification_icon.png"),this.OptimizeBatteryNotificationIcon=this.getImageAssetPath("notifications/optimize_battery_notification_icon.png"),this.TurnOnNotificationIcon=this.getImageAssetPath("notifications/turn_on_notifications_image.svg"),this.NETWORK_UNAVAILABLE_ICON=this.getImageAssetPath("connectivity/network_unavailable.png"),this.UNABLE_TO_REACH=this.getImageAssetPath("connectivity/unable_to_reach.svg"),this.PHONE_NOT_CONNECTED=this.getImageAssetPath("connectivity/device_not_connected.svg"),this.ConnectivityCheckResource=this.getImageAssetPath("cvt.png"),this.CONVLIST_MESSAGE_SENDING_ICON=this.getImageAssetPath("conversationList/messageStates/messages_sending.svg"),this.CONVLIST_MESSAGE_SENT_ICON=this.getImageAssetPath("conversationList/messageStates/messages_sent.svg"),this.CONVLIST_MESSAGE_DELIVERED_ICON=this.getImageAssetPath("conversationList/messageStates/messages_delivered.svg"),this.CONVLIST_MESSAGE_READ_ICON=this.getImageAssetPath("conversationList/messageStates/messages_read.svg"),this.CONVLIST_MESSAGE_FAILED_ICON=this.getImageAssetPath("conversationList/messageStates/messages_failed.svg"),this.CONVLIST_OPTIONS_HOVER_ICON=this.getImageAssetPath("conversationList/conversationOptions/ellipsisIcon.svg"),this.CONVLIST_OPTIONS_PIN=this.getImageAssetPath("conversationList/conversationOptions/ic_pin.svg"),this.CONVLIST_OPTIONS_UNPIN=this.getImageAssetPath("conversationList/conversationOptions/ic_unpin.svg"),this.CONVLIST_OPTIONS_MUTE=this.getImageAssetPath("conversationList/conversationOptions/ic_mute.svg"),this.CONVLIST_OPTIONS_UNMUTE=this.getImageAssetPath("conversationList/conversationOptions/ic_unmute.svg"),this.CONVLIST_OPTIONS_MARK_READ=this.getImageAssetPath("conversationList/conversationOptions/ic_mark_read.svg"),this.CONVLIST_OPTIONS_MARK_UNREAD=this.getImageAssetPath("conversationList/conversationOptions/ic_mark_unread.svg"),this.CONVLIST_OPTIONS_CLEAR_CHAT_FOR_ME=this.getImageAssetPath("conversationList/conversationOptions/ic_clear_chat.svg"),this.TEAMS_ICON=this.getImageAssetPath("teams_icon.svg"),this.TEAMS_UNSUPPORTED_ICON=this.getImageAssetPath("teams_unsupported_icon.svg"),this.DELETE_ICON=this.getImageAssetPath("delete_message.svg"),this.CHECKBOX_SELECTED=this.getImageAssetPath("Check_Box_selected.svg"),this.CHECKBOX_UNSELECTED=this.getImageAssetPath("Check_Box_selectable.svg"),this.PREVIEW_TAG_ICON=this.getImageAssetPath("preview-tag-icon.svg"),this.UPGRADE_MOBILE_VERSION=this.getImageAssetPath("UpgradeApp.svg"),this.INVALID_INVITE_LINK=this.getImageAssetPath("BrokenLink.svg"),this.GROUP_OPTIONS_HOVER_ICON=this.getImageAssetPath("groupInfo/groupChevron.svg"),this.GROUP_OPTIONS_ADD_PARTICIPANT_ICON=this.getImageAssetPath("groupInfo/addParticipant.svg"),this.GROUP_OPTIONS_PUBLIC_GROUP_ICON=this.getImageAssetPath("groupInfo/publicGroup.svg"),this.GROUP_OPTIONS_TENANT_ICON=this.getImageAssetPath("groupInfo/tenantImage.svg"),this.GROUP_OPTIONS_DEFAULT_PROFILE=this.getImageAssetPath("groupInfo/ProfileDefault.svg"),this.GROUP_OPTIONS_HEIRARCHY=this.getImageAssetPath("groupInfo/heirarchy.svg"),this.JOIN_GROUP_ICON=this.getImageAssetPath("auth/join_group_icon.svg"),this.RetryImage=this.getImageAssetPath("controls/defaultImage.png"),this.DefaultImage=this.getImageAssetPath("controls/defaultImage.png"),this.LeftNavigatorImage=this.getImageAssetPath("controls/photo_story_left_arrow.svg"),this.RightNavigatorImage=this.getImageAssetPath("controls/photo_story_right_arrow.svg"),this.LeftNavigateButton=this.getImageAssetPath("controls/left_navigate.svg"),this.RightNavigateButton=this.getImageAssetPath("controls/right_navigate.svg"),this.O365LoginIcon=this.getImageAssetPath("O365LoginImage.svg"),this.O365LoginConvListIcon=this.getImageAssetPath("O365LoginConvListImage.png"),this.ThemeToggleIcon=this.getImageAssetPath("dark_theme_toggle.svg")}static initialize(){a=new o}}let a=new o},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i={ExtraExtraLargeTextStyle:{fontFamily:"Roboto",fontSize:28},ExtraLargeMediumTextStyle:{fontFamily:"Roboto",fontSize:24,fontWeight:"500"},ExtraLargeTextStyle:{fontFamily:"Roboto",fontSize:24},LargeTitleMediumTextStyle:{fontFamily:"Roboto",fontWeight:"500",fontSize:22},LargeTitleTextStyle:{fontFamily:"Roboto",fontSize:22},TitleMediumBoldTextStyle:{fontFamily:"Roboto",fontWeight:"bold",fontSize:16},HeaderMediumTextStyle:{fontFamily:"Roboto",fontWeight:"500",fontSize:20},HeaderTextStyle:{fontFamily:"Roboto",fontSize:20},LargeTextStyle:{fontFamily:"Roboto",fontSize:18},LargeMediumTextStyle:{fontFamily:"Roboto",fontWeight:"500",fontSize:18},SmallTextStyle:{fontFamily:"Roboto",fontSize:12},SmallBoldTextStyle:{fontFamily:"Roboto",fontWeight:"bold",fontSize:12},SmallMediumTextStyle:{fontFamily:"Roboto",fontWeight:"500",fontSize:12},ExtraSmallTextStyle:{fontFamily:"Roboto",fontSize:10},ExtraSmallMediumTextStyle:{fontFamily:"Roboto",fontWeight:"500",fontSize:10},BodyTextStyle:{fontFamily:"Roboto",fontSize:16},BodyMediumTextStyle:{fontFamily:"Roboto",fontWeight:"500",fontSize:16},BodyBoldTextStyle:{fontFamily:"Roboto",fontWeight:"bold",fontSize:16},DescriptionTextStyle:{fontFamily:"Roboto",fontSize:14},DescriptionMediumTextStyle:{fontFamily:"Roboto",fontWeight:"500",fontSize:14}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(0),r=n(16),o=n(21),a=(n(681),n(37)),s=n(107);class c extends i.Component{constructor(e){super(e),this.isOverflowing=!1,this.heightDivElement="auto",this.initiateAddEllipsisForUpdate=()=>{this.isEllipsisAdded&&this.props.numberOfLines?(this.divElement.innerText=this.originalText,this.addEllipsis()):this.props.numberOfLines&&(this.originalText=this.divElement.innerText,this.addEllipsis())},this.addWindowResizeListener=()=>{this.props.isWindowResizeRequired&&this.isEllipsisAdded&&window.addEventListener("resize",this.initiateAddEllipsisForUpdate)},this.removeWindowResizeListener=()=>{this.props.isWindowResizeRequired&&this.isEllipsisAdded&&window.removeEventListener("resize",this.initiateAddEllipsisForUpdate)},this.getDynamicAttributes=()=>{if(this.props.onPress){const e={};return this.props.onFocusBorderColor&&(e.onFocus=e=>Object(r.p)(e,this.divElement,null,this.props.onFocusBorderColor)),e.onBlur=e=>Object(r.o)(e,this.divElement,null,o.a.TRANSPARENT),this.props.tabIndex&&(e.tabIndex=this.props.tabIndex),e}return{}},this.containerStyle=Object.assign({display:"flex",flexDirection:"column"},e.containerStyle),this.setInitialState()}shouldComponentUpdate(e,t){return!(Object(s.a)(this.props,e)&&Object(s.a)(this.state,t))}getFontToLineHeightFactor(){return 1===this.props.numberOfLines?1.5:1.4}getLineHeight(e){return"auto"===e?{}:{lineHeight:this.state.lineHeight}}setInitialState(){let e="",t="auto";this.props.numberOfLines&&this.props.style.hasOwnProperty("fontSize")&&(e=this.props.style.fontSize*this.getFontToLineHeightFactor()+"px",t=this.props.style.fontSize*this.getFontToLineHeightFactor()*this.props.numberOfLines+"px"),this.heightDivElement=t,this.state={height:t,lineHeight:e}}UNSAFE_componentWillUpdate(e,t){this.removeWindowResizeListener(),this.props.keyUpdate&&this.props.keyUpdate!==e.keyUpdate&&(this.isEllipsisAdded=!1),this.props.numberOfLines&&this.props.style.hasOwnProperty("fontSize")&&(this.heightDivElement=this.props.style.fontSize*this.getFontToLineHeightFactor()*this.props.numberOfLines+"px")}componentDidMount(){this.originalText=this.divElement.innerText,this.props.numberOfLines&&this.props.style.hasOwnProperty("fontSize")&&(this.isOverflowing=this.divElement.scrollHeight>this.divElement.offsetHeight,this.isOverflowing||this.setState(Object.assign({},this.state,{height:"auto"}))),this.props.numberOfLines&&(this.addEllipsis(),this.addWindowResizeListener())}componentDidUpdate(){this.initiateAddEllipsisForUpdate(),this.addWindowResizeListener()}componentWillUnmount(){this.removeWindowResizeListener()}render(){const e=this.props.onPress?"pointer":"",t="text-view-white-space"+(this.props.className?" "+this.props.className:""),n=this.props.keyUpdate?this.heightDivElement:this.state.height;return i.createElement("div",{style:Object(a.a)(this.containerStyle)},i.createElement("div",Object.assign({ref:e=>this.divElement=e,key:this.props.keyUpdate,id:this.props.id?this.props.id:this.props.keyUpdate,style:Object(a.a)(Object.assign({display:"flex",flexDirection:"column",overflow:"hidden",textOverflow:"ellipsis",height:n},this.getLineHeight(n),this.props.style,{cursor:e})),className:t,onClick:this.props.onPress,"x-ms-format-detection":"none","aria-label":this.props.text},this.props.accessibilityProps,Object(r.h)(this.props.onPress),this.getDynamicAttributes()),this.props.text),this.isOverflowing?this.props.overflowView:null)}binarySearchForIndex(e){let t=0,n=this.divElement.innerText.length,i=n;const r=this.divElement.innerText;for(;t<n;){const o=Math.floor((n+t)/2),a=r.substring(0,o);this.divElement.innerText=a,this.divElement.scrollHeight-e-4<=this.divElement.clientHeight?(t=o+1,i=o):n=o-1}return i}addEllipsis(){const e=this.divElement.style.paddingBottom?this.divElement.style.paddingBottom:"0px",t=parseInt(e.slice(0,-2),10);if(this.divElement.scrollHeight-t-4>this.divElement.clientHeight){const e=this.divElement.innerText;let n=this.binarySearchForIndex(t);this.divElement.innerText=e.substring(0,n);const i=this.divElement.scrollHeight-t-4;for(this.divElement.innerText=e.substring(0,n)+"...";this.divElement.scrollHeight-t-4>i&&n>0;)n--,this.divElement.innerText=e.substring(0,n)+"...";this.isEllipsisAdded=!0}}}},function(e,t,n){"use strict";n.d(t,"o",(function(){return i.b})),n.d(t,"p",(function(){return C})),n.d(t,"l",(function(){return c})),n.d(t,"q",(function(){return R.d})),n.d(t,"m",(function(){return R.b})),n.d(t,"k",(function(){return R.a})),n.d(t,"n",(function(){return R.c})),n.d(t,"a",(function(){return w})),n.d(t,"h",(function(){return M})),n.d(t,"j",(function(){return s.s})),n.d(t,"i",(function(){return s.r})),n.d(t,"c",(function(){return s.g})),n.d(t,"g",(function(){return s.q})),n.d(t,"e",(function(){return s.o})),n.d(t,"b",(function(){return s.c})),n.d(t,"d",(function(){return s.l})),n.d(t,"f",(function(){return s.p}));var i=n(66),r=n(28),o=n(12),a=n(4),s=n(14);function c(){return{viewStack:[],progressBar:null,asyncActivityResult:{},kasClientPrefetchResult:{},miniAppDataMap:{},customStrings:{},miniappImmersiveInfoMap:{},moduleVersion:0,localeUpdatedMiniAppPkgIds:[]}}var l=n(38),u=n(13),d=n(46),p=n(32),h=n(131),f=n.n(h),g=n(132),m=n.n(g),E=n(73),_=n.n(E),S=n(148),T=n.n(S),v=n(211),I=n(5),b=n(6);const y=r.m,C=(e={viewStack:[],progressBar:null,asyncActivityResult:{},kasClientPrefetchResult:{},miniAppDataMap:{},customStrings:{},miniappImmersiveInfoMap:{},moduleVersion:0,localeUpdatedMiniAppPkgIds:[]},t)=>{switch(t.type){case p.a.SET_MODULE_VERSION:e=Object.assign({},e,{moduleVersion:t.moduleVersionMap[y]});break;case i.a.OPEN_MINIAPP:{const n=[t.view];e=Object.assign({},e,{viewStack:n});break}case i.a.SET_ACTIVITY_RESULT:{const n=e.asyncActivityResult,i=Object.assign({},n);i[t.id]=t.result,e=Object.assign({},e,{asyncActivityResult:i});break}case i.a.SET_PREFETCH_FUNCTION_RESULT:{const n=Object.assign({},e.kasClientPrefetchResult);t.result&&t.result.hasOwnProperty("getAppInfoAsync")&&(t.result=function(e){const t=e.getAppInfoAsync;if(t&&t.success){const n=JSON.parse(t.success[0]);n[v.a.IS_DARK_THEME]=I.b,t.success[0]=JSON.stringify(n),e.getAppInfoAsync=t}return e}(t.result)),n[t.msgId]=t.result,e=Object.assign({},e,{kasClientPrefetchResult:n});break}case i.a.OPEN_MINIAPP_SCREEN:if(e.viewStack.length){const n=t.view.viewType===s.s.SELECT_ATTACHMENT?e.viewStack.filter(e=>e.viewType!==s.s.SELECT_ATTACHMENT):e.viewStack.slice(),i=t.view;n.push(i),e=Object.assign({},e,{viewStack:n})}break;case i.a.CLOSE_MINIAPP:e=Object.assign({},e,{viewStack:[],kasClientPrefetchResult:{},asyncActivityResult:{}});break;case i.a.FORCE_REFRESH_FOR_VIEW:{const n=e.viewStack.slice();let i;if(t.viewId){const e=n.findIndex(e=>e.viewId===t.viewId);-1!=e?(i=n[e],n[e]=i.clone(),n[e].setRefresh(!0)):a.b.errorWithNonPIIData("miniappsReducer","Force_refresh_for_view","view not found")}else i=n[n.length-1],n[n.length-1]=i.clone(),n[n.length-1].setRefresh(!0);e=A(e=Object.assign({},e,{viewStack:n}),i.viewId);break}case i.a.CLOSE_MINIAPP_SCREEN:{let n=e.viewStack.slice();void 0===t.viewId?n.pop():n=n.filter(e=>e.viewId!==t.viewId),e=A(e=Object.assign({},e,{viewStack:n}),t.viewId);break}case i.a.STORE_MINI_APP_DATA:e.miniAppDataMap[t.packageId]=t.data,e=Object.assign({},e,{miniAppDataMap:e.miniAppDataMap});break;case i.a.STORE_MINI_APPS_DATA:N(e,t);break;case i.a.MINI_APPS_LOCALE_DATA_UPDATED:{const n=f()(t.localeUpdatedMiniAppPkgIds,e.localeUpdatedMiniAppPkgIds);n.push(...e.localeUpdatedMiniAppPkgIds),e=Object.assign({},e,{localeUpdatedMiniAppPkgIds:n});break}case i.a.FETCH_MINI_APP_DATA:e.miniAppDataMap[t.packageId]&&e.miniAppDataMap[t.packageId].data||(e.miniAppDataMap[t.packageId]={fetchState:l.a.Fetching,data:null});break;case i.a.FETCH_MINI_APPS_DATA:O(e,t.packageIds),t.packageIds.forEach(t=>{e.miniAppDataMap[t]&&e.miniAppDataMap[t].data||(e.miniAppDataMap[t]={fetchState:l.a.Fetching,data:null})});break;case i.a.SET_FETCH_STATUS_MINI_APPS_DATA:{const n=t,i=e.miniAppDataMap||{};n.packageIds.forEach(e=>{i[e]={fetchState:n.fetchState,data:i[e]&&i[e].data||null}}),e=Object.assign({},e,{miniAppDataMap:i});break}case i.a.FETCH_ACTION_CUSTOM_STRINGS:e.customStrings[t.actionId]={fetchState:l.a.Fetching,data:null};break;case i.a.FETCH_CUSTOM_STRINGS_BATCH:Object.keys(t.surveyMessageIdMap).forEach(t=>{const n=t in e.customStrings?e.customStrings[t].data:null;e.customStrings[t]={fetchState:l.a.Fetching,data:n}});break;case i.a.STORE_CUSTOM_STRINGS_BATCH:{const n=Object(b.g)(t.isRetryable)?l.a.Success:t.isRetryable?l.a.RetryableFailure:l.a.PermanentFailure;_()(t.customStringMap).forEach(i=>{e.customStrings[i]={fetchState:n,data:t.customStringMap?t.customStringMap[i]:""}}),e=Object.assign({},e);break}case u.a.ACTION_COLLECTION:switch(t.subType){case i.a.FETCH_MINI_APP_DATA:{const n=[];t.actionList.forEach(e=>{n.push(e.packageId)}),O(e,n),n.forEach(t=>{e.miniAppDataMap[t]&&e.miniAppDataMap[t].data||(e.miniAppDataMap[t]={fetchState:l.a.Fetching,data:null})});break}case i.a.STORE_ACTION_CUSTOM_STRINGS:t.actionList.forEach(t=>{const n=Object(b.g)(t.isRetryable)?l.a.Success:t.isRetryable?l.a.RetryableFailure:l.a.PermanentFailure;e.customStrings[t.actionId]={fetchState:n,data:t.customStrings}}),e=Object.assign({},e,{customStrings:e.customStrings})}break;case i.a.STORE_IMMERSIVE_DATA_FOR_MINIAPP:{const n=e.miniappImmersiveInfoMap[t.view.packageId]||[];n.push({viewType:t.view.viewType,srcFile:t.info.srcFile,templateType:t.info.templateType}),e.miniappImmersiveInfoMap[t.view.packageId]=n,e=Object.assign({},e,{miniappImmersiveInfoMap:e.miniappImmersiveInfoMap});break}case d.a.MESSAGES_DELETE:t.messages.forEach(t=>{if(Object(o.d)(t.type,t.subType)){const n=t.surveyId;n&&delete e.customStrings[n]}})}return e};function A(e,t){const n=Object.assign({},e.kasClientPrefetchResult);return delete n[t],Object.assign({},e,{kasClientPrefetchResult:n})}const O=(e,t)=>{if(0===t.length)return void a.b.infoWithNonPIIData("miniappsReducer","skipping updateCachedMiniappsData as packageIds is empty");const n={};m()(t,e=>{const t=s.u.get(e);t&&(n[e]=t)}),T()(n)>0&&N(e,{miniAppData:n})},N=(e,t)=>{if(Object(b.g)(t.isRetryable)){Object.keys(t.miniAppData).forEach(n=>{e.miniAppDataMap[n]={fetchState:l.a.Success,data:t.miniAppData[n]}})}else{const n=t.isRetryable?l.a.RetryableFailure:l.a.PermanentFailure;t.packageIds.forEach(t=>{e.miniAppDataMap[t]={fetchState:n,data:null}})}e=Object.assign({},e,{miniAppDataMap:e.miniAppDataMap})};n(323);var R=n(206),P=n(26);class w{constructor(e,t){this.stateUpdateListener=()=>{this.setState(this.store.getState())},this.add=(e,t,n,i)=>{if(this.kasClientAPI.hasOwnProperty(e)){const r=(0,this.kasClientAPI[e])(t,n,i);try{const e=r(this.state);!1===e?this.addFunctionToExecutionSet(r):"function"==typeof e&&this.addFunctionToExecutionSet(e,!0)}catch(t){a.b.errorWithNonPIIData("KASClientCommandBag"," command execution failed ",e,t.stack||t.stacktrace||t)}}else i([JSON.stringify({ec:999,ed:"API not supported"})]),a.b.errorWithNonPIIData("KASClientCommandBag","Command not implemented",e,t)},this.store=P.b.getStore(),this.functionsToBeExecuted=new Set,this.functionsUnderExecution=new Set,this.view=e,this.kasClientAPI=t(this.store.dispatch,this.view),this.store.subscribe(this.stateUpdateListener),this.stateUpdateListener()}setState(e){let t=!1;this.state&&e&&R.d.isAsyncStateChanged(this.state,e)&&(t=!0),this.state=e,t&&this.resolveCommandExecution()}clear(){this.functionsToBeExecuted.clear()}addFunctionToExecutionSet(e,t=!1){if(t){const t=e(this.state);"function"==typeof t?this.addFunctionToExecutionSet(t,!0):!1===t&&this.addFunctionToExecutionSet(e)}else"function"==typeof e&&this.functionsToBeExecuted.add(e)}resolveCommandExecution(){this.functionsToBeExecuted.forEach(e=>{if(!1===this.functionsUnderExecution.has(e)){this.functionsUnderExecution.add(e);try{const t=e(this.state);this.functionsUnderExecution.delete(e),!0===t?this.functionsToBeExecuted.delete(e):"function"==typeof t&&(this.functionsToBeExecuted.delete(e),this.addFunctionToExecutionSet(t,!0))}catch(e){a.b.errorWithNonPIIData("KASClientCommandBag","command execution failed ",e.stack||e.stacktrace||e)}}})}}var M=n(111);n(102)},function(e,t,n){"use strict";n.d(t,"e",(function(){return s.a})),n.d(t,"c",(function(){return c.b})),n.d(t,"b",(function(){return c.a})),n.d(t,"d",(function(){return a.b})),n.d(t,"a",(function(){return o}));var i=n(47),r=n(108);class o{}o.recordMessageCreationTelemetry=(e,t,n)=>{n=Object.assign({},n,{MESSAGE_ID:e.id,CONVERSATION_ID:e.getRawMessage().conversationId,HOST_CONVERSATION_ID:e.getHostConversationId(),TYPE:e.type,SUB_TYPE:e.subType}),s.a.recordEvent(t,n)},o.recordMessageResponseTelemetry=(e,t,n,i,o)=>{const a=(new Date).getTime();o=Object.assign({},o,{MESSAGE_ID:t.id,CONVERSATION_ID:t.conversationId,HOST_CONVERSATION_ID:Object(r.b)(t),TYPE:t.type,SUB_TYPE:t.contentHeader?t.contentHeader.msgSubType:null,IS_SUCCESS:n,METRIC_VALUE:a-e}),s.a.recordEvent(i,o)},o.recordMessageStateUpdateTelemetry=(e,t,n)=>{if(n===i.e.SENT_SUCCESS){const n={MESSAGE_ID:t,CONVERSATION_ID:e};s.a.recordEvent(c.b.MESSAGE_SERVER_ACK_RECEIVED,n)}},o.recordDeleteMessageTelemetry=(e,t,n)=>{const i={SOURCE_ID:e,CONVERSATION_TYPE:t};o.recordMessageCreationTelemetry(n,c.b.DELETE_MESSAGE_CREATED,i)},o.recordDeleteMessageResponseTelemetry=(e,t,n,i)=>{o.recordMessageResponseTelemetry(e,t.getRawMessage(),n,c.b.DELETE_MSG_DEVICE_RESP_RECEIVED,i)},o.recordForwardMessageTelemetry=(e,t,n)=>{const i={SOURCE_ID:e,CONVERSATION_TYPE:t};o.recordMessageCreationTelemetry(n,c.b.FORWARD_MESSAGE_CREATED,i)},o.recordForwardMessageResponseTelemetry=(e,t,n,i)=>{o.recordMessageResponseTelemetry(e,t.getRawMessage(),n,c.b.FORWARD_MSG_DEVICE_RESP_RECEIVED,i)};var a=n(188),s=(n(314),n(58)),c=n(34)},function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"h",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"i",(function(){return p}));var i,r,o,a=n(1);!function(e){e.OUTGOING="O",e.INCOMING="I"}(i||(i={})),function(e){e[e.START_CONVERSATION=2]="START_CONVERSATION",e[e.TEXT_MESSAGE=3]="TEXT_MESSAGE",e[e.IMAGE_ATTACHMENT=4]="IMAGE_ATTACHMENT",e[e.PHOTO_CHECKIN=7]="PHOTO_CHECKIN",e[e.BILL_SUBMIT=9]="BILL_SUBMIT",e[e.ADD_USERS_TO_CONVERSATION=14]="ADD_USERS_TO_CONVERSATION",e[e.UPDATE_CONVERSATION_TITLE=15]="UPDATE_CONVERSATION_TITLE",e[e.REMOVE_USER_FROM_CONVERSATION=16]="REMOVE_USER_FROM_CONVERSATION",e[e.LEAVE_GROUP=17]="LEAVE_GROUP",e[e.UPDATE_CONVERSATION_PHOTO=20]="UPDATE_CONVERSATION_PHOTO",e[e.GENERIC_MESSAGE=21]="GENERIC_MESSAGE",e[e.ADD_GROUP_TO_GROUP=37]="ADD_GROUP_TO_GROUP",e[e.REMOVE_GROUP_FROM_GROUP=38]="REMOVE_GROUP_FROM_GROUP",e[e.UPDATE_USER_ROLE=39]="UPDATE_USER_ROLE",e[e.MESSAGE_ACK=40]="MESSAGE_ACK",e[e.GENERIC_CONTROL_MESSAGE=41]="GENERIC_CONTROL_MESSAGE",e[e.REMOVE_USERS_FROM_GROUP=43]="REMOVE_USERS_FROM_GROUP",e[e.MESSAGE_TYPE_MAX=44]="MESSAGE_TYPE_MAX",e[e.UNREAD_COUNT_MESSAGE=1001]="UNREAD_COUNT_MESSAGE",e[e.USER_ADDED_BACK=1002]="USER_ADDED_BACK",e[e.CLIENT_UNSUPPORTED_MESSAGE=1003]="CLIENT_UNSUPPORTED_MESSAGE",e[e.CLIENT_BAD_MESSAGE=1004]="CLIENT_BAD_MESSAGE",e[e.TIMESTAMP=1006]="TIMESTAMP",e[e.IA_NON_IM_TYPE=1007]="IA_NON_IM_TYPE",e[e.CLIENT_SIDE_REPORTED_MESSAGE=1008]="CLIENT_SIDE_REPORTED_MESSAGE",e[e.MINIAPP_COMMAND=1009]="MINIAPP_COMMAND",e[e.UPGRADE_TO_MEGA_GROUP=5002]="UPGRADE_TO_MEGA_GROUP",e[e.USER_READDED_TO_CONVERSATION=5003]="USER_READDED_TO_CONVERSATION",e[e.CLEAR_CONVERSATION=5004]="CLEAR_CONVERSATION",e[e.GROUP_POLICY_UPDATE=5005]="GROUP_POLICY_UPDATE"}(r||(r={})),function(e){e.ANNOUNCEMENT="ANNOUNCEMENT",e.SYSTEM_ALBUM_ATTACHMENT="SYSTEM_ALBUM_ATTACHMENT",e.SYSTEM_DOCUMENT_ATTACHMENT="SYSTEM_DOCUMENT_ATTACHMENT",e.SYSTEM_CONTACT_ATTACHMENT="SYSTEM_CONTACT_ATTACHMENT",e.SYSTEM_VIDEO_ATTACHMENT="SYSTEM_VIDEO_ATTACHMENT",e.SYSTEM_AUDIO_ATTACHMENT="SYSTEM_AUDIO_ATTACHMENT",e.SYSTEM_CUSTOM_SURVEY="SYSTEM_CUSTOM_SURVEY",e.SYSTEM_SURV_REQ="SYSTEM_SURV_REQ",e.SYSTEM_AVAIL_REQ="SYSTEM_AVAIL_REQ",e.SYSTEM_START_TYPING="SYSTEM_START_TYPING",e.CALL_MESSAGE_MISSED_CALL="CALL_MESSAGE_MISSED_CALL",e.CALL_MESSAGE_CALL="CALL_MESSAGE_CALL",e.MGTT="MGTT",e.UGFT="UGFT",e.UGD="UGD",e.DGP="DGP",e.RS="RS",e.SYSTEM_SURV_REM="SYSTEM_SURV_REM",e.SYSTEM_CUSTOM_SURVEY_REM="SYSTEM_CUSTOM_SURVEY_REM",e.TRM="TRM",e.RESP="RESP",e.SYSTEM_LOC_REQ="SYSTEM_LOC_REQ",e.SYSTEM_TRACK_ME_REQUEST_KAS="SYSTEM_TRACK_ME_REQUEST_KAS",e.ENHANCED_TEXT="ENHANCED_TEXT",e.IC3INTEROP_ENABLED="IC3INTEROP_ENABLED",e.IC3INTEROP_DISABLED="IC3INTEROP_DISABLED",e.DELETE_MSG="DELETE_MSG",e.ONETOONE_DISABLE_ENABLE_MESSAGE="ONETOONE_DISABLE_ENABLE_MESSAGE",e.UNSUPPORTED_MESSAGE="UNSUPPORTED_MESSAGE"}(o||(o={}));const s=(e,t)=>e==r.START_CONVERSATION||e==r.ADD_USERS_TO_CONVERSATION||e==r.UPDATE_CONVERSATION_TITLE||e==r.UPDATE_CONVERSATION_PHOTO||e==r.LEAVE_GROUP||e==r.REMOVE_USER_FROM_CONVERSATION||e==r.UNREAD_COUNT_MESSAGE||e==r.USER_ADDED_BACK||e==r.ADD_GROUP_TO_GROUP||e==r.REMOVE_GROUP_FROM_GROUP||e==r.UPDATE_USER_ROLE||e==r.GENERIC_MESSAGE&&t==o.MGTT||e==r.GENERIC_MESSAGE&&t==o.UGFT||e==r.IA_NON_IM_TYPE||e==r.GENERIC_MESSAGE&&t==o.RS||e==r.GENERIC_MESSAGE&&t==o.UGD||e==r.GENERIC_MESSAGE&&t==o.DGP||e==r.GENERIC_MESSAGE&&t==o.IC3INTEROP_ENABLED||e==r.GENERIC_MESSAGE&&t==o.IC3INTEROP_DISABLED||e==r.GENERIC_MESSAGE&&t==o.CALL_MESSAGE_CALL||e==r.GENERIC_MESSAGE&&t==o.CALL_MESSAGE_MISSED_CALL||e==r.GENERIC_MESSAGE&&t==o.ONETOONE_DISABLE_ENABLE_MESSAGE||e==r.UPGRADE_TO_MEGA_GROUP||e==r.USER_READDED_TO_CONVERSATION||e==r.CLEAR_CONVERSATION||e==r.GROUP_POLICY_UPDATE,c=(e,t)=>e==r.UNREAD_COUNT_MESSAGE||e==r.TIMESTAMP,l=(e,t)=>e==r.GENERIC_MESSAGE&&(t===o.SYSTEM_CUSTOM_SURVEY||t===o.SYSTEM_CUSTOM_SURVEY_REM||t===o.SYSTEM_SURV_REM||t===o.SYSTEM_SURV_REQ||t===o.SYSTEM_AVAIL_REQ||t===o.RESP||t===o.SYSTEM_LOC_REQ||t===o.SYSTEM_TRACK_ME_REQUEST_KAS),u=(e,t)=>e==r.GENERIC_MESSAGE&&(t===o.CALL_MESSAGE_CALL||t===o.CALL_MESSAGE_MISSED_CALL),d=(e,t)=>e==r.GENERIC_MESSAGE&&(t===o.IC3INTEROP_DISABLED||t===o.IC3INTEROP_ENABLED),p=(e,t)=>{if(e===r.IMAGE_ATTACHMENT)return Object(a.getString)("ImageAttachmentCaption");if(e===r.GENERIC_MESSAGE)switch(t){case o.SYSTEM_ALBUM_ATTACHMENT:return Object(a.getString)("AlbumCardTitle");case o.SYSTEM_CONTACT_ATTACHMENT:return Object(a.getString)("ContactAttachmentCaption");case o.SYSTEM_DOCUMENT_ATTACHMENT:return Object(a.getString)("DocumentAttachmentCaption");case o.SYSTEM_VIDEO_ATTACHMENT:return Object(a.getString)("VideoAttachmentCaption");case o.SYSTEM_AUDIO_ATTACHMENT:return Object(a.getString)("AudioAttachmentCaption");default:return null}return null}},function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return h}));const i=new class{startApp(){return new a}resetApp(){return new s}collectiveAction(e,t){return new d(e,t)}onResponseReceived(e,t){return new c(e,t)}onUpdateReceived(e,t){return new l(e,t)}onErrorReceived(e){return new u(e)}};var r;!function(e){e.START_APP="start-app",e.RESET_APP="reset-app",e.ACTION_COLLECTION="action-collection",e.ON_RESPONSE_RECEIVED="on-response-received",e.ON_UPDATE_RECEIVED="on-update-received",e.ON_ERROR_RECEIVED="on-error-received"}(r||(r={}));class o{constructor(e,t=!1){this.type=e,this.isBatchable=t}}class a extends o{constructor(){super(r.START_APP)}}class s extends o{constructor(){super(r.RESET_APP)}}class c extends o{constructor(e,t){super(r.ON_RESPONSE_RECEIVED),this.responseData=e,this.payload=t}}class l extends o{constructor(e,t){super(r.ON_UPDATE_RECEIVED),this.responseData=e,this.payload=t}}class u extends o{constructor(e){super(r.ON_ERROR_RECEIVED),this.responseData=e}}class d extends o{constructor(e,t){super(r.ACTION_COLLECTION),this.subType=e,this.actionList=t}}class p extends o{constructor(e){super(e),this.type=e,this.syncPathList=[],this.asyncPathList=[]}}class h extends o{constructor(e,t){super(e,!0),this.type=e}getIdentifier(){return JSON.stringify(this)}}},function(e,t,n){"use strict";n.d(t,"s",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"r",(function(){return d})),n.d(t,"g",(function(){return h})),n.d(t,"q",(function(){return f})),n.d(t,"j",(function(){return g})),n.d(t,"o",(function(){return m})),n.d(t,"e",(function(){return E})),n.d(t,"f",(function(){return _})),n.d(t,"h",(function(){return S})),n.d(t,"k",(function(){return T})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return I})),n.d(t,"n",(function(){return b})),n.d(t,"m",(function(){return y})),n.d(t,"l",(function(){return C})),n.d(t,"i",(function(){return A})),n.d(t,"p",(function(){return O})),n.d(t,"u",(function(){return N})),n.d(t,"a",(function(){return R})),n.d(t,"t",(function(){return P}));var i,r,o=n(6),a=n(175),s=n(11),c=n(26),l=n(73),u=n.n(l);!function(e){e.CREATE="creation",e.SUMMARY="summary",e.RESPONSE="response",e.RESPONSE_COMPACT="response-compact",e.NONE="none",e.ATTACHMENT="attachment",e.DATETIME_PICKER="datetime-picker",e.SELECT_ATTACHMENT="select-attachment",e.ASSIGNEE_PICKER="assignee-picker",e.ALERT="alert",e.PROGRESS="progress",e.SHIMMER="shimmer",e.EDIT_SURVEY="edit",e.DURATION_PICKER="pickduration",e.PLACE_PICKER="place-picker",e.WEBHOOK_2="webhook_2",e.WEBHOOK_3="webhook_3",e.WEBHOOK_4="webhook_4",e.OPENSCREEN="openscreen",e.GROUPVIEW="groupinformation",e.USER_PROFILE_IMMERSIVE_VIEW="userProfileImmsersiveView",e.READ_RECEIPTS="read-receipts",e.REACTION_DETAILS="reaction-details"}(i||(i={})),function(e){e[e.LOAD_REQUEST=0]="LOAD_REQUEST",e[e.RENDER_START=1]="RENDER_START",e[e.SRC_LOAD_START=2]="SRC_LOAD_START",e[e.BOOT_SRC_LOAD_START=3]="BOOT_SRC_LOAD_START",e[e.BOOT_SRC_LOADED=4]="BOOT_SRC_LOADED",e[e.SRC_LOADED=5]="SRC_LOADED",e[e.LOADED=6]="LOADED",e[e.FAILED=7]="FAILED",e[e.UNSUPPORTED=8]="UNSUPPORTED",e[e.CLOSED=9]="CLOSED"}(r||(r={}));class d{constructor(e,t){this.viewType=e,this.viewId=t||Object(o.b)()}setRefresh(e){this.refresh=e}clone(){return this}buildPropertyJson(){return""}isOpaque(){return!1}}class p extends d{constructor(e,t,n,i){super(e,i),this.convId=t,this.packageId=n,this.stateTransitionTime=new Map,this.setState(r.LOAD_REQUEST),this.title=this.getMiniappTitle()}getConversationId(){return this.convId}getMiniappTitle(){return c.b.getState().miniappState.miniAppDataMap[this.packageId]&&c.b.getState().miniappState.miniAppDataMap[this.packageId].data&&c.b.getState().miniappState.miniAppDataMap[this.packageId].data.miniAppTitle}setState(e){this.currentState=e,this.stateTransitionTime[this.currentState]=(new Date).getTime(),this.currentState!==r.LOADED&&this.currentState!==r.RENDER_START&&this.currentState!==r.SRC_LOADED||this.recordLoadTelemetry(this.currentState),this.currentState!==r.UNSUPPORTED&&this.currentState!==r.FAILED||this.recordEventTelemetry(this.currentState)}setForwardContext(e){this.cloneFromSurveyId=e}isForwardContext(){return!!this.cloneFromSurveyId}getClonedFromSurveyId(){return this.cloneFromSurveyId}recordEventTelemetry(e){const t={};t[r.UNSUPPORTED]=s.c.ACTION_UNSUPPORTED,t[r.FAILED]=s.c.ACTION_FAILED,s.e.recordEvent(t[e],{PACKAGE_ID:this.packageId,TAG:this.viewType,NAME:this.title,METRIC_VALUE:1})}recordLoadTelemetry(e){const t={};t[r.LOADED]=s.c.ACTION_LOAD,t[r.RENDER_START]=s.c.ACTION_RENDER_START,t[r.SRC_LOADED]=s.c.ACTION_SOURCE_LOADED,s.e.recordEvent(t[e],{PACKAGE_ID:this.packageId,TAG:this.viewType,NAME:this.title,METRIC_VALUE:this.stateTransitionTime[e]-this.stateTransitionTime[r.LOAD_REQUEST]})}}class h extends p{constructor(e,t,n){super(h.viewType,e,t,n)}clone(){return new h(this.convId,this.packageId,this.viewId)}buildPropertyJson(){const e={viewId:this.viewId,conversationId:this.convId,hpId:this.packageId,viewType:this.viewType};return JSON.stringify(e)}}h.viewType=i.CREATE;class f extends p{constructor(e,t,n,i,r,o){super(f.viewType,e,t,r),this.msgId=n,this.surveyId=i,this.viewParams=o}clone(){return new f(this.convId,this.packageId,this.msgId,this.surveyId,this.viewId)}buildPropertyJson(){const e={viewId:this.viewId,conversationId:this.convId,hpId:this.packageId,surveyId:this.surveyId,msgId:this.msgId,viewType:this.viewType};return JSON.stringify(e)}}f.viewType=i.SUMMARY;class g extends p{constructor(e,t,n,i,r,o){super(g.viewType,e,t,o),this.msgId=n,this.surveyId=i,this.parentId=r}buildPropertyJson(){const e={viewId:this.viewId,conversationId:this.convId,hpId:this.packageId,surveyId:this.surveyId,msgId:this.msgId,viewType:this.viewType};return JSON.stringify(e)}isOpaque(){return!0}}g.viewType=i.EDIT_SURVEY;class m extends p{constructor(e,t,n,i,r,o,a){super(m.viewType,e,t,o),this.msgId=n,this.surveyId=i,this.parentId=r,this.viewParams=a}clone(){return new m(this.convId,this.packageId,this.msgId,this.surveyId,this.parentId,this.viewId)}setResponseArgs(e){this.responseArgs=e}buildPropertyJson(){const e={viewId:this.viewId,conversationId:this.convId,hpId:this.packageId,surveyId:this.surveyId,msgId:this.msgId,viewType:this.viewType};return u()(this.responseArgs).forEach(t=>e[t]=this.responseArgs[t]),JSON.stringify(e)}}m.viewType=i.RESPONSE;class E extends d{constructor(e){super(E.viewType),this.attachment=e}}E.viewType=i.ATTACHMENT;class _ extends d{constructor(e){super(_.viewType),this.supportedTypes=e}}_.viewType=i.SELECT_ATTACHMENT;class S extends d{constructor(e,t){super(S.viewType),this.mode=e,this.startValue=t}}S.viewType=i.DATETIME_PICKER;class T extends d{constructor(){super(T.viewType)}}T.viewType=i.PLACE_PICKER;class v extends d{constructor(e){super(v.viewType),this.message=e.message,this.title=e.title,this.okButtonText=e.okButtonText,this.onOkClick=e.onOkClick,this.onCancelClick=e.onCancelClick,this.cancelButtonText=e.cancelButtonText,this.overlayMode=!!Object(o.g)(e.overlayMode)||e.overlayMode,this.neutralButtonText=e.neutralButtonText,this.onNeutralButtonClick=e.onNeutralButtonClick,this.buttonWidth=e.buttonWidth,this.buttonMargin=e.buttonMargin,this.buttonFontSize=e.buttonFontSize,this.autoFocusOnOkButton=e.autoFocusOnOkButton,this.alertType=e.alertType}}v.viewType=i.ALERT;class I extends d{constructor(e,t,n,i,r){super(I.viewType),this.groupId=e,this.title=t,this.selectedAssigneeIds=n,this.immutableSelectedParticipantIds=i,this.isSingleSelect=r}}I.viewType=i.ASSIGNEE_PICKER;class b extends p{constructor(e,t,n){super(b.viewType),this.messageId=e,this.conversationId=t,this.conversationType=n}}b.viewType=i.READ_RECEIPTS;class y extends p{constructor(e,t,n){super(y.viewType),this.messageId=e,this.conversationId=t,this.selectedReaction=n}}y.viewType=i.REACTION_DETAILS;class C extends d{constructor(e={}){super(C.viewType),this.loadingMessage=e.loadingMessage,this.onAccept=e.onAccept}}C.viewType=i.PROGRESS;class A extends d{constructor(e){super(A.viewType),this.startValue=e}}A.viewType=i.DURATION_PICKER;class O extends d{constructor(e){super(O.viewType),this.loadingMessage=e.loadingMessage,this.onAccept=e.onAccept}}O.viewType=i.SHIMMER;const N=new a.a("mad",50);class R extends d{constructor(e,t,n){super(e),this.viewType=e,this.conversationModel=t,this.groupInformation=n}}class P extends d{constructor(e,t,n,i,r,o){super(e),this.userId=t,this.tenantId=n,this.name=i,this.pictureUrl=r,this.glyphColor=o}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return i.b})),n.d(t,"b",(function(){return i.a})),n.d(t,"e",(function(){return H})),n.d(t,"g",(function(){return u})),n.d(t,"d",(function(){return it})),n.d(t,"a",(function(){return r.f})),n.d(t,"f",(function(){return ke}));var i=n(92),r=n(24);class o{constructor(e,t){this.convId=e,this.typingText=t}}var a,s=n(28);!function(e){e.NETWORK_ERROR="network-error",e.NO_ERROR="no-error",e.SEND_FAILURE="send-failure"}(a||(a={}));class c{constructor(e=!1,t=a.NO_ERROR,n){this.isError=e,this.errorType=t,this.errorMessage=n}}class l{constructor(e=!1,t=new c){this.isLoading=e,this.error=t}}function u(){return{allConversationsIds:[],allConversations:{},allConversationsMetadata:{},asyncState:new l(!0),selectedConversation:"",baseConversations:null,latestConversationsDelta:null,allConversationsFetched:!1,moduleVersion:0,clearFilter:!1,onlineLastSeenStatus:null,shouldScrollToSelectedConversation:!1,userSourceGroupIds:{}}}var d=n(122),p=n(12),h=n(4),f=n(6),g=n(35),m=n(1),E=n(132),_=n.n(E);const S=s.h;class T{static GetUpdatedConversationsAfterNewTypingEvent(e,t){return Object(f.g)(e)||Object(f.g)(t)?(h.b.errorWithNonPIIData(S,"GetUpdatedConversationsAfterNewTypingEvent, null arguments received"),null):(h.b.debugWithNonPIIData(S,"GetUpdatedConversationsAfterNewTypingEvent: ",t.conversationId,t.from),this.updateConversationsInTypingStateMap(t),this.getUpdatedAllConversationModelsMetadata(e,t.conversationId))}static GetUpdatedConversationsAfterTypingTimeoutEvent(e,t,n){return Object(f.g)(e)||Object(f.g)(t)||Object(f.g)(n)||Object(f.d)(t)||Object(f.d)(n)?(h.b.errorWithNonPIIData(S,"GetUpdatedConversationsAfterTypingTimeoutEvent, null or empty arguments received"),null):(h.b.debugWithNonPIIData(S,"GetUpdatedConversationsAfterTypingTimeoutEvent: ",t,n),this.deleteTypingStateForUserInMap(t,n),this.getUpdatedAllConversationModelsMetadata(e,t))}static GetUpdatedConversationsAfterDeltaUpdate(e,t){return Object(f.g)(e)||Object(f.g)(t)?(h.b.errorWithNonPIIData(S,"GetUpdatedConversationsAfterDeltaUpdate, null or empty arguments received"),null):(h.b.debugWithNonPIIData(S,"Typing GetUpdatedConversationsAfterDeltaUpdate"),_()(t,t=>{this.mConversationsInTypingStateMap.has(t)&&(this.mConversationsInTypingStateMap.delete(t),delete e[t])}),e)}static reset(){this.mConversationsInTypingStateMap.clear()}static updateConversationsInTypingStateMap(e){this.mConversationsInTypingStateMap.has(e.conversationId)?this.updateExistingConversationInTypingState(e):this.addNewConversationInTypingState(e)}static updateExistingConversationInTypingState(e){const t=this.mConversationsInTypingStateMap.get(e.conversationId);t.has(e.from)||(this.removeAdditionalUsersInTypingState(t),t.set(e.from,e.content))}static addNewConversationInTypingState(e){const t=new Map;t.set(e.from,e.content),this.mConversationsInTypingStateMap.set(e.conversationId,t)}static removeAdditionalUsersInTypingState(e){e.size>=2&&e.delete(e.keys().next().value)}static deleteTypingStateForUserInMap(e,t){const n=this.mConversationsInTypingStateMap.get(e);Object(f.g)(n)||(1===n.size&&this.mConversationsInTypingStateMap.delete(e),n.delete(t))}static getTypingText(e){let t="";return t=Object(f.g)(e)||0===e.size?"":1===e.size?g.a.format(Object(m.getString)("OneUserIsTyping"),e.values().next().value):Object(m.getString)("TwoOrMoreUsersAreTyping"),t}static getUpdatedAllConversationModelsMetadata(e,t){const n=this.mConversationsInTypingStateMap.get(t),i=this.getTypingText(n);if(!Object(f.g)(e)&&e[t]){if(""===i)delete e[t];else if(e[t].typingText!==i){delete e[t];const n=new o(t,i);e[t]=n}}else{const n=new o(t,i);e[t]=n}return e}}T.mConversationsInTypingStateMap=new Map;var v=n(46),I=n(200),b=n.n(I),y=n(391),C=n.n(y),A=n(349),O=n.n(A),N=n(73),R=n.n(N),P=n(154),w=n.n(P),M=n(88),D=n.n(M),L=n(131),x=n.n(L),k=n(350),U=n.n(k),G=n(332),F=n.n(G),B=n(148),V=n.n(B),W=n(32);const j=s.h,H=(e=u(),t)=>{switch(t.type){case i.a.DESELECT_CONVERSATION:return Object.assign({},e,{selectedConversation:""});case i.a.UPDATE_CONVERSATIONS_BASE:{const n=t.isConversationFetched,i=t.conversationsBase,r=[],o={};for(const e of i.conversations)r.push(e.convId),o[e.convId]=e;const a=J(e,o,r);e=Object.assign({},e,{allConversations:o,allConversationsIds:r,asyncState:new l,selectedConversation:a?e.selectedConversation:"",baseConversations:i,allConversationsFetched:n,latestConversationsDelta:null});break}case i.a.APPLY_CONVERSATIONS_DELTA:{const n=t.conversationsDelta,i=e.baseConversations,r=b()(i.conversations,(e,t)=>(e[t.convId]=t,e),{}),o=b()(n.ConversationDiff,(e,t)=>(e[t.convId]=t,e),{}),a=e=>{const t=r[e],n=o[e];if(t&&n){const e=D()(t);return X(e,n)}return t||n},s=C()(R()(r),R()(o)),c=b()(s,(e,t)=>(e[t]=a(t),e),{}),l=i.conversations.length,u=O()(n.OrderDiff,x()(U()(l),w()(n.OrderDiff,Math.abs))),d=b()(u,(e,t)=>(t>=0?e.push(t<l?i.conversations[t].convId:n.NewConvsMap[t]):h.b.infoWithNonPIIData("conversationsReducer","Conversation deleted:",i.conversations[-t].convId),e),[]),p=J(e,c,d);let g=Object.assign({},e.allConversationsMetadata);if(V()(n.ConversationDiff)>0&&V()(g)>0){const e=n.ConversationDiff.filter(e=>!Object(f.g)(e.latestMsg)).map(e=>e.convId);V()(e)>0&&(g=T.GetUpdatedConversationsAfterDeltaUpdate(g,e))}e=Object.assign({},e,{selectedConversation:p?e.selectedConversation:"",allConversationsIds:d,allConversations:c,latestConversationsDelta:n,allConversationsMetadata:g});break}case i.a.SELECT_CONVERSATION_V2:h.b.infoWithNonPIIData("conversationsReducer","selected conversation:",t.conversationId),e=Object.assign({},e,{selectedConversation:t.conversationId,clearFilter:!1});break;case i.a.ADD_CONVERSATION:{const n=t.conversation;if(!e.allConversations[n.convId]){const t=e.allConversationsIds,i=e.allConversations;Q(n.convId,t,i),i[n.convId]=n,e=Object.assign({},e,{allConversationsIds:t,allConversations:i})}break}case i.a.UPDATE_LATEST_MESSAGE:{const n=d.a(t.rawMessage),i=n.type===p.h.TEXT_MESSAGE?t.rawMessage.content:Object(p.i)(n.type,n.subType),r={latestMsgType:n.type,latestMsgSubType:n.subType,latestMsgState:t.rawMessage.messageState,latestMsgSender:t.sender,latestMsg:i,latestMsgTimestamp:n.timestamp,latestMsgTimeString:new Date(n.timestamp).toLocaleString(Object(m.getLanguage)(),{hour:"numeric",minute:"numeric",hour12:!0})},o=K(e,t.conversationId,r),a=Object.assign({},e,{clearFilter:!0,allConversations:o}),s=q(a,t.conversationId);e=Object.assign({},a,{allConversationsIds:s,shouldScrollToSelectedConversation:!!t.scrollToSelectedConversation});break}case i.a.SET_SCROLL_TO_SELECTED_CONV:e=Object.assign({},e,{shouldScrollToSelectedConversation:!!t.shouldScrollToSelectedConversation});break;case i.a.UPDATE_LATEST_MESSAGE_STATE:{const n={latestMsgState:t.messageState},i=K(e,t.conversationId,n);e=Object.assign({},e,{allConversations:i});break}case i.a.ADD_CONVERSATION_COMPONENT:{const n=e.allConversations,i=[],r={};for(let o=0;o<t.initialConversationCount;o++){const t=e.allConversationsIds[o];r[t]=n[t],i.push(t)}for(const e of t.conversations){const o=e.convId,a=n[o],s=e,c=Object(f.g)(a)?s:t.isIOS?Y(a,s):z(a,s);r[o]=c,i.push(o)}e=Object.assign({},e,{allConversationsIds:i,allConversations:r});break}case i.a.UPDATE_CURSOR_MESSAGE:{const n=e.allConversations[t.conversationId],i=n.firstUnseenCursor;i[2]=t.messageId,e.allConversations[t.conversationId]=Object.assign({},n,{firstUnseenCursor:i}),e=Object.assign({},e);break}case W.a.SET_MODULE_VERSION:e=Object.assign({},e,{moduleVersion:t.moduleVersionMap[j]});break;case v.a.TYPING_MESSAGE_RECEIVED:{const n=T.GetUpdatedConversationsAfterNewTypingEvent(e.allConversationsMetadata,t.rawMessage);e=Object.assign({},e,{allConversationsMetadata:n});break}case v.a.TYPING_MESSAGE_TIMEOUT:{const n=T.GetUpdatedConversationsAfterTypingTimeoutEvent(e.allConversationsMetadata,t.conversationId,t.senderId);e=Object.assign({},e,{allConversationsMetadata:n});break}case i.a.UPDATE_USER_STATUS:e=Object.assign({},e,{onlineLastSeenStatus:t.onlineStatus});break;case i.a.UPDATE_USER_SOURCE_GROUP_ID:e.userSourceGroupIds[t.conversationId]=t.userSourceGroupId,e=Object.assign({},e)}return e},z=(e,t)=>new r.d({convId:void 0===e.convId?t.convId:e.convId,title:void 0===e.title?t.title:e.title,inactive:void 0===e.inactive?t.inactive:e.inactive,convType:void 0===e.convType?t.convType:e.convType,convState:void 0===e.convState?t.convState:e.convState,unSeenMsgCount:void 0===e.unSeenMsgCount?t.unSeenMsgCount:e.unSeenMsgCount,firstUnseenCursor:void 0===!e.firstUnseenCursor?t.firstUnseenCursor:e.firstUnseenCursor,latestMsgType:void 0===e.latestMsgType?t.latestMsgType:e.latestMsgType,latestMsgSubType:void 0===e.latestMsgSubType?t.latestMsgSubType:e.latestMsgSubType,latestMsgState:void 0===e.latestMsgState?t.latestMsgState:e.latestMsgState,latestMsgBasePackageId:void 0===e.latestMsgBasePackageId?t.latestMsgBasePackageId:e.latestMsgBasePackageId,latestMsgSender:void 0===e.latestMsgSender?t.latestMsgSender:e.latestMsgSender,latestMsg:void 0===e.latestMsg?t.latestMsg:e.latestMsg,latestMsgTimestamp:void 0===e.latestMsgTimestamp?t.latestMsgTimestamp:e.latestMsgTimestamp,latestMsgTimeString:void 0===e.latestMsgTimeString?t.latestMsgTimeString:e.latestMsgTimeString,latestMsgDeleted:void 0===e.latestMsgDeleted?t.latestMsgDeleted:e.latestMsgDeleted,peerId:void 0===e.peerId?t.peerId:e.peerId,isPinned:void 0===e.isPinned?t.isPinned:e.isPinned,isMarkedAsUnread:void 0===e.isMarkedAsUnread?t.isMarkedAsUnread:e.isMarkedAsUnread,isCreatedFromWeb:void 0===e.isCreatedFromWeb?t.isCreatedFromWeb:e.isCreatedFromWeb,photoServerUrl:void 0===e.photoServerUrl?t.photoServerUrl:e.photoServerUrl,glyphText:void 0===e.glyphText?t.glyphText:e.glyphText,glyphBgColor:void 0===e.glyphBgColor?t.glyphBgColor:e.glyphBgColor,isPolicySupported:void 0===e.isPolicySupported?t.isPolicySupported:e.isPolicySupported,isIntuneManaged:void 0===e.isIntuneManaged?t.isIntuneManaged:e.isIntuneManaged,aadSignInSupported:void 0===e.aadSignInSupported?t.aadSignInSupported:e.aadSignInSupported,groupPolicies:void 0===e.groupPolicies?t.groupPolicies:e.groupPolicies,tenantId:void 0===e.tenantId?t.tenantId:e.tenantId,connectGroupSubType:void 0===e.connectGroupSubType?t.connectGroupSubType:e.connectGroupSubType,gpr:void 0===e.groupPolicyResult?t.groupPolicyResult:e.groupPolicyResult,groupAudienceType:void 0===e.groupAudienceType?t.groupAudienceType:e.groupAudienceType,userSourceGroupId:void 0===e.userSourceGroupId?t.userSourceGroupId:e.userSourceGroupId}),Y=(e,t)=>new r.d({convId:""===e.convId?t.convId:e.convId,title:""===e.title?t.title:e.title,inactive:!1===e.inactive?t.inactive:e.inactive,convType:0===e.convType?t.convType:e.convType,convState:0===e.convState?t.convState:e.convState,unSeenMsgCount:0===e.unSeenMsgCount?t.unSeenMsgCount:e.unSeenMsgCount,firstUnseenCursor:e.firstUnseenCursor&&0!==e.firstUnseenCursor.length?e.firstUnseenCursor:t.firstUnseenCursor,latestMsgType:0===e.latestMsgType?t.latestMsgType:e.latestMsgType,latestMsgSubType:"UNSUPPORTED_MESSAGE"===e.latestMsgSubType?t.latestMsgSubType:e.latestMsgSubType,latestMsgState:0===e.latestMsgState?t.latestMsgState:e.latestMsgState,latestMsgBasePackageId:""===e.latestMsgBasePackageId?t.latestMsgBasePackageId:e.latestMsgBasePackageId,latestMsgSender:""===e.latestMsgSender?t.latestMsgSender:e.latestMsgSender,latestMsg:""===e.latestMsg?t.latestMsg:e.latestMsg,latestMsgTimestamp:0===e.latestMsgTimestamp?t.latestMsgTimestamp:e.latestMsgTimestamp,latestMsgTimeString:""===e.latestMsgTimeString?t.latestMsgTimeString:e.latestMsgTimeString,latestMsgDeleted:!1===e.latestMsgDeleted?t.latestMsgDeleted:e.latestMsgDeleted,peerId:""===e.peerId?t.peerId:e.peerId,isPinned:!1===e.isPinned?t.isPinned:e.isPinned,isMarkedAsUnread:!1===e.isMarkedAsUnread?t.isMarkedAsUnread:e.isMarkedAsUnread,isCreatedFromWeb:!1===e.isCreatedFromWeb?t.isCreatedFromWeb:e.isCreatedFromWeb,photoServerUrl:""===e.photoServerUrl?t.photoServerUrl:e.photoServerUrl,glyphText:""===e.glyphText?t.glyphText:e.glyphText,glyphBgColor:""===e.glyphBgColor?t.glyphBgColor:e.glyphBgColor,isPolicySupported:!1===e.isPolicySupported?t.isPolicySupported:e.isPolicySupported,isIntuneManaged:!1===e.isIntuneManaged?t.isIntuneManaged:e.isIntuneManaged,aadSignInSupported:!1===e.aadSignInSupported?t.aadSignInSupported:e.aadSignInSupported,groupPolicies:e.groupPolicies&&0!==e.groupPolicies.length?e.groupPolicies:t.groupPolicies,tenantId:""===e.tenantId?t.tenantId:e.tenantId,connectGroupSubType:-1===e.connectGroupSubType?t.connectGroupSubType:e.connectGroupSubType,gpr:void 0===e.groupPolicyResult?t.groupPolicyResult:e.groupPolicyResult,groupAudienceType:void 0===e.groupAudienceType?t.groupAudienceType:e.groupAudienceType,userSourceGroupId:(e.userSourceGroupId,t.userSourceGroupId)}),K=(e,t,n)=>{const i=Object.assign({},e.allConversations),r=i[t],o=D()(r);return i[t]=F()(o,n),i},q=(e,t)=>{const n=Object.assign({},e.allConversations),i=n[t],r=e.allConversationsIds;if(i.isPinned)return r;let o=-1,a=-1;for(let e=0;e<r.length;e++){r[e]===t&&(a=e);const s=n[r[e]];(s.isPinned&&!i.isPinned||s.latestMsgTimestamp>i.latestMsgTimestamp)&&(o=e)}const s=o+1;return s<a?(r.splice(s,0,t),r.splice(a+1,1)):s>a&&(r.splice(s,0,t),r.splice(a,1)),r},Q=(e,t,n)=>{let i=-1;for(let e=0;e<t.length&&n[t[e]].isPinned;e++)i=e;t.splice(i+1,0,e)},J=(e,t,n)=>{const i=e.selectedConversation,r=e.allConversations[i];if(r&&!n.find(e=>e===i)){if(!r.isCreatedFromWeb)return delete t[i],!1;n.unshift(i),t[i]=r}return!0},X=(e,t)=>F()(e,t);var $,Z=n(25),ee=n(156),te=n(220),ne=n(54),ie=n(13),re=n(63),oe=n(20),ae=n(19),se=n(77),ce=n(29),le=n(316),ue=n(34),de=n(58),pe=n(81),he=n(144),fe=n(26),ge=n(70),me=n(326),Ee=n(56);!function(e){e.AllowAddUsersToGroups="AllowAddUsersToGroups",e.ODFeatureEnabled="ODFeatureEnabled"}($||($={}));var _e=n(115),Se=n(59),Te=n(121),ve=n.n(Te),Ie=n(352),be=n.n(Ie),ye=n(312),Ce=n.n(ye);const Ae=[],Oe=(e,t)=>e.conversationsState.allConversations[t],Ne=(e,t,n)=>n,Re=e=>e.conversationsState.allConversationsIds,Pe=e=>e.conversationsState.allConversations,we=e=>e.groupManagerState.moduleVersion>=_e.c.GROUP_POLICY_ALLOW_ADD_USERS_SUPPORT&&W.f.isFeatureEnabledInDevice(e,$.AllowAddUsersToGroups),Me=(e,t,n)=>n,De=(e,t,n,i)=>i,Le=(e,t,n,i,r)=>r,xe=(e,t,n,i,r,o)=>o;var ke=new class{constructor(){this.getAllowAddUsersToGroupsEnabled=Object(ge.a)([we],e=>e),this.getUnseenCursor=Object(ge.a)(Oe,e=>{if(e&&e.firstUnseenCursor){return r.b.FromJSONArray(e.firstUnseenCursor)}return null}),this.isPublicConversation=Object(ge.a)(Oe,e=>!!e&&e.convType===r.f.PUBLIC_GROUP),this.getConversationType=Object(ge.a)(Oe,e=>e&&!Object(f.g)(e.convType)?e.convType:null),this.getAllConversationsInfo=Object(ge.a)([Re,Pe],(e,t)=>e.map(e=>t[e])),this.canForwardToConversation=Object(ge.a)([Oe,me.a.isCurrentUserAdmin,this.isPolicySupported.bind(this),this.isTextRestricted.bind(this),this.isAttachmentRestricted.bind(this),this.isCopyRestricted.bind(this),Le,xe,Me,De],(e,t,n,i,o,a,s,c,l,u)=>(h.b.infoWithNonPIIData("ConversationsSelector","convType: ",e.convType,"convId: ",e.convId,"isCurrentUserAdmin: ",t,"isPolicySupported: ",n,"isTextRestricted: ",i,"isAttachmentRestricted: ",o,"isCopyRestricted: ",a,"hasAttachmentsWithoutViewer: ",l,"restrictedTenantId: ",u,"isTextMessage: ",s,"isAttachmentMessage: ",c),n&&(!s||!i)&&(!c||!o)&&(e.convType!==r.f.PUBLIC_GROUP||t)&&(!u||e.tenantId===u)&&(!l||!a))),this.getGroupPolicies=(e,t)=>{const n=Oe(e,t);return n&&n.groupPolicies?n.groupPolicies:Ae},this.getSelectedGroupPolicies=e=>this.getGroupPolicies(e,e.conversationsState.selectedConversation),this.isPolicyTypePresent=Object(ge.a)([this.getGroupPolicies,Ne],(e,t)=>!Object(f.g)(e)&&-1!=e.indexOf(t)),this.shouldApplyPolicyAllowAddUsersToGroups=Object(ge.a)([this.getAllowAddUsersToGroupsEnabled,this.isPolicyTypePresent],(e,t)=>e&&t),this.getConversationInfo=(e,t)=>{const n=e.conversationsState.allConversations[t];return t&&!n?(h.b.errorWithNonPIIData("conversations","conversationInfo not found for id:",t),null):n},this.getModuleVersion=e=>e.conversationsState.moduleVersion,this.shouldUpdateDataBasedOnGroupPolicy=Object(ge.a)([this.getModuleVersion,this.getConversationInfo],(e,t)=>e>=r.i.TEXT_ENABLED_GROUP_POLICY_CHECK&&t.convType!==r.f.PUBLIC_GROUP&&t.convType!==r.f.ONE_ON_ONE),this.getProfilePicProps=Object(ge.a)(this.getConversationInfo,e=>({glyphText:e.glyphText,glyphBgColor:e.glyphBgColor,photoServerUrl:e.photoServerUrl,conversationType:e.convType,tenantId:e.tenantId,connectGroupSubType:e.connectGroupSubType})),this.getUnseenCursorPosition=(e,t)=>{const n=this.getUnseenCursor(e,t);return n?n.Position:r.c.END},this.getSelectedConversationId=e=>e.conversationsState.selectedConversation,this.isConversationPresent=(e,t)=>!Object(f.g)(e.conversationsState.allConversations[t]),this.getGroupPolicyFromString=e=>r.l[e],this.isMeChat=e=>e&&e.peerId==e.convId,this.getPreviewStringForRestrictedGroup=(e,t)=>{switch(e){case r.k.FAILED_USER_EXTERNAL_TO_TENANT:return t?g.a.format(Object(m.getString)("GroupExternalUserPreviewMessageFormat"),t):Object(m.getString)("GroupExternalUserPreviewMessage");case r.k.FAILED_USER_NOT_SIGNED_IN:return Object(m.getString)("SignInRequiredLatestMsg");case r.k.HAS_UNKNOWN_MANDATORY_POLICIES:return Object(m.getString)("PolicyUnsupportedLatestMsg");case r.k.COMPLIANT:default:return""}},this.shouldShowMembershipChangeNonIMs=(e,t)=>{if(Object(oe.isiOS)(e.sessionState.maOS))return!0;const n=Oe(e,t);return n&&!ve()(n.groupPolicies,r.l.PolicyBlockMembershipChangeNonIMs)},this.getUserSourceGroupId=(e,t)=>{const n=e.conversationsState.allConversations[t],i=e.conversationsState.userSourceGroupIds[t];return i||(n&&n.userSourceGroupId?n.userSourceGroupId:t)},this.isUserSourceGroupIdPresent=(e,t)=>{const n=e.conversationsState.allConversations[t];return!!(e.conversationsState.userSourceGroupIds[t]||n&&n.userSourceGroupId)},this.isGroupPublicOrBroadcast=(e,t)=>{const n=Oe(e,t);return!!n&&(n.groupAudienceType===r.j.GLOBAL||n.convType===r.f.PUBLIC_GROUP)},this.getTimeStampOfPreviewMsg=(e,t)=>{const n=this.getConversationInfo(e,t);return n?n.latestMsgTimestamp:null},this.getConversationIndex=(e,t)=>{const n=Re(e);return n?n.findIndex(e=>e===t):-1}}getConversationName(e,t){return e.conversationsState.allConversations[t]&&e.conversationsState.allConversations[t].title}isInternalUserInTheTenant(e,t){if(!t)return!0;const n=Ee.f.getMyProfile(e);return!(!n.tenantUserProfile||!n.tenantUserProfile[t])&&n.tenantUserProfile[t][Se.e]===Se.f}getAccessPolicyResult(e,t){const n=e.conversationsState.allConversations[t];if(n){const i=this.getGroupPolicies(e,t);return Object(f.g)(i)?n.isPolicySupported?r.k.HAS_UNKNOWN_MANDATORY_POLICIES:r.k.COMPLIANT:this.isIntuneRequired(e,t)?r.k.FAILED_INTUNE:n.groupPolicyResult?n.groupPolicyResult:!1===n.aadSignInSupported?r.k.FAILED_USER_NOT_SIGNED_IN:this.isPolicyTypePresent(e,t,r.l.PolicyBlockAddExternalTenantUsersInGroup)&&!this.isInternalUserInTheTenant(e,n.tenantId)?r.k.FAILED_USER_EXTERNAL_TO_TENANT:r.k.COMPLIANT}return r.k.COMPLIANT}isPolicySupported(e,t){h.b.infoWithNonPIIData("ConversationsSelector","checking group access policy result for convId: ",t);const n=this.getAccessPolicyResult(e,t),i=this.getGroupPolicies(e,t);return h.b.infoWithNonPIIData("ConversationsSelector","group policies for convId: "+t+" are : "+i),n==r.k.COMPLIANT?(h.b.infoWithNonPIIData("ConversationsSelector","Group is compliant, isPolicySupported: true"),!0):(h.b.infoWithNonPIIData("ConversationsSelector","Restricted group, with policy result: "+n),!1)}isTextRestricted(e,t){return!t||(this.shouldUpdateDataBasedOnGroupPolicy(e,t)?!this.isPolicyTypePresent(e,t,r.l.PolicyTextEnabled):this.isPolicyTypePresent(e,t,r.l.RestrictTextMessages)||this.getConversationType(e,t)===r.f.FORUM)}isAttachmentRestricted(e,t){return!t||(this.shouldUpdateDataBasedOnGroupPolicy(e,t)?!this.isPolicyTypePresent(e,t,r.l.PolicyAttachmentEnabled):this.isPolicyTypePresent(e,t,r.l.RestrictAttachments))}isIntuneRequired(e,t){return this.isPolicyTypePresent(e,t,r.l.IntuneEnrollmentRequired)&&!this.isPolicyTypePresent(e,t,r.l.PolicyIntuneMandatoryWebApp)}isCopyRestricted(e,t){return this.isPolicyTypePresent(e,t,r.l.RestrictCopyMessage)}isForwardRestricted(e,t){return this.isPolicyTypePresent(e,t,r.l.RestrictForwardMessage)}isForwardRestrictedToOrgGroupOnly(e,t){return this.isPolicyTypePresent(e,t,r.l.RestrictForwardMessageToOrgGroupsOnly)}isExternalUserBlockedInGroupPolicyPresent(e,t){return W.f.isFeatureEnabledInDevice(e,$.ODFeatureEnabled)&&this.isPolicyTypePresent(e,t,r.l.PolicyBlockAddExternalTenantUsersInGroup)}isAadSignInRequired(e,t){const n=e.conversationsState.allConversations[t];return!n||!1===n.aadSignInSupported}isRestricted(e,t){const n=e.conversationsState.allConversations[t];return!!n&&(n.isIntuneManaged||!1===n.isPolicySupported)}isOneOnOneConversation(e,t){const n=e.conversationsState.allConversations[t];return!!n&&n.convType==r.f.ONE_ON_ONE}isTenantMapped(e,t){const n=e.conversationsState.allConversations[t];return!!n&&(!Object(f.g)(n.tenantId)&&""!==n.tenantId)}getTenantId(e,t){const n=e.conversationsState.allConversations[t];if(n)return n.tenantId}isOneOnOneOrgConversation(e,t){const n=e.conversationsState.allConversations[t];return!!n&&(n.convType==r.f.ONE_ON_ONE&&!Object(f.g)(n.tenantId)&&""!==n.tenantId)}getConversationsByTitle(e,t){return Ce()(e.conversationsState.allConversations,{title:t})}getConversationForPeerId(e,t,n){return be()(e.conversationsState.allConversations,e=>e.peerId===t&&e.convType===r.f.ONE_ON_ONE&&e.tenantId===n)}isReplyAllowedForConversation(e){switch(e.convType){case r.f.ONE_ON_ONE:return!0;case r.f.FLAT_GROUP:case r.f.FORUM:return!this.isTextRestricted(fe.a.getState(),e.convId);default:return!1}}isViewReadReceiptsAllowedForConversation(e,t,n){return e.convType===r.f.ONE_ON_ONE?e.peerId!==n:e.convType!==r.f.PUBLIC_GROUP||t}},Ue=n(41),Ge=n(69),Fe=n(60),Be=n(33),Ve=n(184),We=n(159),je=n(125),He=n(76),ze=n(79);class Ye{static isToday(e){const t=new Date;return e.getDate()==t.getDate()&&e.getMonth()==t.getMonth()&&e.getFullYear()==t.getFullYear()}static getDayOfWeek(e){const t=new Date(e).getDay();return isNaN(t)?null:[m.getString("Days.Sunday"),m.getString("Days.Monday"),m.getString("Days.Tuesday"),m.getString("Days.Wednesday"),m.getString("Days.Thursday"),m.getString("Days.Friday"),m.getString("Days.Saturday")][t]}static formatAMPM(e){let t=e.getHours();const n=e.getMinutes(),i=t>=12?m.getString("PM"):m.getString("AM");t%=12,t=t||12;return t+":"+(n<10?"0"+n:n)+" "+i}static getMonth(e){const t=new Date(e).getMonth();return isNaN(t)?null:[m.getString("Year.January"),m.getString("Year.February"),m.getString("Year.March"),m.getString("Year.April"),m.getString("Year.May"),m.getString("Year.June"),m.getString("Year.July"),m.getString("Year.August"),m.getString("Year.September"),m.getString("Year.October"),m.getString("Year.November"),m.getString("Year.December")][t]}static getLastSeenString(e){const t=new Date,n=new Date(e),i=t.getTime()-n.getTime(),r=Math.floor(i/6e4),o=Math.floor(r/60),a=Math.floor(o/24),s=Math.floor(a/30);let c=null;if(Math.floor(a/365)>=1||s>=1||a>=1||o>=1)if(Ye.isToday(n))c=m.getString("LastSeenAt_")+Ye.formatAMPM(n);else{const i=864e5,r=(t.getTime()-e)/i;if(r>0&&r<=1)c=m.getString("LastSeenYesterdayAt_")+Ye.formatAMPM(n);else if(r<=7){const e=Ye.getDayOfWeek(n);c=m.getString("LastSeenAt_")+e+" "+Ye.formatAMPM(n)}else c=m.getString("LastSeenAt_")+Ye.getMonth(n)+" "+n.getDate()+", "+Ye.formatAMPM(n)}else c=r>1?m.getString("LastSeen_")+r+m.getString("_MinsAgo"):m.getString("LastSeenFewSecondsAgo");return c}}var Ke=n(45),qe=n(204);const Qe=s.h,Je=Be.d.ONE_ON_ONE_CHAT,Xe=Be.g.NOTIFIER_RESET_TIME,$e=Be.g.LOADER_ACTIVE_TIMEOUT,Ze=e=>e.map(e=>new r.d(e));let et=null,tt="",nt=!0;const it=e=>t=>n=>{switch(n.type){case W.a.ON_SESSION_UPDATE:{const t=n.updatePayload.aPL,r=t.convs,o=t.pLBO;r?((e,t,n)=>{const r=We.a(),o=e.getState().conversationsState.allConversationsIds,a=[];let s=0;for(;s<r;s+=1){const t=e.getState().conversationsState.allConversations[o[s]];a.push(t)}const c=Ze(n),l={conversations:a.concat(c),SessionId:t.sessionID,UpdateNo:t.updateNo,Timestamp:t.timestamp};e.dispatch(i.b.updateConversationsBase(l,!1))})(e,t,r):o&&((e,t,n)=>{const r=We.a(),o=e.getState();e.dispatch(i.b.addConversationBOComponent(r,Ze(n),Object(oe.isiOS)(o.sessionState.maOS)));const a=e.getState().conversationsState.allConversationsIds,s=[];let c=0;for(;c<r;c+=1){const t=e.getState().conversationsState.allConversations[a[c]];s.push(t)}for(;c<a.length;c+=1){const t=e.getState().conversationsState.allConversations[a[c]];s.push(t)}const l={conversations:s,SessionId:t.sessionID,UpdateNo:t.updateNo,Timestamp:t.timestamp};e.dispatch(i.b.updateConversationsBase(l,!0));const u=[];for(const e of n)u.push(e.convId);ee.a.isNSEEnabled(Z.c.getDeviceOsVersion(),Z.c.getDeviceAppClientVersion(),Z.c.getDeviceOs())||e.dispatch(Ue.c.fetchGroupInfoWithTenantData(u));const d=e.getState().conversationsState.allConversationsIds.length;le.a.recordEnd(ue.b.CONVERSATION_LIST_LOAD_TIME,ue.a.CONV_LIST_LOADED,d?{CONV_COUNT:d}:void 0)})(e,t,o);break}case W.a.ON_SESSION_RESET:((e,t)=>{if(e){let n=e["conversations/base"],o=!1;if(Object(f.g)(e.WSAP)||(o=e.WSAP),n){n.Convs||(n={Convs:n.b,SessionId:n.c,UpdateNo:n.d,Timestamp:n.e}),te.a.recordInternalEvent(ue.b.CONVERSATION_LIST_BASE_LOAD_TIME);const e=new r.g(n);t.dispatch(i.b.updateConversationsBase(e,!o));const a=t.getState().conversationsState.allConversationsIds;a&&a.length&&(t.dispatch(Ke.b.preFetchChatData(a.slice(0,We.a()))),t.dispatch(Ue.c.fetchGroupInfoWithTenantData(a)))}}})(n.resetPayload.pL,e),n.asyncPathList.push({rt:ae.a.SUBSCRIBE,path:[Qe,"delta"],preFetch:!1}),e.dispatch(Fe.c.updateNotificationBadge());break;case W.a.ON_SESSION_RESUME:{const t=n.resumePayload.pL;if(t){let n=t["conversations/base"];if(n){const t=e.getState().conversationsState.allConversationsIds;if(n){n.Convs||(n={Convs:n.b,SessionId:n.c,UpdateNo:n.d,Timestamp:n.e});const o=new r.g(n);e.dispatch(i.b.updateConversationsBase(o,!0));const a=e.getState().conversationsState.allConversationsIds,s=t.filter(e=>!a.indexOf(e));if(s&&0!=s.length){e.dispatch(Ue.c.fetchGroupInfoWithTenantData(s));const t=e.getState().conversationsState.selectedConversation;Object(f.d)(t)||ct(e,t)}}}}break}case W.a.ON_APP_TERMINATED:st();case he.a.ON_CONNECTION_STATE_CHANGED:if(He.b.isConnected()){const t=e.getState().conversationsState.selectedConversation;Object(f.d)(t)||ct(e,t)}else st();break;case W.a.SELECT_TAB:if(n.tab===W.b.Chats){const t=e.getState().conversationsState.selectedConversation;Object(f.d)(t)||ct(e,t)}else st();break;case v.a.MESSAGES_INSERT:{const t=n.rawMessages;t.length>0&&e.getState().appState.isAppForeground&&ot(e)(t[0].conversationId);break}case v.a.MESSAGE_INSERT:n.rawMessage.from!==e.getState().usersState.myProfile.id&&e.getState().appState.isAppForeground&&ot(e)(n.rawMessage.conversationId);break;case W.a.ON_APP_FG_CHANGED:{const t=e.getState();Ge.a.containsPolicies(ke.getSelectedGroupPolicies(t),Ge.b)&&(h.b.infoWithNonPIIData("conversationsMiddleware","the conversation has policies to be applied at foreground state",n.isAppForeground),n.isAppForeground?oe.isProdBuild&&(pe.d.detectAndHandleInspect(ut(e)),pe.d.stopDetector()):oe.isProdBuild&&pe.d.startDetector(ut(e)));const i=e.getState().conversationsState.selectedConversation;n.isAppForeground&&!Object(f.d)(i)?(h.b.infoWithNonPIIData("conversationsMiddleware","App came to foreground, marking currently selected conversation as read and subscribe for status: ",i),ot(e)(i),ct(e,i)):n.isAppForeground||st();break}case he.a.ACTIVELY_DISCONNECT:oe.isProdBuild&&lt(e);break;case i.a.SELECT_CONVERSATION_V2:{const t=e.getState();if(ee.a.isNSEEnabled(Z.c.getDeviceOsVersion(),Z.c.getDeviceAppClientVersion(),Z.c.getDeviceOs())&&(Ue.e.getGroupInfo(t,n.conversationId)||e.dispatch(Ue.c.fetchGroupInfoWithTenantData([n.conversationId])),!ke.isUserSourceGroupIdPresent(t,n.conversationId)&&Ue.e.isCurrentUserIndirectMember(t,n.conversationId)&&n.asyncPathList.push({rt:ae.a.QUERY,path:[Qe,"getUserSourceGroupId",n.conversationId]})),oe.isProdBuild){const i=ke.getGroupPolicies(t,n.conversationId);if(Ge.a.containsPolicies(i,Ge.b)){if(tt!==n.conversationId||tt===n.conversationId&&nt)return tt=n.conversationId,nt=pe.d.isInspectOpen(),void(nt?dt():(pe.d.setUpInspectorShortcutDetector(()=>{Ge.a.handlePolicyViolation(i,Ge.b)}),e.dispatch(n)))}else pe.d.removeInspectorShortcutDetector();tt=n.conversationId}break}case i.a.START_PEER_CONVERSATION:{const t=n.peerId,o=n.sourceConversationId,a=e.getState(),s=n.tenantId?n.tenantId:"",c=a.conversationsState,l=(new Date).getTime();if(ke.isGroupPublicOrBroadcast(a,o)){h.b.infoWithNonPIIData(Qe,"not allowed to create a peer conversation as the group is a broadcast/public group"),e.dispatch(Fe.c.addNotification({id:Je+l,title:"NotAllowedToChat",isCancellable:!1,dismissTimeOut:Xe},Be.b.OVERLAY));break}const u=c.selectedConversation,d=t=>o=>{h.b.debugWithPIIData("conversationsMiddleware",[" (",n.type,"): "],JSON.stringify(o)),t&&ae.c.removePathHandlerSubscription(o.paths[0].path[0]);const a=new r.d(o.paths[0].value),s=Object.assign({},a,{isCreatedFromWeb:!0});e.dispatch(i.b.addConversation(s)),e.dispatch(i.b.selectConversation(a.convId,u)),e.dispatch(Ue.c.fetchGroupInfoWithTenantData([a.convId])),e.dispatch(Fe.c.updateNotification({id:Je+l,title:"CreatedChat",isCancellable:!0,dismissTimeOut:Xe},Be.b.OVERLAY)),clearTimeout(_)},p=ke.getConversationForPeerId(a,t,s);if(!Object(f.g)(p)){h.b.infoWithNonPIIData("conversationsMiddleware","START_PEER_CONVERSATION, conversationId: "+p.convId+" already exists for peerId: "+t),e.dispatch(i.b.selectConversation(p.convId,u));break}const g=[],m={peerId:t};o&&(m.convId=o),s&&(m.tenantId=s),g.push({rt:ae.a.QUERY,path:[Qe,"peer_conversation"],variables:m});const E=ae.c.sendMessage({paths:g}),_=setTimeout(e.dispatch,$e,Fe.c.updateNotification({id:Je+l,title:"ChatCreationFailed",isCancellable:!0,dismissTimeOut:Xe},Be.b.OVERLAY));e.dispatch(Fe.c.addNotification({id:Je+l,title:"CreatingChat",icon:Be.c.LOADER,isCancellable:!1},Be.b.OVERLAY)),E.then(e=>{h.b.debugWithPIIData("conversationsMiddleware",[" (",n.type,"): "],JSON.stringify(e)),c.moduleVersion>=2?ae.c.addPathHandlerSubscription(e.paths[0].path[0],{handleRequest:e=>d(!0)(e.data)}):d(!1)(e)}).catch(t=>{e.dispatch(Fe.c.updateNotification({id:Je+l,title:t.ErrorCode==ce.c.BLOCKING_WORKFLOW_ERROR?"NotAllowedToChat":"ChatCreationFailed",isCancellable:!1,dismissTimeOut:Xe},Be.b.OVERLAY)),clearTimeout(_),h.b.errorWithPIIData("conversationsMiddleware",[" (",n.type,"): ",t.stack||t.stacktrace,"error code: ",t.errorCode],t)});break}case ie.a.ON_UPDATE_RECEIVED:{const t=Object(se.b)(n.responseData,Qe,"delta");if(!t)break;Object(ce.k)(t)?h.b.errorWithNonPIIData(Qe,"error response at all",t.errors):(rt(e,t.value),e.dispatch(Fe.c.updateNotificationBadge()));break}case ie.a.ON_RESPONSE_RECEIVED:{const t=Object(se.b)(n.responseData,Qe,"getUserSourceGroupId");if(!t)break;!Object(ce.k)(t)&&t.value?e.dispatch(i.b.updateUserSourceGroupId(n.payload.conversationId,t.value)):h.b.errorWithNonPIIData(Qe,"error response at getUserSourceGroupId",t.errors);break}case i.a.PIN_OR_UNPIN_CONVERSATION:{const t=n.conversationId,i=[],r=n.conversationOption==qe.a.PIN?"pin":"unpin",o=n.conversationOption==qe.a.PIN?"PinningChat":"UnpinningChat",a=n.conversationOption==qe.a.PIN?"PinnedChat":"UnpinnedChat",s=new Ve.a({store:e,notificationId:Be.d.PIN_UNPIN_OPTION});s.showLoader(o),i.push({rt:ae.a.MUTATE,path:[Qe,"pin_or_unpin_conversation"],variables:{convId:t,option:r}});ae.c.sendMessage({paths:i}).then(e=>{s.showGenericError();const n=e.paths[0];Object(ce.k)(n)?h.b.errorWithNonPIIData(Qe,"Error response received while trying to ",r," chat ",n.errors):(s.showSuccess(a),de.a.recordEvent(ue.b.CONVERSATION_OPTION_PIN_OR_UNPIN,{CONVERSATION_ID:t,STATUS:a}),h.b.infoWithNonPIIData(Qe,a,"with conversation id: ",t))}).catch(e=>{s.showGenericError(),h.b.errorWithNonPIIData(Qe,"error ",e," received on pressing ",r)});break}case i.a.MUTE_OR_UNMUTE_CONVERSATION:{const t=n.conversationId,i=[];let r="unmute",o="UnmutedChat",a="UnmutingChat",s={convId:t,option:r,muteDuration:"0",showSilentNotification:!0};n.conversationOption==qe.a.MUTE&&(r="mute",o="MutedChat",a="MutingChat",s={convId:t,option:r,muteDuration:n.muteDuration.toString(),showSilentNotification:n.showNotifications});const c=new Ve.a({store:e,notificationId:Be.d.MUTE_UNMUTE_OPTION});c.showLoader(a),i.push({rt:ae.a.MUTATE,path:[Qe,"mute_or_unmute_conversation"],variables:s});ae.c.sendMessage({paths:i}).then(e=>{c.showGenericError();const n=e.paths[0];Object(ce.k)(n)?h.b.errorWithNonPIIData(Qe,"Error response received while trying to ",r," chat ",n.errors):(c.showSuccess(o),de.a.recordEvent(ue.b.CONVERSATION_OPTION_MUTE_OR_UNMUTE,{CONVERSATION_ID:t,STATUS:o}),h.b.infoWithNonPIIData(Qe,o,"with conversation id: ",t))}).catch(e=>{c.showGenericError(),h.b.errorWithNonPIIData(Qe,"error ",e," received on pressing ",r)});break}case i.a.MARK_READ_OR_MARK_UNREAD_CONVERSATION:{const t=n.conversationId,i=[],o=n.conversationOption==qe.a.MARK_AS_READ?"markAsRead":"markAsUnread",a=new Ve.a({store:e,notificationId:Be.d.MARK_READ_UNREAD}),s=ke.getAccessPolicyResult(e.getState(),n.conversationId);if("markAsRead"===o&&s!==r.k.COMPLIANT){a.showSpecificError("O365signInRequiredTitle"),h.b.warnWithNonPIIData(Qe,"warning: user not compliant to group(O365 sign in required) received on pressing ",o);break}const c=n.conversationOption==qe.a.MARK_AS_READ?"MarkedAsRead":"MarkedAsUnread",l=n.conversationOption==qe.a.MARK_AS_READ?"MarkingAsRead":"MarkingAsUnread";a.showLoader(l),i.push({rt:ae.a.MUTATE,path:[Qe,"mark_read_or_unread_conversation"],variables:{convId:t,option:o}});ae.c.sendMessage({paths:i}).then(e=>{a.showGenericError();const n=e.paths[0];Object(ce.k)(n)?h.b.errorWithNonPIIData(Qe,"Error response received while trying to ",o," chat ",n.errors):(a.showSuccess(c),de.a.recordEvent(ue.b.CONVERSATION_OPTION_MARK_READ_OR_UNREAD,{CONVERSATION_ID:t,STATUS:c}),h.b.infoWithNonPIIData(Qe,c,"with conversation id: ",t))}).catch(e=>{a.showGenericError(),h.b.errorWithNonPIIData(Qe,"error ",e," received on pressing ",o)});break}case i.a.CLEAR_CONVERSATION:{const t=n.conversationId,i=[],r=new Ve.a({store:e,notificationId:Be.d.MUTE_UNMUTE_OPTION});r.showLoader("ClearingChat"),i.push({rt:ae.a.MUTATE,path:[Qe,"clear_conversation"],variables:{convId:t}});ae.c.sendMessage({paths:i}).then(e=>{r.showGenericError();const n=e.paths[0];Object(ce.k)(n)?h.b.errorWithNonPIIData(Qe,"Error response received while trying to "," clear chat ",n.errors):(r.showSuccess("ClearedChat"),de.a.recordEvent(ue.b.CONVERSATION_OPTION_CLEAR_CHAT,{CONVERSATION_ID:t,STATUS:"ClearedChat"}),h.b.infoWithNonPIIData(Qe,"ClearedChat","with conversation id: ",t))}).catch(e=>{r.showGenericError(),h.b.errorWithNonPIIData(Qe,"error ",e," received on pressing clear chat ")});break}case i.a.FETCH_USER_STATUS:{n.isChatSame||e.dispatch(i.b.updateUserStatus(""));const t=n.userId,o=n.conversationType;st(),o===r.f.ONE_ON_ONE&&(at(t,e,n),et=window.setInterval(()=>{at(t,e,n)},ze.a.USER_STATUS_TIMEOUT_IN_MS))}}return t(n)},rt=(e,t)=>{const n=e.getState().conversationsState.baseConversations,o=e.getState().conversationsState.allConversationsIds,a=e.getState().sessionState.id;if(n&&n.SessionId===t.SessionId&&n.UpdateNo===t.BaseUpdateNo&&a===t.SessionId.toString()){const n=new r.h(t);e.dispatch(i.b.applyConversationsDelta(n));const a=e.getState().conversationsState.allConversationsIds.filter(e=>-1===o.indexOf(e));a&&0!=a.length&&e.dispatch(Ue.c.fetchGroupInfoWithTenantData(a))}else h.b.warnWithNonPIIData("conversationsMiddleware","the delta conversations cannot be applied")},ot=e=>t=>{if(e.getState().conversationsState.selectedConversation!==t)return;const n=[];n.push({rt:ae.a.MUTATE,path:[Qe,"update_unseen_messages_status"],variables:{convId:t}});ae.c.sendMessage({paths:n}).catch(e=>{h.b.errorWithNonPIIData(Qe,"error received at ","updateUnseenMessagesStatus",e)})},at=(e,t,n)=>{if(Object(f.g)(e))de.a.recordEvent(ue.b.GET_USER_STATUS_NULL_USER_ID,{TAG:"conversationsMiddleware",ERROR_MESSAGE:"Null or empty user id provided for fetching user status"});else{h.b.infoWithNonPIIData(Qe,"fetch user status for id: ",e);je.a.getUserOnlineLastSeenStatus(e).then(e=>{let n=null;if(!0===e.response.onl)n=Object(m.getString)("Online"),t.dispatch(i.b.updateUserStatus(n));else if(null!=e.response.lst){const r=e.response.lst;n=Ye.getLastSeenString(r),t.dispatch(i.b.updateUserStatus(n))}}).catch(e=>{e.getRespCode()!==ne.b.LastSeenForbidden&&de.a.recordEvent(ue.b.GET_USER_STATUS_EXCEPTION,{TAG:"conversationsMiddleware",IS_SUCCESS:!1,ERROR_CODE:e.getRespCode(),ERROR_MESSAGE:e.getRespMessage(),GUID:e.getGuid()})})}},st=()=>{null!=et&&(clearInterval(et),et=null)},ct=(e,t)=>{if(e.getState().conversationsState.allConversations[t].convType===r.f.ONE_ON_ONE){const n=e.getState().conversationsState.allConversations[t].peerId;Object(f.g)(n)||e.dispatch(i.b.fetchUserStatus(n,r.f.ONE_ON_ONE,!0))}},lt=e=>{h.b.infoWithNonPIIData("conversationsMiddleware","actively disconnected stop the inspector"),pe.d.stopDetector()},ut=e=>()=>{const t=e.getState().conversationsState.selectedConversation;h.b.infoWithNonPIIData("conversationsMiddleware","inspect tab is open, closing the conversation: ",t),t&&(tt=t,dt(),e.dispatch(i.b.deselectConversation()))},dt=()=>{Object(re.c)({id:"_kz_inspectionAlert",title:Object(m.getString)("InspectionAlertTitle"),message:Object(m.getString)("InspectionAlertMessage"),acceptButtonText:Object(m.getString)("OkButtonText"),isLightDismiss:!0})}},function(e,t,n){"use strict";n.d(t,"i",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"j",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"k",(function(){return u})),n.d(t,"m",(function(){return d})),n.d(t,"l",(function(){return p})),n.d(t,"n",(function(){return h})),n.d(t,"h",(function(){return f})),n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return m})),n.d(t,"s",(function(){return E})),n.d(t,"p",(function(){return _})),n.d(t,"o",(function(){return S})),n.d(t,"r",(function(){return T})),n.d(t,"q",(function(){return v})),n.d(t,"c",(function(){return y})),n.d(t,"a",(function(){return C}));var i=n(3),r=n(21);const o=e=>{const t=document.getElementById(e);t&&t.focus()},a=()=>({tabIndex:0}),s=e=>Object.assign({role:C.BUTTON},a(),f(e)),c=e=>{const t=e?f(e):{};return Object.assign({role:C.LISTITEM},a(),t)},l=e=>{const t=e?f(e):{};return Object.assign({role:C.CELL},a(),t)},u=e=>{const t=e?f(e):{};return Object.assign({role:C.MENUITEM},a(),t)},d=e=>({tabIndex:0,importantForAccessibility:i.Types.ImportantForAccessibility.Yes,accessibilityLabel:e}),p=e=>({"aria-label":e}),h=(e,t)=>Object.assign({accessibilityTraits:i.Types.AccessibilityTrait.Button},d(t),f(e)),f=e=>({onKeyPress:t=>{"Enter"!==t.key&&" "!==t.key||e(t)}}),g=e=>{e&&(e.focus(),e.scrollIntoView(),e.select())},m=e=>{e&&(e.style.border="solid 1px #00508d")},E=e=>{e&&(e.style.border="0px none")},_=(e,t,n,i)=>{if(e.preventDefault(),t){const e=I(i);t.style.outlineColor=e.outlineColor,t.style.outlineOffset=e.outlineOffset,t.style.outlineStyle=e.outlineStyle,t.style.outlineWidth=e.outlineWidth,n&&(t.style.backgroundColor=n)}},S=(e,t,n,i)=>{if(e.preventDefault(),t){const e=b();t.style.msHighContrastAdjust="none",t.style.outlineColor=e.outlineColor,t.style.outlineOffset=e.outlineOffset,t.style.outlineStyle=e.outlineStyle,t.style.outlineWidth=e.outlineWidth,n&&(t.style.backgroundColor=n)}},T=(e,t,n=r.a.WHITE)=>{e.preventDefault(),t&&(t.style.backgroundColor=n)},v=(e,t,n=r.a.WHITE)=>{e.preventDefault(),t&&(t.style.backgroundColor=n)},I=e=>(e||(e=r.a.MIDNIGHT_BLUE_ACCESSIBILITY_BORDER),{outlineColor:e,outlineOffset:"-1px",outlineStyle:"dashed",outlineWidth:"0.5px"}),b=()=>({outlineColor:r.a.TRANSPARENT,outlineOffset:"-1px",outlineStyle:"dashed",outlineWidth:"0.5px"}),y=e=>{e&&i.Accessibility.announceForAccessibility(e)};var C;!function(e){e.BUTTON="button",e.CELL="cell",e.LISTITEM="listitem",e.MENU="menu",e.MENUITEM="menuitem"}(C||(C={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{}i.ID="id",i.SURVEY_PACKAGE_ID="pid",i.TYPE="type",i.TITLE="title",i.CreatorID="creatorId",i.VERSION="ver",i.ANONYMOUS="ann",i.RESULT_VISIBILITY="vis",i.QUESTIONS="ques",i.ANS_OPTIONS="opts",i.ANS_OPTIONS_CONDITION="optsCond",i.ANS_TEXT="at",i.ANS_PIC="ap",i.RESPONDER_NAME="name",i.AGGREGATE_RESPONSES="rsps",i.RESPONSES="frsps",i.USER_RESPONSE="rs",i.GROUP_ID="gid",i.GROUP_NAME="group",i.RESPONSE_COUNT="rc",i.TARGET_COUNT="tc",i.RESULT="rt",i.STATUS="st",i.RESPONSE="RESP",i.EDIT_RESPONSE="EDIT_RESP",i.RESULTS_URL="url",i.EXPIRY="exp",i.FILESIZE_IN_BITES="sb",i.KAS_ASSIGNED_TO_NAME="n",i.KAS_ASSIGNED_TO="aT",i.QUESTION_CONFIG="cfg",i.INVISIBLE="invis",i.RESPONSE_TYPE_MAP="rstm",i.IS_EDITABLE="editable",i.VISIBILITY_EXPRESSION="visCond",i.IS_QUESTION_OPTIONAL="optl",i.QUESTION_VISIBLITY_RULE="visif",i.QUESTION_VALIDATION_RULE="valif",i.QUESTION_EXCLUDE_FROM_REPORTING="er",i.QUESTION_DISPLAY_TYPE="dt",i.QUE_ATTACHMENTS="attl",i.QUE_ATTACHMENTS_SERVER_PATH="spu",i.QUE_ATTACHMENTS_LOCAL_PATH="lpu",i.QUE_ATTACHMENTS_FILE_NAME="afn",i.QUE_ATTACHMENTS_SIZE_IN_BYTES="asb",i.QUE_ATTACHMENTS_GEN_THUMBNAIL_SERVER_URL="gts",i.QUE_ATTACHMENTS_ID="id",i.QUE_ATTACHMENTS_IMAGE_HEIGHT="ih",i.QUE_ATTACHMENTS_IMAGE_WIDTH="iw",i.QUE_ATTACHMENTS_REQ_HI_RES_THUMBNAIL="rhrt",i.QUE_ATTACHMENTS_TH="th",i.QUE_ATTACHMENTS_THUMBNAIL="tib",i.QUE_ATTACHMENTS_THUUMBNAIL_SERVER_URL="turl",i.QUE_ATTACHMENTS_TYPE="ty",i.SURVEY_RESOURCES="resources",i.SURVEY_RESOURCE_ID="id",i.SURVEY_RESOURCE_DESC="desc",i.SURVEY_RESOURCE_TYPE="type",i.SURVEY_RESOURCE_VALUES="val",i.HTML_PAYLOAD_CONTENT="hpc",i.HTML_PACKAGE_ID="hpId",i.TEMPLATE_IDS="tids",i.TEMPLATE_ID="tid",i.PACKAGE_URL="pu",i.SURVEY_METADATA="smd",i.IS_RESPONSE_APPENDED="ira",i.IS_RESPONSE_EDIT="ire",i.IS_LOCATION_REQUESTED="ilr",i.HAS_DEPENDENT_QUESTIONS="hdq",i.SURVEY_PROP_NAME="n",i.SURVEY_PROP_TYPE="t",i.SURVEY_PROP_VAL="v",i.SURVEY_RESPONSE_NATIVE_ID="response_Id_native",i.SURVEY_RESPONSE_SEND_STATUS="response_send_status",i.SURVEY_RESPONSE_SEND_TIME="response_send_time",i.SURVEY_RESPONSE_NATIVE_PAYLOAD="response_payload_native",i.SURVEY_RESPONSE_NATIVE_ASSETMAP="response_assetmap_native",i.SURVEY_CLOSED_BY_CREATOR="isc",i.SURVEY_AGGREGATED_SUMMARY_SURVEY_STATUS="st",i.SURVEY_AGGREGATED_SUMMARY_RESPONSE_COUNT="rc",i.SURVEY_AGGREGATED_SUMMARY_PARTICIPANTS_COUNT="pc",i.SURVEY_AGGREGATED_SUMMARY_TARGET_COUNT="tc",i.SURVEY_AGGREGATED_SUMMARY_RESULT="rs",i.SURVEY_AGGREGATED_SUMMARY_RESULT_OLD="rsps",i.SURVEY_SUMMARY_NATIVE_QUESTION_ID="QuestionId",i.SURVEY_SUMMARY_NATIVE_QUESTION_TYPE="Type",i.SURVEY_SUMMARY_NATIVE_QUESTION_TEXT="QuestionText",i.SURVEY_SUMMARY_NATIVE_OPTION_ID="AnsId",i.SURVEY_SUMMARY_NATIVE_OPTION_TEXT="AnswerText",i.SURVEY_SUMMARY_NATIVE_OPTION_RESPONDERS="Responders",i.SURVEY_SUMMARY_NATIVE_OPTION_TOTAL_COUNT="TotalResponsesCount",i.SURVEY_SUMMARY_NATIVE_OTHER_GROUP_RESPONDER="RespondersCountFromOtherGroups",i.SURVEY_SUMMARY_NATIVE_OPTION_RESULTS="OptionResults",i.SURVEY_SUMMARY_NATIVE_OPTION_RESULT_ORDER="ResultsOrder",i.SURVEY_SUMMARY_NATIVE_NUMERIC_SUM="Sum",i.SURVEY_SUMMARY_NATIVE_NUMERIC_AVERAGE="Average",i.SURVEY_SUMMARY_NATIVE_USER_ID="Id",i.SURVEY_SUMMARY_NATIVE_USER_NAME="Name",i.SURVEY_SUMMARY_NATIVE_USER_PIC_URL="LocalPicUrl",i.SURVEY_SUMMARY_NATIVE_USER_GLYPH_COLOR="Color",i.SURVEY_SUMMARY_NATIVE_SURVEY_ID="SurveyId",i.SURVEY_SUMMARY_NATIVE_SURVEY_TITLE="SurveyTitle",i.SURVEY_SUMMARY_NATIVE_SURVEY_RESPONSE_COUNT="TotalResponseCount",i.SURVEY_SUMMARY_NATIVE_SURVEY_RESPONSE_TARGET_COUNT="TargetResponderCount",i.SURVEY_SUMMARY_NATIVE_SURVEY_NON_RESPONDERS_LIST="NonRespondersInGroup",i.SURVEY_SUMMARY_NATIVE_SURVEY_IS_APPENDABLE="IsAppenedable",i.SURVEY_SUMMARY_NATIVE_SURVEY_RESULTS="Results",i.CUSTOMISATION_RESPONSE_SHOW_QUESTION_HEADER="ShowQuestionHeader",i.CUSTOMISATION_RESPONSE_SHOW_SUMARY="Show",i.CUSTOMISATION_RESPONSE_SUMMARY_TITLE="LabelReviewResponse",i.VIEW_CONTEXT_NAME="vn",i.VIEW_CONTEXT_PARAMS="vp",i.VIEW_CONTEXT_PACKAGEID="pId",i.CUSTOMISATION_SUMMARY_TOOLBAR_TEXT="LabelSurveyDetailPageHeader",i.CUSTOMISATION_SUMMARY_PAGE_TITLE_TEXT="LabelCardTitle",i.CUSTOMISATION_SUMMARY_SETTING_CLOSE_VISIBLE="ShowCloseCardSection",i.CUSTOMISATION_SUMMARY_SETTING_CLOSE_LABEL="LabelCloseCard",i.CUSTOMISATION_SUMMARY_SETTING_VIEW_RESPONSES_VISIBLE="ShowViewAllResponsesLink",i.CUSTOMISATION_SUMMARY_SETTING_REMINDER_VISIBLE="ShowSendReminderSection",i.CUSTOMISATION_SUMMARY_SETTING_REMINDER_LABEL="LabelSendReminder",i.CUSTOMISATION_SUMMARY_DOWNLOAD_RESULT_LABEL="LabelDownloadResults",i.CUSTOMISATION_SUMMARY_QUESTION_DETAIL_TOOLBAR_TEXT="LabelQuestionPageHeader",i.CUSTOMISATION_SUMMARY_QUESTION_DETAIL_HEADER_VISIBLE="ShowQuestionHeader",i.CUSTOMISATION_SUMMARY_QUESTION_DETAIL_NON_AGGREGATION="LabelNoAggregation",i.SINGLE_SELECT="SingleSelect",i.MULTI_SELECT="MultiSelect",i.SURVEY_IDENTIFIER="SurveyIdentifier",i.HINT_TEXT="HintText",i.TEXT_SUBTITLE="TextSubtitle",i.IMAGE_SUBTITLE="ImageSubtitle",i.DATE_SUBTITLE="DateSubtitle",i.LOCATION_SUBTITLE="LocationSubtitle",i.EMPTY_SUBTITLE="EmptySubtitle",i.NEXT_QUESTION="NextQuestion",i.SUBMIT="Submit",i.LOC_UNIQUE_QUESTION_TEXT="UniqueQuestion",i.LOC_LOCATION_QUESTION_TEXT="LocationQuestion",i.LOC_LOCATION_STATUTORY_TEXT="LocationStatutory",i.SHOULD_SHOW_LIKES_AND_COMMENTS="shouldShowLikesAndComments",i.LIKES_COUNT="likesCount",i.COMMENTS_COUNT="commentsCount",i.DID_I_LIKE="didILike",i.DID_I_COMMENT="didIComment"},,function(e,t,n){"use strict";var i=n(29);n.d(t,"a",(function(){return i.f}));var r=n(100);n.d(t,"c",(function(){return r.b}));var o=n(94);n.d(t,"b",(function(){return o.a}));n(170),n(315);var a=n(166);n.d(t,"d",(function(){return a.b}))},function(e,t,n){"use strict";n.r(t),n.d(t,"siteHostUrl",(function(){return i})),n.d(t,"webAppVersion",(function(){return r})),n.d(t,"WebAppBuildFlavour",(function(){return o})),n.d(t,"webAppBuildFlavour",(function(){return a})),n.d(t,"isProdBuild",(function(){return s})),n.d(t,"WebAppAudienceGroup",(function(){return c})),n.d(t,"webAppAudienceGroup",(function(){return l})),n.d(t,"webAppProdAudienceGroupUrl",(function(){return u})),n.d(t,"isDevAudienceGroup",(function(){return d})),n.d(t,"isProdMode",(function(){return p})),n.d(t,"isAutomation",(function(){return h})),n.d(t,"ServerEnv",(function(){return f})),n.d(t,"serverEnv",(function(){return g})),n.d(t,"ServerSettings",(function(){return m})),n.d(t,"serverSetting",(function(){return E})),n.d(t,"isProdServerEnv",(function(){return _})),n.d(t,"isAlphaServerEnv",(function(){return S})),n.d(t,"isProdConfig",(function(){return T})),n.d(t,"isDesktop",(function(){return v})),n.d(t,"shouldSendTelemetryToProd",(function(){return I})),n.d(t,"getWebAppVersion",(function(){return b})),n.d(t,"getMinSupportedProtocolVersion",(function(){return y})),n.d(t,"getMaxSupportedProtocolVersion",(function(){return C})),n.d(t,"IsSupportedProtocolVersion",(function(){return A})),n.d(t,"isiOS",(function(){return O})),n.d(t,"isAndroid",(function(){return N})),n.d(t,"getOSMajorVersion",(function(){return R})),n.d(t,"isWindows",(function(){return P})),n.d(t,"isMacintosh",(function(){return w})),n.d(t,"validAttachmentHostRegex",(function(){return M})),n.d(t,"isResponseOnlyMode",(function(){return D})),n.d(t,"isValidKaizalaHost",(function(){return L}));const i=window.location.href,r="1.1.22.1007.150615";var o;!function(e){e.PROD="prod",e.DEV="dev"}(o||(o={}));const a="prod",s=a===o.PROD;var c;!function(e){e.PRODUCTION="production",e.PREPROD="preprod",e.ALPHA="alpha",e.DEV="dev"}(c||(c={}));const l=-1!==i.search("webapp.kaiza.la")||-1!==i.search("web.kaiza.la")?c.PRODUCTION:-1!==i.search("webapp-preprod.kaiza.la")||-1!==i.search("web-preprod.kaiza.la")?c.PREPROD:-1!==i.search("webapp-alpha.kaiza.la")||-1!==i.search("web-alpha.kaiza.la")?c.ALPHA:c.DEV,u="https://webapp.kaiza.la",d=l===c.DEV,p=-1===i.search("mode=dev")&&(i.search("mode=prod"),!0),h=-1!==i.search("automation=true")&&l!==c.PRODUCTION;var f;!function(e){e.PRODUCTION="production",e.PREPROD="preprod",e.ALPHA="alpha"}(f||(f={}));const g=-1!==i.search("env=prod")?f.PRODUCTION:-1!==i.search("env=preprod")?f.PREPROD:-1!==i.search("env=alpha")?f.ALPHA:f.PRODUCTION,m={PRODUCTION:{KmsHostUrl:"kms.kaiza.la/",cdnUrls:{"cdn.inc-000.kms.osi.office.net":"cdn.kaiza.la","cdn.ins-000.kms.osi.office.net":"cdn-dr.kaiza.la","cdn.scus-000.kms.osi.office.net":"cdn1.kaiza.la","cdn.ncus-000.kms.osi.office.net":"cdn1-dr.kaiza.la","cdn.kascore-neu.osi.office.net":"cdn2.kaiza.la","cdn.kascore-weu.osi.office.net":"cdn2-dr.kaiza.la","cdn.kascore-sea.osi.office.net":"cdn3.kaiza.la","cdn.kascore-ea.osi.office.net":"cdn3-dr.kaiza.la","cdn.kascore-osizpinccolumba013.osi.office.net":"cdn-osizpinccolumba013.kaiza.la","cdn.kascore-osizpinccolumba023.osi.office.net":"cdn-osizpinccolumba023.kaiza.la","cdn.kascore-osizpinccolumba033.osi.office.net":"cdn-osizpinccolumba033.kaiza.la","cdn.kascore-osizpinccolumba043.osi.office.net":"cdn-osizpinccolumba043.kaiza.la","cdn.kascore-osizpinccolumba053.osi.office.net":"cdn-osizpinccolumba053.kaiza.la","cdn.kascore-osizpinccolumba063.osi.office.net":"cdn-osizpinccolumba063.kaiza.la","cdn.kascore-osizpinccolumba073.osi.office.net":"cdn-osizpinccolumba073.kaiza.la","cdn.kascore-osizpinccolumba083.osi.office.net":"cdn-osizpinccolumba083.kaiza.la","cdn.kascore-osizpncuskallichore019.osi.office.net":"cdn1-osizpncuskallichore019.kaiza.la","cdn.kascore-osizpncuskallichore029.osi.office.net":"cdn1-osizpncuskallichore029.kaiza.la","cdn.kascore-osizpncuskallichore039.osi.office.net":"cdn1-osizpncuskallichore039.kaiza.la","cdn.kascore-osizpncuskallichore049.osi.office.net":"cdn1-osizpncuskallichore049.kaiza.la","cdn.kascore-osizpncuskallichore059.osi.office.net":"cdn1-osizpncuskallichore059.kaiza.la","cdn.kascore-osizpncuskallichore069.osi.office.net":"cdn1-osizpncuskallichore069.kaiza.la","cdn.kascore-osizpncuskallichore079.osi.office.net":"cdn1-osizpncuskallichore079.kaiza.la","cdn.kascore-osizpncuskallichore089.osi.office.net":"cdn1-osizpncuskallichore089.kaiza.la","cdn.kascore-osizpweucolumba010.osi.office.net":"cdn2-osizpweucolumba010.kaiza.la","cdn.kascore-osizpweucolumba020.osi.office.net":"cdn2-osizpweucolumba020.kaiza.la","cdn.kascore-osizpweucolumba030.osi.office.net":"cdn2-osizpweucolumba030.kaiza.la","cdn.kascore-osizpweucolumba040.osi.office.net":"cdn2-osizpweucolumba040.kaiza.la","cdn.kascore-osizpweucolumba050.osi.office.net":"cdn2-osizpweucolumba050.kaiza.la","cdn.kascore-osizpweucolumba060.osi.office.net":"cdn2-osizpweucolumba060.kaiza.la","cdn.kascore-osizpweucolumba070.osi.office.net":"cdn2-osizpweucolumba070.kaiza.la","cdn.kascore-osizpweucolumba080.osi.office.net":"cdn2-osizpweucolumba080.kaiza.la","cdn.kascore-osizpseacolumba013.osi.office.net":"cdn3-osizpseacolumba013.kaiza.la","cdn.kascore-osizpseacolumba023.osi.office.net":"cdn3-osizpseacolumba023.kaiza.la","cdn.kascore-osizpseacolumba033.osi.office.net":"cdn3-osizpseacolumba033.kaiza.la","cdn.kascore-osizpseacolumba043.osi.office.net":"cdn3-osizpseacolumba043.kaiza.la","cdn.kascore-osizpseacolumba053.osi.office.net":"cdn3-osizpseacolumba053.kaiza.la","cdn.kascore-osizpseacolumba063.osi.office.net":"cdn3-osizpseacolumba063.kaiza.la","cdn.kascore-osizpseacolumba073.osi.office.net":"cdn3-osizpseacolumba073.kaiza.la","cdn.kascore-osizpseacolumba083.osi.office.net":"cdn3-osizpseacolumba083.kaiza.la","*":"cdn.kaiza.la"}},PRE_PROD:{KmsHostUrl:"kms-preprod.kaiza.la/",cdnUrls:{"cdn.inc-000.kms.osi.officeppe.net":"cdn-preprod.kaiza.la","cdn.scus-000.kms.osi.officeppe.net":"cdn-preprod1.kaiza.la","cdn.kascore-neu.osi.officeppe.net":"cdn-preprod2.kaiza.la","cdn.kascore-weu.osi.officeppe.net":"cdn-dr-preprod2.kaiza.la","edoginwdr.azureedge.net":"cdn-dr-preprod.kaiza.la","edogseadr.azureedge.net":"cdn-dr-preprod1.kaiza.la","kaizalacdn-preprod-osizeinccolumba010.azureedge.net":"cdn-preprod-osizeinccolumba010.kaiza.la","kaizalacdn-preprod1-osizescuscolumba010.azureedge.net":"cdn-preprod1-osizescuscolumba010.kaiza.la","kaizalacdn-preprod2-osizeneucolumba010.azureedge.net":"cdn-preprod2-osizeneucolumba010.kaiza.la","kaizalacdn-preprod-osizeinccolumba020.azureedge.net":"cdn-preprod-osizeinccolumba020.kaiza.la","kaizalacdn-preprod1-osizescuscolumba020.azureedge.net":"cdn-preprod1-osizescuscolumba020.kaiza.la","kaizalacdn-preprod2-osizeneucolumba020.azureedge.net":"cdn-preprod2-osizeneucolumba020.kaiza.la","cdn-preprod-osizeinccolumba010.azureedge.net":"cdn-preprod-osizeinccolumba010.kaiza.la","cdn-preprod1-osizescuscolumba010.azureedge.net":"cdn-preprod1-osizescuscolumba010.kaiza.la","cdn-preprod2-osizeneucolumba010.azureedge.net":"cdn-preprod2-osizeneucolumba010.kaiza.la","cdn-preprod-osizeinccolumba020.azureedge.net":"cdn-preprod-osizeinccolumba020.kaiza.la","cdn-preprod1-osizescuscolumba020.azureedge.net":"cdn-preprod1-osizescuscolumba020.kaiza.la","cdn-preprod2-osizeneucolumba020.azureedge.net":"cdn-preprod2-osizeneucolumba020.kaiza.la","*":"cdn-preprod.kaiza.la"}},ALPHA:{KmsHostUrl:"kms-alpha.kaiza.la/",cdnUrls:{"kaizalacdn-alpha-osiziinwcolumba010.azureedge.net":"cdn-alpha-osiziinwcolumba010.kaiza.la","kaizalacdn-alpha1-osiziseacolumba010.azureedge.net":"cdn-alpha1-osiziseacolumba010.kaiza.la","kaizalacdn-alpha-osiziinwcolumba020.azureedge.net":"cdn-alpha-osiziinwcolumba020.kaiza.la","kaizalacdn-alpha1-osiziseacolumba020.azureedge.net":"cdn-alpha1-osiziseacolumba020.kaiza.la","cdn-alpha-osiziinwcolumba010.azureedge.net":"cdn-alpha-osiziinwcolumba010.kaiza.la","cdn-alpha1-osiziseacolumba010.azureedge.net":"cdn-alpha1-osiziseacolumba010.kaiza.la","cdn-alpha-osiziinwcolumba020.azureedge.net":"cdn-alpha-osiziinwcolumba020.kaiza.la","cdn-alpha1-osiziseacolumba020.azureedge.net":"cdn-alpha1-osiziseacolumba020.kaiza.la","cdn.kascore-osizpinccolumba053.osi.office.net":"cdn-osizpinccolumba053.kaiza.la","cdn.kascore-osizpseacolumba013.osi.office.net":"cdn3-osizpseacolumba013.kaiza.la","cdn.kascore-osizpweucolumba050.osi.office.net":"cdn2-osizpweucolumba050.kaiza.la","*":"cdn-alpha.kaiza.la"}}},E=(()=>{switch(g){case f.PRODUCTION:return m.PRODUCTION;case f.PREPROD:return m.PRE_PROD;case f.ALPHA:return m.ALPHA}})(),_=g===f.PRODUCTION,S=g===f.ALPHA,T=p&&_&&l===c.PRODUCTION,v="desktop"===Object({SERVER_ENV:"production",NODE_ENV:"production",MODE:"prod",WEBAPP_VERSION:"1.1.22.1007.150615",BUILD_FLAVOUR:"prod"}).APP_TYPE,I=p&&_&&l!==c.DEV&&!v&&!h,b=()=>[1,0],y=()=>1,C=()=>5,A=(e,t)=>{const n=parseInt(e,10);return parseInt(t,10)>=n},O=e=>"iOS"===e,N=e=>"Android"===e,R=e=>Number.parseInt(e.split(".")[0]),P="Win32"===window.navigator.platform,w="MacIntel"===window.navigator.platform,M=(()=>{switch(g){case f.PRODUCTION:return"^((cdn.*.kaiza.la)|(cdn.*.osi.office.net)|(osi.*.blob.core.windows.net))$";case f.PREPROD:return"^((cdn.*.kaiza.la)|(cdn.*.osi.officeppe.net)|(osi.*.blob.core.windows.net)|(edog.*.blob.core.windows.net)|(.*.azureedge.net))$";case f.ALPHA:return"^((osi.*.blob.core.windows.net)|(cdn.*.osi.office-int.net)|(.*.azureedge.net)|(cdn.*.osi.office.net))$";default:return""}})();function D(){return-1!=window.location.href.search("res")&&!v}function L(e){return new RegExp(M).test(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{}i.WHITE="#FFFFFF",i.WHITE_DISABLED="#FFFFFF7F",i.WhiteFaded="rgba(255, 255, 255, 0.6)",i.WhiteFaded50="rgba(255, 255, 255, 0.5)",i.BLACK="#000000",i.RED="#E32C00",i.TRANSPARENT="rgba(0,0,0,0)",i.GRAY_1="#f1f2f4",i.GRAY_2="#c1c8cf",i.GRAY_3="#d4d8dB",i.TEXT_SECONDARY="#667787",i.TEXT_DESCRIPTION="#788796",i.ERROR="#DE2D4F",i.SUCCESS="#1E824C",i.OUTLINE_COLOR="#0095ff",i.GREEN="#107c10",i.AccentColor="#006FF1",i.AppColor="#00A1FF",i.OutgoingMessageBg="#C5EAFF",i.HighlightColor="#FF9F01",i.GHOST_TEXT_COLOR="#B8B8B8",i.TEXT_BORDER_NORMAL="#979797",i.DISABLED="#E6E6E6",i.COOL_GRAY="#98A3AF",i.BackGroundRed="#D23C64",i.NAV_BAR_IOS="#34495E",i.LINK_COLOR="#004FA8",i.BUTTON_COLOR="#006FF1",i.TITLE_COLOR="#32485F",i.MIDNIGHT_BLUE="#32495f",i.MIDNIGHT_BLUE_70_ALPHA="#32485fb2",i.MIDNIGHT_BLUE_ACCESSIBILITY_BORDER="#C6CFDA",i.MIDNIGHT_BLUE_25_ALPHA="#32485f1A",i.TANGERINE="#ff9f01",i.FOCUS_BACKGROUND_COLOR="#c1e9f7",i.WHITE_21_ALPHA="#ffffff15",i.GRAY_BACKGROUND="rgb(244, 244, 244)",i.GRAY_HOVER_BACKGROUND="rgba(244, 244, 244, 0.40)",i.PUBLIC_GROUPS_DISCOVER_THEME_COLOR=i.BackGroundRed,i.ORG_GROUPS_DISCOVER_THEME_COLOR="#5a7ce2",i.DISCOVER_GROUPS_EMPTY_SCREEN_COLOR="#5679e1",i.SearchHighlight="#7FB0FF",i.SecondaryTextColor="#667787",i.SecondaryTextColor50="rgba(111, 126, 143, 0.5)",i.ChatCanvasBg="#f3f6f8",i.TimeStampBackground="#E3FAFE",i.TimestampTextColor="#354C5F",i.messageInputPanelReadOnlyInfoColor="#80727d88",i.FocusedElementBgColor=i.GRAY_HOVER_BACKGROUND,i.SelectedElementBgColor=i.GRAY_BACKGROUND,i.SeparatorColor="#e5e5e5",i.SeachBackgroundColor="rgba(212, 216, 219, 0.25)",i.MyGlyphColor="#f18787",i.ListItemHoverColor=i.GRAY_HOVER_BACKGROUND,i.FocusedBoxBorderColor="#00A1FF",i.SelectedBoxBorderColor="#00A1FF",i.SelectedBoxBackgroundColor="#0078D4",i.HoveredBoxBackgroundColor="#F8F8F8",i.AlertBoxFocusBackground="#0078d4",i.LoadingUIBackground="#eaf1f5",i.SubTextColor="#737373",i.ErrorDescription="#e81123",i.AnonymousPollButton="#323639",i.FocusedContextMenuBgColor="rgba(244, 244, 244, 0.6)",i.Gray="rgba(0, 0, 0, 0.25)",i.DefaultCardIconBackground="#5c6a7c",i.JobPieChartCOlor="#f6a623",i.CardHighlightColor="#0078D4",i.CardResponseButtonColor="#0078BC",i.BrowserNotificationTextColor="#00508d",i.EnableNotificationBgColor="#bfe8ff",i.ConnectivityFailedBG="#ffb900",i.ConnectivitySuccessBG="#107c10",i.ConnectivityInProgressBG="#737373",i.ConnectingBG="#f5a623",i.ConnectingTextColor="rgba(255, 255, 255, 0.25)",i.NoteBgColour="#f4f5f6",i.StartChatButtonColour="#0078d7",i.ButtonColour1="#0078d7",i.ButtonColour2="#00a1ff",i.PhoneBatteryLowColor="#e81123",i.BatteryLowNotificationColor="#e92c50",i.PowerSaveModeNotificationColor="#e92c50",i.OptimizeBatteryNotificationColor="#f5a623",i.ReplyToSenderNameColor="#466fe2",i.ReplyToBackgroundColor="rgba(166, 166, 166, 0.15)",i.ReplyToPreviewWidgetShadowColor="rgba(0, 0, 0, 0.15)",i.ReplyToPreviewLeftBarColor="#466fe2",i.ReplyToCloseButtonBackgroundColor=i.GRAY_BACKGROUND,i.ReplyToCloseButtonHoverColor="rgba(166, 166, 166, 0.15)",i.UrlPreviewCloseButtonBackgroundColor=i.GRAY_BACKGROUND,i.UrlPreviewCloseButtonHoverColor="rgba(166, 166, 166, 0.15)",i.UrlPreviewBackgroundColor="rgba(166, 166, 166, 0.15)",i.UrlPreviewShadowColor="rgba(0, 0, 0, 0.15)",i.UrlPreviewTextColor="#737373",i.UrlPreviewLeftBarColor="#466fe2",i.TextMessageCardTextColor="#252525",i.AtMentionsTextColor="#005CE3",i.TimeStampColor="#636363",i.TypingTextColor="#0078d4",i.NewChatIconHoverColor="#f7f7f7",i.NewGroupIconHoverColor="#f7f7f7",i.TabIconViewBackgroundColor="#00508d",i.PaletteIconBackgroundColor=i.GRAY_BACKGROUND,i.SendButtonBackgroundColor=i.GRAY_BACKGROUND,i.SendButtonHoverColor="rgba(166, 166, 166, 0.15)",i.FloatingViewBackgroundColor="rgba(0, 0, 0, 0.5)",i.SelectedTabBackgroundColor=i.WHITE,i.UnSelectedTabBackgroundColor=i.GRAY_HOVER_BACKGROUND,i.FocusedMenuBgColor="rgba(244, 244, 244, 0.60)",i.PreviewTagBackgroundColor="ff9f01",i.AddParticipantButtonColour="#0078d3",i.groupInfoProfilePicBGColor="#f7f7f7",i.AddParticipantPopUpColour="#8f9eac",i.borderShadowColor="#e5e5e5",i.JoinGroupUIBackgroundColor="#f4f4f4",i.InstallKaizalaTextColor="#737373",i.DownloadKaizalaButtonBackgroundColor="#f4f4f4",i.mouseOverBackgroundColor="rgba(166, 166, 166, 0.15)",i.mouseOutBackgroundColor="#f4f4f4"},function(e,t,n){"use strict";var i,r;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),function(e){e[e.UNKNOWN=-1]="UNKNOWN",e[e.NETWORK_DISCONNECTED=0]="NETWORK_DISCONNECTED",e[e.NETWORK_CONNECTED=1]="NETWORK_CONNECTED",e[e.SERVER_DISCONNECTED=2]="SERVER_DISCONNECTED",e[e.SERVER_CONNECTING=3]="SERVER_CONNECTING",e[e.SERVER_CONNECTED=4]="SERVER_CONNECTED",e[e.DEVICE_DISCONNECTED=5]="DEVICE_DISCONNECTED",e[e.DEVICE_CONNECTING=6]="DEVICE_CONNECTING",e[e.SERVER_DEVICE_CONNECTED=7]="SERVER_DEVICE_CONNECTED"}(i||(i={})),function(e){e[e.Unknown=0]="Unknown",e[e.ConnectivityChange=1]="ConnectivityChange",e[e.ActivelyDisconnected=2]="ActivelyDisconnected",e[e.ActiveWebClientChange=3]="ActiveWebClientChange",e[e.ForceReconnectFromLogin=4]="ForceReconnectFromLogin",e[e.ForceReconnectFromNotification=5]="ForceReconnectFromNotification",e[e.AppForeGround=6]="AppForeGround",e[e.OnWebSocketClose=7]="OnWebSocketClose",e[e.OnWebSocketError=8]="OnWebSocketError",e[e.SessionInvalidatedFromDevice=9]="SessionInvalidatedFromDevice",e[e.DeviceDisconnected=10]="DeviceDisconnected",e[e.Timeout=11]="Timeout",e[e.EnsureSessionInitiated=12]="EnsureSessionInitiated"}(r||(r={}))},,function(e,t,n){"use strict";n.d(t,"d",(function(){return h})),n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"j",(function(){return a})),n.d(t,"l",(function(){return s})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return g})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return c})),n.d(t,"k",(function(){return l})),n.d(t,"i",(function(){return E})),n.d(t,"m",(function(){return _}));var i,r,o,a,s,c,l,u=n(11),d=n(15),p=n(6);class h{constructor(e){this.convId=e.convId,this.title=e.title,this.inactive=e.inactive,this.convType=e.convType,this.convState=e.convState,this.unSeenMsgCount=e.unSeenMsgCount,this.firstUnseenCursor=e.firstUnseenCursor,this.latestMsgType=e.latestMsgType,this.latestMsgSubType=e.latestMsgSubType,this.latestMsgState=e.latestMsgState,this.latestMsgBasePackageId=e.latestMsgBasePackageId,this.latestMsgSender=e.latestMsgSender,this.latestMsg=e.latestMsg,this.latestMsgTimestamp=e.latestMsgTimestamp,this.latestMsgTimeString=e.latestMsgTimeString,this.latestMsgDeleted=e.latestMsgDeleted,this.peerId=e.peerId,this.isPinned=e.isPinned,this.isMarkedAsUnread=e.isMarkedAsUnread,this.isCreatedFromWeb=e.isCreatedFromWeb,this.photoServerUrl=e.photoServerUrl,this.glyphText=e.glyphText,this.glyphBgColor=e.glyphBgColor,this.isPolicySupported=e.isPolicySupported,this.isIntuneManaged=e.isIntuneManaged,this.aadSignInSupported=e.aadSignInSupported,this.groupPolicies=e.groupPolicies?S(e.groupPolicies):void 0,this.tenantId=e.tenantId,this.connectGroupSubType=e.connectGroupSubType,this.groupPolicyResult=e.gpr,this.groupAudienceType=Object(p.g)(e.groupAudienceType)||e.convType===i.ONE_ON_ONE?a.UNKNOWN:e.groupAudienceType,this.userSourceGroupId=e.userSourceGroupId}}!function(e){e[e.ONE_ON_ONE=0]="ONE_ON_ONE",e[e.FLAT_GROUP=1]="FLAT_GROUP",e[e.FORUM=2]="FORUM",e[e.PUBLIC_GROUP=3]="PUBLIC_GROUP"}(i||(i={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.MUTE=1]="MUTE",e[e.BLOCK=2]="BLOCK",e[e.UNBLOCK=4]="UNBLOCK",e[e.HIDE_BLOCK_UI=8]="HIDE_BLOCK_UI",e[e.SILENT_NOTIFICATIONS=16]="SILENT_NOTIFICATIONS"}(r||(r={})),function(e){e[e.UNKNOWN=-1]="UNKNOWN",e[e.MANAGED_CONNECT_GROUP=0]="MANAGED_CONNECT_GROUP",e[e.PUBLIC_CONNECT_GROUP=1]="PUBLIC_CONNECT_GROUP"}(o||(o={})),function(e){e[e.UNKNOWN=-1]="UNKNOWN",e[e.NONE=0]="NONE",e[e.GLOBAL=1]="GLOBAL"}(a||(a={})),function(e){e[e.AADSignInRequired=0]="AADSignInRequired",e[e.IntuneEnrollmentRequired=1]="IntuneEnrollmentRequired",e[e.ManagedPalette=2]="ManagedPalette",e[e.RestrictCopyMessage=3]="RestrictCopyMessage",e[e.RestrictForwardMessageToOrgGroupsOnly=4]="RestrictForwardMessageToOrgGroupsOnly",e[e.RestrictForwardMessage=5]="RestrictForwardMessage",e[e.RestrictionShareMessage=6]="RestrictionShareMessage",e[e.RestrictLikesMessages=7]="RestrictLikesMessages",e[e.RestrictLikesDetails=8]="RestrictLikesDetails",e[e.RestrictCommentMessages=9]="RestrictCommentMessages",e[e.RestrictTextMessages=10]="RestrictTextMessages",e[e.RestrictAttachments=11]="RestrictAttachments",e[e.PolicyBotExists=12]="PolicyBotExists",e[e.RerservedBit_13=13]="RerservedBit_13",e[e.RerservedBit_14=14]="RerservedBit_14",e[e.RerservedBit_15=15]="RerservedBit_15",e[e.RerservedBit_16=16]="RerservedBit_16",e[e.RerservedBit_17=17]="RerservedBit_17",e[e.RerservedBit_18=18]="RerservedBit_18",e[e.RerservedBit_19=19]="RerservedBit_19",e[e.RerservedBit_20=20]="RerservedBit_20",e[e.PolicyDeleteMessageRestricted=21]="PolicyDeleteMessageRestricted",e[e.PolicyTextEnabled=22]="PolicyTextEnabled",e[e.PolicyAttachmentEnabled=23]="PolicyAttachmentEnabled",e[e.PolicyIntuneMandatoryWebApp=24]="PolicyIntuneMandatoryWebApp",e[e.PolicyBlockMembershipChangeNonIMs=25]="PolicyBlockMembershipChangeNonIMs",e[e.PolicyAllowAddUsersToGroup=26]="PolicyAllowAddUsersToGroup",e[e.PolicyBlockAddExternalTenantUsersInGroup=27]="PolicyBlockAddExternalTenantUsersInGroup",e[e.RerservedBit_28=28]="RerservedBit_28",e[e.LocationSharingRestricted=29]="LocationSharingRestricted"}(s||(s={}));class f{constructor(e){this.SessionId=e.SessionId,this.Timestamp=e.Timestamp,this.UpdateNo=e.UpdateNo,this.conversations=e.Convs.map(e=>new h(e))}}class g{constructor(e){this.SessionId=e.SessionId,this.OrderDiff=e.OrderDiff,this.UpdateNo=e.UpdateNo,this.BaseUpdateNo=e.BaseUpdateNo,this.NewConvsMap=e.NewConvsMap,this.ConversationDiff=e.ConvsDiff.map(e=>new h(e))}}class m{constructor(e,t,n,i,r){this.CursorSchema=e,this.Position=t,this.MessageId=n,this.BucketId=i,this.UnseenCount=r}static FromJSONArray(e){const t=e[0],n=e[1];let i=null,r=null;n===c.MESSAGE&&(e.length>=4?(i=e[2],r=e[3]):u.e.recordEvent(u.c.INVALID_LAST_SEEN_CURSOR,{}));const o=n===c.UNSEEN_COUNT?e[4]:0;return new m(t,n,i,r,o)}}m.CURSOR_SCHEMA_VERSION=0,function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.START=1]="START",e[e.END=2]="END",e[e.MESSAGE=3]="MESSAGE",e[e.UNSEEN_COUNT=4]="UNSEEN_COUNT"}(c||(c={})),function(e){e[e.COMPLIANT=1]="COMPLIANT",e[e.FAILED_INTUNE=2]="FAILED_INTUNE",e[e.FAILED_USER_NOT_SIGNED_IN=3]="FAILED_USER_NOT_SIGNED_IN",e[e.HAS_UNKNOWN_MANDATORY_POLICIES=4]="HAS_UNKNOWN_MANDATORY_POLICIES",e[e.FAILED_INTUNE_NONE_POLICY_MANAGED=5]="FAILED_INTUNE_NONE_POLICY_MANAGED",e[e.FAILED_USER_SIGN_IN_MISMATCH=6]="FAILED_USER_SIGN_IN_MISMATCH",e[e.FAILED_O365_SESSION_EXPIRED=7]="FAILED_O365_SESSION_EXPIRED",e[e.FAILED_USER_EXTERNAL_TO_TENANT=8]="FAILED_USER_EXTERNAL_TO_TENANT"}(l||(l={}));const E={TEXT_ENABLED_GROUP_POLICY_CHECK:4,CONVERSATION_OPTIONS_SUPPORTED:5},_=(e,t)=>(e&t)>0,S=e=>{const t=[];return e?(e.forEach(e=>{"string"==typeof e?t.push(d.f.getGroupPolicyFromString(e)):"number"==typeof e&&t.push(e)}),t):t}},function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var i=n(4),r=n(43),o=n(61),a=n(6);class s{constructor(){this.notifyValueUpdate=(e,t,n)=>{if(n===t)return;const i=this.onValueUpdateListeners[s.ALL]||[],r=this.onValueUpdateListeners[e]||[];i.forEach(e=>{e(t)}),r.forEach(e=>{e(t)})},this.appContext={},this.onValueUpdateListeners={};const e=new RegExp("^"+s.APP_CONTEXT_NAMESPACE+"\\.");o.a.getAllKeysByNamespace(s.APP_CONTEXT_NAMESPACE).forEach(t=>{const n=t.replace(e,"");this.appContext[n]=o.a.getData(t)});o.b.getAllKeysByNamespace(s.APP_CONTEXT_NAMESPACE).forEach(t=>{const n=t.replace(e,"");this.appContext[n]=o.b.getData(t)})}setValue(e,t,n=u.NONE){const i=this.getValue(e);this.appContext[e]=t,n===u.ALWAYS?o.a.setData(e,r.a.stringify(t),s.APP_CONTEXT_NAMESPACE):n===u.SESSION&&o.b.setData(e,r.a.stringify(t),s.APP_CONTEXT_NAMESPACE),this.notifyValueUpdate(e,t,i)}getValue(e){return this.appContext[e]}registerOnValueUpdate(e,t=s.ALL){this.onValueUpdateListeners[t]?this.onValueUpdateListeners[t].push(e):this.onValueUpdateListeners[t]=[e]}unRegisterOnValueUpdate(e,t=s.ALL){if(this.onValueUpdateListeners[t]){const n=this.onValueUpdateListeners[t].indexOf(e);-1!==n&&this.onValueUpdateListeners[t].splice(n,1)}}setBrowserSessionId(){this.getBrowserSessionId()||c.setValue(l.BROWSER_SESSION_ID,Object(a.b)(),u.NONE)}getBrowserSessionId(){return c.getValue(l.BROWSER_SESSION_ID)}setWebId(e){this.setValue(l.WEB_ID,e,u.ALWAYS)}getWebId(){return this.getValue(l.WEB_ID)}setWSUrl(e){this.setValue(l.WS_URL,e,u.ALWAYS)}getWSUrl(){return this.getValue(l.WS_URL)}setWSHostUrl(e){this.setValue(l.WS_HOST_URL,e,u.ALWAYS)}getWSHostUrl(){return this.getValue(l.WS_HOST_URL)}setAuthToken(e){this.setValue(l.AUTH_TOKEN,e,u.ALWAYS),i.b.infoWithNonPIIData("AuthManager","Setting auth token"),this.setValue(l.AT_GENERATION_TIME,(new Date).toString())}getAuthToken(){return this.getValue(l.AUTH_TOKEN)}isUserAuthenticated(){return!!this.getAuthToken()}setUserId(e){this.setValue(l.UID,e,u.ALWAYS)}getUserId(){return this.getValue(l.UID)}setDeviceId(e){this.setValue(l.DEVICE_ID,e,u.ALWAYS)}getDeviceId(){return this.getValue(l.DEVICE_ID)}setDeviceOs(e){this.setValue(l.DEVICE_OS,e,u.ALWAYS)}getDeviceOs(){return this.getValue(l.DEVICE_OS)}setDeviceOsVersion(e){this.setValue(l.DEVICE_OS_VERSION,e,u.ALWAYS)}getDeviceOsVersion(){return this.getValue(l.DEVICE_OS_VERSION)}setDeviceAppClientVersion(e){this.setValue(l.DEVICE_APP_CLIENT_VERSION,e,u.ALWAYS)}getDeviceAppClientVersion(){return this.getValue(l.DEVICE_APP_CLIENT_VERSION)}setDeviceModel(e){this.setValue(l.DEVICE_MODEL,e,u.ALWAYS)}getDeviceModel(){return this.getValue(l.DEVICE_MODEL)}setDeviceBuildType(e){this.setValue(l.DEVICE_BUILD_TYPE,e,u.SESSION)}getDeviceBuildType(){return this.getValue(l.DEVICE_BUILD_TYPE)}updateConnectionStatistics(e,t){const n=this.getValue(e);null!=n&&null!=n&&n.toString()?this.setValue(e,n.toString()+t,u.SESSION):this.setValue(e,t,u.SESSION)}getConnectionStatistics(e){if(!e)return{ON_SOCKET_ERROR_CALLBACK:this.getValue(l.ON_SOCKET_ERROR_CALLBACK),ON_SOCKET_CLOSE_CALLBACK:this.getValue(l.ON_SOCKET_CLOSE_CALLBACK),ENSURE_SERVER_CONNECTION:this.getValue(l.ENSURE_SERVER_CONNECTION),ENSURE_WAKE_UP_DEVICE:this.getValue(l.ENSURE_WAKE_UP_DEVICE),PING_WAKE_UP_DEVICE:this.getValue(l.PING_WAKE_UP_DEVICE),PING:this.getValue(l.PING),KQUERY_MESSAGE_TIMED_OUT:this.getValue(l.KQUERY_MESSAGE_TIMED_OUT),CONNECTION_STATE_CHANGE:this.getValue(l.CONNECTION_STATE_CHANGE),INVALID_SESSION:this.getValue(l.INVALID_SESSION)};this.getValue(e)}}s.APP_CONTEXT_NAMESPACE="ac",s.ALL="ALL";const c=new s;var l,u;!function(e){e.AUTH_TOKEN="authToken",e.BROWSER_SESSION_ID="browserSessionId",e.WEB_ID="webId",e.WS_URL="wsUrl",e.WS_HOST_URL="wsHostUrl",e.UID="uid",e.DEVICE_ID="DeviceId",e.DEVICE_OS="DeviceOs",e.DEVICE_OS_VERSION="DeviceOsVersion",e.DEVICE_APP_CLIENT_VERSION="DeviceAppClientVersion",e.DEVICE_MODEL="DeviceModel",e.AT_GENERATION_TIME="ATGenerationTime",e.DEVICE_NETWORK_TYPE="DeviceNetworkType",e.SHOW_ALL_CONNECTIVITY_STATUS="ShowAllConnectivityStatus",e.ON_SOCKET_ERROR_CALLBACK="cs_se",e.ON_SOCKET_CLOSE_CALLBACK="cs_sc",e.ENSURE_SERVER_CONNECTION="cs_ec",e.ENSURE_WAKE_UP_DEVICE="cs_ewd",e.PING_WAKE_UP_DEVICE="cs_pwd",e.PING="cs_pg",e.KQUERY_MESSAGE_TIMED_OUT="cs_kmt",e.CONNECTION_STATE_CHANGE="cs_csc",e.INVALID_SESSION="cs_is",e.DEVICE_BUILD_TYPE="build_type"}(l||(l={})),function(e){e[e.NONE=0]="NONE",e[e.SESSION=1]="SESSION",e[e.ALWAYS=2]="ALWAYS"}(u||(u={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(20),r=n(6);class o{static getStore(){if(Object(r.g)(o.store)&&(!i.isProdMode||i.webAppAudienceGroup===i.WebAppAudienceGroup.DEV)){const e="App ran into exception \nStoreProvider: Store is not created yet";throw alert(e),new Error(e)}return o.store}static setStore(e){o.store=e,i.isAutomation&&(window.store=e)}static getState(){return o.getStore().getState()}static dispatch(e){o.getStore().dispatch(e)}}t.b=o},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return c}));const i={UNREAD_MESSAGE_MARKER:3,CONVERSATION_FOR_BUCKET_INFO:4,PRE_FETCH_CHAT_MESSAGES:5},r="_UNREAD_MESSAGE_MARKER_ID";var o,a,s,c;!function(e){e[e.NONE=-1]="NONE",e[e.LOADING=0]="LOADING",e[e.LOAD_SUCCESS=1]="LOAD_SUCCESS",e[e.LOAD_FAILURE=2]="LOAD_FAILURE"}(o||(o={})),function(e){e[e.ITEMS_ADDED_AT_TOP=0]="ITEMS_ADDED_AT_TOP",e[e.ITEMS_ADDED_AT_BOTTOM=1]="ITEMS_ADDED_AT_BOTTOM",e[e.ITEM_ADDED_SCROLL_TO_BOTTOM=2]="ITEM_ADDED_SCROLL_TO_BOTTOM",e[e.ITEM_ADDED_NO_SCROLL=3]="ITEM_ADDED_NO_SCROLL",e[e.ITEM_DELETED=4]="ITEM_DELETED",e[e.ITEMS_DELETED=5]="ITEMS_DELETED",e[e.RENDER_COMPLETE=6]="RENDER_COMPLETE",e[e.INVALIDATE=7]="INVALIDATE"}(a||(a={})),function(e){e[e.Previous=0]="Previous",e[e.Next=1]="Next",e[e.Latest=2]="Latest",e[e.Unseen=3]="Unseen"}(s||(s={})),function(e){e[e.FIRST=1]="FIRST",e[e.BETWEEN=2]="BETWEEN",e[e.LAST=3]="LAST"}(c||(c={}))},function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"l",(function(){return o})),n.d(t,"i",(function(){return a})),n.d(t,"r",(function(){return s})),n.d(t,"o",(function(){return c})),n.d(t,"m",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return g})),n.d(t,"j",(function(){return m})),n.d(t,"k",(function(){return E})),n.d(t,"q",(function(){return _})),n.d(t,"s",(function(){return S})),n.d(t,"n",(function(){return T})),n.d(t,"p",(function(){return v}));const i="message_buckets",r="actionMapping",o="messages",a="groupManager",s="surveys",c="reactions",l="miniapps",u="app",d="Auth",p="clientOnlyMessages",h="Connectivity",f="contacts",g="conversations",m="media",E="messageMetadata",_="session",S="users",T="notification",v="reportAnIssue"},function(e,t,n){"use strict";var i,r;n.d(t,"f",(function(){return i})),n.d(t,"h",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return p})),n.d(t,"k",(function(){return h})),function(e){e[e.INVALID=-1]="INVALID",e[e.QUERY=0]="QUERY",e[e.SUBSCRIBE=1]="SUBSCRIBE",e[e.UNSUBSCRIBE=2]="UNSUBSCRIBE",e[e.MUTATE=3]="MUTATE",e[e.RESULT=4]="RESULT",e[e.CANCEL=5]="CANCEL",e[e.UPDATE=6]="UPDATE",e[e.ACK=7]="ACK"}(i||(i={}));class o{static getMessageWithNonPIIData(e){const t=e.data.paths.map(e=>JSON.stringify(e.path));return{id:e.id,reqId:e.reqId,type:e.mt,paths:t}}}class a{constructor(e,t,n,i,r,o,a){this.id=e,this.ts=t,this.sId=n,this.wId=i,this.data=r,this.mt=o,this.ir=a}static getMessageWithNonPIIData(e){return{id:e.id,wId:e.wId,type:e.mt,sId:e.sId,data:JSON.stringify(s.getNonPIIData(e.data))}}static getMessageWithPIIData(e){return e}}class s{static getNonPIIData(e){let t="";const n=e.paths[0];for(let e of n.path)e&&(e.length>30&&(e=e.substr(0,29)),t+="/"+e);return{pc:e.paths.length,pd:t}}constructor(e){this.paths=e}}!function(e){e[e.NONE=0]="NONE",e[e.PARSING_ERROR=1]="PARSING_ERROR",e[e.INVALID_DATA=2]="INVALID_DATA",e[e.STORAGE_EXCEPTION=3]="STORAGE_EXCEPTION",e[e.SERVICE_UNAVAILABLE=4]="SERVICE_UNAVAILABLE",e[e.CARD_EXCEPTION=5]="CARD_EXCEPTION",e[e.NETWORK_ERROR=6]="NETWORK_ERROR",e[e.SERVICE_COMMAND_EXCEPTION=7]="SERVICE_COMMAND_EXCEPTION",e[e.INVALID_SESSION_ID=8]="INVALID_SESSION_ID",e[e.INVALID_PATH=9]="INVALID_PATH",e[e.PATH_RESOLUTION_ERROR=10]="PATH_RESOLUTION_ERROR",e[e.HANDLER_ERROR=11]="HANDLER_ERROR",e[e.DATA_NOT_FOUND=12]="DATA_NOT_FOUND",e[e.BLOCKING_WORKFLOW_ERROR=13]="BLOCKING_WORKFLOW_ERROR",e[e.DUPLICATE_REQUEST=14]="DUPLICATE_REQUEST"}(r||(r={}));class c{}class l{constructor(e,t,n,i,r){this.path=e,this.rt=t,this.variables=n,this.value=i,this.errors=r}}class u extends l{constructor(e,t,n){super(e,i.QUERY,t),this.eTag=n}}class d extends l{constructor(e,t,n,r){super(e,i.SUBSCRIBE,t),this.eTag=n,this.preFetch=r}}class p extends l{constructor(e,t,n){super(e,i.UNSUBSCRIBE,t),this.preFetch=n}}const h=e=>e.errors&&e.errors.length>0},,function(e,t,n){"use strict";var i=n(26),r=n(20),o=n(500),a=n(327),s=n(331),c=n(13),l=n(4);const u={},d="actionDebouncerMiddleware";let p=!1;const h=e=>e=>t=>{if(!t.isBatchable)return e(t);const n=t.getIdentifier();n in u||(u[n]=t);const i=Object.keys(u);return i.length>0&&!p?(l.b.infoWithNonPIIData(d,"scheduling dispatchActionToStore"),setTimeout(f,300),p=!0):p||l.b.infoWithNonPIIData(d,"actions are there to dispatch, but dispatchActionToStore is not scheduled!!!",", actionIds.length : ",i.length),e(t)};function f(){l.b.debugWithPIIData(d,"dispatch to store called for ",JSON.stringify(Object.keys(u)));const e={};Object.keys(u).forEach(t=>{const n=u[t];n.type in e?e[n.type].push(n):e[n.type]=[n],delete u[t]});Object.keys(e).forEach(t=>{Ye.dispatch(c.e.collectiveAction(t,e[t])),delete e[t]}),p=!1}var g=n(324),m=n(195),E=n(505);const _=e=>e=>t=>{const n=Object.assign({},t);return e(n)};var S,T=n(33),v=n(43),I=n(506),b=n(57),y=n(82),C=n(116);!function(e){e[e.NONE=0]="NONE",e[e.SEND_MESSAGE=1]="SEND_MESSAGE",e[e.UPLOAD_ATTACHMENT=2]="UPLOAD_ATTACHMENT"}(S||(S={}));var A,O=n(98),N=n(288),R=n(80),P=n(52);class w{process(e){this.processMessage(e)}onTaskCompleted(e){P.b.post(new b.a(b.b.MUTATE_TASK_COMPLETED,e))}}class M{constructor(e,t,n,i,r){this.taskType=e,this.message=t,this.isSuccessful=n,this.faiilureReson=i,this.failureDetails=r}}!function(e){e[e.NONE=0]="NONE",e[e.TIME_OUT=1]="TIME_OUT",e[e.RETRY_EXHAUSTED=2]="RETRY_EXHAUSTED",e[e.OTHER=3]="OTHER"}(A||(A={}));var D=n(243),L=n(76);class x extends w{constructor(){super(...arguments),this.RETRY_COUNT=5,this.TIMEOUT=9e4,this.TAG="RetryableTask",this.mRetryCount=0,this.onRetryAttemptExhausted=()=>{},this.executeTask=()=>{this.mRetryCount++;const e=this.processMessageAsync();D.b(this.TIMEOUT,e).then(e=>{e.isSuccessful&&this.onTaskCompleted(this.generateTaskResult(!0))}).catch(e=>{this.onTaskFailure(this.generateTaskResult(!1,A.TIME_OUT,"promise timed out"))})},this.onTaskFailure=e=>{l.b.errorWithNonPIIData(this.TAG,"task type",e.taskType,"ran into error ",e.failureDetails),this.retryTask(e)},this.generateTaskResult=(e,t,n)=>new M(this.getTaskType(),this.mMessage,e,t,n),this.onConnectionUpdate=e=>{L.b.isConnected()&&(l.b.infoWithNonPIIData(this.TAG,"retry executing task in connected state"),this.retryTask(this.generateTaskResult(!1,A.OTHER,"retry on network connected")),L.b.unregisterOnConnectionEvent(this.onConnectionUpdate))}}processMessage(e){this.mMessage=e,this.executeTask(),L.b.isConnected()||L.b.registerOnConnectionEvent(this.onConnectionUpdate)}retryTask(e){if(this.mRetryCount<this.RETRY_COUNT)this.executeTask();else{this.onRetryAttemptExhausted();const t=this.generateTaskResult(e.isSuccessful,A.RETRY_EXHAUSTED,e.failureDetails);this.onTaskCompleted(t)}}}var k=n(46);class U extends x{constructor(){super(),this.LOG_TAG="AttachmentUploadTask",this.mLocalPathPromiseMap={},this.mLocalPathToUniqueIdMap={},this.onRetryAttemptExhausted=()=>{this.mAttachmentLocalMessage.getLocalPathsToUpload().forEach(e=>{const t=this.getStoreId(e),n=O.f.getMediaItemModel(Ye.getState(),t);n&&n.mediaUploadStatus==C.a.UPLOAD_SUCCESS||Ye.dispatch(O.c.updateMediaUploadStatus(t,C.a.UPLOAD_FAILED))})},this.uploadUrl=e=>{const t=O.f.getMediaItemModel(Ye.getState(),this.getStoreId(e)),n=this.mAttachmentLocalMessage.getLocalFileForPath(e);l.b.infoWithNonPIIData(this.LOG_TAG,"uploading file to blob with extension and size:",n.type,n.size);const i=n.type.includes("gif");(n.type.includes("image")&&!i?y.b.compressImage(n):Promise.resolve(n)).then(e=>N.a.uploadUrl(e,t.uploadUrl)).then(t=>{t.isSuccessful?(this.updateMessage(e),this.resolvePromise(e,!0,"")):this.resolvePromise(e,!1,"")}).catch(t=>{this.resolvePromise(e,!1,t)})},this.onStoreUpdate=()=>{this.mAttachmentLocalMessage.getLocalPathsToUpload().forEach(e=>{const t=this.getStoreId(e),n=O.f.getMediaItemModel(Ye.getState(),t);n&&n.mediaUploadStatus===C.a.PATH_RESOLVED&&(Ye.dispatch(O.c.updateMediaUploadStatus(t,C.a.UPLOADING)),this.uploadUrl(e))})},this.updateMessage=e=>{const t=O.f.getMediaItemModel(Ye.getState(),this.getStoreId(e));this.mAttachmentLocalMessage.onFileUploaded(e,t.downloadUrl)},this.resolvePromise=(e,t,n)=>{t?(l.b.infoWithNonPIIData(this.LOG_TAG,"success in uploading file to blob"),this.mLocalPathPromiseMap[e].resolve({isSuccessful:!0}),Ye.dispatch(O.c.updateMediaUploadStatus(this.getStoreId(e),C.a.UPLOAD_SUCCESS))):(l.b.infoWithNonPIIData(this.LOG_TAG,"failure in uploading file to blob",n),this.mLocalPathPromiseMap[e].reject({error:n}))},this.getStoreId=e=>this.mLocalPathToUniqueIdMap[e]}processMessageAsync(){const e=this.mMessage.data.paths[0].variables.message;if(!Object(k.c)(e))return new Promise((e,t)=>{t("non attachment message passed to attachment task")});this.mAttachmentLocalMessage=e;const t=[];this.mStoreSubscription=Ye.subscribe(this.onStoreUpdate),e.getLocalPathsToUpload().forEach(e=>{t.push(new Promise((t,n)=>{this.mLocalPathPromiseMap[e]={resolve:t,reject:n};const i=R.g(e,this.mAttachmentLocalMessage.getLocalFileForPath(e));this.mLocalPathToUniqueIdMap[e]=i;const r=this.mAttachmentLocalMessage.getLocalFileForPath(e),o=r.size/1e3,a=O.f.getMediaItemModel(Ye.getState(),i);if(a&&a.mediaUploadStatus==C.a.UPLOAD_SUCCESS)this.updateMessage(e),this.resolvePromise(e,!0,"");else{Ye.dispatch(O.c.updateMediaUploadStatus(i,C.a.STARTED));const t=R.a(e,!1);Ye.dispatch(O.c.resolveServerUrl(r.name,i,o,t,this.mAttachmentLocalMessage.getConversationId()))}}))});const n=Promise.all(t);return new Promise((e,t)=>{n.then(t=>{const n={isSuccessful:t.map(e=>e.isSuccessful).reduce((e,t)=>e&&t,!0)};this.mStoreSubscription&&this.mStoreSubscription(),e(n)})})}getTaskType(){return S.UPLOAD_ATTACHMENT}}var G=n(170),F=n(99),B=n(11);class V extends w{processMessage(e){let t=e,n=e.data.paths[0].variables;if(n.message instanceof F.a){const i=n.message;t=JSON.parse(JSON.stringify(e)),n=t.data.paths[0].variables,n.message=i.serializeMessagePayloadForServer()}G.a.send(t),e.ir&&this.recordMessageSentTelemetry(e),this.onTaskCompleted(new M(this.getTaskType(),e,!0,A.NONE,""))}getTaskType(){return S.SEND_MESSAGE}recordMessageSentTelemetry(e){const t=e.data.paths[0].variables.message;if(!t)return;const n={MESSAGE_ID:t.id,CONVERSATION_ID:t.conversationId,HOST_CONVERSATION_ID:t.hostConversationId,TYPE:t.type,SUB_TYPE:t.subType,PROCESSING_COMPLETION_TIME:(new Date).getTime()};B.e.recordEvent(B.c.MESSAGE_SENT_FROM_WEBAPP,n)}}V.LOG_TAG="SendTask";var W=n(12);class j extends class{constructor(){this.mExecutionPlan={},this.initExecutionPlan()}getNextTaskType(e,t,n){const i=e===W.h.GENERIC_MESSAGE?t:e.toString();if(this.mExecutionPlan[i]){const e=this.mExecutionPlan[i];for(const t in e)if(!n.isCompleted(e[t]))return e[t];return S.NONE}return S.NONE}}{initExecutionPlan(){this.mExecutionPlan[W.h.TEXT_MESSAGE]=[S.SEND_MESSAGE],this.mExecutionPlan[W.g.TRM]=[S.SEND_MESSAGE],this.mExecutionPlan[W.h.IMAGE_ATTACHMENT]=[S.UPLOAD_ATTACHMENT,S.SEND_MESSAGE],this.mExecutionPlan[W.g.SYSTEM_ALBUM_ATTACHMENT]=[S.UPLOAD_ATTACHMENT,S.SEND_MESSAGE],this.mExecutionPlan[W.g.SYSTEM_DOCUMENT_ATTACHMENT]=[S.UPLOAD_ATTACHMENT,S.SEND_MESSAGE],this.mExecutionPlan[W.g.SYSTEM_VIDEO_ATTACHMENT]=[S.UPLOAD_ATTACHMENT,S.SEND_MESSAGE],this.mExecutionPlan[W.g.SYSTEM_AUDIO_ATTACHMENT]=[S.UPLOAD_ATTACHMENT,S.SEND_MESSAGE],this.mExecutionPlan[W.h.MINIAPP_COMMAND]=[S.UPLOAD_ATTACHMENT,S.SEND_MESSAGE],this.mExecutionPlan[W.g.SYSTEM_START_TYPING]=[S.SEND_MESSAGE],this.mExecutionPlan[W.g.ENHANCED_TEXT]=[S.SEND_MESSAGE],this.mExecutionPlan[W.h.START_CONVERSATION]=[S.UPLOAD_ATTACHMENT,S.SEND_MESSAGE]}}class H{constructor(e){this.mStatus=0,this.mStatus=e}isCompleted(e){return 0!=(this.mStatus&e)}setCompleted(e){this.mStatus|=e}}var z,Y=n(151);class K{constructor(){this.TAG="MessageQueue",this.messagesMap={},this.messages=[],this.pushListeners=[]}add(e){this.messagesMap[e.id]=new H(0),-1===this.messages.indexOf(e.id)&&this.messages.push(e),l.b.infoWithNonPIIData(this.TAG,"added message",e.id),this.sendNotification(z.ADDED,e)}getCompletionStatus(e){return this.messagesMap[e.id]}setCompletionStatus(e,t){const n=this.messagesMap[e.id];null!=n?(n.setCompleted(t),this.messagesMap[e.id]=n):l.b.errorWithNonPIIData(this.TAG,"message not found in outgoing queue",e.id)}remove(e,t){delete this.messagesMap[e.id];const n=this.messages.indexOf(e.id);-1!==n&&(this.messages.splice(n,1),l.b.infoWithNonPIIData(this.TAG,"removed message",e.id)),t===Y.a.SEND_SUCCESS?this.sendNotification(z.ITEM_SUCCESS,e):t===Y.a.SEND_FAILED?this.sendNotification(z.ITEM_FAILED,e):t===Y.a.SEND_CANCELLED&&this.sendNotification(z.ITEM_CANCELLED,e)}getAll(){return this.messages}hasMessage(e){return this.messagesMap[e.id]}sendNotification(e,t){const n=new q(e,t);P.b.post(new b.a(b.b.MUTATE_QUEUE_UPDATE,n))}}!function(e){e[e.ADDED=0]="ADDED",e[e.ITEM_SUCCESS=1]="ITEM_SUCCESS",e[e.ITEM_FAILED=2]="ITEM_FAILED",e[e.ITEM_CANCELLED=3]="ITEM_CANCELLED"}(z||(z={}));class q{constructor(e,t){this.type=e,this.queueData=t}}var Q=n(29),J=n(199);const X=new class{constructor(){this.TAG="MutateTaskExecutor",this.messageQueue=new K,this.planManager=new j,this.has=(e,t)=>this.messageQueue.getAll().find(t=>t.mt===e&&Object(J.a)(t,e)),this.planManager.initExecutionPlan(),this.onTaskCompleted=this.onTaskCompleted.bind(this),P.b.subscribe(b.b.MUTATE_TASK_COMPLETED,this.onTaskCompleted)}handleMessage(e){return!(e.mt!==Q.f.MUTATE||!("messages"===e.data.paths[0].path[0]&&e.data.paths[0].variables&&"new"===e.data.paths[0].variables.action||e.data.paths[0].variables&&e.data.paths[0].variables.message))&&(X.process(e),!0)}cancelMessage(e){return!!this.messageQueue.hasMessage(e)&&(this.messageQueue.remove(e,Y.a.SEND_CANCELLED),!0)}process(e){this.messageQueue.add(e),this.invokeNextTask(e)||this.messageQueue.remove(e,Y.a.SEND_SUCCESS)}onTaskCompleted(e){const t=e.payload;t.isSuccessful?(this.messageQueue.setCompletionStatus(t.message,t.taskType),this.invokeNextTask(t.message)||this.messageQueue.remove(t.message,Y.a.SEND_SUCCESS)):this.messageQueue.remove(t.message,Y.a.SEND_FAILED)}invokeNextTask(e){const t=this.messageQueue.getCompletionStatus(e);if(t){const n=e.data.paths[0].variables;if(!n.message)return!1;const i=n.message,r=i.type,o=i.subType;if(!r)return l.b.infoWithPIIData(this.TAG,"message type not received in outgoing executor",e),!1;const a=this.planManager.getNextTaskType(r,o,t);if(null==a)return l.b.fatalWithNonPIIData(this.TAG,"tasktype not found for message type",r,o),!1;if(a!==S.NONE){return class{static getTask(e){switch(e){case S.SEND_MESSAGE:return new V;case S.UPLOAD_ATTACHMENT:return new U;default:return l.b.errorWithNonPIIData("TaskFactory","task type not implemented",e),null}}}.getTask(a).process(e),!0}return!1}return l.b.errorWithNonPIIData(this.TAG,"message not found in outgoing queue",e.id),!1}};var $=n(242),Z=n(119),ee=n(265),te=n(166),ne=n(351),ie=n(58),re=n(212),oe=n(97),ae=n(123),se=n(60),ce=n(201);const le=e=>e=>t=>{switch(t.type){case c.a.START_APP:ie.a.initialize(),ee.a.initialize(),I.a.initialize(),ne.a.initialize(),re.a.initialize(),de(),pe(),he(),ae.a.registerOnAuthenticationSuccess(ue)}return e(t)};function ue(){oe.AssetsSource.initializeAssetsPhase2()}const de=()=>{$.a.attachHandler(X)},pe=()=>{te.b.registerOnSDNMessageReceived(Z.d.handleLogoutSDNMessage,te.a.SDN_LOGOUT_MESSAGE_TYPE)},he=()=>{r.webAppBuildFlavour===r.WebAppBuildFlavour.PROD&&ae.a.registerOnAuthenticationSuccess(fe)},fe=()=>{Object(R.h)("/assets/wav.json?d="+Date.now()).then(e=>{try{const t=v.a.safeParse(e).v;t===r.webAppVersion?(l.b.infoWithNonPIIData("startAppMiddleware","No new WebApp version available: current version ",r.webAppVersion),i.b.getStore().dispatch(se.c.removeNotification("NewWebAppVersionAvailableNotification",T.b.STICKY))):(l.b.infoWithNonPIIData("startAppMiddleware","New WebApp version available: current version ("+t+") old version (",r.webAppVersion+")"),i.b.getStore().dispatch(se.c.addNotification(Object(ce.e)("NewWebAppVersionAvailableNotification"),T.b.STICKY)))}catch(e){l.b.errorWithNonPIIData("Exception while parsing webAppVersionData from file: ",e.stack||e.stacktrace||e)}}).catch(e=>{l.b.errorWithNonPIIData("Not able to load webAppVersionData file: ",e)})};var ge=n(45),me=n(15),Ee=n(330),_e=n(323),Se=n(120),Te=n(90),ve=n(56),Ie=n(219),be=n(221),ye=n(32),Ce=n(168),Ae=n(144),Oe=n(140),Ne=n(41),Re=n(62),Pe=n(10),we=n(113),Me=n(238),De=n(222),Le=n(157);function xe(){return{authState:Object(Z.h)(),sessionState:Object(De.a)(),conversationsState:Object(me.g)(),messagesState:Object(k.b)(),usersState:Object(ve.a)(),surveyState:Object(Te.b)(),messageMetadataState:Object(Re.b)(),chatState:Object(ge.f)(),miniappState:Object(Pe.l)(),qrCodeState:Object(Me.a)(),reactionsState:Object(Se.a)(),mediaState:Object(O.b)(),actMappingState:Object(be.d)(),clientOnlyMessagesState:Object(Ce.f)(),appState:Object(ye.g)(),profileState:Object(we.b)(),groupManagerState:Object(Ne.b)(),connectivityState:Object(Ae.e)(),contactsState:Object(Oe.e)(),notificationState:Object(se.b)(),reportAnIssueState:Object(Le.a)()}}const ke=Object(m.combineReducers)({authState:Z.f,sessionState:De.c,conversationsState:me.e,messagesState:k.f,usersState:ve.e,surveyState:Te.e,chatState:ge.d,messageMetadataState:Re.d,miniappState:Pe.p,qrCodeState:Me.c,reactionsState:Se.d,mediaState:O.e,actMappingState:be.b,clientOnlyMessagesState:Ce.d,appState:ye.e,profileState:we.d,groupManagerState:Ne.d,connectivityState:Ae.c,contactsState:Oe.c,notificationState:se.d,reportAnIssueState:Le.c});var Ue=(e=xe(),t)=>{switch(t.type){case c.a.RESET_APP:Ie.a.clearAllData(),e=xe()}return ke(e,t)},Ge=n(6);let Fe;const Be=e=>e=>t=>{switch(t.type){case ye.a.ON_SESSION_RESET:Object(Ge.g)(Fe)&&(Fe=setTimeout(Ve,15e3))}return e(t)},Ve=()=>{B.e.flushTelemetry(),Fe=void 0};var We=n(328);const je=[a.a,h,Z.e,_,le,me.d,ge.c,ve.d,g.a,k.e,Te.d,Ee.a,_e.a,se.f,be.a,Se.c,O.d,Ce.c,ye.d,s.a,Oe.b,Be,o.a,We.a],He=Object(E.composeWithDevTools)(Object(m.applyMiddleware)(...je)),ze=r.isProdConfig?Object(m.createStore)(Ue,xe(),Object(m.applyMiddleware)(...je)):Object(m.createStore)(Ue,xe(),He);i.a.setStore(ze);var Ye=t.a=ze},function(e,t,n){"use strict";n.d(t,"b",(function(){return r.b})),n.d(t,"g",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return l.a})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return r.a})),n.d(t,"c",(function(){return r.c}));var i=n(128),r=n(91);function o(){return{selectedTab:r.b.Chats,isAppForeground:void 0,isSessionRejected:!1,areStringsLoaded:!1,isWebInstanceActive:!0,peerBatteryStatus:{IsOptimized:!1,IsLowBattery:!1,IsCharging:!1,IsPowerSaveMode:!1},moduleVersion:0,featureGateStatus:{AllowAddUsersToGroups:!1},deepLinkState:{deepLinkType:i.a.UNKNOWN,convId:void 0,messageId:void 0},appJsDownloadStatus:void 0}}var a=n(28);const s=(e=o(),t)=>{switch(t.type){case r.a.SELECT_TAB:e=Object.assign({},e,{selectedTab:t.tab});break;case r.a.ON_SESSION_REJECTED:e=Object.assign({},e,{isSessionRejected:!0});break;case r.a.ON_STRINGS_LOADED:e=Object.assign({},e,{areStringsLoaded:!0});break;case r.a.HANDLE_ACTIVE_WEB_CLIENT_CHANGED:e=Object.assign({},e,{isWebInstanceActive:t.isCurrentlyActive});break;case r.a.UPDATE_PEER_FEATURE_STATUS:e=Object.assign({},e,{featureGateStatus:t.featureGateStatus});break;case r.a.UPDATE_PEER_BATTERY_STATE:{const n=e.peerBatteryStatus,i=Object.assign({},n,t.batteryState);e=Object.assign({},e,{peerBatteryStatus:i});break}case r.a.ON_SESSION_RESET:case r.a.ON_SESSION_RESUME:e=Object.assign({},e,{isSessionRejected:!1});break;case r.a.ON_APP_FG_CHANGED:e=Object.assign({},e,{isAppForeground:t.isAppForeground});break;case r.a.SET_MODULE_VERSION:e=Object.assign({},e,{moduleVersion:t.moduleVersionMap[a.b]});break;case r.a.SET_DEEP_LINK_DATA:e=Object.assign({},e,{deepLinkState:t.deepLinkData});break;case r.a.APP_JS_DOWNLOAD_STATUS_CHANGE:e=Object.assign({},e,{appJsDownloadStatus:t.payload})}return e};var c=new class{constructor(){this.getSelectedTab=e=>e.appState.selectedTab,this.isAppForeground=e=>e.appState.isAppForeground,this.isWebInstanceActive=e=>e.appState.isWebInstanceActive,this.isFeatureEnabledInDevice=(e,t)=>e.appState.featureGateStatus[t]}},l=n(329)},function(e,t,n){"use strict";var i,r,o,a,s,c,l,u;n.d(t,"i",(function(){return i})),n.d(t,"j",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"g",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"h",(function(){return p})),function(e){e[e.CONNECTIVITY_NOTIFICATION=1]="CONNECTIVITY_NOTIFICATION",e[e.NEW_WEBAPP_VERSION_AVAILABLE_NOTIFICATION=2]="NEW_WEBAPP_VERSION_AVAILABLE_NOTIFICATION",e[e.BROWSER_NOTIFICATION=3]="BROWSER_NOTIFICATION",e[e.OPTIMIZE_BATTERY_NOTIFICATION=51]="OPTIMIZE_BATTERY_NOTIFICATION",e[e.LOW_BATTERY_NOTIFICATION=52]="LOW_BATTERY_NOTIFICATION",e[e.POWER_SAVE_MODE_NOTIFICATION=53]="POWER_SAVE_MODE_NOTIFICATION",e[e.DEFAULT=101]="DEFAULT"}(i||(i={})),function(e){e[e.BATTERY=0]="BATTERY",e[e.PUSH=1]="PUSH"}(r||(r={})),function(e){e[e.STICKY=0]="STICKY",e[e.OVERLAY=1]="OVERLAY"}(o||(o={})),function(e){e[e.PRIMARY=0]="PRIMARY",e[e.SECONDARY=1]="SECONDARY"}(a||(a={})),function(e){e.LOADER="LOADER"}(s||(s={})),function(e){e[e.OPEN=0]="OPEN",e[e.CLOSING=1]="CLOSING",e[e.CLOSE=2]="CLOSE"}(c||(c={}));class d{constructor(e){this.gn=e.gn,this.sn=e.sn,this.ic=e.ic,this.cat=e.cat,this.ct=e.ct,this.mId=e.mId,this.cId=e.cId,this.ts=e.ts,this.nId=e.nId}getGroupName(){return this.gn}getSenderName(){return this.sn}getIcon(){return this.ic}getCategory(){return this.cat}getContent(){return this.ct}getMessageId(){return this.mId}getConversationId(){return this.cId}getTimestamp(){return this.ts}getNotificationId(){return this.nId}}!function(e){e[e.NOTIFIER_RESET_TIME=5e3]="NOTIFIER_RESET_TIME",e[e.LOADER_ACTIVE_TIMEOUT=3e4]="LOADER_ACTIVE_TIMEOUT"}(l||(l={})),function(e){e.ONE_ON_ONE_CHAT="kz_chatCrtSt",e.COPY_MESSAGE_OPTION="kz_msgCpySt",e.DELETE_MESSAGE_OPTION="kz_msgDelSt",e.FORWARD_MESSAGE_OPTION="kz_msgFwdSt",e.GENERIC_LOADER_NOTIFICATION="_kz_loader_notif",e.GENERIC_SUCCESS_NOTIFICATION="_kz_success_notif",e.GENERIC_ERROR_NOTIFICATION="_kz_error_notif",e.JOIN_GROUP_INVITE="kz_joinGroupInvite",e.O365_LOGIN_CHECK="kz_O365LoginCheck",e.PIN_UNPIN_OPTION="kz_chatPinUnpinSt",e.MUTE_UNMUTE_OPTION="kz_chatMuteUnmuteSt",e.MARK_READ_UNREAD="kz_chatMarkReadUnreadSt",e.CLEAR_OPTION="kz_chatClearSt"}(u||(u={}));const p={loaderNotification:{id:u.GENERIC_LOADER_NOTIFICATION,title:"",icon:s.LOADER,isCancellable:!1},successNotification:{id:u.GENERIC_SUCCESS_NOTIFICATION,title:"",isCancellable:!0,dismissTimeOut:l.NOTIFIER_RESET_TIME},errorNotification:{id:u.GENERIC_ERROR_NOTIFICATION,title:"UnableToPerformAction",isCancellable:!0,dismissTimeOut:l.NOTIFIER_RESET_TIME}}},function(e,t,n){"use strict";var i,r;n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),function(e){e.APPLICATION="APPLICATION",e.COMMAND="COMMAND",e.COMMAND_RESULT="COMMAND_RESULT",e.CUSTOM_STRINGS_NOT_FOUND="CUSTOM_STRINGS_NOT_FOUND",e.ERROR="ERROR",e.PEER_MESSAGE_NETWORK_TIME="PEER_MESSAGE_NETWORK_TIME",e.PEER_MESSAGE_SEND_DELAY="PEER_MESSAGE_SEND_DELAY",e.PEER_PROCESSING_TIME="PEER_PROCESSING_TIME",e.PEER_PROCESSING_TIME_NOTIFICATIONS="PEER_PROCESSING_TIME_NOTIFICATIONS",e.PEER_PROCESSING_TIME_FOR_UPDATE="PEER_PROCESSING_TIME_FOR_UPDATE",e.PEER_MESSAGE_RETRY_COUNT="PEER_MESSAGE_RETRY_COUNT",e.FEEDBACK_SUBMITTED="FEEDBACK_SUBMITTED",e.LINK_CLICKED="LINK_CLICKED",e.BUTTON_CLICKED="BUTTON_CLICKED",e.LOCALE_STRINGS_NOT_FOUND="LOCALE_STRINGS_NOT_FOUND",e.IP_LOCATION="IP_LOCATION",e.GEO_LOCATION="GEO_LOCATION",e.PEER_MESSAGE_ROUND_TRIP_TIME="PEER_MESSAGE_ROUND_TRIP_TIME",e.REPORT_AN_ISSUE="REPORT_AN_ISSUE",e.ACTIVE_CONNECT="ACTIVE_CONNECT",e.ACTIVE_DISCONNECT="ACTIVE_DISCONNECT",e.CLEAR_LOCAL_STORAGE="CLEAR_LOCAL_STORAGE",e.INVALID_LAST_SEEN_CURSOR="INVALID_LAST_SEEN_CURSOR",e.WARM_BOOT_TIME="WARM_BOOT_TIME",e.COLD_BOOT_TIME="COLD_BOOT_TIME",e.CHAT_LOAD="CHAT_LOAD",e.PAGE_LOAD="PAGE_LOAD",e.PAGE_UNLOAD="PAGE_UNLOAD",e.CHAT_PALETTE_LOAD="CHAT_PALETTE_LOAD",e.PEOPLE_LIST_LOAD="PEOPLE_LIST_LOAD",e.SEND_MESSAGE_TIME="SEND_MESSAGE_TIME",e.SCRIPT_DOWNLOAD_FAILED="SCRIPT_DOWNLOAD_FAILED",e.SCRIPT_DOWNLOAD_SUCCESS="SCRIPT_DOWNLOAD_SUCCESS",e.ACTION_LOAD="ACTION_LOAD",e.ACTION_RENDER_START="ACTION_RENDER_START",e.ACTION_SOURCE_LOADED="ACTION_SOURCE_LOADED",e.ACTION_UNSUPPORTED="ACTION_UNSUPPORTED",e.ACTION_FAILED="ACTION_FAILED",e.ACTION_API_EXECUTION="ACTION_API_EXECUTION",e.ACTION_API_EXECUTION_EXCEPTION="ACTION_API_EXECUTION_EXCEPTION",e.ACTION_API_EXECUTION_ERROR="ACTION_API_EXECUTION_FAILED",e.UNSUPPORTED_BROWSER_IN_USE="UNSUPPORTED_BROWSER_IN_USE",e.TYPING_EVENT_PROCESSING_TIME="TYPING_EVENT_PROCESSING_TIME",e.LOGIN="LOGIN",e.USER_CLICK_GENERATE_CODE="USER_CLICK_GENERATE_CODE",e.USER_CLICK_REGENERATE_CODE="USER_CLICK_REGENERATE_CODE",e.USER_CLICK_VERIFY_OTP_CODE="USER_CLICK_VERIFY_OTP_CODE",e.USER_CLICK_RE_VERIFY_OTP_CODE="USER_CLICK_RE_VERIFY_OTP_CODE",e.USER_LOGGED_OUT="USER_LOGGED_OUT",e.AUTH_TOKEN_REFRESHED="AUTH_TOKEN_REFRESHED",e.NEW_USER="NEW_USER",e.CONNECTION="CONNECTION",e.CONNECTION_TIME="CONNECTION_TIME",e.DEVICE_CONNECTION="DEVICE_CONNECTION",e.SERVER_CONNECTION="SERVER_CONNECTION",e.PING_DEVICE="PING_DEVICE",e.ACTIVELY_DISCONNECT_CONNECTION="ACTIVELY_DISCONNECT_CONNECTION",e.CONNECTION_TASK="CONNECTION_TASK",e.INVALID_SESSION="INVALID_SESSION",e.ENSURE_SESSION_INITIATED="ENSURE_SESSION_INITIATED",e.ENSURE_SESSION_RECEIVED="ENSURE_SESSION_RECEIVED",e.EXTEND_SESSION_INITIATED="EXTEND_SESSION_INITIATED",e.EXTEND_SESSION_RESPONSE_RECEIVED="EXTEND_SESSION_RESPONSE_RECEIVED",e.TERMINATE_HANDLE_SESSION_REQUEST="TERMINATE_HANDLE_SESSION_REQUEST",e.PING_FROM_DEVICE="PING_FROM_DEVICE",e.WAKE_UP_TIMER_NOT_STARTING_ON_ACTIVELY_DISCONNECTED="WAKE_UP_TIMER_NOT_STARTING_ON_ACTIVELY_DISCONNECTED",e.MESSAGE_CREATED="MESSAGE_CREATED",e.MESSAGE_SENT_FROM_WEBAPP="MESSAGE_SENT_FROM_WEBAPP",e.MESSAGE_DEVICE_ACK_RECEIVED="MESSAGE_DEVICE_ACK_RECEIVED",e.MESSAGE_SERVER_ACK_RECEIVED="MESSAGE_SERVER_ACK_RECEIVED",e.MESSAGE_UNSUPPORTED_CARD="MESSAGE_UNSUPPORTED_CARD",e.DELETE_MESSAGE_CREATED="DELETE_MESSAGE_CREATED",e.DELETE_MSG_DEVICE_RESP_RECEIVED="DELETE_MSG_DEVICE_RESP_RECEIVED",e.FORWARD_MESSAGE_CREATED="FORWARD_MESSAGE_CREATED",e.FORWARD_MSG_DEVICE_RESP_RECEIVED="FORWARD_MSG_DEVICE_RESP_RECEIVED",e.READ_RECEIPT_INFO_LOAD="READ_RECEIPT_INFO_LOAD",e.READ_RECEIPT_INFO_REQUESTED="READ_RECEIPT_INFO_REQUESTED",e.READ_RECEIPT_INFO_RESP_RECEIVED="READ_RECEIPT_INFO_RESP_RECEIVED",e.DEEP_LINK_HANDLED="DEEP_LINK_HANDLED",e.CONVERSATION_LIST_BASE_LOAD_TIME="CONVERSATION_LIST_BASE_LOAD_TIME",e.CONVERSATION_LIST_LOAD_TIME="CONVERSATION_LIST_LOAD_TIME",e.CONVERSATION_OPTION_PIN_OR_UNPIN="CONVERSATION_OPTION_PIN_OR_UNPIN",e.CONVERSATION_OPTION_MUTE_OR_UNMUTE="CONVERSATION_OPTION_MUTE_OR_UNMUTE",e.CONVERSATION_OPTION_MARK_READ_OR_UNREAD="CONVERSATION_OPTION_MARK_READ_OR_UNREAD",e.CONVERSATION_OPTION_CLEAR_CHAT="CONVERSATION_OPTION_CLEAR_CHAT",e.CHAT_PRE_FETCH_MESSAGES_LOAD_TIME="CHAT_PRE_FETCH_MESSAGES_LOAD",e.CHAT_PRE_FETCH_MESSAGES="CHAT_PRE_FETCH_MESSAGES",e.WA_NEW_GROUP_CLICK="WA_NEW_GROUP_CLICK",e.WA_NEW_GROUP_NAME_CLICK="WA_NEW_GROUP_NAME_CLICK",e.WA_NEW_GROUP_PARTICIPANT_CLICK="WA_NEW_GROUP_PARTICIPANT_CLICK",e.WA_NEW_GROUP_DONE="WA_NEW_GROUP_DONE",e.WA_NEW_GROUP_CREATE_SUCCESS="WA_NEW_GROUP_CREATE_SUCCESS",e.WA_NEW_GROUP_CREATE_FAIL="WA_NEW_GROUP_CREATE_FAIL",e.WA_NEW_GROUP_LIST_LOAD="WA_NEW_GROUP_LIST_LOAD",e.WA_NEW_GROUP_LIST_COUNT="WA_NEW_GROUP_LIST_COUNT",e.WA_NEW_CHAT_CLICK="WA_NEW_CHAT_CLICK",e.WA_MESSAGE_OPTIONS_MENU_OPEN="WA_MESSAGE_OPTIONS_MENU_OPEN",e.WA_MESSAGE_REPLY="WA_MESSAGE_REPLY",e.WA_MESSAGE_COPY="WA_MESSAGE_COPY",e.WA_MESSAGE_DELETE="WA_MESSAGE_DELETE",e.WA_MESSAGE_DELETE_FOR_EVERYONE="WA_MESSAGE_DELETE_FOR_EVERYONE",e.WA_MESSAGE_FORWARD="WA_MESSAGE_FORWARD",e.WA_MESSAGE_READ_RECEIPTS="WA_MESSAGE_READ_RECEIPTS",e.WA_MESSAGE_AT_MENTION="WA_MESSAGE_AT_MENTION",e.JOIN_GROUP_INVALID_INVITE_LINK="JOIN_GROUP_INVALID_INVITE_LINK",e.JOIN_GROUP_POPUP_OPEN="JOIN_GROUP_POPUP_OPEN",e.JOIN_GROUP_EXTERNAL_REDIRECT="JOIN_GROUP_EXTERNAL_REDIRECT",e.JOIN_GROUP_INTERNAL_REDIRECT="JOIN_GROUP_INTERNAL_REDIRECT",e.JOIN_GROUP_CTA_CLICK="JOIN_GROUP_CTA_CLICK",e.GROUP_PROFILE_CLICK="GROUP_PROFILE_CLICK",e.ADD_PARTICIPANTS_CLICK="ADD_PARTICIPANTS_CLICK",e.ADD_PARTICIPANTS_DONE_CLICK="ADD_PARTICIPANTS_DONE",e.GET_USER_STATUS_EXCEPTION="GET_USER_STATUS_EXCEPTION",e.GET_USER_STATUS_NULL_USER_ID="GET_USER_STATUS_NULL_USER_ID",e.ADD_PARTICIPANTS_SUCCESS="ADD_PARTICIPANTS_SUCCESS",e.REMOVE_PARTICIPANTS_SUCCESS="REMOVE_PARTICIPANTS_SUCCESS",e.CHANGE_PARTICIPANT_ROLE_SUCCESS="CHANGE_PARTICIPANT_ROLE_SUCCESS",e.ADD_PARTICIPANTS_FAIL="ADD_PARTICIPANTS_FAIL",e.REMOVE_PARTICIPANTS_FAIL="REMOVE_PARTICIPANTS_FAIL",e.CHANGE_PARTICIPANT_ROLE_FAIL="CHANGE_PARTICIPANT_ROLE_FAIL",e.ANONYMOUS_RESPONSE_LINK_OPENED="ANONYMOUS_RESPONSE_LINK_OPENED",e.DOWNLOAD_KAIZALA_BUTTON_CLICKED="DOWNLOAD_KAIZALA_BUTTON_CLICKED",e.INVALID_ATTACHMENT_URL="INVALID_ATTACHMENT_URL",e.POWERLIFT_INCIDENCE_CREATED="POWERLIFT_INCIDENCE_CREATED",e.POWERLIFT_INCIDENCE_CREATION_FAILED="POWERLIFT_INCIDENCE_CREATION_FAILED",e.POWERLIFT_FILE_UPLOAD_SUCCESS="POWERLIFT_FILE_UPLOAD_SUCCESS",e.POWERLIFT_FILE_UPLOAD_FAILED="POWERLIFT_FILE_UPLOAD_FAILED",e.OCV_FEEDBACK_SUBMITTED="OCV_FEEDBACK_SUBMITTED",e.OCV_FEEDBACK_SUBMISSION_FAILED="OCV_FEEDBACK_SUBMISSION_FAILED",e.WEBAPP_UPGRADE_POPUP="WEBAPP_UPGRADE_POPUP",e.WEBAPP_UPGRADE_ACCEPT="WEBAPP_UPGRADE_ACCEPT",e.WEBAPP_UPGRADE_REJECT="WEBBAPP_UPGRADE_REJECT",e.TOGGLE_LIKE="TOGGLE_LIKE",e.ADD_COMMENT="ADD_COMMENT",e.OPEN_REACTION_DETAILS_VIEW="OPEN_REACTION_DETAILS_VIEW",e.WEBAPP_THEME="THEME",e.NEW_WAKE_UP_FLOW="NEW_WAKE_UP_FLOW",e.CONNECTION_NOTIFICATION_SILENCED="CONNECTION_NOTIFICATION_SILENCED",e.CONNECTION_NOTIFICATION_SILENCED_AND_WEBAPP_CONNECTED="CONNECTION_NOTIFICATION_SILENCED_AND_WEBAPP_CONNECTED",e.NOTIFICATION_RECEIVED="NOTIFICATION_RECEIVED",e.CUSTOM_ACTION_CONSENT_SUCCESS="CUSTOM_ACTION_CONSENT_SUCCESS",e.CUSTOM_ACTION_CONSENT_REJECT="CUSTOM_ACTION_CONSENT_REJECT"}(i||(i={})),function(e){e.COLD_BOOT="COLD_BOOT",e.WARM_BOOT="WARM_BOOT",e.RESET="RESET",e.CONNECTION="CONNECTION",e.ENSURE_SESSION="ENSURE_SESSION",e.CONV_LIST_UPDATE="CONV_LIST_UPDATE",e.CONV_LIST_LOADED="CONV_LIST_LOADED",e.WEB_BOOT_RENDER_TIME="WEB_BOOT_RENDER_TIME",e.NO_OF_CONV="NO_OF_CONV",e.PING_RECEIVED="PING_RECEIVED",e.AUTHORIZE="AUTHORIZE",e.CONV_LIST_UPDATE_START="CONV_LIST_UPDATE_START",e.CONV_LIST_UPDATED_BUT_NOT_CONNECTED="CONV_LIST_UPDATED_BUT_NOT_CONNECTED",e.WAKE_UP_DEVICE_RESP_RECEIVED_FROM_SERVER="WAKE_UP_DEVICE_RESP_RECEIVED_FROM_SERVER",e.CHAT_LOAD="CHAT_LOAD",e.DATA_FETCH="DATA_FETCH",e.CANVAS_LOAD="CANVAS_LOAD",e.SEND_WIDGET_RENDER="SEND_WIDGET_RENDER",e.CANVAS_LAYOUT="CANVAS_LAYOUT",e.CHAT_PRE_FETCH_RENDER_TIME="CHAT_PRE_FETCH_RENDER",e.CHAT_RENDER_TIME="CHAT_RENDER_TIME",e.TYPING_EVENT="TYPING_EVENT",e.IMMERSIVE_VIEW_LOAD="IMMERSIVE_VIEW_LOAD",e.READ_RECEIPT_INFO_RENDER_TIME="READ_RECEIPT_INFO_RENDER_TIME",e.ACTION_IFRAME_RENDER_START="ACTION_IFRAME_RENDER_START",e.ACTION_BOOT_SRC_LOADED="ACTION_BOOT_SRC_LOADED",e.ACTION_MINIAPP_SRC_LOADED="ACTION_MINIAPP_SRC_LOADED",e.ACTION_MINIAPP_RENDER_TIME="ACTION_MINIAPP_RENDER_TIME",e.ACTION_MINIAPP_RENDER_COMPLETE="ACTION_MINIAPP_RENDER_COMPLETE"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(6);class r{static format(e,...t){let n=e;for(let e=0;e<t.length;e++){const i=new RegExp("\\{"+e+"\\}","gi");n=n.replace(i,t[e])}return n}static escape(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}static isRegexMatch(e,t){return!Object(i.g)(t)&&!Object(i.g)(e)&&!Object(i.g)(t.toLocaleLowerCase().match(new RegExp(r.escape(e).toLocaleLowerCase())))}static isValidEmail(e){const t=new RegExp("[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,3}$");return!!e&&t.test(e)}static arrayBufferToBase64(e){let t="";const n=new Uint8Array(e),i=n.byteLength;for(let e=0;e<i;e++)t+=String.fromCharCode(n[e]);return btoa(t)}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var i=n(1),r=n(6),o=n(154),a=n.n(o);const s=e=>Object(i.isRTLLanguage)()?(e.isRTL||((e=l(e)).isRTL=!0),e):e,c=e=>{if(!Object(i.isRTLLanguage)())return e;let t;if(Array.isArray(e))t=Array.from(e),t=a()(t,(function(e){return e.isRTL||((e=l(e)).isRTL=!0),e}));else{if(t=e,t.isRTL&&"ltr"!=t.direction)return t;t=l(t),t.isRTL=!0}return t},l=e=>(u(e,"marginLeft","marginRight","margin"),u(e,"paddingLeft","paddingRight","padding"),u(e,"left","right"),d(e,"textAlign"),Object(r.g)(e.flexDirection)||"row"!==e.flexDirection&&"row-reverse"!==e.flexDirection||d(e,"justifyContent"),e),u=(e,t,n,i=null)=>{const o=i?e[i]:null,a=Object(r.g)(e[t])?o:e[t],s=Object(r.g)(e[n])?o:e[n];a!=s&&(Object(r.g)(s)?delete e[t]:e[t]=s,Object(r.g)(a)?delete e[n]:e[n]=a)},d=(e,t)=>{const n=e[t];Object(r.g)(n)||("textAlign"===t||"float"===t?"left"===n?e[t]="right":"right"===n&&(e[t]="left"):"justifyContent"===t&&("flex-start"===n?e[t]="flex-end":"flex-end"===n&&(e[t]="flex-start")))}},function(e,t,n){"use strict";var i;function r(){return{fetchState:i.RetryableFailure,data:Object.create(null)}}function o(e){return!e||e.fetchState===i.RetryableFailure}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),function(e){e[e.None=-1]="None",e[e.Fetching=0]="Fetching",e[e.Success=1]="Success",e[e.RetryableFailure=2]="RetryableFailure",e[e.PermanentFailure=3]="PermanentFailure"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return V})),n.d(t,"c",(function(){return A}));var i=n(0),r=n.n(i),o=(n(86),r.a.createContext(null));var a=function(e){e()},s={notify:function(){}};function c(){var e=a,t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var i=!0,r=n={callback:e,next:null,prev:n};return r.prev?r.prev.next=r:t=r,function(){i&&null!==t&&(i=!1,r.next?r.next.prev=r.prev:n=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}var l=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=s,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=c())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=s)},e}();var u=function(e){var t=e.store,n=e.context,a=e.children,s=Object(i.useMemo)((function(){var e=new l(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),c=Object(i.useMemo)((function(){return t.getState()}),[t]);Object(i.useEffect)((function(){var e=s.subscription;return e.trySubscribe(),c!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[s,c]);var u=n||o;return r.a.createElement(u.Provider,{value:s},a)};function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}var h=n(267),f=n.n(h),g=n(257),m="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect,E=[],_=[null,null];function S(e,t){var n=e[1];return[t.payload,n+1]}function T(e,t,n){m((function(){return e.apply(void 0,t)}),n)}function v(e,t,n,i,r,o,a){e.current=i,t.current=r,n.current=!1,o.current&&(o.current=null,a())}function I(e,t,n,i,r,o,a,s,c,l){if(e){var u=!1,d=null,p=function(){if(!u){var e,n,p=t.getState();try{e=i(p,r.current)}catch(e){n=e,d=e}n||(d=null),e===o.current?a.current||c():(o.current=e,s.current=e,a.current=!0,l({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=p,n.trySubscribe(),p();return function(){if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var b=function(){return[null,0]};function y(e,t){void 0===t&&(t={});var n=t,a=n.getDisplayName,s=void 0===a?function(e){return"ConnectAdvanced("+e+")"}:a,c=n.methodName,u=void 0===c?"connectAdvanced":c,h=n.renderCountProp,m=void 0===h?void 0:h,y=n.shouldHandleStateChanges,C=void 0===y||y,A=n.storeKey,O=void 0===A?"store":A,N=(n.withRef,n.forwardRef),R=void 0!==N&&N,P=n.context,w=void 0===P?o:P,M=p(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),D=w;return function(t){var n=t.displayName||t.name||"Component",o=s(n),a=d({},M,{getDisplayName:s,methodName:u,renderCountProp:m,shouldHandleStateChanges:C,storeKey:O,displayName:o,wrappedComponentName:n,WrappedComponent:t}),c=M.pure;var h=c?i.useMemo:function(e){return e()};function y(n){var o=Object(i.useMemo)((function(){var e=n.reactReduxForwardedRef,t=p(n,["reactReduxForwardedRef"]);return[n.context,e,t]}),[n]),s=o[0],c=o[1],u=o[2],f=Object(i.useMemo)((function(){return s&&s.Consumer&&Object(g.isContextConsumer)(r.a.createElement(s.Consumer,null))?s:D}),[s,D]),m=Object(i.useContext)(f),y=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(m)&&Boolean(m.store);var A=y?n.store:m.store,O=Object(i.useMemo)((function(){return function(t){return e(t.dispatch,a)}(A)}),[A]),N=Object(i.useMemo)((function(){if(!C)return _;var e=new l(A,y?null:m.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[A,y,m]),R=N[0],P=N[1],w=Object(i.useMemo)((function(){return y?m:d({},m,{subscription:R})}),[y,m,R]),M=Object(i.useReducer)(S,E,b),L=M[0][0],x=M[1];if(L&&L.error)throw L.error;var k=Object(i.useRef)(),U=Object(i.useRef)(u),G=Object(i.useRef)(),F=Object(i.useRef)(!1),B=h((function(){return G.current&&u===U.current?G.current:O(A.getState(),u)}),[A,L,u]);T(v,[U,k,F,u,B,G,P]),T(I,[C,A,R,O,U,k,F,G,P,x],[A,R,O]);var V=Object(i.useMemo)((function(){return r.a.createElement(t,d({},B,{ref:c}))}),[c,t,B]);return Object(i.useMemo)((function(){return C?r.a.createElement(f.Provider,{value:w},V):V}),[f,V,w])}var A=c?r.a.memo(y):y;if(A.WrappedComponent=t,A.displayName=o,R){var N=r.a.forwardRef((function(e,t){return r.a.createElement(A,d({},e,{reactReduxForwardedRef:t}))}));return N.displayName=o,N.WrappedComponent=t,f()(N,t)}return f()(A,t)}}function C(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function A(e,t){if(C(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!C(e[n[r]],t[n[r]]))return!1;return!0}var O=n(195);n(334);function N(e){return function(t,n){var i=e(t,n);function r(){return i}return r.dependsOnOwnProps=!1,r}}function R(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function P(e,t){return function(t,n){n.displayName;var i=function(e,t){return i.dependsOnOwnProps?i.mapToProps(e,t):i.mapToProps(e)};return i.dependsOnOwnProps=!0,i.mapToProps=function(t,n){i.mapToProps=e,i.dependsOnOwnProps=R(e);var r=i(t,n);return"function"==typeof r&&(i.mapToProps=r,i.dependsOnOwnProps=R(r),r=i(t,n)),r},i}}var w=[function(e){return"function"==typeof e?P(e):void 0},function(e){return e?void 0:N((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?N((function(t){return Object(O.bindActionCreators)(e,t)})):void 0}];var M=[function(e){return"function"==typeof e?P(e):void 0},function(e){return e?void 0:N((function(){return{}}))}];function D(e,t,n){return d({},n,{},e,{},t)}var L=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var i,r=n.pure,o=n.areMergedPropsEqual,a=!1;return function(t,n,s){var c=e(t,n,s);return a?r&&o(c,i)||(i=c):(a=!0,i=c),i}}}(e):void 0},function(e){return e?void 0:function(){return D}}];function x(e,t,n,i){return function(r,o){return n(e(r,o),t(i,o),o)}}function k(e,t,n,i,r){var o,a,s,c,l,u=r.areStatesEqual,d=r.areOwnPropsEqual,p=r.areStatePropsEqual,h=!1;function f(r,h){var f,g,m=!d(h,a),E=!u(r,o);return o=r,a=h,m&&E?(s=e(o,a),t.dependsOnOwnProps&&(c=t(i,a)),l=n(s,c,a)):m?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(c=t(i,a)),l=n(s,c,a)):E?(f=e(o,a),g=!p(f,s),s=f,g&&(l=n(s,c,a)),l):l}return function(r,u){return h?f(r,u):(s=e(o=r,a=u),c=t(i,a),l=n(s,c,a),h=!0,l)}}function U(e,t){var n=t.initMapStateToProps,i=t.initMapDispatchToProps,r=t.initMergeProps,o=p(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,o),s=i(e,o),c=r(e,o);return(o.pure?k:x)(a,s,c,e,o)}function G(e,t,n){for(var i=t.length-1;i>=0;i--){var r=t[i](e);if(r)return r}return function(t,i){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+i.wrappedComponentName+".")}}function F(e,t){return e===t}function B(e){var t=void 0===e?{}:e,n=t.connectHOC,i=void 0===n?y:n,r=t.mapStateToPropsFactories,o=void 0===r?M:r,a=t.mapDispatchToPropsFactories,s=void 0===a?w:a,c=t.mergePropsFactories,l=void 0===c?L:c,u=t.selectorFactory,h=void 0===u?U:u;return function(e,t,n,r){void 0===r&&(r={});var a=r,c=a.pure,u=void 0===c||c,f=a.areStatesEqual,g=void 0===f?F:f,m=a.areOwnPropsEqual,E=void 0===m?A:m,_=a.areStatePropsEqual,S=void 0===_?A:_,T=a.areMergedPropsEqual,v=void 0===T?A:T,I=p(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),b=G(e,o,"mapStateToProps"),y=G(t,s,"mapDispatchToProps"),C=G(n,l,"mergeProps");return i(h,d({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:b,initMapDispatchToProps:y,initMergeProps:C,pure:u,areStatesEqual:g,areOwnPropsEqual:E,areStatePropsEqual:S,areMergedPropsEqual:v},I))}}var V=B();var W,j=n(127);W=j.unstable_batchedUpdates,a=W},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var i=n(3),r=n(134),o=n(2),a=n(8),s=n(5);const c=i.Styles.createViewStyle({height:o.a.HEIGHT_GENERIC_SECTION_HEADER+o.a.WIDTH_GENERIC_BORDER,backgroundColor:Object(s.a)().backgroundColor4,paddingLeft:o.a.PADDING_24,paddingRight:o.a.PADDING_24}),l=i.Styles.createViewStyle({borderStyle:"solid",borderColor:Object(s.a)().separatorColor2,borderWidth:1,borderLeftWidth:0,borderTopWidth:0,borderRightWidth:0,borderBottomWidth:o.a.WIDTH_GENERIC_BORDER}),u={sectionHeaderStyle:c,listItemHeaderStyle:i.Styles.createViewStyle({height:o.a.LIST_ITEM.HEADER_HEIGHT,flex:1,flexDirection:"row",alignItems:"center",backgroundColor:Object(s.a)().backgroundColor1}),listItemStyle:i.Styles.createViewStyle({height:o.a.LIST_ITEM.HEIGHT,flex:1,flexDirection:"row",alignItems:"center",cursor:"pointer"}),commentDetailsListItemStyle:i.Styles.createViewStyle({minHeight:o.a.LIST_ITEM.HEIGHT,flex:1,flexDirection:"row",alignItems:"center",cursor:"pointer"}),listProfilePicViewStyle:i.Styles.createViewStyle({marginLeft:o.a.LIST_ITEM.PROFILE_PIC.MARGIN_LEFT,marginRight:o.a.LIST_ITEM.PROFILE_PIC.MARGIN_RIGHT}),listTitleViewStyle:i.Styles.createViewStyle({flexDirection:"column",flex:1}),borderStyle:i.Styles.createViewStyle({borderStyle:"solid",borderColor:Object(s.a)().separatorColor2,borderWidth:1}),bottomBorderOnly:l,topBottomBorderOnly:[l,i.Styles.createViewStyle({borderTopWidth:o.a.WIDTH_GENERIC_BORDER,borderBottomWidth:o.a.WIDTH_GENERIC_BORDER})],leftRightBorderOnly:[l,i.Styles.createViewStyle({borderStyle:"solid",borderColor:Object(s.a)().separatorColor2,borderWidth:1,borderLeftWidth:1,borderTopWidth:0,borderRightWidth:1,borderBottomWidth:0})],rightBorderOnly:i.Styles.createViewStyle({borderStyle:"solid",borderColor:Object(s.a)().separatorColor2,borderWidth:1,borderLeftWidth:0,borderTopWidth:0,borderRightWidth:1,borderBottomWidth:0}),noBorder:i.Styles.createViewStyle({borderStyle:"none"}),listHeaderStyle:[l,i.Styles.createViewStyle({flexDirection:"row",justifyContent:"center",height:o.a.HEIGHT_GENERIC_SECTION_HEADER+o.a.WIDTH_GENERIC_BORDER,backgroundColor:Object(s.a)().listHeaderColor,paddingRight:o.a.PADDING_9})],iconStyle:i.Styles.createViewStyle({width:12,height:12}),cardBodyViewImageStyle:i.Styles.createViewStyle({height:o.a.HEIGHT_CARD_COVER_IMAGE,width:o.a.WIDTH_CARD_COVER_IMAGE,cursor:"pointer"}),ImmersiveViewDividerStyle:i.Styles.createViewStyle({height:1,backgroundColor:Object(s.a)().separatorColor2,marginTop:o.a.MARGIN_10,marginBottom:o.a.MARGIN_10}),ImmersiveViewContentStyle:i.Styles.createViewStyle({flexDirection:"row",flexShrink:1,justifyContent:"center"}),leftRightBottomBorderOnly:i.Styles.createViewStyle({borderStyle:"solid",borderColor:Object(s.a)().separatorColor2,borderWidth:1,borderLeftWidth:1,borderTopWidth:0,borderRightWidth:1}),defaultContextMenuItemStyle:Object.assign({},a.a.DescriptionTextStyle,{marginTop:o.a.MARGIN_8,marginBottom:o.a.MARGIN_8,marginLeft:o.a.MARGIN_16,color:Object(s.a)().textPrimaryColor}),RTLPhoneNumberTextStyle:{direction:"ltr",textAlign:"left"},RTLAudioControlStyle:{direction:"ltr",justifyContent:"flex-start"}},d={openKeyFrame:e=>r.b`
  0% {
    transform: scale(0);
    transform-origin: ${e};
  }
  100% {
    transform: scale(1);
    transform-origin: ${e};
  }
  `,closeKeyframes:e=>r.b`
  100% {
    transform: scale(0);
    transform-origin: ${e};
  }
  0% {
    transform: scale(1);
    transform-origin: ${e};
  }
  `}},function(e,t,n){"use strict";n.d(t,"c",(function(){return i.b})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return c.b})),n.d(t,"e",(function(){return S.a})),n.d(t,"a",(function(){return r.e}));var i=n(96),r=n(115),o=n(77),a=n(29),s=n(13),c=n(95),l=n(4),u=n(32),d=n(28),p=n(38),h=n(73),f=n.n(h);const g=d.i,m=(e=Object(c.b)(),t)=>{switch(t.type){case s.a.ON_UPDATE_RECEIVED:case s.a.ON_RESPONSE_RECEIVED:{const n=t.responseData,i=Object(o.b)(n,g,"sendWidget");if(i)if(Object(a.k)(i))l.b.errorWithNonPIIData(g,["error response received at sendWidget:",i.errors]);else{const t=i.path[2];e.sendWidgetStateMap[t]=i.value,e=Object.assign({},e)}const s=Object(o.b)(n,g,"sendWidgets");if(!s)break;if(Object(a.k)(s))l.b.errorWithNonPIIData(g,["error response received at sendWidgets:",s.errors]);else if(s.value){l.b.infoWithNonPIIData(g,"response received for pre fetching send widget states");const t=s.value;f()(t).forEach(n=>{e.sendWidgetStateMap[n]=t[n]}),e=Object.assign({},e)}const c=Object(o.a)(n,g,"info");if(!c)break;Object(a.k)(c)?l.b.errorWithNonPIIData(g,"error response at groupinfo",c.errors):(c.value.forEach(t=>{const n=new r.a(t);e.groupInfoList.data[n.groupId]=Object.assign({},e.groupInfoList.data[n.groupId],n)}),e=Object.assign({},e));break}case i.a.STORE_GROUP_INFO_WITH_TENANT_DATA:{let n=E(t.groupInfos,e);t.tenantData.forEach(t=>{n.tenantData[t.tenantId]=Object.assign({},e.tenantData[t.tenantId],t)});const i=t.groupMembers;i&&t.groupInfos&&t.groupInfos.length>0&&(n=_(n,t.groupInfos[0].groupId,i)),e=Object.assign({},n);break}case i.a.STORE_GROUP_USER_MEMBERS:{const n=_(e,t.groupId,t.groupMembers);e=Object.assign({},n);break}case i.a.STORE_SEND_WIDGET_STATE:{const n=t.groupId;e.sendWidgetStateMap[n]=t.sendWidgetState,e=Object.assign({},e),l.b.infoWithNonPIIData("groupReducer","sendWidget state for ",n,"is",t.sendWidgetState);break}case u.a.SET_MODULE_VERSION:e=Object.assign({},e,{moduleVersion:t.moduleVersionMap[g]});break;case i.a.FETCH_GROUP_INFO_FROM_INVITE_TOKEN:e=Object.assign({},e,{joinGroupViaInviteTokenState:c.a.InfoFetching,joinGroupInviteToken:t.groupInviteToken});break;case i.a.UPDATE_STATE_JOIN_GROUP_VIA_INVITE_TOKEN:e=Object.assign({},e,{joinGroupViaInviteTokenState:t.joinGroupState});break;case i.a.STORE_GROUP_INFO_OF_INVITE_TOKEN:e=Object.assign({},e,{groupInfoOfInviteToken:t.groupInfo});break;case i.a.STORE_CONNECT_GROUP_META_INFO:t.metaInfos.forEach(t=>{const n=e.groupInfoList.data[t.gid];n&&(n.subscriberCount=t.sc)}),e=Object.assign({},e)}return e},E=(e,t)=>{for(const n of e){const e=t.groupInfoList.data[n.groupId];e&&(n.groupMembers=e.groupMembers,n.subscriberCount=e.subscriberCount),t.groupInfoList.data[n.groupId]=n}return t.groupInfoList.fetchState=p.a.Success,t},_=(e,t,n)=>(e.groupInfoList.data[t].groupMembers=n,e);n(324);var S=n(326)},function(e,t,n){"use strict";var i,r;n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),function(e){e[e.USER=0]="USER",e[e.GROUP=1]="GROUP",e[e.UNPROVISIONED=2]="UNPROVISIONED",e[e.CONVERSATION=3]="CONVERSATION",e[e.ME=4]="ME"}(i||(i={})),function(e){e[e.ADMIN=0]="ADMIN",e[e.MEMBER=1]="MEMBER",e[e.SUBSCRIBER=2]="SUBSCRIBER",e[e.INVITEE=3]="INVITEE",e[e.INDIRECT_MEMBER=4]="INDIRECT_MEMBER",e[e.NONE=5]="NONE"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{static stringify(e,t=!1){return"string"!=typeof e||t?JSON.stringify(e):e}static safeParse(e){if("string"!=typeof e)return e;try{return JSON.parse(e)}catch(t){return e}}}},function(e,t,n){"use strict";var i=n(3),r=(n(673),n(0));var o=new class{constructor(){this.onKeyUpListeners=[],this.keySpecificListeners=[],this.isSubscribed=!1,this.register=e=>{-1===this.onKeyUpListeners.indexOf(e)&&(this.onKeyUpListeners.push(e),this.isSubscribed||this.subscribeForKeyEvents())},this.unregister=e=>{const t=this.onKeyUpListeners.indexOf(e);-1!==t&&(this.onKeyUpListeners.splice(t,1),this.hasSubscribers()||this.unsubscribeForKeyEvents())},this.registerForKeyCode=(e,t)=>{e&&(this.keySpecificListeners[e]?this.keySpecificListeners[e].push(t):this.keySpecificListeners[e]=[t],this.isSubscribed||this.subscribeForKeyEvents())},this.unregisterFromKeyCode=(e,t)=>{if(!this.keySpecificListeners[e])return;const n=this.keySpecificListeners[e].length>0?this.keySpecificListeners[e].indexOf(t):-1;n>-1&&(this.keySpecificListeners[e].splice(n,1),0===this.keySpecificListeners[e].length&&(delete this.keySpecificListeners[e],this.hasSubscribers()||this.unsubscribeForKeyEvents()))},this.subscribeForKeyEvents=()=>{window.onkeyup=this.onKeyUp,this.isSubscribed=!0},this.unsubscribeForKeyEvents=()=>{window.onkeyup=null,this.isSubscribed=!1},this.hasSubscribers=()=>0!==this.onKeyUpListeners.length||Object.keys(this.keySpecificListeners).length>0,this.onKeyUp=e=>{const t=e.keyCode?e.keyCode:e.which;this.onKeyUpListeners&&this.onKeyUpListeners.forEach(e=>{e(t)}),this.keySpecificListeners[t]&&this.keySpecificListeners[t].forEach(e=>{e()})}}},a=n(64),s=n(4),c=n(1),l=n(498),u=n.n(l);t.a=new class{constructor(){this.escapableFloatingViewIds=[],this.currentFloatingViewMap={},this.currentFloatingViewIds=[],this.getMaxModelContentWidth=()=>Math.floor(.9*window.innerWidth),this.getMaxModelContentHeight=()=>Math.floor(.9*window.innerHeight),this.getMaxModelWidth=()=>Math.floor(window.innerWidth),this.getMaxModelHeight=()=>Math.floor(window.innerHeight),this.showFloatingView=e=>{const t=r.createElement(u.a,null,this.getFloatingView(e));this.addFloatingView(e),i.Modal.show(t,e.floatingViewId),s.b.infoWithNonPIIData("FloatingView","floating view opened",e.floatingViewId)},this.updateFloatingView=e=>{this.showFloatingView(e)},this.getFloatingView=e=>r.createElement(d,Object.assign({},e,{onClose:this.hideFloatingViewWithCallback})),this.hideFloatingView=e=>{this.removeFloatingView(e),i.Modal.dismiss(e)},this.isFloatingViewVisible=e=>i.Modal.isDisplayed(e),this.hideFloatingViewWithCallback=e=>{const t=this.currentFloatingViewMap[e];this.removeFloatingView(e),i.Modal.dismiss(e),t&&t.onClose&&t.onClose()},this.removeFloatingView=e=>{const t=this.currentFloatingViewIds.indexOf(e);t>-1&&this.currentFloatingViewIds.splice(t,1),delete this.currentFloatingViewMap[e],this.removeEscapableFloatingView(e)},this.addFloatingView=e=>{const t=this.currentFloatingViewIds.indexOf(e.floatingViewId);t>-1&&this.currentFloatingViewIds.splice(t,1),this.currentFloatingViewIds.push(e.floatingViewId),this.currentFloatingViewMap[e.floatingViewId]=e,(e.isLightDismiss||e.shouldDismissOnKeyESCPress)&&this.addEscapableFloatingView(e.floatingViewId)},this.addEscapableFloatingView=e=>{-1===this.escapableFloatingViewIds.indexOf(e)&&(this.escapableFloatingViewIds.push(e),1===this.escapableFloatingViewIds.length&&o.registerForKeyCode(a.a.ESC,this.onEscPress))},this.removeEscapableFloatingView=e=>{const t=this.escapableFloatingViewIds.indexOf(e);-1!==t&&(this.escapableFloatingViewIds.splice(t,1),0===this.escapableFloatingViewIds.length&&o.unregisterFromKeyCode(a.a.ESC,this.onEscPress))},this.onEscPress=()=>{if(this.escapableFloatingViewIds.length>0){const e=this.escapableFloatingViewIds[this.escapableFloatingViewIds.length-1];this.hideFloatingViewWithCallback(e)}}}};class d extends r.Component{constructor(e){super(e),this.onContentPressed=e=>{e.stopPropagation()},this.onFloatingViewPressed=()=>{this.props.isLightDismiss&&(this.giveCallBackBeforeDismiss&&this.giveCallBackBeforeDismiss(),setTimeout(()=>{this.props.onClose(this.props.floatingViewId)},this.props.delay))},this.onWindowResize=e=>{this.setState(Object.assign({},this.state,{width:window.innerWidth,height:window.innerHeight}))},this.onCopyCaptured=e=>{this.onCopy&&this.onCopy(e)},this.state={width:window.innerWidth,height:window.innerHeight}}componentDidMount(){window.addEventListener("resize",this.onWindowResize),window.addEventListener("copy",this.onCopyCaptured),this.onCopy=this.props.onCopy,this.giveCallBackBeforeDismiss=this.props.onDismissTimerStart?this.props.onDismissTimerStart.bind(this):null}componentWillUnmount(){window.removeEventListener("resize",this.onWindowResize),window.removeEventListener("copy",this.onCopyCaptured)}render(){const e=i.Styles.createViewStyle({width:window.innerWidth,height:window.innerHeight,alignItems:"center",justifyContent:"center"}),t=this.props.modalViewColor?this.props.modalViewColor:"#32485f";return r.createElement("div",{dir:Object(c.getLocaleDirection)()},r.createElement(i.View,{id:this.props.floatingViewId,onPress:this.onFloatingViewPressed,tabIndex:!1===this.props.isFocusOnFloatingView?-1:0,accessibilityLabel:this.props.accessibilityText,style:{width:this.state.width,height:this.state.height}},r.createElement(i.View,{style:[e,i.Styles.createViewStyle(Object.assign({backgroundColor:t,opacity:.9},this.props.style,{width:this.state.width,height:this.state.height,position:"absolute"}))]}),r.createElement(i.View,{style:[i.Styles.createViewStyle({opacity:1,flex:1}),e]},r.createElement(i.View,{onPress:this.onContentPressed,style:i.Styles.createViewStyle(Object.assign({},this.props.boxShadowStyle))},r.createElement("div",{className:"floating-view-content div-scrollable"},this.props.floatingViewContent())))))}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return ce})),n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return _})),n.d(t,"f",(function(){return Se})),n.d(t,"d",(function(){return we})),n.d(t,"e",(function(){return at}));var i=n(340),r=n(208),o=n(34),a=n(77),s=n(28),c=n(19),l=n(29),u=n(20),d=n(4),p=n(32),h=n(62),f=n(13),g=n(15),m=n(46),E=n(108);const _=new class{constructor(){this.setCanvasScrolling=(e,t)=>new T(e,t),this.fetchLatestBucket=e=>new A(e),this.fetchPrevBucket=(e,t,n)=>n?new N(e):Object(u.isiOS)(t.maOS)?new P(e):new R(e),this.fetchNextBucket=e=>new O(e),this.fetchBucketMessagesData=(e,t)=>new b(e,t),this.insertPrevMessageIds=(e,t,n)=>new w(e,t,n),this.insertLatestMessagesIds=(e,t,n)=>new M(e,t,n),this.insertUnsyncedMessageId=(e,t)=>new x(e,t),this.removeUnsyncedMessageId=(e,t)=>new k(e,t),this.insertMessageToChatViewModel=(e,t)=>new D(e,t),this.deleteMessageViewModels=(e,t)=>new L(e,t),this.setPreviewMessageId=(e,t)=>new U(e,t),this.setUrlPreviewData=(e,t)=>new F(e,t),this.resyncConversation=e=>new y(e),this.updateCanvasState=(e,t)=>new C(e,t),this.addBucketData=(e,t,n,i,r)=>new v(e,t,n,i,r),this.addBucketDataiOS=(e,t,n,i,r,o,a,s)=>new I(e,t,n,i,r,o,a,s),this.openReadReceiptsView=(e,t)=>new G(e,t),this.fetchUrlPreviewData=(e,t)=>new B(e,t),this.highlightMessage=(e,t)=>new V(e,t),this.clearHighlight=e=>new W(e),this.scrollToMessage=(e,t,n,i)=>new j(e,t,n,i),this.preFetchChatData=e=>new H(e),this.preFetchChatMessages=e=>new z(e),this.preFetchChatMessageIdsToConversationMapReceived=e=>new Y(e)}};var S;!function(e){e.CHAT_FETCH_LATEST_BUCKET="chat/chat_fetch_latest_bucket_id",e.CHAT_FETCH_NEXT_BUCKET="chat/chat-fetch-next-bucket",e.CHAT_FETCH_PREV_BUCKET="chat/chat_fetch_prev_bucket",e.CHAT_FETCH_PREV_BUCKET_V2="chat/chat_fetch_prev_bucket_v2",e.CHAT_FETCH_PREV_BUCKET_V3="chat/chat_fetch_prev_bucket_v3",e.FETCH_BUCKET_MESSAGE_DATA="chat/fetch_bucket_message_data",e.CHAT_INSERT_PREV_MESSAGE_IDS="chat/chat-insert-prev-message-ids",e.CHAT_INSERT_NEXT_MESSAGES_IDS="chat/chat_insert_next_messages_ids",e.CHAT_INSERT_UNSYNCED_MSG_ID="chat/chat_insert_unsynced_msg_id",e.CHAT_REMOVE_UNSYNCED_MSG_ID="chat/chat_remove_unsynced_msg_id",e.INSERT_MESSAGE_TO_CHAT_VIEW_MODEL="chat/insert-message-chat-view-model",e.DELETE_MESSAGE_VIEW_MODELS="chat/delete-message-view-models",e.SET_PREVIEW_MESSAGE_ID="chat/set-preview-message-id",e.SET_URL_PREVIEW_DATA="chat/set-url-preview-data",e.RESYNC_CONVERSATION="chat/restore-conversation",e.UPDATE_CANVAS_STATE="chat/update-canvas-state",e.ADD_BUCKET_DATA="chat/add-bucket-data",e.ADD_BUCKET_DATA_IOS="chat/add-bucket-data-ios",e.SET_CANVAS_SCROLLING="chat/set-canvas-scrolling",e.OPEN_READ_RECEIPT_VIEW="chat/open-read-receipt-view",e.FETCH_URL_PREVIEW_DATA="chat/fetch-url-preview-data",e.HIGHLIGHT_MESSAGE="chat/highlight-message",e.CLEAR_HIGHLIGHT="chat/clear-highlight",e.SCROLL_TO_MESSAGE="chat/scroll-to-message",e.PRE_FETCH_CHAT_DATA="chat/pre-fetch-chat-data",e.PRE_FETCH_CHAT_MESSAGES="chat/pre-fetch-chat-messages",e.PRE_FETCH_CHAT_MESSAGE_IDS_TO_CONVERSATION_MAP_RECEIVED="chat/pre-fetch-chat-message-ids-map"}(S||(S={}));class T extends f.c{constructor(e,t){super(S.SET_CANVAS_SCROLLING),this.conversationId=e,this.isScrolling=t}}class v extends f.d{constructor(e,t,n,i,r){super(S.ADD_BUCKET_DATA),this.conversationId=e,this.prevBucketId=t,this.bucketId=n,this.nextBucketId=i,this.messageIds=r}}class I extends f.d{constructor(e,t,n,i,r,o,a,s){super(S.ADD_BUCKET_DATA_IOS),this.conversationId=e,this.prevId=t,this.startId=n,this.endId=i,this.nextId=r,this.messageIds=o,this.pageIdentifier=a,this.unsyncedMessagesVMMap=s}}class b extends f.d{constructor(e,t){super(S.FETCH_BUCKET_MESSAGE_DATA),this.conversationId=e,this.bucketId=t}}class y extends f.d{constructor(e){super(S.RESYNC_CONVERSATION),this.conversationId=e}}class C extends f.c{constructor(e,t){super(S.UPDATE_CANVAS_STATE),this.conversationId=e,this.chatCanvasState=t}}class A extends f.d{constructor(e){super(S.CHAT_FETCH_LATEST_BUCKET),this.conversationId=e}}class O extends f.d{constructor(e){super(S.CHAT_FETCH_NEXT_BUCKET),this.conversationId=e}}class N extends f.d{constructor(e){super(S.CHAT_FETCH_PREV_BUCKET),this.conversationId=e}}class R extends f.c{constructor(e){super(S.CHAT_FETCH_PREV_BUCKET_V2),this.conversationId=e}}class P extends f.c{constructor(e){super(S.CHAT_FETCH_PREV_BUCKET_V3),this.conversationId=e}}class w extends f.c{constructor(e,t,n){super(S.CHAT_INSERT_PREV_MESSAGE_IDS),this.conversationId=e,this.bucketId=t,this.messageIds=n}}class M extends f.c{constructor(e,t,n){super(S.CHAT_INSERT_NEXT_MESSAGES_IDS),this.conversationId=e,this.messageIds=t,this.currentLatestBucket=n}}class D extends f.c{constructor(e,t){super(S.INSERT_MESSAGE_TO_CHAT_VIEW_MODEL),this.rawMessage=e,this.indexToInsert=t}}class L extends f.c{constructor(e,t){super(S.DELETE_MESSAGE_VIEW_MODELS),this.conversationId=e,this.messageViewModels=t}}class x extends f.c{constructor(e,t){super(S.CHAT_INSERT_UNSYNCED_MSG_ID),this.conversationId=e,this.messageId=t}}class k extends f.c{constructor(e,t){super(S.CHAT_REMOVE_UNSYNCED_MSG_ID),this.conversationId=e,this.messageId=t}}class U extends f.c{constructor(e,t){super(S.SET_PREVIEW_MESSAGE_ID),this.messageId=e,this.conversationId=t}}class G extends f.c{constructor(e,t){super(S.OPEN_READ_RECEIPT_VIEW),this.messageId=e,this.conversationType=t}}class F extends f.c{constructor(e,t){super(S.SET_URL_PREVIEW_DATA),this.urlPreviewData=e,this.conversationId=t}}class B extends f.c{constructor(e,t){super(S.FETCH_URL_PREVIEW_DATA),this.url=e,this.conversationId=t}}class V extends f.c{constructor(e,t){super(S.HIGHLIGHT_MESSAGE),this.messageId=e,this.conversationId=t}}class W extends f.c{constructor(e){super(S.CLEAR_HIGHLIGHT),this.conversationId=e}}class j extends f.c{constructor(e,t,n,i){super(S.SCROLL_TO_MESSAGE),this.messageId=e,this.conversationId=t,this.shouldHighlight=n,this.clearHighlightAtTimeout=i}}class H extends f.d{constructor(e){super(S.PRE_FETCH_CHAT_DATA),this.conversationIds=e}}class z extends f.d{constructor(e){super(S.PRE_FETCH_CHAT_MESSAGES),this.conversationIds=e}}class Y extends f.c{constructor(e){super(S.PRE_FETCH_CHAT_MESSAGE_IDS_TO_CONVERSATION_MAP_RECEIVED),this.messageIdsMap=e}}var K=n(27),q=n(10),Q=n(14),J=n(123),X=n(6),$=n(54),Z=n(145),ee=n(126),te=n(137),ne=n(85),ie=n(48),re=n(5);const oe={},ae=s.d,se=[],ce=e=>t=>n=>{switch(n.type){case p.a.ON_SESSION_RESUME:case p.a.ON_SESSION_RESET:{const t=e.getState().conversationsState.selectedConversation;t&&0!=t.trim().length&&(d.b.infoWithNonPIIData(ae,"resyncing",t,n.type),e.dispatch(_.resyncConversation(t)));break}case S.RESYNC_CONVERSATION:case g.b.SELECT_CONVERSATION_V2:{const t=n.conversationId,i=e.getState();!1===g.f.isPolicySupported(i,t)?d.b.infoWithNonPIIData(ae,"Restricted group, skip fetch messages for Conversation:",t):(d.b.infoWithNonPIIData(ae,"Fetch messages for Conversation:",t),r.a.recordInternalEventStart(t,o.a.DATA_FETCH),at.isUnreadMarkerFeatureEnabled(i)?de(n,e,t,K.a.Unseen):le(n,e,t));break}case S.CHAT_FETCH_NEXT_BUCKET:{const t=e.getState();if(at.isUnreadMarkerFeatureEnabled(t)){const i=t.chatState.chatConversationsMap[n.conversationId];if(!i.messageBlock.nextBucketId||i.messageBlock.nextBucketId===te.a)return;de(n,e,n.conversationId,K.a.Next);break}return}case S.CHAT_FETCH_LATEST_BUCKET:{const t=n.conversationId,i=e.getState();!1===g.f.isPolicySupported(i,t)||(at.isUnreadMarkerFeatureEnabled(i)?de(n,e,t,K.a.Latest):le(n,e,t));break}case S.CHAT_FETCH_PREV_BUCKET_V2:{const t=n.conversationId,i=e.getState(),r=i.chatState.chatConversationsMap[t];if(!r)return void d.b.errorWithNonPIIData(ae,"entry for conversation not found in chat map",t);const o=r.currentOldestBucket;if(!o)return;const a=[];i.chatState.moduleVersion>=K.c.CONVERSATION_FOR_BUCKET_INFO?a.push({rt:c.a.QUERY,path:[ae,"prev",o,t]}):a.push({rt:c.a.QUERY,path:[ae,"prev",o]});c.c.sendMessage({paths:a}).then(n=>{const i=n.paths[0].value;i?e.dispatch(_.fetchBucketMessagesData(t,i)):e.dispatch(_.insertPrevMessageIds(t,i,[]))}).catch(e=>{d.b.errorWithNonPIIData(ae,["error at",S.CHAT_FETCH_PREV_BUCKET_V2,e.stack||e.stacktrace,"error code: ",e.errorCode],e)});break}case S.FETCH_BUCKET_MESSAGE_DATA:{const t=n.conversationId;he(e.getState(),n,t);break}case S.CHAT_FETCH_PREV_BUCKET:{const t=e.getState();if(at.isUnreadMarkerFeatureEnabled(t)){const i=n.conversationId,r=t.chatState.chatConversationsMap[i];if(r.messageBlock.prevBucketId&&r.messageBlock.prevBucketId!==te.a){de(n,e,i,K.a.Previous);break}}return}case S.CHAT_FETCH_PREV_BUCKET_V3:{const t=n.conversationId,i=e.getState().chatState.chatConversationsMap[t];i||d.b.errorWithNonPIIData(ae,"entry for conversation not found in chat map",t);const r=i?i.currentOldestBucket:"";if(!r)return;const o=[];o.push({rt:c.a.QUERY,path:["messages","prev"],variables:{cId:t,clm:r}});c.c.sendMessage({paths:o}).then(n=>{const i=n.paths[0].value.lm,o=n.paths[0].value.msgs,a=[];o.forEach(e=>a.push(e.id)),e.dispatch(_.insertPrevMessageIds(t,i,i?a:se)),o.length&&(e.dispatch(m.d.insertMessages(o)),e.dispatch(h.c.fetchContentForNonImMessages(a)),e.dispatch(_.fetchBucketMessagesData(t,r)))});break}case S.SET_CANVAS_SCROLLING:{n.isScrolling?me[n.conversationId]=!0:delete me[n.conversationId];const t=e.getState().chatState;!n.isScrolling&&t.chatConversationsMap[n.conversationId].isScrolling&&_e(e,n.conversationId);break}case f.a.ON_RESPONSE_RECEIVED:{r.a.recordInternalEvent(n.payload.conversationId,o.b.PEER_PROCESSING_TIME,n.responseData.ppt),r.a.recordInternalEventEnd(n.payload.conversationId,o.a.DATA_FETCH);const t=Object(a.b)(n.responseData,ae,"binfo");if(t&&me[n.payload.conversationId])return void Ee(n,n.payload.conversationId,JSON.stringify(t.path));pe(n,e);break}case m.a.MESSAGE_INSERT:{const t=e.getState();if(at.isUnreadMarkerFeatureEnabled(t)){const i=n.rawMessage;if(n.isSentByMe){const n=Object(E.b)(i);t.chatState.chatConversationsMap[n].messageBlock.nextBucketId&&(d.b.infoWithNonPIIData(ae,"message is sent but latest bucket not present",i.id,n),e.dispatch(_.fetchLatestBucket(n)))}}break}case S.OPEN_READ_RECEIPT_VIEW:{const i=m.g.getHostConversationId(e.getState(),n.messageId),r=new Q.n(n.messageId,i,n.conversationType);if(q.q.isResponseOrCreationViewActive(e.getState()))return void Object(Z.b)({onAccept:()=>{e.dispatch(_.highlightMessage(n.messageId,i)),e.dispatch(q.o.openMiniapp(r)),t(n)}});e.dispatch(_.highlightMessage(n.messageId,i)),e.dispatch(q.o.openMiniapp(r));break}case S.FETCH_URL_PREVIEW_DATA:{const t=n.url,r=n.conversationId;J.a.getURLPreviewData(t).then(n=>{if(Object(X.g)(n)||Object(X.g)(n.response)||n.respCode!=$.b.Success)e.dispatch(_.setUrlPreviewData(null,r));else{const o=ee.d.fromJson(n.response);o.name&&e.dispatch(_.setUrlPreviewData(new i.b(t,o),r))}}).catch(t=>{t.respCode==$.b.NotFound&&e.dispatch(_.setUrlPreviewData(null,r)),d.b.infoWithPIIData(ae,["error at",S.FETCH_URL_PREVIEW_DATA,t.stack||t.stacktrace,"error code: ",t.errorCode],t)});break}case S.PRE_FETCH_CHAT_MESSAGES:if(!function(e){return(ne.b.isFeatureEnabled(ne.a.PRE_FETCH_CHAT_MESSAGES)||u.webAppAudienceGroup===u.WebAppAudienceGroup.DEV||u.webAppAudienceGroup===u.WebAppAudienceGroup.ALPHA)&&e}(Object(u.isAndroid)(e.getState().sessionState.maOS))||e.getState().chatState.moduleVersion<K.c.PRE_FETCH_CHAT_MESSAGES)return;d.b.infoWithNonPIIData(ae,"Pre fetching Chat Messages"),ie.d.initialize(o.b.CHAT_PRE_FETCH_MESSAGES),fe(n);break}return t(n)},le=(e,t,n)=>{let i=null;const r=t.getState();if(Object(X.g)(n))return void d.b.errorWithNonPIIData(ae,"ConversationId is found to be null");try{const e=t.getState().chatState.chatConversationsMap;i=e[n]?e[n].currentLatestBucket:""}catch(e){d.b.errorWithNonPIIData(ae,"Exception occurred ",e.stack||e.stacktrace||e)}const o=Object(u.isiOS)(r.sessionState.maOS),a=o?"#pr[0].$.msgs[*].id":"#pr[0].$.messageIds[*]";o?e.syncPathList.push({rt:c.a.QUERY,path:[s.l,"convLatest"],variables:{cId:n,clm:i}}):(e.syncPathList.push({rt:c.a.QUERY,path:[ae,"latest_in_conv"],variables:{convId:n,currentLatestBucket:i}}),e.syncPathList.push({rt:c.a.QUERY,path:[s.l,"message_ids",a]})),e.syncPathList.push({rt:c.a.QUERY,path:[s.k,"message_ids",a]}),e.syncPathList.push({rt:c.a.QUERY,path:[s.k,"messageState",a]}),e.syncPathList.push({rt:c.a.QUERY,path:[s.r,"related_to_msgs_all",a]}),e.syncPathList.push({rt:c.a.QUERY,path:[s.i,"sendWidget",n]}),o&&e.syncPathList.push({rt:c.a.QUERY,path:[s.a,"palette",n,o?"#pr[4].$[*]":"#pr[5].$"]}),"subscribedConvId"in oe&&(e.syncPathList.push({rt:c.a.UNSUBSCRIBE,path:[s.l,"msgForConv",oe.subscribedConvId],preFetch:!1}),e.syncPathList.push({rt:c.a.UNSUBSCRIBE,path:[s.k,"stateForConv",oe.subscribedConvId],preFetch:!1}),r.actMappingState.moduleVersion>1&&e.syncPathList.push({rt:c.a.UNSUBSCRIBE,path:[s.a,"palette",oe.subscribedConvId,"#pr[5].$"],preFetch:!0})),r.actMappingState.moduleVersion>1?e.syncPathList.push({rt:c.a.SUBSCRIBE,path:[s.a,"palette",n,"#pr[5].$"],preFetch:!0}):e.syncPathList.push({rt:c.a.QUERY,path:[s.a,"palette",n,"#pr[5].$"]}),r.miniappState.moduleVersion>1&&e.syncPathList.push({rt:c.a.QUERY,path:[s.m,"customStrings",a],variables:{isDarkTheme:re.b}}),ue(e,t,n),e.asyncPathList.push({rt:c.a.SUBSCRIBE,path:[s.l,"msgForConv",n],preFetch:!1}),e.asyncPathList.push({rt:c.a.SUBSCRIBE,path:[s.k,"stateForConv",n],preFetch:!1}),e.syncPathList.push({rt:c.a.QUERY,path:[s.i],variables:{action:"info",cIds:n}}),oe.subscribedConvId=n},ue=(e,t,n)=>{t.getState().surveyState.moduleVersion>0&&("subscribedConvId"in oe&&e.syncPathList.push({rt:c.a.UNSUBSCRIBE,path:[s.r,"surveyBundleDelta",oe.subscribedConvId],preFetch:!1}),e.asyncPathList.push({rt:c.a.SUBSCRIBE,path:[s.r,"surveyBundleDelta",n],preFetch:!1}))},de=(e,t,n,i)=>{const r=t.getState();let o="";switch(i){case K.a.Latest:o="";break;case K.a.Next:o=r.chatState.chatConversationsMap[n].messageBlock.nextBucketId;break;case K.a.Previous:o=r.chatState.chatConversationsMap[n].messageBlock.prevBucketId;break;case K.a.Unseen:{const e=g.f.getUnseenCursor(r,n);o=e&&e.BucketId?e.BucketId:"";break}}const a=Object(u.isiOS)(r.sessionState.maOS),l=a?"#pr[0].$.msgs[*].id":"#pr[1].$.[*]",d=a?"#pr[4].$":"#pr[6].$";a?e.syncPathList.push({rt:c.a.QUERY,path:[s.l,"msgPage",o,n,i.toString()]}):(e.syncPathList.push({rt:c.a.QUERY,path:[ae,"binfo",o,n]}),r.chatState.moduleVersion>=K.c.CONVERSATION_FOR_BUCKET_INFO?e.syncPathList.push({rt:c.a.QUERY,path:[ae,"message_ids","#pr[0].$.bid",n]}):e.syncPathList.push({rt:c.a.QUERY,path:[ae,"message_ids","#pr[0].$.bid"]}),e.syncPathList.push({rt:c.a.QUERY,path:[s.l,"message_ids",l]})),e.syncPathList.push({rt:c.a.QUERY,path:[s.k,"messageState",l]}),e.syncPathList.push({rt:c.a.QUERY,path:[s.k,"message_ids",l]}),e.syncPathList.push({rt:c.a.QUERY,path:[s.r,"related_to_msgs_all",l]}),e.syncPathList.push({rt:c.a.QUERY,path:[s.i,"sendWidget",n]}),"subscribedConvId"in oe&&(e.syncPathList.push({rt:c.a.UNSUBSCRIBE,path:[s.l,"msgForConv",oe.subscribedConvId],preFetch:!1}),e.syncPathList.push({rt:c.a.UNSUBSCRIBE,path:[s.k,"stateForConv",oe.subscribedConvId],preFetch:!1}),r.actMappingState.moduleVersion>1&&e.syncPathList.push({rt:c.a.UNSUBSCRIBE,path:[s.a,"palette",oe.subscribedConvId,d],preFetch:!0})),r.actMappingState.moduleVersion>1?e.syncPathList.push({rt:c.a.SUBSCRIBE,path:[s.a,"palette",n,d],preFetch:!0}):e.syncPathList.push({rt:c.a.QUERY,path:[s.a,"palette",n,d]}),r.miniappState.moduleVersion>1&&e.syncPathList.push({rt:c.a.QUERY,path:[s.m,"customStrings",l],variables:{isDarkTheme:re.b}}),ue(e,t,n),e.asyncPathList.push({rt:c.a.SUBSCRIBE,path:[s.l,"msgForConv",n],preFetch:!1}),e.asyncPathList.push({rt:c.a.SUBSCRIBE,path:[s.k,"stateForConv",n],preFetch:!1}),e.syncPathList.push({rt:c.a.QUERY,path:[s.i],variables:{action:"info",cIds:n}}),oe.subscribedConvId=n},pe=(e,t)=>{let n,i,r;const o=e.responseData,s=Object(a.b)(o,ae,"latest_in_conv");if(s)if(Object(l.k)(s))d.b.errorWithNonPIIData(ae,"error response at latest_in_conv",s.errors);else{const e=s.value.latestBucket,n=s.value.messageIds,i=s.variables.convId;t.dispatch(_.insertLatestMessagesIds(i,n,e))}const c=Object(a.b)(o,ae,"binfo");if(c)if(Object(l.k)(c)){d.b.errorWithNonPIIData(ae,"binfo not found for",e.payload.conversationId,c.errors);for(const n of c.errors)if(n.errorCode===l.c.DATA_NOT_FOUND){t.dispatch(_.fetchLatestBucket(e.payload.conversationId));break}}else n=c.value.pb,i=c.value.bid,r=c.value.nb;const u=Object(a.b)(o,ae,"message_ids");if(u)if(Object(l.k)(u))u.errors[0].errorCode===l.c.INVALID_SESSION_ID?d.b.warnWithNonPIIData(ae,"error response at message_ids",u.errors):d.b.errorWithNonPIIData(ae,"error response at message_ids",u.errors);else{const o=u.value,a=u.path[2],s=e.payload.conversationId;i?(d.b.infoWithNonPIIData(ae,"call addBucketData",s,i),t.dispatch(_.addBucketData(s,n,i,r,o))):a&&t.dispatch(_.insertPrevMessageIds(s,a,o))}const p=Object(a.b)(o,ae,te.b);p&&(Object(l.k)(p)?d.b.errorWithNonPIIData(ae,"error response for pre fetch chat messages id map",p.errors):(d.b.infoWithNonPIIData(ae,"Response Received for pre fetch chat messages id map"),t.dispatch(_.preFetchChatMessageIdsToConversationMapReceived(p.value))))},he=(e,t,n)=>{const i=Object(u.isiOS)(e.sessionState.maOS),r=i?"#pr[0].$.msgs[*].id":"#pr[0].$.[*]";i?t.syncPathList.push({rt:c.a.QUERY,path:[s.l,"prev"],variables:{cId:n,clm:t.bucketId}}):(e.chatState.moduleVersion>=K.c.CONVERSATION_FOR_BUCKET_INFO?t.syncPathList.push({rt:c.a.QUERY,path:[ae,"message_ids",t.bucketId,n]}):t.syncPathList.push({rt:c.a.QUERY,path:[ae,"message_ids",t.bucketId]}),t.syncPathList.push({rt:c.a.QUERY,path:[s.l,"message_ids",r]})),t.syncPathList.push({rt:c.a.QUERY,path:[s.k,"message_ids",r]}),t.syncPathList.push({rt:c.a.QUERY,path:[s.k,"messageState",r]}),t.syncPathList.push({rt:c.a.QUERY,path:[s.r,"related_to_msgs_all",r]}),e.miniappState.moduleVersion>1&&t.syncPathList.push({rt:c.a.QUERY,path:[s.m,"customStrings",r],variables:{isDarkTheme:re.b}})},fe=e=>{const t=e.conversationIds;e.asyncPathList.push({rt:c.a.QUERY,path:[ae,te.b,te.c,t.join()]});e.asyncPathList.push({rt:c.a.QUERY,path:[s.l,te.b,"#pr[0].$.*[*]"]}),e.asyncPathList.push({rt:c.a.QUERY,path:[s.k,"messageState","#pr[0].$.*[*]"]}),e.asyncPathList.push({rt:c.a.QUERY,path:[s.k,"message_ids","#pr[0].$.*[*]"]}),e.asyncPathList.push({rt:c.a.QUERY,path:[s.r,"related_to_msgs_all","#pr[0].$.*[*]"]})},ge={},me={},Ee=(e,t,n="")=>{const i=t in ge?ge[t]:[];i.push(e),d.b.infoWithNonPIIData(ae,"holding action",e.type,t,n,i.length),ge[t]=i},_e=(e,t)=>{const n=t in ge?ge[t]:[];d.b.infoWithNonPIIData(ae,"dispatching pending actions",t,n.length);for(const i of n)ge[t].splice(0,1),d.b.infoWithNonPIIData(ae,"release action",i.type,t),e.dispatch(i);delete ge[t]};function Se(){return{chatConversationsMap:{},moduleVersion:0}}var Te=n(168),ve=n(122),Ie=n(12),be=n(88),ye=n.n(be),Ce=n(131),Ae=n.n(Ce),Oe=n(73),Ne=n.n(Oe);const Re=s.d,Pe="ChatReducer",we=(e={chatConversationsMap:{},moduleVersion:0},t)=>{switch(t.type){case p.a.SET_MODULE_VERSION:e=Object.assign({},e,{moduleVersion:t.moduleVersionMap[Re]});break;case m.a.MESSAGES_INSERT:if(t.rawMessages[0]){const n=Object(E.b)(t.rawMessages[0]),i=e.chatConversationsMap[n];e.chatConversationsMap[n]=Object.assign({},i),d.b.infoWithNonPIIData(Pe,"messages added",n),e=Object.assign({},e),e=Ke(e,t.rawMessages)}break;case m.a.MESSAGE_INSERT:{const n=t.rawMessage;e=qe(e,n,t.isSentByMe,t.clearMsgBlockIfNoNextBucket);break}case m.a.MESSAGES_DELETE:e=Qe(e,t.messages,t.updateListAfterDelete);break;case S.SET_CANVAS_SCROLLING:e.chatConversationsMap[t.conversationId]=Object.assign({},e.chatConversationsMap[t.conversationId],{isScrolling:t.isScrolling,scrollToMessageId:null});break;case S.UPDATE_CANVAS_STATE:{const n=t.conversationId,i=e.chatConversationsMap[n],r=t.chatCanvasState;if(d.b.infoWithNonPIIData(Pe,"event",r,n),r===K.b.ITEMS_ADDED_AT_BOTTOM)e.chatConversationsMap[n]=Object.assign({},i,{canvasState:Object.assign({},i.canvasState,{event:r,bottomLoaderState:K.e.LOAD_SUCCESS})});else if(r===K.b.ITEMS_ADDED_AT_TOP)e.chatConversationsMap[n]=Object.assign({},i,{canvasState:Object.assign({},i.canvasState,{event:r,topLoaderState:K.e.LOAD_SUCCESS})});else if(r===K.b.INVALIDATE){d.b.infoWithNonPIIData(Pe,"event INVALIDATE received resetting all set loaders",n);const t=i&&i.canvasState?i.canvasState.topLoaderState===K.e.LOADING?K.e.NONE:i.canvasState.topLoaderState:null,o=i&&i.canvasState?i.canvasState.bottomLoaderState===K.e.LOADING?K.e.NONE:i.canvasState.bottomLoaderState:null;e.chatConversationsMap[n]=Object.assign({},i,{canvasState:Object.assign({},i.canvasState,{event:r,topLoaderState:t,bottomLoaderState:o})})}else e.chatConversationsMap[n]=Object.assign({},i,{canvasState:Object.assign({},i.canvasState,{event:r})});e=Object.assign({},e);break}case S.CHAT_FETCH_PREV_BUCKET_V3:case S.CHAT_FETCH_PREV_BUCKET_V2:case S.CHAT_FETCH_PREV_BUCKET:{const n=t.conversationId,i=e.chatConversationsMap[n];(i.currentOldestBucket||i.messageBlock.prevBucketId)&&(e.chatConversationsMap[n]=Object.assign({},i,{canvasState:Object.assign({},i.canvasState,{topLoaderState:K.e.LOADING})}),e=Object.assign({},e),d.b.infoWithNonPIIData(Pe,"Prev bucket load started for",n));break}case S.RESYNC_CONVERSATION:case g.b.SELECT_CONVERSATION_V2:e=Le(e,t);break;case S.CHAT_FETCH_LATEST_BUCKET:{const n=e.chatConversationsMap[t.conversationId];n&&n.messageBlock&&0!==n.messageBlock.messageIds.length?e.chatConversationsMap[t.conversationId]=Object.assign({},n,{canvasState:Object.assign({},n.canvasState,{bottomLoaderState:K.e.LOADING})}):e.chatConversationsMap[t.conversationId]=Object.assign({},n,{canvasState:Object.assign({},n.canvasState,{topLoaderState:K.e.LOADING})}),e=Object.assign({},e),d.b.infoWithNonPIIData(Pe,"latest bucket load started for",t.conversationId);break}case S.CHAT_FETCH_NEXT_BUCKET:{const n=e.chatConversationsMap[t.conversationId];e.chatConversationsMap[t.conversationId]=Object.assign({},n,{canvasState:Object.assign({},n.canvasState,{bottomLoaderState:K.e.LOADING})}),e=Object.assign({},e),d.b.infoWithNonPIIData(Pe,"next bucket load started for",t.conversationId);break}case S.CHAT_INSERT_PREV_MESSAGE_IDS:{const n=t.conversationId,i=t.bucketId,r=t.messageIds;d.b.debugWithNonPIIData(Pe,"prev bucket message ids received",r);const o=n in e.chatConversationsMap&&e.chatConversationsMap[n].messageIds?e.chatConversationsMap[n].messageIds:[],a=[];r.forEach(e=>{o.indexOf(e)<0&&a.push(e)}),o.splice(0,0,...a);const s=i?e.chatConversationsMap[n].canvasState:Object.assign({},e.chatConversationsMap[n].canvasState,{topLoaderState:K.e.LOAD_SUCCESS});i||d.b.infoWithNonPIIData(Pe,"No Prev bucketId found. so, loading success marked for",n);const c=Object.assign({},e.chatConversationsMap[n],{currentOldestBucket:i,messageIds:o,canvasState:s,processingEvent:K.b.ITEMS_ADDED_AT_TOP});e.chatConversationsMap[n]=c,e=Object.assign({},e),e=Ge(e,n,r,!1);break}case S.CHAT_INSERT_NEXT_MESSAGES_IDS:{const n=t.conversationId,i=t.messageIds,r=t.currentLatestBucket;d.b.debugWithNonPIIData(Pe,"next bucket message ids received",i),Ue(e,n,i,r);break}case S.INSERT_MESSAGE_TO_CHAT_VIEW_MODEL:{const n=Object(E.b)(t.rawMessage),i=e.chatConversationsMap[n],r=i&&i.chatMessageViewModelList?i.chatMessageViewModelList:[],o=ye()(r),a=ve.a(t.rawMessage),s={type:a.type,subType:a.subType,id:a.id,senderId:a.sender};ze(o,s,t.indexToInsert||-1),t.indexToInsert&&t.indexToInsert>-1?t.indexToInsert<r.length&&r[t.indexToInsert].id===a.id?o.splice(t.indexToInsert,1,s):o.splice(t.indexToInsert,0,s):o.push(s);const c=Object.assign({},i,{chatMessageViewModelList:o});e.chatConversationsMap[n]=c,d.b.infoWithNonPIIData(Pe,"updating chatViewModel with type for id",t.rawMessage.id,"convId:",n,"at ",t.indexToInsert);break}case S.DELETE_MESSAGE_VIEW_MODELS:{const n=e.chatConversationsMap[t.conversationId],i=ye()(n.chatMessageViewModelList);t.messageViewModels.forEach(e=>{const t=i.indexOf(e);if(-1!=t){const e=i[t];je(e)&&Ye(i,e,t),i.splice(t,1)}});const r=Object.assign({},n,{chatMessageViewModelList:i});e.chatConversationsMap[t.conversationId]=r;break}case Te.a.INSERT_MESSAGES:if(t.conversationId){const n=e.chatConversationsMap[t.conversationId],i=ye()(n.chatMessageViewModelList);t.messageIdToViewModels.forEach(e=>{const n=e.messageId,r=i.findIndex(e=>e.id===n);if(r>0){const e=i[r-1],t=i[r];je(e)&&je(t)&&(e.positionInGroup=e.positionInGroup===K.d.FIRST?null:K.d.LAST,t.positionInGroup=t.positionInGroup===K.d.LAST?null:K.d.FIRST)}0===r||r>0&&i[r-1].type!==Ie.h.TIMESTAMP?i.splice(r,0,e.viewModel):r<0&&d.b.errorWithNonPIIData(Pe,e.messageId," not found in chatMessageViewModelList",t.conversationId)});const r=Object.assign({},n,{chatMessageViewModelList:i});e.chatConversationsMap[t.conversationId]=r,d.b.infoWithNonPIIData(Pe,"adding ",t.messageIdToViewModels.length," viewModels to chatViewModel at",t.conversationId)}break;case S.CHAT_INSERT_UNSYNCED_MSG_ID:{const n=t.conversationId,i=t.messageId,r=e.chatConversationsMap[n],o=r&&r.messageIds?r.messageIds:[];-1===o.indexOf(i)&&o.push(i);let a=r?r.unSyncedMessageIds:[];a||(a=[]),-1===a.indexOf(i)&&a.push(i);const s=Object.assign({},r,{messageIds:o,unSyncedMessageIds:a});e.chatConversationsMap[n]=s,e=Object.assign({},e);break}case S.CHAT_REMOVE_UNSYNCED_MSG_ID:{const n=t.conversationId,i=t.messageId,r=e.chatConversationsMap[n];let o=r?r.unSyncedMessageIds:[];if(o){const t=o.indexOf(i);if(-1!==t){o.splice(t,1);const i=Object.assign({},r,{unSyncedMessageIds:o});e.chatConversationsMap[n]=i,e=Object.assign({},e)}}else o=[];break}case S.SET_PREVIEW_MESSAGE_ID:{const n=t.messageId,i=t.conversationId,r=e.chatConversationsMap[i],o=Object.assign({},r,{replyToMessageId:n});e.chatConversationsMap[i]=o,e=Object.assign({},e);break}case S.SET_URL_PREVIEW_DATA:{const n=t.urlPreviewData,i=t.conversationId,r=e.chatConversationsMap[i],o=Object.assign({},r,{urlPreviewData:n});e.chatConversationsMap[i]=o,e=Object.assign({},e);break}case S.ADD_BUCKET_DATA:e=xe(e,t.conversationId,t.prevBucketId,t.bucketId,t.nextBucketId,t.messageIds);break;case S.ADD_BUCKET_DATA_IOS:e=ke(e,t.conversationId,t.prevId,t.startId,t.endId,t.nextId,t.messageIds,t.pageIdentifier,t.unsyncedMessagesVMMap);break;case S.HIGHLIGHT_MESSAGE:De(e,t.conversationId,t.messageId),e=Object.assign({},e);break;case S.CLEAR_HIGHLIGHT:De(e,t.conversationId,null),e=Object.assign({},e);break;case S.SCROLL_TO_MESSAGE:t.conversationId&&t.messageId?(t.shouldHighlight?(Me(e,t.conversationId,t.messageId),De(e,t.conversationId,t.messageId,t.clearHighlightAtTimeout)):Me(e,t.conversationId,t.messageId),e=Object.assign({},e)):d.b.errorWithNonPIIData(Re,"Invalid message Id / conversation Id. conversationId: ",t.conversationId,", messageId: ",t.messageId);break;case S.PRE_FETCH_CHAT_MESSAGE_IDS_TO_CONVERSATION_MAP_RECEIVED:e=Je(e,t.messageIdsMap);break;case m.a.PRE_FETCH_MESSAGES_RECEIVED:e=Xe(e,t.rawMessages)}return e},Me=(e,t,n)=>{const i=e.chatConversationsMap[t],r=Object.assign({},i,{scrollToMessageId:n});e.chatConversationsMap[t]=r},De=(e,t,n,i)=>{const r=e.chatConversationsMap[t],o=Object.assign({},r,{highlightedMessageId:n,clearHighlightAtTimeout:i});e.chatConversationsMap[t]=o},Le=(e,t)=>{const n=e.chatConversationsMap[t.conversationId],i=(t.prevConversationId?t.prevConversationId:"")!==t.conversationId,r=t.highlightedMessageId?t.highlightedMessageId:i||!n?null:n.highlightedMessageId;if(n&&n.messageBlock&&0!==n.messageBlock.messageIds.length){const i=!n.canvasState||n.canvasState&&n.canvasState.topLoaderState===K.e.LOADING?K.e.NONE:n.canvasState.topLoaderState;e.chatConversationsMap[t.conversationId]=Object.assign({},n,{scrollToMessageId:t.scrollToMessageId?t.scrollToMessageId:null,highlightedMessageId:r,canvasState:{event:K.b.RENDER_COMPLETE,bottomLoaderState:K.e.LOADING,topLoaderState:i}}),d.b.infoWithNonPIIData(Pe,"latest bucket load started for",t.conversationId)}else e.chatConversationsMap[t.conversationId]=Object.assign({},n,{scrollToMessageId:t.scrollToMessageId?t.scrollToMessageId:null,highlightedMessageId:r,canvasState:{event:K.b.RENDER_COMPLETE,bottomLoaderState:K.e.NONE,topLoaderState:K.e.LOADING}}),d.b.infoWithNonPIIData(Pe,"first bucket load started for",t.conversationId);const o=e.chatConversationsMap[t.prevConversationId];if(o&&o.chatMessageViewModelList){const n=o.chatMessageViewModelList.findIndex((e,t,n)=>e.type===Ie.h.UNREAD_COUNT_MESSAGE);if(n>-1){const i=ye()(o.chatMessageViewModelList);i.splice(n,1),e.chatConversationsMap[t.prevConversationId]=Object.assign({},o,{chatMessageViewModelList:i}),d.b.infoWithNonPIIData(Pe,"removing unread message marker from",t.prevConversationId)}}return Object.assign({},e)},xe=(e,t,n,i,r,o)=>{const a=e.chatConversationsMap[t];let s,c,l=!0,u=a&&a.chatMessageViewModelList?a.chatMessageViewModelList:[],p=K.b.ITEMS_ADDED_AT_BOTTOM,h="x";if(a)if(s=a.messageBlock,s){if(s.nextBucketId===i){const e=ye()(s.messageIds).concat(o);c=Object.assign({},s,{nextBucketId:r,endBucketId:i,messageIds:e}),h="next to end",p=K.b.ITEMS_ADDED_AT_BOTTOM}else if(s.prevBucketId===i){l=!1;const e=ye()(o).concat(s.messageIds);c=Object.assign({},s,{prevBucketId:n,startBucketId:i,messageIds:e}),h="prev to end",p=K.b.ITEMS_ADDED_AT_TOP}else if(s.endBucketId===i){const n=Ae()(o,s.messageIds);if(0===n.length)return d.b.infoWithNonPIIData(Pe,"no new message found to add after resync",t),e.chatConversationsMap[t]=Object.assign({},a,{processingEvent:K.b.ITEMS_ADDED_AT_BOTTOM}),Object.assign({},e);const i=ye()(s.messageIds).concat(n);c=Object.assign({},s,{nextBucketId:r,messageIds:i}),h="in end bucket",p=K.b.ITEMS_ADDED_AT_BOTTOM}else p=s&&!c?K.b.ITEMS_ADDED_AT_BOTTOM:K.b.ITEMS_ADDED_AT_TOP;s=c,c||(d.b.infoWithNonPIIData(Re,"bucket received could not be fit in. so resetting the chatMessageViewModelList",t,i),u=[])}else h="first bucket",p=K.b.ITEMS_ADDED_AT_TOP;else h="first bucket",p=K.b.ITEMS_ADDED_AT_TOP;s||(s={messageIds:o,prevBucketId:n,startBucketId:i,endBucketId:i,nextBucketId:r});const f=Fe(t,o,u,l);return e.chatConversationsMap[t]=Object.assign({},a,{messageBlock:s,chatMessageViewModelList:f,processingEvent:p}),d.b.infoWithNonPIIData(Pe,"adding ",o.length," messageIds to chatViewModel at",t,"with LB",s.startBucketId,"and OB",s.endBucketId,h),Object.assign({},e)},ke=(e,t,n,i,r,o,a,s,c)=>{const l=e.chatConversationsMap[t];let u,p,h=!0,f=l&&l.chatMessageViewModelList?l.chatMessageViewModelList:[],g=K.b.ITEMS_ADDED_AT_BOTTOM,m=a;if(l)if(u=l.messageBlock,u){if(0===a.length)switch(s){case 0:h=!1,p=Object.assign({},u,{prevBucketId:n}),g=K.b.ITEMS_ADDED_AT_TOP;break;case 1:p=Object.assign({},u,{nextBucketId:o}),g=K.b.ITEMS_ADDED_AT_BOTTOM}const c=parseInt(i,10),E=parseInt(r,10),_=parseInt(u.prevBucketId,10),S=parseInt(u.nextBucketId,10),T=parseInt(u.startBucketId,10),v=parseInt(u.endBucketId,10);if(c<=S&&E>v||s==K.a.Next&&0===a.length)m=ye()(u.messageIds).concat(a),p=Object.assign({},u,{endBucketId:0===a.length?u.endBucketId:r,nextBucketId:o}),g=K.b.ITEMS_ADDED_AT_BOTTOM;else if(E>=_&&c<T||s==K.a.Previous&&0===a.length)h=!1,m=ye()(a).concat(u.messageIds),p=Object.assign({},u,{prevBucketId:n,startBucketId:0===a.length?u.startBucketId:i}),g=K.b.ITEMS_ADDED_AT_TOP;else if(c<=v){const n=Ae()(a,u.messageIds);if(0===n.length)return d.b.infoWithNonPIIData(Pe,"no new message found to add after reselecting conv ",t),e.chatConversationsMap[t]=Object.assign({},l,{processingEvent:K.b.ITEMS_ADDED_AT_BOTTOM}),Object.assign({},e);m=ye()(u.messageIds).concat(n),p=Object.assign({},u,{endBucketId:r,nextBucketId:o}),g=K.b.ITEMS_ADDED_AT_BOTTOM}else g=u&&!p?K.b.ITEMS_ADDED_AT_BOTTOM:K.b.ITEMS_ADDED_AT_TOP;u=p,p||(d.b.infoWithNonPIIData(Re,"page received could not fit in. so resetting the chatMessageViewModelList for conversationId ",t),f=[])}else g=K.b.ITEMS_ADDED_AT_TOP;else g=K.b.ITEMS_ADDED_AT_TOP;u||(g=K.b.ITEMS_ADDED_AT_TOP,u={messageIds:a,prevBucketId:n,startBucketId:i,endBucketId:r,nextBucketId:o});const E=Fe(t,a,f,h),_=l?Be(m,l.unSyncedMessageIds,h):[];return _.length>0&&(m=m.concat(_),_.forEach(e=>{E.push(c[e])}),d.b.infoWithNonPIIData(Pe," adding ",_.length," unsynced messages for conversation ",t)),u=Object.assign({},u,{messageIds:m}),e.chatConversationsMap[t]=Object.assign({},l,{messageBlock:u,chatMessageViewModelList:E,processingEvent:g}),d.b.infoWithNonPIIData(Pe,"adding ",m.length," messages to chatViewModel for conversation",t," with startId",u.startBucketId," and endId",u.endBucketId),Object.assign({},e)},Ue=(e,t,n,i)=>{let r=t in e.chatConversationsMap?e.chatConversationsMap[t].currentOldestBucket:null,o=K.b.ITEMS_ADDED_AT_BOTTOM;Object(X.g)(r)&&(o=K.b.ITEMS_ADDED_AT_TOP,r=i);const a=t in e.chatConversationsMap&&e.chatConversationsMap[t].messageIds?e.chatConversationsMap[t].messageIds:[];let s=e.chatConversationsMap[t].canvasState;if(Object(X.g)(n)||0==n.length)s=Object.assign({},e.chatConversationsMap[t].canvasState,{topLoaderState:K.e.LOAD_SUCCESS}),d.b.infoWithNonPIIData(Pe,"No messageIds present to insert. Loading success marked for",t);else{const e=a.indexOf(n[0]);e>0&&a.splice(e-1,a.length),n.forEach(e=>{a.indexOf(e)<0&&a.push(e)})}const c=Object.assign({},e.chatConversationsMap[t],{messageIds:a,currentLatestBucket:i,currentOldestBucket:r,canvasState:s,processingEvent:o});e.chatConversationsMap[t]=c,e=Object.assign({},e),e=Ge(e,t,n)},Ge=(e,t,n,i=!0)=>{if(Object(X.g)(n)||0===n.length)return d.b.infoWithNonPIIData(Pe,"No messageIds to add for ",t),e;const r=e.chatConversationsMap[t],o=Fe(t,n,r.chatMessageViewModelList,i),a=Object.assign({},r,{chatMessageViewModelList:o});return e.chatConversationsMap[t]=a,e=Object.assign({},e),d.b.infoWithNonPIIData(Pe,"adding ",n.length," messageIds to chatViewModel at",t,"with LB",r.currentLatestBucket,"and OB",r.currentOldestBucket," list of messageIds",n),e},Fe=(e,t,n,i=!0)=>{if(Object(X.g)(t)||0===t.length)return d.b.infoWithNonPIIData(Pe,"No messageIds to add for ",e),n;const r=[];for(let e=t.length-1,i=0;e>=0;e--){const o=t[e],a=e=>e.id===o;if(!((n?n.findIndex(a):-1)<0))break;r.splice(r.length-i,0,{type:o===K.f?Ie.h.UNREAD_COUNT_MESSAGE:null,id:o}),i++}let o=r;const a=ye()(n);return a&&(o=i?a.concat(r):r.concat(a)),o},Be=(e,t,n)=>{if(Object(X.g)(e)||Object(X.g)(t)||0===t.length||!n)return[];const i=[];return t.forEach(t=>{e.indexOf(t)<0&&i.push(t)}),i},Ve=(e,t)=>e&&t&&e===Ie.h.GENERIC_MESSAGE&&t===Ie.g.TRM,We=(e,t)=>e&&t&&e===Ie.h.GENERIC_MESSAGE&&t===Ie.g.ENHANCED_TEXT,je=e=>!Object(X.g)(e.positionInGroup),He=(e,t)=>{return e&&t&&(n=e.type,i=e.subType,r=t.type,o=t.subType,n===r&&i===o||(n==Ie.h.TEXT_MESSAGE||Ve(n,i)||We(n,i))&&(r==Ie.h.TEXT_MESSAGE||Ve(r,o)||We(r,o)))&&e.senderId===t.senderId;var n,i,r,o},ze=(e,t,n)=>{const i=n>=0?n-1:e.length-1,r=n>-1&&n<e.length-1?n+1:-1;if(((e,t,n,i)=>{if(t.type!==Ie.h.TEXT_MESSAGE&&!Ve(t.type,t.subType)&&!We(t.type,t.subType))return!1;const r=n>-1?e[n]:null,o=i>-1?e[i]:null;return He(r,t)||He(o,t)})(e,t,i,r)){const n=i>-1?e[i]:null;He(n,t)&&(n.positionInGroup=je(n)&&n.positionInGroup!==K.d.FIRST?K.d.BETWEEN:K.d.FIRST,t.positionInGroup=K.d.LAST);const o=r>-1?e[r]:null;He(o,t)&&(o.positionInGroup=o.positionInGroup===K.d.FIRST?K.d.BETWEEN:je(o)?o.positionInGroup:K.d.LAST,t.positionInGroup=je(t)?K.d.BETWEEN:K.d.FIRST)}},Ye=(e,t,n)=>{if(t.positionInGroup===K.d.FIRST){const t=e[n+1];t&&(t.positionInGroup=t.positionInGroup===K.d.BETWEEN?K.d.FIRST:null)}else if(t.positionInGroup===K.d.LAST){const t=e[n-1];t&&(t.positionInGroup=t.positionInGroup===K.d.BETWEEN?K.d.LAST:null)}},Ke=(e,t)=>{if(t.length>0){const n=Object(E.b)(t[0]),i=e.chatConversationsMap[n],r=i&&i.chatMessageViewModelList?i.chatMessageViewModelList:[],o=ye()(r);t.forEach(e=>{const t=ve.a(e),n=t.id,i=o.findIndex(e=>e.id===n),r={type:t.type,subType:t.subType,id:t.id,senderId:t.sender};ze(o,r,i),i>-1?o.splice(i,1,r):o.push(r)});const a=Object.assign({},i,{chatMessageViewModelList:o});e.chatConversationsMap[n]=a,e=Object.assign({},e),d.b.infoWithNonPIIData(Pe,"updating chatViewModel with message types for",n)}return e},qe=(e,t,n,i)=>{const r=Object(E.b)(t),o=t.id,a=e.chatConversationsMap[r];let s=a&&a.messageBlock?a.messageBlock.messageIds:[],c=a.messageBlock,l=a&&a.chatMessageViewModelList?a.chatMessageViewModelList:[];i&&s&&a.messageBlock&&a.messageBlock.nextBucketId&&(d.b.infoWithNonPIIData(Re,"last bucket is not present and new message received. Clearing prev messageBlock to create empty one",r,o),s=[],c={messageIds:s,prevBucketId:"",nextBucketId:"",startBucketId:"",endBucketId:""},l=[]),s.indexOf(o)<0&&s.push(o),c=Object.assign({},c,{messageIds:s});const u=n?K.b.ITEM_ADDED_SCROLL_TO_BOTTOM:a.canvasState.event,p=Object.assign({},a,{chatMessageViewModelList:l,messageBlock:c,messageIds:s,canvasState:Object.assign({},a.canvasState,{event:u})});return e.chatConversationsMap[r]=p,Object.assign({},e)},Qe=(e,t,n)=>{if(!t&&t.length<=0)return d.b.errorWithNonPIIData(Re,"no message found to delete"),e;const i=t[0].getHostConversationId(),r=e.chatConversationsMap[i];if(!r)return e;const o=r.messageBlock&&r.messageBlock.messageIds?ye()(r.messageBlock.messageIds):ye()(r.messageIds),a=ye()(e.chatConversationsMap[i].chatMessageViewModelList);t.forEach(e=>{const t=o.findIndex(t=>t===e.id);-1!=t&&o.splice(t,1);const n=a.findIndex(t=>t.id===e.id);if(-1!=n){const e=a[n];je(e)&&Ye(a,e,n),a.splice(n,1)}});const s=n?K.b.ITEMS_DELETED:r.canvasState?r.canvasState.event:null;if(r.messageBlock&&r.messageBlock.messageIds){const t=Object.assign({},r,{messageBlock:Object.assign({},r.messageBlock,{messageIds:o}),chatMessageViewModelList:a,canvasState:Object.assign({},r.canvasState,{event:s})});e.chatConversationsMap[i]=t}else{const t=Object.assign({},r,{messageIds:o,chatMessageViewModelList:a,canvasState:Object.assign({},r.canvasState,{event:s})});e.chatConversationsMap[i]=t}return d.b.infoWithNonPIIData(Re,"messages successfully deleted from chatMessageVM"),Object.assign({},e)},Je=(e,t)=>{const n=Ne()(t),i=ye()(e.chatConversationsMap);return n.forEach(e=>{const n=i[e],r=!n||!n.messageBlock||n.messageBlock.startBucketId===te.a;if(r){const r={messageIds:t[e],prevBucketId:te.a,nextBucketId:te.a,startBucketId:te.a,endBucketId:te.a};i[e]=Object.assign({},n,{messageBlock:r})}if(!n||!n.chatMessageViewModelList||r){const n=[];t[e].forEach(e=>{n.push({type:e===K.f?Ie.h.UNREAD_COUNT_MESSAGE:null,id:e})}),i[e]=Object.assign({},i[e],{chatMessageViewModelList:n})}}),Object.assign({},e,{chatConversationsMap:i})},Xe=(e,t)=>{const n=ye()(e.chatConversationsMap);return t.forEach(e=>{const t=Object(E.b)(e),i=n[t],r=i.chatMessageViewModelList.findIndex(t=>t.id===e.id);if(r>-1){const t=ve.b(e);i.chatMessageViewModelList.splice(r,1,{id:e.id,type:e.type,subType:t})}n[t]=Object.assign({},i)}),Object.assign({},e,{chatConversationsMap:n})};var $e=n(26),Ze=n(70),et=n(207),tt=n.n(et);const nt=[],it=(e,t)=>e.chatState.chatConversationsMap[t]?e.chatState.chatConversationsMap[t].chatMessageViewModelList:nt,rt=(e,t)=>e.chatState.chatConversationsMap[t],ot=(e,t)=>t;var at=new class{constructor(){this.getChatMessageViewModelFilteredList=Object(Ze.a)([it,ot],(e,t)=>{if(e){const n=e.filter(e=>e&&e.type),i=$e.a.getState();return g.f.shouldShowMembershipChangeNonIMs(i,t)||tt()(n,e=>m.g.isGroupMembershipChangeMessage(e.type)),n}return nt}),this.getCanvasState=Object(Ze.a)(rt,e=>e?e.canvasState:null),this.getUrlPreviewData=Object(Ze.a)(rt,e=>e?e.urlPreviewData:null),this.getLatestMessageId=(e,t)=>{const n=e.chatState.chatConversationsMap[t];if(!n)return null;const i=n.messageBlock?n.messageBlock.messageIds:null,r=i&&i.length>0?i[i.length-1]:null;return r&&r===K.f&&i.length>1?i[i.length-2]:r},this.getScrollToMessageId=(e,t)=>{const n=e.chatState;return n&&n.chatConversationsMap[t]?n.chatConversationsMap[t].scrollToMessageId:null},this.getMessage=(e,t)=>t.type?Object(Ie.b)(t.type,t.subType)?Te.e.getClientOnlyMessage(e,t.id):m.g.getMessage(e,t.id):null,this.isUnreadMarkerFeatureEnabled=e=>{const t=Object(u.isiOS)(e.sessionState.maOS)&&e.messagesState.moduleVersion>=E.a.UNREAD_MESSAGE_MARKER||e.chatState.moduleVersion>=K.c.UNREAD_MESSAGE_MARKER;return d.b.infoWithNonPIIData("chatSelector","isUnreadMarkerFeatureSupported",t),t},this.isMessageOptionsFeatureSupported=e=>e.messagesState.moduleVersion>=E.a.MESSAGE_OPTIONS_SUPPORT,this.isMessageSyncedFromDevice=(e,t,n)=>{if(!t)return!1;const i=e.chatState.chatConversationsMap[t];return!i.unSyncedMessageIds||-1==i.unSyncedMessageIds.indexOf(n)},this.hasUnsentMessage=e=>{let t=!1;const n=e.chatState.chatConversationsMap,i=Object.keys(n);for(const e of i){const i=n[e];if(i.unSyncedMessageIds&&i.unSyncedMessageIds.length>0){t=!0;break}}return t},this.getNextBucketId=(e,t)=>e.chatState.chatConversationsMap[t]&&e.chatState.chatConversationsMap[t].messageBlock?e.chatState.chatConversationsMap[t].messageBlock.nextBucketId:"",this.getStartBucketId=(e,t)=>e.chatState.chatConversationsMap[t]&&e.chatState.chatConversationsMap[t].messageBlock?e.chatState.chatConversationsMap[t].messageBlock.startBucketId:"",this.getEndBucketId=(e,t)=>e.chatState.chatConversationsMap[t]&&e.chatState.chatConversationsMap[t].messageBlock?e.chatState.chatConversationsMap[t].messageBlock.endBucketId:"",this.isLatestBucketOfMessagesFetched=(e,t)=>{const n=this.getStartBucketId(e,t),i=this.getEndBucketId(e,t);return n&&n!==te.a&&n===i},this.shouldHighlightCard=(e,t,n)=>{const i=e.chatState;return i&&i.chatConversationsMap[t]&&n===i.chatConversationsMap[t].highlightedMessageId},this.shouldClearHighlightAtTimeout=(e,t)=>{const n=e.chatState;return n&&n.chatConversationsMap[t]&&n.chatConversationsMap[t].scrollToMessageId&&n.chatConversationsMap[t].clearHighlightAtTimeout},this.getTimeStampOfLatestMsgInChatCanvas=(e,t)=>{const n=this.getLatestMessageId(e,t),i=n?m.g.getMessage(e,n):null;return i?i.serverTimestamp:null}}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return ue})),n.d(t,"f",(function(){return pe})),n.d(t,"a",(function(){return d.a})),n.d(t,"d",(function(){return d.b})),n.d(t,"g",(function(){return De})),n.d(t,"c",(function(){return Le})),n.d(t,"e",(function(){return Y}));var i=n(27),r=n(77),o=n(29),a=n(11),s=n(90),c=n(19),l=n(45),u=n(168),d=n(112),p=n(108),h=n(4),f=n(12),g=n(32),m=n(62),E=n(13),_=n(28),S=n(122),T=n(1),v=n(42),I=n(6),b=n(26),y=n(223),C=n.n(y),A=n(192),O=n.n(A);class N{static notifyOnStatePredicate(e,t=6e4){const n=Object(I.b)();return N.notificationPredicates[n]=e,Object(I.g)(N.stateListenerUnscriber)&&(N.stateListenerUnscriber=b.a.getStore().subscribe(N.onStateUpdate)),new Promise((e,i)=>{N.notificationPromiseMap[n]={resolve:e,reject:i},setTimeout(()=>{N.notificationPredicates[n]&&N.notificationPromiseMap[n].reject("timeout"),delete N.notificationPredicates[n],delete N.notificationPromiseMap[n]},t)})}static onStateUpdate(){const e=b.a.getState();C()(N.notificationPredicates,(t,n)=>{if(t(e)){const e=N.notificationPromiseMap[n].resolve;setTimeout(()=>e(!0),0),delete N.notificationPredicates[n],delete N.notificationPromiseMap[n]}}),O()(N.notificationPredicates)&&(N.stateListenerUnscriber(),N.stateListenerUnscriber=void 0)}}N.notificationPredicates={},N.notificationPromiseMap={};var R=n(68),P=n(33),w=n(43),M=n(53),D=n(184),L=n(15),x=n(56),k=n(120),U=n(137),G=n(48),F=n(152),B=n.n(F),V=n(244),W=n(63);const j=_.l,H=_.l;let z={};const Y=e=>t=>n=>{switch(n.type){case g.a.ON_APP_TERMINATED:z={};break;case d.a.SEND_NEW_MESSAGE:{const t=Object(I.b)();n.messageToSend.id=t;const i=Object(I.b)(),r=e.getState(),o=n.messageToSend.toRawMessage(),s=L.f.getConversationType(r,o.conversationId);h.b.infoWithNonPIIData(H,"sending message",n.messageToSend.id,n.messageToSend.type,n.messageToSend.subType);const p=(new Date).getTime(),f={GENERATION_TIME:n.messageToSend.timestamp,SOURCE_ID:i,CONVERSATION_TYPE:s.toString()};if(n.messageToSend.isRetryable()){a.a.recordMessageCreationTelemetry(n.messageToSend,a.c.MESSAGE_CREATED,f),e.dispatch(d.b.insertMessage(o,!0)),e.dispatch(m.c.storeMessageState({id:o.id,md:o.messageState})),e.dispatch(l.b.insertMessageToChatViewModel(o));const t=!0;e.dispatch(L.c.updateLatestMessage(n.messageToSend.conversationId,o,Object(T.getString)("You"),t)),e.dispatch(u.b.createClientOnlyMessages([o])),e.dispatch(l.b.insertUnsyncedMessageId(n.messageToSend.conversationId,n.messageToSend.id));const r=te(o,n);c.c.sendMessage({paths:r}).then(t=>{const n=t.paths[0].value;a.a.recordMessageResponseTelemetry(p,n,!0,a.c.MESSAGE_DEVICE_ACK_RECEIVED,{SOURCE_ID:i,CONVERSATION_TYPE:s.toString()});const r=n.from===e.getState().usersState.myProfile.id;e.dispatch(d.b.insertMessage(n,r)),e.dispatch(m.c.storeMessageState({id:n.id,md:m.a.WAITING_SEND}))}).catch(t=>{const r=n.messageToSend.getRawMessage();a.a.recordMessageResponseTelemetry(p,r,!1,a.c.MESSAGE_DEVICE_ACK_RECEIVED,Object.assign({SOURCE_ID:i,CONVERSATION_TYPE:s.toString()},ce(t)));const o=r.from===e.getState().usersState.myProfile.id;e.dispatch(d.b.insertMessage(r,o)),e.dispatch(m.c.storeMessageState({id:r.id,md:m.a.SENT_FAILURE}))})}else{const e=te(o,n);c.c.sendMessage({paths:e,ir:!1})}break}case d.a.SEND_DELETE_MESSAGE:{const t=e.getState();if(!l.e.isMessageOptionsFeatureSupported(t))return h.b.errorWithNonPIIData(j,"Action not allowed, invalid messagesState.moduleVersion, :",t.messagesState.moduleVersion),null;ne(e,n.messageId,n.deleteForEveryOne);break}case d.a.SEND_FORWARD_MESSAGE:{const t=e.getState();if(!l.e.isMessageOptionsFeatureSupported(t))return void h.b.errorWithNonPIIData(j,"Action not allowed, invalid messagesState.moduleVersion, :",t.messagesState.moduleVersion);const i=n.messageId,r=n.toParticipants;if(h.b.infoWithNonPIIData(H,"sending request to forward message with id: ",i," to ",r.length," participants."),!i)return void h.b.errorWithNonPIIData(j,"No messages to forward.");re(e,i,r);break}case d.a.EDIT_FORWARD_MESSAGE:{const t=n.messageId,i=n.toParticipants;if(h.b.infoWithNonPIIData(H,"sending request to edit and forward message with id: ",t," to ",i.length," participants."),!t)return void h.b.errorWithNonPIIData(j,"No messages to forward.");ae(e,t,i);break}case g.a.ON_SESSION_RESET:e.getState().messagesState.moduleVersion>0&&n.asyncPathList.push({rt:o.f.SUBSCRIBE,path:[j,"dm"],preFetch:!1});break;case E.a.ON_RESPONSE_RECEIVED:K(n,e);break;case E.a.ON_UPDATE_RECEIVED:{const t=e.getState(),i=Object(r.b)(n.responseData,j,"msgForConv");if(i&&!J(e,n,i))return;const a=Object(r.b)(n.responseData,j,"dm");if(a)if(Object(o.k)(a))h.b.errorWithNonPIIData(j,"error response at",a.path[1],a.errors);else if(a.value&&0!=a.value.length){const n=a.value,i=t.messagesState,r=[];if(n.forEach(e=>{e in i.messages&&r.push(i.messages[e])}),h.b.infoWithNonPIIData(j,"dm update: deleted message count on app and web app are",n.length,r.length),0!=r.length){const n=r[0].getHostConversationId(),o=se(t,n,r);if(h.b.infoWithNonPIIData(j,"dm update: hasLatestMessageDeleted is ",o),e.dispatch(d.b.deleteMessages(r,!0)),o){const r=l.e.getLatestMessageId(t,n);if(r in i.messages){const o=i.messages[r];e.dispatch(L.c.updateLatestMessage(n,o.getRawMessage(),t.usersState.myProfile.id===o.sender?Object(T.getString)("You"):x.f.getUserInfo(t,o.sender).name,!1))}}}}else h.b.errorWithPIIData(j,["empty response",a.value,"at",a.path[1]],JSON.stringify(n.responseData.paths));break}}return t(n)};const K=(e,t)=>{const n=Object(r.b)(e.responseData,j,"message_ids");if(n)if(Object(o.k)(n))n.errors[0].errorCode===o.c.INVALID_SESSION_ID?h.b.warnWithNonPIIData(j,"error response at message_ids",n.errors):h.b.errorWithNonPIIData(j,"error response at message_ids",n.errors);else{const i=n.value;if(0!=i.length){h.b.infoWithNonPIIData(H,"received messages",i.length,Object(p.b)(i[0]));const n=Object(V.a)(i);if(Object(V.b)()&&0!=n.length){const i=L.f.getUserSourceGroupId(t.getState(),e.payload.conversationId);t.dispatch(k.b.groupReactionsSummaryFetch({userSourceGroupId:i,sourceGroupId:e.payload.conversationId,messageIds:n}))}t.dispatch(d.b.insertMessages(i))}else h.b.infoWithNonPIIData(j,"No messages found for :",n.path[1])}const i=Object(r.b)(e.responseData,j,"convLatest");if(i)if(Object(o.k)(i))h.b.errorWithNonPIIData(j,"error response at convLatest",i.errors);else{const e=i.value.lm,n=i.value.msgs,r=B()(n).map(e=>e.id),o=i.variables.cId;t.dispatch(l.b.insertLatestMessagesIds(o,r,e)),0!=n.length?t.dispatch(d.b.insertMessages(n)):h.b.infoWithNonPIIData(j,"No messages found for :",i.path[1])}const a=Object(r.b)(e.responseData,j,"msgPage");if(a)if(Object(o.k)(a))h.b.errorWithNonPIIData(j,"error response at msgPage for",a.errors);else{const n=a.value.ps,i=a.value.ss,r=a.value.es,o=a.value.ns,s=parseInt(a.path[4],10),c=a.value.msgs,u=B()(c).map(e=>e.id),p=e.payload.conversationId,f=a.value.fumid;f&&t.dispatch(L.c.updateCursorMessage(p,f));const g=t.getState(),m=q(g,p);h.b.infoWithNonPIIData(j,"call addBucketDataiOS",p),t.dispatch(l.b.addBucketDataiOS(p,n,i,r,o,u,s,m)),0!=c.length?t.dispatch(d.b.insertMessages(c)):h.b.infoWithNonPIIData(j,"No messages found for :",p);const E=Object(V.a)(c);if(Object(V.b)()&&0!=E.length){const n=L.f.getUserSourceGroupId(t.getState(),e.payload.conversationId);t.dispatch(k.b.groupReactionsSummaryFetch({userSourceGroupId:n,sourceGroupId:e.payload.conversationId,messageIds:E}))}}const s=Object(r.b)(e.responseData,j,U.b);s&&(Object(o.k)(s)?h.b.errorWithNonPIIData(j,"error response for pre fetch chat message objects",s.errors):(h.b.infoWithNonPIIData(j,"Response Received for pre fetch chat message objects"),le(t,e,s)))},q=(e,t)=>{const n=e.messagesState.messages,i=e.chatState&&e.chatState.chatConversationsMap[t]?e.chatState.chatConversationsMap[t].unSyncedMessageIds:[],r=[];return i&&i.length>0&&i.forEach(e=>{e in n&&(r[e]={type:n[e].type,subType:n[e].subType,id:e})}),r},Q=(e,t)=>{const n=e.type!==f.h.START_CONVERSATION||(t===L.a.FLAT_GROUP||t===L.a.FORUM||t===L.a.PUBLIC_GROUP);return n||h.b.infoWithNonPIIData(j,"message with id:",e.id," type:",e.type," conversationType:",t," will not be shown in canvas"),n},J=(e,t,n)=>{if(Object(o.k)(n))h.b.errorWithNonPIIData(H,"error response at",n.path[1],n.errors);else if(n.value){const t=n.value,i=e.getState(),r=t.from===i.usersState.myProfile.id,o=Object(p.b)(t),a=Object(S.b)(t);if(a&&a===f.g.SYSTEM_START_TYPING)return function(e,t){h.b.infoWithNonPIIData(j,"Typing message with id:",e.id," received through subscription"),M.a.getCurrentActualTime()-e.timestamp<5e3&&(t.dispatch(d.b.onTypingMessageReceived(e)),function(e,t){setTimeout((e,n)=>{t.dispatch(d.b.onTypingMessageTimeout(e,n))},5e3,e.conversationId,e.from)}(e,t))}(t,e),!1;if(X(i,t.id,o)<0){const n=l.e.getNextBucketId(i,o),a=L.f.getConversationType(i,o);if(!r&&n||!Q(t,a))h.b.infoWithNonPIIData(H,"ignoring new message received",t.id,o,r,n,Q(t,a));else{e.dispatch(d.b.insertMessage(t,r));const n=$(e.getState(),t,o);e.dispatch(l.b.insertMessageToChatViewModel(t,n)),e.dispatch(l.b.removeUnsyncedMessageId(Object(p.b)(t),t.id)),e.dispatch(u.b.createClientOnlyMessages([t])),0===i.surveyState.moduleVersion&&Object(f.d)(t.type,t.contentHeader?t.contentHeader.msgSubType:void 0)&&e.dispatch(s.c.getSurveyForMessageIds([t.id]))}}else h.b.infoWithNonPIIData(H,"update received for",t.id),e.dispatch(d.b.insertMessage(t,r,!1)),e.dispatch(l.b.removeUnsyncedMessageId(Object(p.b)(t),t.id))}else h.b.errorWithPIIData(H,["empty response at",n.path[1]],JSON.stringify(t.responseData.paths));return!0},X=(e,t,n)=>{const i=e.chatState.chatConversationsMap[n].chatMessageViewModelList;return Z(t,i)},$=(e,t,n)=>{const i=ee(e,t.wsn,n);return i>-1?i+1:-1},Z=(e,t)=>t.findIndex(t=>t.id===e),ee=(e,t,n)=>{if(Object(I.g)(t))return-1;const i=e.chatState.chatConversationsMap[n].chatMessageViewModelList,r=e.messagesState.messages;let o=i.length-1;for(;o>=0;o--){const e=i[o];if(e.id in r){if(Object(I.g)(r[e.id].webMessageSequenceNumber)){h.b.infoWithNonPIIData(H,"adding message in the end",e.id);break}if(r[e.id].webMessageSequenceNumber<=t)break}}return o};function te(e,t){const n=(e=>{let t=1;return e in z&&(t=z[e]+1),z[e]=t,t})(e.conversationId),i=[];return i.push({rt:c.a.MUTATE,path:[j],variables:{action:"new",message:t.messageToSend,sqNo:n}}),i}const ne=(e,t,n)=>{const r=e.getState(),s=P.d.DELETE_MESSAGE_OPTION+(new Date).getTime(),u=De.getMessage(r,t);if(!u)return h.b.errorWithNonPIIData(j,"Invalid message with id :",t),null;const p=Object(I.b)(),f=(new Date).getTime();h.b.infoWithNonPIIData(H,"sending request to delete for message with id ",u.id,u.type,u.subType);const g=Object(D.b)(e,s,"DeletingMessage"),m=l.e.getLatestMessageId(r,u.getHostConversationId());h.b.infoWithNonPIIData(H,"latest message id of conversation is ",m);const E=m===u.id?((e,t)=>{const n=e.chatState.chatConversationsMap[t].messageBlock.messageIds,r=n&&n.length>1?n[n.length-2]:null;return r&&r===i.f&&n.length>2?n[n.length-3]:r})(r,u.getHostConversationId()):m,_=L.f.getConversationType(r,u.getRawMessage().conversationId);a.a.recordDeleteMessageTelemetry(p,_.toString(),u);const S=ie([u.id],E,n);c.c.sendMessage({paths:S}).then(e=>{const t=e.paths[0];h.b.infoWithNonPIIData(H,"Initial Response received from device for delete."),Object(o.k)(t)?(h.b.errorWithNonPIIData(j,"Error response received while trying to delete message ",t.errors),v()):c.c.addPathHandlerSubscription(e.paths[0].path[0],{handleRequest:e=>T(e.data)})}).catch(e=>{h.b.errorWithPIIData(H,"Error trying to delete message",e?[e.stack||e.stacktrace,"error code: ",e.errorCode]:"",w.a.stringify(e)),v(e)});const T=e=>{h.b.infoWithNonPIIData(H,"Final Response received from device for delete."),c.c.removePathHandlerSubscription(e.paths[0].path[0]);const t=e.paths[0];Object(o.k)(t)?(h.b.errorWithNonPIIData(j,"Error response received while trying to delete message ",t.errors),v(t.errors[0])):b(u,e.paths[0].value)},v=t=>{a.a.recordDeleteMessageResponseTelemetry(f,u,!1,Object.assign({SOURCE_ID:p,CONVERSATION_TYPE:_.toString()},ce(t)));const n=Object.assign({},P.h.errorNotification,{id:s});Object(D.c)(e,n,g)},b=(t,n)=>{const i=n.dmIds;h.b.infoWithNonPIIData(H,"Response received from device for delete; messageId : ",i),a.a.recordDeleteMessageResponseTelemetry(f,t,!0,{SOURCE_ID:p,CONVERSATION_TYPE:_.toString()}),e.dispatch(d.b.deleteMessages([t],!0));const r=Object.assign({},P.h.successNotification,{id:s,title:"DeletedMessage"});Object(D.c)(e,r,g)}},ie=(e,t,n)=>{const i=[];return i.push({rt:c.a.MUTATE,path:[j],variables:{action:"del",mIds:e.join(),lmId:t,dfe:n?"Y":"N"}}),i},re=(e,t,n)=>{const i=[],r=[];if(n.forEach(e=>{e.type===v.b.CONVERSATION||e.type===v.b.ME?i.push(e.id):e.type===v.b.USER&&r.push(e.id)}),h.b.debugWithNonPIIData(H,"No of conversations selected to forward ",i.length),h.b.debugWithNonPIIData(H,"No of users selected to forward ",r.length),0==i.length&&0==r.length)return void h.b.errorWithNonPIIData(j,"No conversations selected to forward.");const s=e.getState(),l=P.d.FORWARD_MESSAGE_OPTION+(new Date).getTime(),u=De.getMessage(s,t);if(Object(I.g)(u))return void h.b.errorWithNonPIIData(j,"Invalid message to forward.");const d=Object(I.b)(),p=(new Date).getTime(),f=Object(D.b)(e,l,"ForwardingMessage");h.b.infoWithNonPIIData(H,"forwarding message",u.id,u.type,u.subType);const g=L.f.getConversationType(s,u.getRawMessage().conversationId);a.a.recordForwardMessageTelemetry(d,g.toString(),u);const m=(t,n)=>{a.a.recordForwardMessageResponseTelemetry(p,t,!1,Object.assign({SOURCE_ID:d,CONVERSATION_TYPE:g.toString()},ce(n)));const i=Object.assign({},P.h.errorNotification,{id:l});Object(D.c)(e,i,f)},E=t=>{h.b.infoWithNonPIIData(H,"Final Response received from device for forward."),c.c.removePathHandlerSubscription(t.paths[0].path[0]);const n=t.paths[0];Object(o.k)(n)?(h.b.errorWithNonPIIData(j,"Error response received while trying to forwarding message ",n.errors),m(u,n.errors[0]),n.errors[0].errorCode==o.c.STORAGE_EXCEPTION?Object(W.c)({id:"device-storage-access-denied",message:Object(T.getString)("DeviceStorageAccessDeniedMessage"),title:Object(T.getString)("ForwardingFailedDueToStorageAccessTitle"),acceptButtonText:Object(T.getString)("ok")}):n.errors[0].errorCode==o.c.DATA_NOT_FOUND&&Object(W.c)({id:"attachment-not-downloaded-on-device",message:Object(T.getString)("AttachmentNotDownloadedOnDeviceMessage"),title:Object(T.getString)("ForwardingFailedDueToNotDownloadedTitle"),acceptButtonText:Object(T.getString)("ok")})):((t,n)=>{const i=n.tcIds;if(h.b.infoWithNonPIIData(H,"Response received from device for forward; toConversationId : ",i),a.a.recordForwardMessageResponseTelemetry(p,t,!0,{SOURCE_ID:d,CONVERSATION_TYPE:g.toString()}),i){const t=s.conversationsState.selectedConversation;N.notifyOnStatePredicate(e=>!Object(I.g)(e.conversationsState.allConversations[i])).then(()=>{e.dispatch(L.c.selectConversation(i,t))})}const r=Object.assign({},P.h.successNotification,{id:l,title:"ForwardedMessage"});Object(D.c)(e,r,f)})(u,t.paths[0].value)},_=oe([u.id],i,r);c.c.sendMessage({paths:_}).then(e=>{h.b.infoWithNonPIIData(H,"Initial Response received from device for forward.");const t=e.paths[0];Object(o.k)(t)?(h.b.errorWithNonPIIData(j,"Error response received while trying to forward messages ",t.errors),m(u,t.errors[0])):c.c.addPathHandlerSubscription(e.paths[0].path[0],{handleRequest:e=>E(e.data)})}).catch(e=>{h.b.errorWithPIIData(H,"Error trying to forward message",e?[e.stack||e.stacktrace,"error code: ",e.errorCode]:"",w.a.stringify(e)),m(u,e)})},oe=(e,t,n)=>{const i=[];return i.push({rt:c.a.MUTATE,path:[j],variables:{action:"fwd",mIds:e.join(),cIds:t.length>0?t.join():null,pIds:n.length>0?n.join():null}}),i},ae=(e,t,n)=>{if(n.length>1)return void h.b.errorWithNonPIIData(j,"Cannot edit and forward to multiple participants.");const i=e.getState(),r=n[0],o=De.getMessage(i,t),a=Object(f.d)(o.type,o.subType)?R.a.openDuplicateSurveyView(e,o):null;if(a){if(r.type===v.b.CONVERSATION||r.type===v.b.ME){const t=r.id,n=i.conversationsState.selectedConversation;e.dispatch(L.c.selectConversation(t,n)),N.notifyOnStatePredicate(e=>L.f.getSelectedConversationId(e)===t).then(()=>{a(t)})}else if(r.type===v.b.USER){const t=r.id;e.dispatch(L.c.startPeerConversation(t)),N.notifyOnStatePredicate(e=>{const n=L.f.getConversationForPeerId(e,t);return n&&n.convId&&L.f.getSelectedConversationId(e)===n.convId}).then(()=>{const e=L.f.getConversationForPeerId(i,t).convId;a(e)})}}else h.b.errorWithNonPIIData(j,"Invalid message to edit.")},se=(e,t,n)=>{const i=l.e.getLatestMessageId(e,t);h.b.infoWithNonPIIData(j,"dm update: latest message id is ",i);const r=n.some(e=>i===e.id);return h.b.infoWithNonPIIData(j,"dm update: hasLatestMessageDeleted is ",r),r},ce=e=>({ERROR_CODE:e&&e.getRespCode?e.getRespCode():e&&e.errorCode?e.errorCode:null,ERROR_MESSAGE:e&&e.getRespMessage?e.getRespMessage():e&&e.message?e.message:null,GUID:e&&e.getGuid?e.getGuid():null}),le=(e,t,n)=>{n.value&&n.value.length>0?(h.b.infoWithNonPIIData(j,"Pre fetch Messages received count",n.value.length),G.d.recordEnd(a.c.CHAT_PRE_FETCH_MESSAGES_LOAD_TIME,a.c.CHAT_PRE_FETCH_MESSAGES,{MESSAGE_COUNT:n.value.length}),e.dispatch(d.b.preFetchMessagesReceived(n.value))):h.b.errorWithNonPIIData(j,"no result found for pre Fetch message objects processing")};function ue(){return{messages:{},moduleVersion:0}}const de=_.l,pe=(e={messages:{},moduleVersion:0},t)=>{switch(t.type){case d.a.MESSAGE_INSERT:{const n=t.rawMessage;e.messages[n.id]=S.a(n),e=Object.assign({},e);break}case d.a.MESSAGES_INSERT:{const n=t.rawMessages;for(const t of n)e.messages[t.id]=S.a(t);e=Object.assign({},e);break}case d.a.MESSAGE_DELETE:{const n=t.messageId;delete e.messages[n],e=Object.assign({},e);break}case d.a.MESSAGES_DELETE:t.messages.forEach(t=>{delete e.messages[t.id]}),e=Object.assign({},e);break;case g.a.SET_MODULE_VERSION:e=Object.assign({},e,{moduleVersion:t.moduleVersionMap[de]});break;case d.a.PRE_FETCH_MESSAGES_RECEIVED:{const n=t.rawMessages;for(const t of n)e.messages[t.id]=S.a(t);e=Object.assign({},e)}}return e};var he=n(70),fe=n(24),ge=n(155),me=n(84),Ee=n(38),_e=n(140),Se=n(80),Te=n(50),ve=n(121),Ie=n.n(ve);const be=(e,t)=>e.messagesState.messages[t],ye=(e,t)=>t,Ce=e=>(t,n,i,r,o)=>L.f.canForwardToConversation(e,t,n,i,r,o),Ae=e=>{const t=e.contactsState.allContacts;return Object(Ee.c)(t)&&(h.b.infoWithNonPIIData("getAllContactsData","Contacts information is not found in state. Fetching!"),b.a.dispatch(_e.a.fetchContacts())),t.data},Oe=(e,t,n)=>L.f.isForwardRestrictedToOrgGroupOnly(e,n),Ne=(e,t,n)=>L.f.getTenantId(e,n),Re=e=>t=>R.a.getSurveyAttachments(e,t),Pe=(e,t)=>{const n=De.getAllAttachments(e,t);if(null!=n)for(const e of n)if(e.ty===Te.a.Document&&(i=e.afn,"PDF"!==Se.a(i,!1).toLocaleUpperCase()))return!0;var i;return!1},we=e=>L.f.getAllConversationsInfo(e),Me=e=>e;var De=new class{constructor(){this.getMessage=Object(he.a)([be,ye],(e,t)=>t?e:(h.b.errorWithNonPIIData("MESSAGES SELECTORS","Invalid messageId"),null)),this.getAllAttachments=Object(he.a)([be,Re],(e,t)=>{if(!e)return null;const n=[];if(Object(f.d)(e.type,e.subType))n.push(...t(e));else if(e.type===f.h.GENERIC_MESSAGE)switch(e.subType){case f.g.SYSTEM_DOCUMENT_ATTACHMENT:n.push({ty:Te.a.Document,afn:e.documentName});break;case f.g.SYSTEM_VIDEO_ATTACHMENT:{const t=e;n.push({ty:Te.a.Video,afn:t&&t.localFileObj?t.localFileObj.name:""});break}case f.g.SYSTEM_AUDIO_ATTACHMENT:{const t=e;n.push({ty:Te.a.Audio,afn:t&&t.localFileObj?t.localFileObj.name:""});break}case f.g.SYSTEM_ALBUM_ATTACHMENT:{const t=e;if(t&&t.imageItems){const e=t.imageItems.map(e=>({ty:Te.a.Image,afn:e&&e.localFileObj?e.localFileObj.name:""}));n.push(...e)}break}case f.g.ANNOUNCEMENT:n.push(...JSON.parse(e.attachmentServerPaths))}else if(e.type===f.h.IMAGE_ATTACHMENT){const t=e;n.push({ty:Te.a.Image,afn:t&&t.localFileObj?t.localFileObj.name:""})}return n}),this.isTextMessage=Object(he.a)([be],e=>!(!e||e.type!==f.h.TEXT_MESSAGE&&(e.type!==f.h.GENERIC_MESSAGE||e.subType!==f.g.TRM&&e.subType!==f.g.ENHANCED_TEXT))),this.isAttachmentMessage=Object(he.a)([be],e=>!(!e||e.type!==f.h.IMAGE_ATTACHMENT&&(e.type!==f.h.GENERIC_MESSAGE||e.subType!==f.g.SYSTEM_ALBUM_ATTACHMENT&&e.subType!==f.g.SYSTEM_CONTACT_ATTACHMENT&&e.subType!==f.g.SYSTEM_VIDEO_ATTACHMENT&&e.subType!==f.g.SYSTEM_AUDIO_ATTACHMENT&&e.subType!==f.g.SYSTEM_DOCUMENT_ATTACHMENT))),this.getAllParticipantsToForward=Object(he.a)([we,Ae,x.f.getMyUserId,this.isTextMessage,this.isAttachmentMessage,Oe,Ne,Pe,Ce],(e,t,n,i,r,o,a,s,c)=>{const l={},u=((e,t,n,i,r,o,a,s)=>{const c=[];return e.forEach(e=>{const l=t(e.convId,r,o,a,s);let u=v.b.CONVERSATION;e.convType!==fe.f.ONE_ON_ONE||e.tenantId||(i[e.peerId]=!0,n===e.peerId&&(u=v.b.ME));const d=new ge.a(e.convId,e.title,u,e.photoServerUrl,null,null,e.glyphText,e.glyphBgColor,e.tenantId,null,!l);u===v.b.ME&&c.length>0?c.splice(0,0,d):c.push(d)}),c})(e,c,n,l,s,o?a:null,i,r);return o||((e,t,n)=>{for(const i of Object.keys(t)){const r=t[i];let o="";if(r.userId){if(n[r.userId])continue;o=r.pictureUrl;const t=new ge.a(r.userId,r.name,v.b.USER,o,r.phoneNum,r.phoneNum,me.a.getGlyphText(r.name),me.a.getGlyphBackground(r.phoneNum));e.push(t)}}})(u,t,l),u}),this.getMentionedUserDataList=Object(he.a)([Me,be],(e,t)=>{const n=t.getAtMentionData();if(n&&n.mentionedUserDataList&&0!==n.mentionedUserDataList.length){const t=[];return n.mentionedUserDataList.forEach(n=>{t.push(Object.assign({},n,{userName:x.f.getUserInfo(e,n.id).name}))}),t}return null}),this.getHostConversationId=(e,t)=>{if(t){const n=e.messagesState.messages[t];return n?n.getHostConversationId():null}return h.b.errorWithNonPIIData("MESSAGES SELECTORS","Invalid messageId"),null},this.isOutgoing=(e,t)=>{if(t){const n=e.messagesState.messages[t];return x.f.getMyProfile(e).id===n.sender}return h.b.errorWithNonPIIData("MESSAGES SELECTORS","Invalid messageId"),null},this.isGroupMembershipChangeMessage=e=>Ie()([f.h.ADD_USERS_TO_CONVERSATION,f.h.ADD_GROUP_TO_GROUP,f.h.REMOVE_USER_FROM_CONVERSATION,f.h.REMOVE_GROUP_FROM_GROUP,f.h.LEAVE_GROUP,f.h.REMOVE_USERS_FROM_GROUP],e),this.isMessagePresent=(e,t)=>!!be(e,t),this.getMessagesModuleVersion=e=>e.messagesState.moduleVersion}};n(99);function Le(e){return"getLocalPathsToUpload"in e&&"getLocalFileForPath"in e&&"type"in e&&"onFileUploaded"in e}},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"f",(function(){return c}));const i={VERBOSE_STATE:1,COMPACT_STATE:2,READ_RECEIPT_V2_STATE:3};var r,o,a,s;!function(e){e[e.UNKNOWN=-1]="UNKNOWN",e[e.UNSYNCED_TO_DEVICE=0]="UNSYNCED_TO_DEVICE",e[e.NOT_READY=1]="NOT_READY",e[e.WAITING_SEND=2]="WAITING_SEND",e[e.WAITING_SEND_ACK=3]="WAITING_SEND_ACK",e[e.SENT_SUCCESS=4]="SENT_SUCCESS",e[e.SENT_FAILURE=5]="SENT_FAILURE",e[e.RECEIVED_BY_ALL=6]="RECEIVED_BY_ALL",e[e.READ_BY_ALL=7]="READ_BY_ALL",e[e.PROCESSING_FAILURE=8]="PROCESSING_FAILURE",e[e.PROCESSING_SUCCESS=9]="PROCESSING_SUCCESS",e[e.PROCESSING_SUCCESS_1=10]="PROCESSING_SUCCESS_1",e[e.CANCELLED=11]="CANCELLED",e[e.DELETE_WAITING_SEND=12]="DELETE_WAITING_SEND",e[e.DELETE_SUCCESS=13]="DELETE_SUCCESS",e[e.DELETE_FAILED=14]="DELETE_FAILED",e[e.PLAYED_BY_ALL=15]="PLAYED_BY_ALL"}(r||(r={})),function(e){e[e.DELIVERED=1]="DELIVERED",e[e.READ=2]="READ",e[e.PLAYED=8]="PLAYED"}(o||(o={})),function(e){e[e.DELETE_FOR_EVERYONE=0]="DELETE_FOR_EVERYONE",e[e.REPORTED_OFFENSIVE=1]="REPORTED_OFFENSIVE"}(a||(a={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.ORIGINAL_MESSAGE_DELETER=1]="ORIGINAL_MESSAGE_DELETER",e[e.GROUP_ADMIN=2]="GROUP_ADMIN",e[e.MICROSOFT_ADMIN=3]="MICROSOFT_ADMIN"}(s||(s={}));const c=e=>{if("number"==typeof e)return e;switch(e){case"UNKNOWN":return r.UNKNOWN;case"NOT_READY":return r.NOT_READY;case"WAITING_SEND":return r.WAITING_SEND;case"WAITING_SEND_ACK":return r.WAITING_SEND_ACK;case"SENT_FAILURE":return r.SENT_FAILURE;case"SENT_SUCCESS":return r.SENT_SUCCESS;case"RECEIVED_BY_ALL":return r.RECEIVED_BY_ALL;case"READ_BY_ALL":return r.READ_BY_ALL;case"PROCESSING_FAILURE":return r.PROCESSING_FAILURE;case"PROCESSING_SUCCESS":return r.PROCESSING_SUCCESS;case"PROCESSING_SUCCESS_1":return r.PROCESSING_SUCCESS_1;case"CANCELLED":return r.CANCELLED;case"UNSYNCED_TO_DEVICE":return r.UNSYNCED_TO_DEVICE;case"PLAYED_BY_ALL":return r.PLAYED_BY_ALL}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a.a})),n.d(t,"b",(function(){return o.a})),n.d(t,"e",(function(){return r.a})),n.d(t,"c",(function(){return i.a})),n.d(t,"h",(function(){return i.c})),n.d(t,"g",(function(){return i.b})),n.d(t,"i",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return d.a}));var i=n(254),r=n(316),o=n(208),a=n(220),s=n(139),c=n(11);const l=new class{constructor(){this.initialize=e=>{this.readReceiptInfoLoadEvent=new s.a,this.props=e,this.readReceiptInfoLoadEvent.initialize(e.messageId,!1)},this.recordConnectionChange=e=>{this.isAlive()&&this.readReceiptInfoLoadEvent.recordInternalEvent(e)},this.recordInternalEvent=(e,t,n)=>{this.isValidAndAliveEvent(e)&&this.readReceiptInfoLoadEvent.recordInternalEvent(t,n)},this.recordInternalEventStart=(e,t,n)=>{this.isValidAndAliveEvent(e)&&this.readReceiptInfoLoadEvent.recordInternalEventStart(t,n)},this.recordInternalEventEnd=(e,t)=>{this.isValidAndAliveEvent(e)&&this.readReceiptInfoLoadEvent.recordInternalEventEnd(t)},this.recordReadReceiptLoadComplete=(e,t,n)=>{if(!this.isValidAndAliveEvent(e))return;const i=this.readReceiptInfoLoadEvent.getEndTimeForEvent(c.b.DATA_FETCH);i&&this.readReceiptInfoLoadEvent.recordInternalEvent(c.b.READ_RECEIPT_INFO_RENDER_TIME,this.readReceiptInfoLoadEvent.getElapsedTime()-i),this.readReceiptInfoLoadEvent.recordEnd(c.c.READ_RECEIPT_INFO_LOAD,t,Object.assign({},n,{MESSAGE_ID:this.props.messageId,CONVERSATION_ID:this.props.conversationId,CONVERSATION_TYPE:this.props.conversationType}))},this.isAlive=()=>this.readReceiptInfoLoadEvent&&this.readReceiptInfoLoadEvent.isAlive(),this.reset=()=>{this.readReceiptInfoLoadEvent&&this.readReceiptInfoLoadEvent.isAlive()&&this.readReceiptInfoLoadEvent.reset()},this.isValidAndAliveEvent=e=>this.isAlive()&&this.readReceiptInfoLoadEvent.equals(e)}},u=new s.a(c.c.CHAT_PRE_FETCH_MESSAGES_LOAD_TIME,"LOAD");var d=n(233)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{}i.SURVEY_PACKAGE_BASE_ID="survey-package-base-id",i.SHARE_PHOTO_WITH_LOCATION_BASE_PACKAGE_ID="SharePhotoWithLocation",i.SHARE_PHOTO_WITH_LOCATION_PACKAGE_ID="SharePhotoWithLocation",i.ANNOUNCEMENT_BASE_PACKAGE_ID="Announcement",i.ANNOUNCEMENT_PACKAGE_ID="Announcement",i.LIVE_TRACK_BASE_PACKAGE_ID="LiveTrack",i.LIVE_TRACK_PACKAGE_ID="LiveTrack",i.LOCATION_REQUEST_BASE_PACKAGE_ID="LocationRequest",i.LOCATION_REQUEST_PACKAGE_ID="LocationRequest",i.SUBMIT_BILL_BASE_PACKAGE_ID="SubmitBill",i.SUBMIT_BILL_PACKAGE_ID="SubmitBill",i.SHARE_LOCATION_BASE_PACKAGE_ID="ShareLocation",i.SHARE_LOCATION_PACKAGE_ID="ShareLocation",i.SURVEY_BASE_PACKAGE_ID="survey-package-base-id",i.SURVEY_PACKAGE_ID="survey-package-id",i.OOB_JOB_BASE_PACKAGE_ID="out_of_box_job_base",i.OOB_JOB_PACKAGE_ID="out_of_box_job",i.OOB_POLL_BASE_PACKAGE_ID="out_of_box_poll_base",i.OOB_POLL_PACKAGE_ID="out_of_box_poll",i.OOB_MEETING_BASE_PACKAGE_ID="out_of_box_poll_meeting",i.OOB_MEETING_PACKAGE_ID="out_of_box_meeting",i.LIVE_SHARE_BASE_PACKAGE_ID="share_live_location",i.LIVE_SHARE_PACKAGE_ID="share_live_location",i.TIC_TAC_TOE_BASE_PACKAGE_ID="TicTacToe",i.TIC_TAC_TOE_PACKAGE_ID="TicTacToe",i.INFO_ACTION_DEFAULT_BASE_PACKAGE_ID="InfoActionDefault",i.INFO_ACTION_DEFAULT_PACKAGE_ID="InfoActionDefault",i.PAYMENTS_BASE_PACKAGE_ID="kaizala.OOB.PaymentsBase",i.PAYMENTS_PACKAGE_ID="kaizala.OOB.Payments",i.INVITE_TO_PAYMENTS_PACKAGE_ID="kaizala.OOB.InviteToPayment",i.INVITE_TO_PAYMENTS_BASE_PACKAGE_ID="kaizala.OOB.InviteToPaymentBase",i.SHARE_PHOTO_WITH_LOCATION_MINI_APP_ID="SharePhotoWithLocation",i.QUICK_POLL_MINI_APP_ID="QuickPoll",i.ANNOUNCEMENT_MINI_APP_ID="Announcement",i.FORM_PARENT_TEMPLATE_ID="form",i.JOB_MINI_APP_ID="Job",i.LETS_MEET_MINI_APP_ID="LetsMeet",i.LIVE_TRACK_MINI_APP_ID="LiveTrack",i.LOCATION_REQUEST_MINI_APP_ID="LocationRequest",i.SUBMIT_BILL_MINI_APP_ID="SubmitBill",i.SHARE_LOCATION_MINI_APP_ID="ShareLocation",i.SURVEY_APP_ID=i.SURVEY_PACKAGE_BASE_ID,i.LETS_MEET_APP_ID=i.OOB_MEETING_BASE_PACKAGE_ID,i.NEW_JOB_MINI_APP_ID="com.microsoft.kaizala.miniapps.oob.jobtestman5",i.TIC_TAC_TOE_MINI_APP_ID="TicTacToe",i.DEFAULT_CLASSIFICATION="default",i.GAME_CLASSIFICATION="game",i.ATTENDANCE_GA_PACKAGE_ID="com.microsoft.kaizala.miniapps.attendanceCard.GA",i.TRAINING_PACKAGE_ID="com.microsoft.kaizala.miniapps.oob.training",i.QUIZ_GA_PACKAGE_ID="com.microsoft.kaizala.miniapps.oob.quiz.GA",i.CHECKLIST_BASE_PACKAGE_ID="546977be424-8888-764c-a633-GA-checklist",i.CHESS_BASE_PACKAGE_ID="com.microsoft.mobile.kaizala.chess.prod",i.MOBIQWIK_PAYMENT_BASE_PACKAGE_ID="com.microsoft.kaizala.mobikwik.payments",i.UPI_PAYMENTS_BASE_PACKAGE_ID="kaizala.OOB.Payments",i.INVITE_TO_UPI_PAYMENTS_BASE_PACKAGE_ID="kaizala.OOB.InviteToPaymentBase",i.MSN_NEWS_PACKAGE_ID="com.msn.kaizala.miniapps.News"},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return p})),n.d(t,"g",(function(){return h})),n.d(t,"k",(function(){return f})),n.d(t,"d",(function(){return E})),n.d(t,"c",(function(){return _})),n.d(t,"e",(function(){return T})),n.d(t,"f",(function(){return v})),n.d(t,"j",(function(){return I})),n.d(t,"i",(function(){return b})),n.d(t,"h",(function(){return y}));var i,r=n(7),o=n(189),a=n(63),s=n(1),c=n(80),l=n(121),u=n.n(l),d=n(6);!function(e){e[e.Image=1]="Image",e[e.Audio=2]="Audio",e[e.Document=3]="Document",e[e.RecordVideo=4]="RecordVideo",e[e.ContactCard=5]="ContactCard",e[e.Video=6]="Video",e[e.Scan=7]="Scan",e[e.Generic=99]="Generic"}(i||(i={}));const p=[{id:i.Image.toString(),type:i.Image,nameKey:"ImageAttachmentCaption",selectionType:"gif,jpg,png,jpeg",restrictedSelectionType:"gif,jpg,png,jpeg",isDisableInPalette:!1,allowMultiple:!0,maxNumberOfFiles:30},{id:i.Video.toString(),type:i.Video,nameKey:"VideoAttachmentCaption",selectionType:"mp4",restrictedSelectionType:"mp4",isDisableInPalette:!1,allowMultiple:!1},{id:i.Document.toString(),type:i.Document,nameKey:"DocumentAttachmentCaption",selectionType:"docx,doc,ppt,pptx,xls,xlsx,pdf",restrictedSelectionType:"pdf",isDisableInPalette:!1,allowMultiple:!1},{id:i.ContactCard.toString(),type:i.ContactCard,nameKey:"ContactAttachmentCaption",selectionType:"",restrictedSelectionType:"",isDisableInPalette:!0,allowMultiple:!1},{id:i.Audio.toString(),type:i.Audio,nameKey:"AudioAttachmentCaption",selectionType:"mp3",restrictedSelectionType:"mp3",isDisableInPalette:!1,allowMultiple:!1}],h=e=>{switch(e){case i.Image.toString():return r.a.ImageAttchmentPaletteIcon;case i.Video.toString():return r.a.VideoAttchmentPaletteIcon;case i.Document.toString():return r.a.DocumentAttchmentPaletteIcon;case i.ContactCard.toString():return r.a.ContactAttchmentPaletteIcon;case i.Audio.toString():return r.a.AudioAttchmentPaletteIcon;default:return""}},f=(e,t)=>{const n=o.a.PaletteActionSuffix;if(!e||!e.name.includes(".")||"."===e.name.substr(-1))return Object(a.c)(m()),null;const i=c.a(e.name,!1).toLowerCase(),r=g(i);return Object(d.g)(r)||r.isDisableInPalette?(Object(a.c)(m()),null):t&&b(e.name,r)?(Object(a.c)(S()),null):r.type.toString()+n},g=e=>{let t;return p.some(n=>{const i=n.selectionType.split(",");if(u()(i,e))return t=n,!0}),t},m=()=>({id:"invalid-file",message:Object(s.getString)("BaseLoadingFailedMessage"),title:Object(s.getString)("BaseLoadingFailedTitle"),acceptButtonText:Object(s.getString)("ok")}),E=()=>({id:"multiple-file",message:Object(s.getString)("MultipleFilesMessage"),title:Object(s.getString)("MultipleFilesTitle"),acceptButtonText:Object(s.getString)("ok")}),_=()=>({id:"different-file",message:Object(s.getString)("DifferentFilesMessage"),title:Object(s.getString)("DifferentFilesTitle"),acceptButtonText:Object(s.getString)("ok")}),S=()=>({id:"restricted-file",message:Object(s.getString)("PolicyRestrictedAttachmentMessage"),title:Object(s.getString)("PolicyRestrictedAttachmentTitle"),acceptButtonText:Object(s.getString)("ok")}),T=()=>({id:"public-group",message:Object(s.getString)("LoadingFailedForPublicGroupMessage"),title:Object(s.getString)("BaseLoadingFailedTitle"),acceptButtonText:Object(s.getString)("ok")}),v=()=>({id:"restricted-attachment",message:Object(s.getString)("PolicyRestrictAttachment"),title:Object(s.getString)("PolicyRestrictAttachmentTitle"),acceptButtonText:Object(s.getString)("ok")}),I=(e,t)=>{const n=c.a(e,!1).toLowerCase();return u()(t.selectionType.split(","),n)},b=(e,t)=>{const n=c.a(e,!1).toLowerCase();return!u()(t.restrictedSelectionType.split(","),n)},y=e=>b(e,p[2])},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(0),r=n(16),o=n(9),a=n(37),s=n(107);class c extends i.Component{constructor(e){super(e),this.tappableIconContainerRef=null,this.getAccessibilityPropsForIcon=()=>this.isClickable?Object(r.f)(this.onClick):{},this.onClick=e=>{this.isClickable&&this.props.onClick(this.props.id,e)},this.setTappableIconContainerRef=e=>{this.tappableIconContainerRef=e,this.props.getRef&&this.props.getRef(e)},this.getDynamicAttributes=()=>{const e={};return(this.props.onFocusBorderColor||this.props.onFocusBackgroundColor)&&(e.onFocus=e=>Object(r.p)(e,this.tappableIconContainerRef,this.props.onFocusBackgroundColor,this.props.onFocusBorderColor)),(this.props.onBlurBorderColor||this.props.onBlurBackgroundColor)&&(e.onBlur=e=>Object(r.o)(e,this.tappableIconContainerRef,this.props.onBlurBackgroundColor,this.props.onBlurBorderColor)),this.props.onMouseOverBackgroundColor&&(e.onMouseOver=e=>Object(r.r)(e,this.tappableIconContainerRef,this.props.onMouseOverBackgroundColor)),this.props.onMouseOutBackgroundColor&&(e.onMouseOut=e=>Object(r.q)(e,this.tappableIconContainerRef,this.props.onMouseOutBackgroundColor)),this.props.tabIndex&&(e.tabIndex=this.props.tabIndex),e}}shouldComponentUpdate(e){return!Object(s.a)(this.props,e)}render(){const e=this.props.accessibilityLabel?this.props.accessibilityLabel:this.props.caption,t=Object(a.a)(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",marginTop:this.props.marginTop?this.props.marginTop:0,marginRight:this.props.marginRight?this.props.marginRight:0,marginBottom:this.props.marginBottom?this.props.marginBottom:0,marginLeft:this.props.marginLeft?this.props.marginLeft:0,paddingBottom:this.props.paddingBottom?this.props.paddingBottom:0,paddingLeft:this.props.paddingLeft?this.props.paddingLeft:0,paddingRight:this.props.paddingRight?this.props.paddingRight:0,paddingTop:this.props.paddingTop?this.props.paddingTop:0},this.props.style));let n;n=Object.assign({marginBottom:2,marginLeft:2,marginRight:2,marginTop:this.props.distanceInCaptionAndIcon?this.props.distanceInCaptionAndIcon:2,textAlign:"center",opacity:this.props.disabled?.2:1},this.props.captionStyle),this.props.captionMaxLength&&(n=Object.assign({},n,{maxWidth:this.props.captionMaxLength})),this.isClickable=this.props.onClick&&!this.props.disabled;let r=this.props.className?"tappable-icon webapp-box"+this.props.className:"tappable-icon webapp-box";return r=this.isClickable?r:"",i.createElement("div",Object.assign({id:this.props.id,className:r},this.getAccessibilityPropsForIcon(),{"aria-label":e,style:t,onClick:this.onClick,ref:this.setTappableIconContainerRef},this.getDynamicAttributes()),i.createElement("img",{src:this.props.source,style:{width:this.props.width,height:this.props.height,opacity:this.props.disabled?.2:1,objectFit:"contain"},title:this.props.toolTip||void 0,alt:this.props.altText||""}),this.props.caption?i.createElement(o.a,{style:Object.assign({},n,this.props.fontStyle,this.props.captionBackground),numberOfLines:this.props.maxNumOfLines?this.props.maxNumOfLines:0,text:this.props.caption}):null)}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return d.b})),n.d(t,"a",(function(){return d.a})),n.d(t,"b",(function(){return u}));var i=n(848),r=n(135),o=n(176);function a(e,t){return function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.predicate,this.thisArg))},e}(),c=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.predicate=n,r.thisArg=i,r.count=0,r}return r.a(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(o.a),l=n(847);const u=new class{constructor(){this.subject=new i.a,this.latestEventMap={}}subscribe(e,t){return this.subject.pipe(a(t=>t.eventName===e)).subscribe(t)}subscribeAll(e){return this.subject.subscribe(e)}subscribeDebouncedEvent(e,t,n){return this.subject.pipe(a(t=>t.eventName===e),Object(l.a)(n)).subscribe(t)}post(e){this.subject.next(e),this.latestEventMap[e.eventName]=e}lastEmittedEvent(e){return this.latestEventMap[e]}};var d=n(57)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(1);class r{static getCurrentActualTime(){return Date.now()}static getDateFromTimestamp(e){return new Date(e)}static getTimeString(e){const t=i.getLanguage();return new Date(e).toLocaleString(t,{hour:"numeric",minute:"numeric"})}static getRelativeDateString(e){const t=i.getLanguage(),n=new Date(e),r=new Date;let o=null;return o=0==this.compareDates(n,r)?i.getString("todayLabel"):-1==this.compareDates(n,r)?i.getString("yesterdayLabel"):n.toLocaleString(t,{year:"numeric",month:"long",day:"numeric"}),o}static getRelativeTimeString(e){const t=i.getLanguage(),n=new Date(e),r=new Date;let o=null;if(0==this.compareDates(n,r))o=n.toLocaleString(t,{hour:"numeric",minute:"numeric"});else{const i=864e5,a=1*(r.getTime()-e)/i;o=a>0&&a<=7?n.toLocaleString(t,{weekday:"short",hour:"numeric",minute:"numeric"}):n.toLocaleString(t,{month:"short",day:"numeric",hour:"numeric",minute:"numeric"})}return o}static getDateTimeString(e){const t=i.getLanguage(),n=new Date(e),r=new Date;let o=null;return o=0==this.compareDates(n,r)?n.toLocaleString(t,{hour:"numeric",minute:"numeric"}):n.toLocaleString(t,{month:"numeric",day:"numeric",year:"numeric"}),o}static compareDates(e,t){const n=new Date(e);n.setHours(0,0,0,0);const i=new Date(t);return i.setHours(0,0,0,0),n.getDate()-i.getDate()}}},function(e,t,n){"use strict";var i,r;n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),function(e){e[e.None=-1]="None",e[e.Success=0]="Success",e[e.Duplicate=1]="Duplicate",e[e.ServerError=2]="ServerError",e[e.UnknownCommand=3]="UnknownCommand",e[e.UnknownConversation=4]="UnknownConversation",e[e.UnauthorizedUserOperation=5]="UnauthorizedUserOperation",e[e.UnsupportedOperation=6]="UnsupportedOperation",e[e.InvalidOperation=7]="InvalidOperation",e[e.Processing=8]="Processing",e[e.HasMoreResponse=9]="HasMoreResponse",e[e.InvalidRequestData=10]="InvalidRequestData",e[e.Throttle=11]="Throttle",e[e.NotFound=12]="NotFound",e[e.AlreadyExist=13]="AlreadyExist",e[e.Conflict=14]="Conflict",e[e.NotChanged=15]="NotChanged",e[e.CycleDetected=16]="CycleDetected",e[e.InvalidGroupInviteToken=17]="InvalidGroupInviteToken",e[e.LinkAlreadyExist=18]="LinkAlreadyExist",e[e.LastSeenForbidden=19]="LastSeenForbidden",e[e.TimeOut=20]="TimeOut",e[e.InValidUser=21]="InValidUser",e[e.ClientDisconnected=22]="ClientDisconnected",e[e.WebclientDisconnected=23]="WebclientDisconnected",e[e.RedirectToDeviceSU=24]="RedirectToDeviceSU",e[e.WebclientOTPMisMatch=25]="WebclientOTPMisMatch",e[e.WebclientUnauthenticated=26]="WebclientUnauthenticated",e[e.WebclientInvalid=27]="WebclientInvalid",e[e.BadGateway=28]="BadGateway",e[e.TooManyRequests=29]="TooManyRequests",e[e.WebclientLoggedOut=35]="WebclientLoggedOut"}(i||(i={})),function(e){e[e.ServerDisconnected=2e3]="ServerDisconnected",e[e.Timeout=2001]="Timeout"}(r||(r={}))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return y})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return F})),n.d(t,"f",(function(){return J})),n.d(t,"b",(function(){return i.o}));var i=n(59);function r(){return{myProfile:void 0,users:{},tenantUsers:{},moduleVersion:0}}var o=n(38),a=n(28),s=n(13);const c=new class{constructor(){this.insertMyProfile=e=>new u(e),this.fetchUser=(e,t)=>new f(e,t),this.fetchProfileAttributes=(e,t)=>new g(e,t),this.insertUser=(e,t)=>new d(e,t),this.insertUserProfile=(e,t,n,i)=>new p(e,t,n,i),this.insertUsers=(e,t,n,i)=>new h(e,t,n,i)}setUserFetchState(e,t,n){return new m(e,t,n)}};var l;!function(e){e.USER_FETCH="users/fetch-user",e.SET_USER_FETCH_STATE="users/set-fetch-status-user",e.USER_PROFILE_ATTRIBUTES_FETCH="users/fetch-user-attributes",e.MY_PROFILE_INSERT="users/insert-my-profile",e.USER_INSERT="users/insert-user",e.USER_PROFILE_ATTRIBUTES_INSERT="users/insert-user-attributes",e.USERS_INSERT="users/insert-users"}(l||(l={}));class u extends s.c{constructor(e){super(l.MY_PROFILE_INSERT),this.myProfile=e}}class d extends s.c{constructor(e,t){super(l.USER_INSERT),this.user=e,this.tenantId=t}}class p extends s.c{constructor(e,t,n,i){super(l.USER_PROFILE_ATTRIBUTES_INSERT),this.userId=e,this.tenantId=t,this.profileAttributes=n,this.tenantUserProfile=i}}class h extends s.c{constructor(e,t,n,i){super(l.USERS_INSERT),this.users=e,this.tenantId=t,this.reqUsers=n,this.isRetryable=i}}class f extends s.b{constructor(e,t){super(l.USER_FETCH),this.userId=e,this.tenantId=t}getIdentifier(){return this.type+"_"+this.userId+"_"+this.tenantId}}class g extends s.c{constructor(e,t){super(l.USER_PROFILE_ATTRIBUTES_FETCH),this.userId=e,this.tenantId=t}}class m extends s.c{constructor(e,t,n){super(l.SET_USER_FETCH_STATE),this.userIds=e,this.tenantId=t,this.fetchState=n}}var E=n(4),_=n(6),S=n(32),T=n(142),v=n.n(T);const I="USERS REDUCER",b=a.s,y=(e={myProfile:void 0,users:{},tenantUsers:{},moduleVersion:0},t)=>{switch(t.type){case S.a.SET_MODULE_VERSION:e=Object.assign({},e,{moduleVersion:t.moduleVersionMap[b]});break;case l.MY_PROFILE_INSERT:{const n=t.myProfile;e.users[Object(i.n)(n.id)]={fetchState:o.a.Success,data:n},e=Object.assign({},e,{myProfile:n});break}case l.SET_USER_FETCH_STATE:{const n=t.userIds,r=t.tenantId;E.b.infoWithNonPIIData(I,"Updating fetchState for ",n.length," users for tenant ",r);const o=(r===i.d?e.users:e.tenantUsers&&e.tenantUsers[r])||{};n.forEach(n=>{const a={fetchState:t.fetchState,data:o[n]&&o[n].data||null};C(e,r,Object(i.n)(n),a)}),e=Object.assign({},e);break}case l.USER_INSERT:{const n=i.h.FromJSON(t.user),r={fetchState:o.a.Success,data:n};E.b.infoWithNonPIIData(I,"Inserting user for ",n.id),C(e,t.tenantId,Object(i.n)(n.id),r),e=Object.assign({},e);break}case l.USER_PROFILE_ATTRIBUTES_INSERT:{const n=t.profileAttributes,r=t.tenantUserProfile,o=Object(i.n)(t.userId);let a=null;Object(_.d)(t.tenantId)?e.users[o]&&!Object(_.g)(e.users[o].data)&&(a=e.users[o].data):e.tenantUsers[t.tenantId]&&e.tenantUsers[t.tenantId][o]&&!Object(_.g)(e.tenantUsers[t.tenantId][o].data)&&(a=e.tenantUsers[t.tenantId][o].data),Object(_.g)(a)?E.b.errorWithNonPIIData(I,"user does not exist to update profile, userId:",o," tenantId:",t.tenantId):(a.profileAttributes=n,a.tenantUserProfile=r),e=Object.assign({},e);break}case l.USERS_INSERT:if(Object(_.g)(t.isRetryable)){const n=v()(t.users)?t.users:[t.users];E.b.infoWithNonPIIData(I,"Inserting userinfo for ",n.length," users to state");for(const r of n){const n={fetchState:o.a.Success,data:r};C(e,t.tenantId,Object(i.n)(r.id),n)}}else{const n={fetchState:t.isRetryable?o.a.RetryableFailure:o.a.PermanentFailure,data:null},r=t.userIds;E.b.infoWithNonPIIData(I,"Error fetching user info for ",r.length," users and tenant ",t.tenantId,". Setting data to null"),r.forEach(r=>{C(e,t.tenantId,Object(i.n)(r),n)})}e=Object.assign({},e)}return e},C=(e,t,n,r)=>{if(Object(_.g)(t)||""===t||t===i.d)e.users[n]=r;else{const i=e.tenantUsers[t]||{};r&&r.data&&r.data.pictureUrl&&(r.data=Object.assign({},r.data,{pictureUrl:null})),i[n]=r,e.tenantUsers[t]=i}};var A=n(19),O=n(20),N=n(132),R=n.n(N),P=n(154),w=n.n(P),M=n(223),D=n.n(M),L=n(192),x=n.n(L),k=n(287),U=n.n(k);const G=a.s,F=(new class{constructor(){this.inFlightRequests={}}addToInFlightActions(e){if(e.isBatchable){const t=e.getIdentifier();return t in this.inFlightRequests?(this.inFlightRequests[t]+=1,!1):(this.inFlightRequests[t]=1,!0)}return!1}removeFromInFlightActions(e){e.forEach(e=>{if(e.isBatchable){const t=e.getIdentifier();delete this.inFlightRequests[t]}})}},e=>t=>n=>{switch(n.type){case s.a.ACTION_COLLECTION:switch(n.subType){case l.USER_FETCH:{const t={},r=e.getState(),a=r.usersState.moduleVersion>=(Object(O.isiOS)(r.sessionState.maOS)?i.i.IOS_TENANT_USER_ENABLED_VERSION:i.i.TENANT_USER_ENABLED_VERSION);if(n.actionList.forEach(e=>{const n=!a||Object(_.g)(e.tenantId)?i.d:e.tenantId;t[n]?t[n].push(e.userId):t[n]=[e.userId]}),E.b.infoWithNonPIIData("userMiddleware","Fetching info for ",n.actionList.length," users."),x()(t)){E.b.infoWithNonPIIData("userMiddleware","skipping userInfoFetch as the requested Id is not present");break}D()(t,(t,n)=>{E.b.infoWithNonPIIData("userMiddleware","Setting fetchState for ",t.length," users and tenant : ",n),e.dispatch(c.setUserFetchState(t,n,o.a.Fetching))});const s=!Object(O.isiOS)(r.sessionState.maOS)&&r.usersState.moduleVersion>=i.i.CACHE_ENABLED_VERSION,l=[],u=[];t[i.d]&&R()(t[i.d],e=>{i.o.has(e)?l.push(i.h.FromJSON(i.o.get(e))):u.push(e)}),E.b.infoWithNonPIIData("userMiddleware","Fetching info from cache for ",l.length," users."),l.length>0&&e.dispatch(c.insertUsers(l,i.d)),s&&t[i.d]&&(u.length>0?t[i.d]=u:delete t[i.d]);const d=[];if(x()(t)||D()(t,(e,t)=>{E.b.infoWithNonPIIData("userMiddleware","Fetching info from device for ",e.length," users for tenant ",t),d.push({rt:A.a.QUERY,path:[G,e.join()],variables:{tenantId:t===i.d?"":t}})}),s&&l.length>0&&d.push({rt:A.a.QUERY,path:[G,"diff",U()(w()(l,e=>e.id+"@"+e.eTag),",")]}),0==d.length){E.b.infoWithNonPIIData("userMiddleware","skipping userInfoFetch as there is no user to fetch.");break}A.c.sendMessage({paths:d}).then(t=>{R()(t.paths,t=>{if(t.path[0]!=G)return;let n=[];Array.isArray(t.value)?t.value.forEach(e=>{n.push(i.h.FromJSON(e))}):n=[t.value];const r=t.variables&&t.variables.tenantId;E.b.infoWithNonPIIData("userMiddleware","Received response from ",n.length," users from path ",JSON.stringify(t.path)),R()(n,e=>{!Object(_.g)(r)&&""!==r||!e||Object(i.m)(e)||i.o.put(e.id,e)}),e.dispatch(c.insertUsers(n,r))})}).catch(n=>{E.b.errorWithPIIData("userMiddleware","Error receiving userInfo ",[n]),D()(t,(t,n)=>{e.dispatch(c.insertUsers(null,n,t,!0))})})}}break;case S.a.ON_SESSION_RESET:{const t=n.resetPayload.pL;t&&e.dispatch(c.insertMyProfile(i.h.FromJSON(t[G+"/me"])));const r=e.getState().sessionState.id;n.asyncPathList.push({rt:A.a.SUBSCRIBE,path:[G,"me"],preFetch:!1,sessionId:r});break}case l.USER_PROFILE_ATTRIBUTES_FETCH:{const t=function(e,t){const n=[];return n.push({rt:A.a.QUERY,path:[G,"profile",e],variables:{tenantId:Object(_.g)(t)?"":t}}),n}(n.userId,n.tenantId);A.c.sendMessage({paths:t}).then(t=>{!function(e,t,n){let r,o;t.getState().usersState.moduleVersion>=i.i.TENANT_USER_ENABLED_VERSION?(r=e.pat,o=e.tp):r=e;if(Object(_.g)(n.tenantId)&&i.o.has(n.userId)){const e=i.o.get(n.userId);e.profileAttributes=r,e.tenantUserProfile=o,i.o.put(n.userId,e)}t.dispatch(c.insertUserProfile(n.userId,n.tenantId,r,o))}(t.paths[0].value,e,n)}).catch(e=>{E.b.errorWithPIIData(G,[" (",n.type,"): ",e.stack||e.stacktrace,"error code: ",e.errorCode],e)});break}}return t(n)});var B=n(26),V=n(70),W=n(1),j=n(15);const H=e=>e.usersState.myProfile,z=(e,t,n)=>Object(_.g)(n)||""===n||e.usersState.moduleVersion<(e=>Object(O.isiOS)(e.sessionState.maOS)?i.i.IOS_TENANT_USER_ENABLED_VERSION:i.i.TENANT_USER_ENABLED_VERSION)(e)?e.usersState.users[Object(i.n)(t)]:e.usersState.tenantUsers[n]&&e.usersState.tenantUsers[n][Object(i.n)(t)]||null,Y=(e,t,n,r=!1)=>Object(i.n)(t),K=(e,t,n,i=!1)=>n,q=(e,t,n,i)=>i,Q=e=>e;var J=new class{constructor(){this.getMyProfile=Object(V.a)([H],e=>{if(e)return E.b.infoWithNonPIIData("getMyProfile","My information is found!!!"),e;E.b.warnWithNonPIIData("getMyProfile"," My information is not found!!!")}),this.getMyUserId=Object(V.a)([H],e=>e?e.id:""),this.getUserInfo=Object(V.a)([z,Y,K,q,Q],(e,t,n,r,a)=>{if(t){if(Object(o.c)(e))E.b.infoWithNonPIIData("getUserInfo","User information is not found for user id:",t," and tenantId:",n),B.a.dispatch(c.fetchUser(t,n));else if(e.fetchState===o.a.Success)return!e.data.profileAttributes&&r&&(e=>Object(O.isAndroid)(e.sessionState.maOS))(a)&&B.a.dispatch(c.fetchProfileAttributes(t,n)),e.data}else E.b.errorWithNonPIIData("getUserInfo","Invalid userId");return Object(i.k)(t)}),this.getUserWithProfileAttributes=Object(V.a)([this.getUserInfo,K],(e,t)=>(!Object(i.m)(e)&&Object(_.g)(e.profileAttributes)&&(E.b.infoWithNonPIIData("getUserProfile","fetching user profile ",e.id," and tenantId:",t),B.a.dispatch(c.fetchProfileAttributes(e.id,t))),e)),this.getUserNameForDisplay=(e,t)=>this.getMyUserId(e)===t.id?W.getString("You"):t.name,this.getUserName=(e,t,n)=>{const i=this.getUserInfoForConversation(e,t,n);return this.getUserNameForDisplay(e,i)},this.getUserInfoForConversation=(e,t,n)=>{const i=j.f.isOneOnOneConversation(e,n)?j.f.getTenantId(e,n):null;return this.getUserInfo(e,t,i)}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));class i{constructor(e,t){this.eventName=e,this.payload=t}}var r;!function(e){e.ERROR="error",e.SEND_MESSAGE="send-message",e.MUTATE_TASK_COMPLETED="mutate-task-completed",e.MUTATE_QUEUE_UPDATE="mutate-queue-update",e.MEDIA_UPLOAD_PROGRESS="media-upload-progress",e.OUTGOING_CHANNEL_QUEUE_SUCCESS="outgoing-channel-queue-success",e.OUTGOING_CHANNEL_QUEUE_FAILED="outgoing-channel-queue-failed",e.TELEMETRY_EVENT="telemetry-event",e.TELEMETRY_METRIC="telemetry-metric",e.MESSAGE_SEND_TIMEOUT="outgoing-send-timeout",e.IFRAME_FOCUS_CHANGED="iframe-focus-changed",e.CONNECTION_STATE_CHANGED="connection-state-changed",e.APP_FG_CHANGED="app-foreground-changed",e.CONTEXT_MENU_OPEN="context-menu-open",e.APP_JS_DOWNLOAD_STATE_CHANGE="appjs-download-state",e.LOCALE_CONTENT_STATE_CHANGE="locale-content-state",e.ON_APP_ACTIVELY_CONNECT="on-app-actively-connect"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return G}));var i=n(240),r=n(52),o=n(20),a=n(25),s=n(57),c=n(43),l=n(4),u=n(6),d=n(333);class p extends d.a{aggregatePayload(e,t){const n=this.getAggregatedPayloadForMarker(e);let i,r={};if(null!=n&&(r=c.a.safeParse(n)),!Object(u.g)(t))for(const e of Object.keys(t)){let n=t[e];if(null==n&&(n="null"),Object(u.g)(r[e])){const t={};t[n]=1,r[e]=t}else{const t=r[e];if(!Object(u.g)(t[n])){const e=t[n];t[n]=e+1;continue}t[n]=1}}i=Object(u.g)(r[p.COUNT])?1:r[p.COUNT]+1,r[p.COUNT]=i,this.setAggregatedPayloadForMarker(e,JSON.stringify(r))}}p.COUNT="Event_Count";var h,f=n(314);!function(e){e.WEBAPP_REPORT="webapp_report"}(h||(h={}));var g=n(34),m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E=window.device,_={},S=[];window.device=_;var T=window.document.documentElement,v=window.navigator.userAgent.toLowerCase(),I=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","pov_tv","hbbtv","ce-html"];function b(e,t){return-1!==e.indexOf(t)}function y(e){return b(v,e)}function C(e){return T.className.match(new RegExp(e,"i"))}function A(e){var t=null;C(e)||(t=T.className.replace(/^\s+|\s+$/g,""),T.className=t+" "+e)}function O(e){C(e)&&(T.className=T.className.replace(" "+e,""))}function N(){_.landscape()?(O("portrait"),A("landscape"),R("landscape")):(O("landscape"),A("portrait"),R("portrait")),M()}function R(e){for(var t=0;t<S.length;t++)S[t](e)}_.macos=function(){return y("mac")},_.ios=function(){return _.iphone()||_.ipod()||_.ipad()},_.iphone=function(){return!_.windows()&&y("iphone")},_.ipod=function(){return y("ipod")},_.ipad=function(){var e="MacIntel"===navigator.platform&&navigator.maxTouchPoints>1;return y("ipad")||e},_.android=function(){return!_.windows()&&y("android")},_.androidPhone=function(){return _.android()&&y("mobile")},_.androidTablet=function(){return _.android()&&!y("mobile")},_.blackberry=function(){return y("blackberry")||y("bb10")},_.blackberryPhone=function(){return _.blackberry()&&!y("tablet")},_.blackberryTablet=function(){return _.blackberry()&&y("tablet")},_.windows=function(){return y("windows")},_.windowsPhone=function(){return _.windows()&&y("phone")},_.windowsTablet=function(){return _.windows()&&y("touch")&&!_.windowsPhone()},_.fxos=function(){return(y("(mobile")||y("(tablet"))&&y(" rv:")},_.fxosPhone=function(){return _.fxos()&&y("mobile")},_.fxosTablet=function(){return _.fxos()&&y("tablet")},_.meego=function(){return y("meego")},_.cordova=function(){return window.cordova&&"file:"===location.protocol},_.nodeWebkit=function(){return"object"===m(window.process)},_.mobile=function(){return _.androidPhone()||_.iphone()||_.ipod()||_.windowsPhone()||_.blackberryPhone()||_.fxosPhone()||_.meego()},_.tablet=function(){return _.ipad()||_.androidTablet()||_.blackberryTablet()||_.windowsTablet()||_.fxosTablet()},_.desktop=function(){return!_.tablet()&&!_.mobile()},_.television=function(){for(var e=0;e<I.length;){if(y(I[e]))return!0;e++}return!1},_.portrait=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?b(screen.orientation.type,"portrait"):_.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?90!==Math.abs(window.orientation):window.innerHeight/window.innerWidth>1},_.landscape=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?b(screen.orientation.type,"landscape"):_.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?90===Math.abs(window.orientation):window.innerHeight/window.innerWidth<1},_.noConflict=function(){return window.device=E,this},_.ios()?_.ipad()?A("ios ipad tablet"):_.iphone()?A("ios iphone mobile"):_.ipod()&&A("ios ipod mobile"):_.macos()?A("macos desktop"):_.android()?_.androidTablet()?A("android tablet"):A("android mobile"):_.blackberry()?_.blackberryTablet()?A("blackberry tablet"):A("blackberry mobile"):_.windows()?_.windowsTablet()?A("windows tablet"):_.windowsPhone()?A("windows mobile"):A("windows desktop"):_.fxos()?_.fxosTablet()?A("fxos tablet"):A("fxos mobile"):_.meego()?A("meego mobile"):_.nodeWebkit()?A("node-webkit"):_.television()?A("television"):_.desktop()&&A("desktop"),_.cordova()&&A("cordova"),_.onChangeOrientation=function(e){"function"==typeof e&&S.push(e)};var P="resize";function w(e){for(var t=0;t<e.length;t++)if(_[e[t]]())return e[t];return"unknown"}function M(){_.orientation=w(["portrait","landscape"])}Object.prototype.hasOwnProperty.call(window,"onorientationchange")&&(P="orientationchange"),window.addEventListener?window.addEventListener(P,N,!1):window.attachEvent?window.attachEvent(P,N):window[P]=N,N(),_.type=w(["mobile","tablet","desktop"]),_.os=w(["ios","iphone","ipad","ipod","android","blackberry","macos","windows","fxos","meego","television"]),M();var D,L=_,x=n(1),k=n(150);class U{static initialize(){U.updateFixedPayloadFields()}}U.getTelemetryCommonPayload=()=>(U.updateVariablePayloadFields(),Object.assign({},U.telemetryCommonPayload)),U.updateCommonPayloadField=(e,t=null)=>{t&&(U.telemetryCommonPayload[e]=t)},U.telemetryCommonPayload={},U.updateFixedPayloadFields=()=>{U.telemetryCommonPayload[D.WA_WEB_ID]=a.c.getWebId(),U.telemetryCommonPayload[D.WA_CLIENT_APP_AUDIENCE_GROUP]=o.webAppAudienceGroup,U.telemetryCommonPayload[D.WA_SERVER_ENV]=o.serverEnv,U.telemetryCommonPayload[D.WA_DEVICE_TYPE]=L.type,U.telemetryCommonPayload[D.D_BUILD_TYPE]=a.c.getDeviceBuildType(),U.telemetryCommonPayload[D.WA_IS_AUTOMATION]=o.isAutomation,U.telemetryCommonPayload[D.WA_VERSION]=o.webAppVersion,U.telemetryCommonPayload[D.WA_BUILD_FLAVOUR]=o.webAppBuildFlavour},U.updateVariablePayloadFields=()=>{U.telemetryCommonPayload[D.APP_DEVICE_ID]=a.c.getDeviceId(),U.telemetryCommonPayload[D.APP_DEVICE_OS]=a.c.getDeviceOs(),U.telemetryCommonPayload[D.APP_DEVICE_CLIENT_VERSION]=a.c.getDeviceAppClientVersion(),U.telemetryCommonPayload[D.APP_DEVICE_MODEL]=a.c.getDeviceModel(),U.telemetryCommonPayload[D.WA_CLIENT_APP_UI_LANGUAGE]=Object(x.getLanguage)();const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection||navigator.msConnection||{};U.telemetryCommonPayload[D.WA_CONNECTION]=c.a.stringify({downlink:e.downlink,effectiveType:e.effectiveType,rtt:e.rtt}),U.telemetryCommonPayload[D.WA_WINDOW_WIDTH]=window.innerWidth,U.telemetryCommonPayload[D.WA_WINDOW_HEIGHT]=window.innerHeight,U.telemetryCommonPayload[D.WA_SCREEN_RESOLUTION_WIDTH]=screen.width,U.telemetryCommonPayload[D.WA_SCREEN_RESOLUTION_HEIGHT]=screen.height,U.telemetryCommonPayload[D.WA_SCREEN_RESOLUTION_AVAIL_WIDTH]=screen.availWidth,U.telemetryCommonPayload[D.WA_SCREEN_RESOLUTION_AVAIL_HEIGHT]=screen.availHeight,U.telemetryCommonPayload[D.WA_SCREEN_ORIENTATION]=screen.msOrientation,U.telemetryCommonPayload[D.WA_USER_AGENT]=navigator.userAgent,U.telemetryCommonPayload[D.WA_MEMORY_USAGE]=window.performance?window.performance.memory:"";const t=r.b.lastEmittedEvent(s.b.APP_FG_CHANGED);U.telemetryCommonPayload[D.WA_FOREGROUND]=!t||!t.payload,U.telemetryCommonPayload[D.D_INTERNET_CONNECTION]=k.a.getAppNetworkType()},function(e){e.APP_DEVICE_CLIENT_VERSION="APP_DEVICE_CLIENT_VERSION",e.APP_DEVICE_ID="APP_DEVICE_ID",e.APP_DEVICE_MODEL="APP_DEVICE_MODEL",e.APP_DEVICE_OS="APP_DEVICE_OS",e.WA_VERSION="WA_VERSION",e.WA_IS_AUTOMATION="WA_IS_AUTOMATION",e.WA_CLIENT_APP_AUDIENCE_GROUP="WA_CLIENT_APP_AUDIENCE_GROUP",e.WA_CLIENT_APP_UI_LANGUAGE="WA_CLIENT_APP_UI_LANGUAGE",e.WA_CONNECTION="WA_CONNECTION",e.WA_SERVER_ENV="WA_SERVER_ENV",e.WA_PLATFORM="WA_PLATFORM",e.WA_BUILD_FLAVOUR="WA_BUILD_FLAVOUR",e.WA_SCREEN_ORIENTATION="WA_SCREEN_ORIENTATION",e.WA_SCREEN_RESOLUTION_AVAIL_HEIGHT="WA_SCREEN_RESOLUTION_AVAIL_HEIGHT",e.WA_SCREEN_RESOLUTION_AVAIL_WIDTH="WA_SCREEN_RESOLUTION_AVAIL_WIDTH",e.WA_SCREEN_RESOLUTION_HEIGHT="WA_SCREEN_RESOLUTION_HEIGHT",e.WA_SCREEN_RESOLUTION_WIDTH="WA_SCREEN_RESOLUTION_WIDTH",e.WA_USER_AGENT="WA_USER_AGENT",e.WA_WEB_ID="WA_WEB_ID",e.WA_WINDOW_HEIGHT="WA_WINDOW_HEIGHT",e.WA_WINDOW_WIDTH="WA_WINDOW_WIDTH",e.WA_DEVICE_TYPE="WA_DEVICE_TYPE",e.WA_BROWSER_SESSION_ID="WA_BROWSER_SESSION_ID",e.WA_MEMORY_USAGE="WA_MEMORY_USAGE",e.WA_FOREGROUND="WA_FOREGROUND",e.D_INTERNET_CONNECTION="D_INTERNET_CONNECTION",e.D_BUILD_TYPE="D_BUILD_TYPE"}(D||(D={}));class G{static initialize(){G.defaultTelemetryLogger=i.AWTLogManager.initialize(o.shouldSendTelemetryToProd?G.ARIA_TENANT_PROD:G.ARIA_TENANT_DEV),i.AWTLogManager.addNotificationListener(G.telemetryEventNotificationListener),G.updateContext(),U.initialize(),a.c.registerOnValueUpdate(this.updateContext,a.a.UID),l.b.registerOnLog(G.recordOrThrow,l.a.ERROR),r.b.subscribe(s.b.TELEMETRY_EVENT,G.onTelemetryEvent),r.b.subscribe(s.b.TELEMETRY_METRIC,G.onTelemetryMetricEvent)}static recordEvent(e,t){-1!=G.sAggregateEvents.indexOf(e)?G.sEventAggregator.aggregatePayload(e,t):G.sendTelemetry(e,t)}static recordMetric(e,t){-1!=G.sAggregatedMetrics.indexOf(e)?G.sMetricAggregator.aggregatePayload(e,t.METRIC_VALUE,t):(l.b.infoWithNonPIIData(G.LOG_TAG,e,t),G.sendTelemetry(e,t))}static flushTelemetry(){l.b.infoWithNonPIIData(G.LOG_TAG,"flushing aggregted telemetry"),G.sAggregateEvents.forEach(e=>{const t=G.sEventAggregator.getAggregatedPayloadForMarker(e);G.sendAggregatedTelemetryInternal(e,{SUFFIX:t,TAG:"EventAggregator"})}),G.sAggregatedMetrics.forEach(e=>{const t=G.sEventAggregator.getAggregatedPayloadForMarker(e);G.sendAggregatedTelemetryInternal(e,{SUFFIX:t,TAG:"AggregatedMetrics"})})}static updateContext(){i.AWTLogManager.getLogger().getSemanticContext().setUserId(a.c.getUserId(),i.AWTPiiKind.NotSet)}static sendTelemetry(e,t){if(!G.defaultTelemetryLogger)return void l.b.infoWithNonPIIData(G.LOG_TAG,"defaultTelemetryLogger is null/undefined");const n=Object.assign({},t,U.getTelemetryCommonPayload(),{EventName:"WEBAPP_"+e});l.b.debugWithPIIData(G.LOG_TAG,"sending telemetry",c.a.stringify(n)),G.defaultTelemetryLogger.logEvent({name:h.WEBAPP_REPORT,properties:n})}static sendAggregatedTelemetryInternal(e,t){Object(u.g)(t)||(G.sendTelemetry(e,t),G.sEventAggregator.clearAggregatedPayloadForMarker(e))}static recordOrThrow(e,t,n,...i){if(G.recordEvent(g.b.ERROR,{TIME:c.a.stringify(e),LEVEL:c.a.stringify(l.a[t]),TAG:n,SUFFIX:c.a.stringify(i)}),!o.isProdMode){const e="App ran into exception \n"+n+"\n "+JSON.stringify(i);alert(e)}}static onTelemetryEvent(e){const t=e.payload;G.recordEvent(t.marker,t.markerPayload)}static onTelemetryMetricEvent(e){const t=e.payload;G.recordMetric(t.metricName,{METRIC_VALUE:t.metricValue,SUFFIX:c.a.stringify(t.metricPayload)})}}G.LOG_TAG="TelemetryWrapper",G.defaultTelemetryLogger=null,G.sAggregatedMetrics=[g.b.PEER_MESSAGE_ROUND_TRIP_TIME,g.b.PEER_MESSAGE_NETWORK_TIME,g.b.PEER_MESSAGE_SEND_DELAY,g.b.PEER_PROCESSING_TIME,g.b.PEER_PROCESSING_TIME_FOR_UPDATE,g.b.PEER_PROCESSING_TIME_NOTIFICATIONS],G.sMetricAggregator=new f.a,G.sAggregateEvents=[g.b.PEER_MESSAGE_RETRY_COUNT],G.sEventAggregator=new p,G.ARIA_TENANT_PROD="9aac5adad2954055b7f26caa2ee85910-6494ebad-dee1-4577-b82c-f06917816268-7100",G.ARIA_TENANT_DEV="b33c8688c6e747c597d7002d55600f7a-7da02a4a-7489-4bd5-afef-562e41b8eed6-7327",G.telemetryEventNotificationListener={eventsDropped:(e,t)=>{l.b.debugWithPIIData(G.LOG_TAG,["telemetryEventNotificationListener: ","dropped telemetry because of ",t," and events are: "],c.a.stringify(e))},eventsRejected:(e,t)=>{l.b.debugWithPIIData(G.LOG_TAG,["telemetryEventNotificationListener: ","rejected telemetry because of ",t," and events are: "],c.a.stringify(e))},eventsSent:e=>{l.b.debugWithPIIData(G.LOG_TAG,["telemetryEventNotificationListener: ","telemetry sent successfully and events are: "],c.a.stringify(e))},eventsRetrying:e=>{l.b.debugWithPIIData(G.LOG_TAG,["telemetryEventNotificationListener: ","retrying telemetry events: "],c.a.stringify(e))}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"i",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"h",(function(){return h})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return g})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return E})),n.d(t,"l",(function(){return _})),n.d(t,"o",(function(){return S}));var i=n(84),r=n(175);const o="Member",a="-999",s={CACHE_ENABLED_VERSION:2,TENANT_USER_ENABLED_VERSION:3,IOS_TENANT_USER_ENABLED_VERSION:2},c="AADDisplayName",l="AADEmailId",u="Source",d="NetworkType",p="organization";class h{static FromJSON(e){const t=e.id,n=e.name,i=e.ph||e.phoneNumber,r=e.url||e.pictureUrl,o=e.an||e.IsAnonymous,a=e.e||e.eTag,s=e.lm||e.LastModified,c=e.pat||e.profileAttributes,l=e.tp,u=e.gbc,d=e.snc,p=e.isEmailUser||e.ieu;return new h(t,n,i,r,o,a,s,u,d,c,l,p)}constructor(e,t,n,i,r,o,a,s,c,l,u,d){this.id=e,this.name=t,this.phoneNumber=n,this.pictureUrl=i,this.isAnonymous=r,this.eTag=o,this.lastModified=a,this.glyphColor=s,this.senderNameColor=c,this.profileAttributes=l,this.tenantUserProfile=u,this.primaryIdentifier=!0===d?f.Email:f.Phone}}var f;!function(e){e[e.Phone=0]="Phone",e[e.Email=1]="Email"}(f||(f={}));const g=e=>({id:e,name:o,phoneNumber:null,primaryIdentifier:f.Phone}),m=e=>e&&null==e.phoneNumber&&e.name===o,E=e=>e.replace("USR_",""),_=e=>e.glyphColor?e.glyphColor:i.a.getGlyphBackground(e.phoneNumber),S=new r.a("usr",200)},function(e,t,n){"use strict";function i(){return{stickyNotificationVMs:{},overlayNotificationVMs:{},messageId:null,moduleVersion:0}}n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return z})),n.d(t,"e",(function(){return J})),n.d(t,"a",(function(){return x})),n.d(t,"c",(function(){return L})),n.d(t,"f",(function(){return C}));var r=n(11),o=n(100),a=n(26),s=n(77),c=n(15),l=n(4),u=n(13),d=n(29),p=n(28),h=n(33),f=n(32),g=n(61),m=n(24),E=n(329),_=n(78),S=n(7),T=n(6),v=n(20);const I=p.n,b=new Set;let y=[];const C=e=>t=>n=>{switch(n.type){case u.a.ON_UPDATE_RECEIVED:{const e=Object(s.b)(n.responseData,I,"notification");e&&N(n,e);break}case f.a.ON_APP_FG_CHANGED:n.isAppForeground&&(y=[]);break;case x.UPDATE_NOTIFICATION_BADGE:{const t=e.getState().conversationsState,n=t.allConversationsIds,i=t.allConversations;let r=0;for(const e of n){const t=i[e];r+=t&&!Object(m.m)(t.convState,m.e.MUTE)?t.unSeenMsgCount:0}const o=localStorage.getItem(_.b);document.title=r>0?"("+r+") "+o:o;break}case f.a.ON_SESSION_RESET:{const t=Object(E.b)();"granted"===t?(l.b.infoWithNonPIIData(I,"Permission was granted, Notification enabled on session reset"),e.dispatch(L.enableBrowserNotification(!0)),A(!0)):("denied"===t&&(l.b.infoWithNonPIIData(I,"Permission was denied, Notification disabled on session reset"),e.dispatch(L.enableBrowserNotification(!1))),A(!1));break}case x.CLICK_NOTIFICATION:"enableBrowserNotification"===n.notificationId&&Notification.requestPermission().then(t=>{e.dispatch(L.removeNotification(n.notificationId,h.b.STICKY)),"granted"===t?(l.b.infoWithNonPIIData(I,"Permission was granted, Notification enabled on clicking Notification Enable sticky notification"),e.dispatch(L.enableBrowserNotification(!0)),A(!0)):(l.b.infoWithNonPIIData(I,"Permission not granted on clicking Notification Enable sticky notification"),A(!1))});break;case x.ENABLE_BROWSER_NOTIFICATION:O()&&(n.isEnable?n.asyncPathList.push({rt:d.f.SUBSCRIBE,path:[p.n,"notification"],preFetch:!1}):n.asyncPathList.push({rt:d.f.UNSUBSCRIBE,path:[p.n,"notification"],preFetch:!1}))}return t(n)};const A=e=>{null!==g.a.getData(_.d)&&null!==g.a.getData(_.h)||g.a.setData(_.d,e),null!==g.a.getData(_.f)&&null!==g.a.getData(_.h)||g.a.setData(_.f,e),null!==g.a.getData(_.g)&&null!==g.a.getData(_.h)||g.a.setData(_.g,e)},O=()=>!!(Object(v.IsSupportedProtocolVersion)("5",a.a.getState().sessionState.protocol)&&a.a.getState().notificationState.moduleVersion>1)||(l.b.infoWithNonPIIData(I,["Notification not supported with current App","Protocol version is ",a.a.getState().sessionState.protocol,"and Notification Module version is ",a.a.getState().notificationState.moduleVersion]),!1),N=(e,t)=>{if(Object(d.k)(t))l.b.errorWithNonPIIData(I,"error response at",t.path[1],t.errors);else if(t.value&&0!=t.value.length){const e=new h.e(t.value);if(!a.a.getState().appState.isAppForeground&&a.a.getState().appState.isWebInstanceActive&&g.a.getData(_.d)&&!M(e)){w();const t=""===e.getSenderName()?S.a.NotificationGroupProfileDefaultIcon:S.a.NotificationProfileDefaultIcon,n={body:g.a.getData(_.f)?e.getContent():"",icon:Object(T.d)(e.getIcon())?t:e.getIcon(),timestamp:Number(e.getTimestamp()),silent:!g.a.getData(_.g)},i=Object(T.d)(e.getGroupName())?e.getSenderName():e.getGroupName(),o=new Notification(i,n);y.push(o);const a="Text"!==e.getCategory();o.onclick=()=>{P(e.getConversationId(),e.getMessageId(),a),o.close()},l.b.infoWithNonPIIData(I,"notification received from the device with notificationId: ",e.getNotificationId()),r.e.recordEvent(r.c.NOTIFICATION_RECEIVED,{})}D(e)}else l.b.errorWithPIIData(I,["empty response",t.value,"at",t.path[1]],JSON.stringify(e.responseData.paths))},R=(e,t)=>{const n=[];n.push({rt:d.f.ACK,path:[I,e,t]});o.b.sendAckMessage({paths:n}).catch(e=>{l.b.errorWithNonPIIData(I,"error response at",e.stack||e.stacktrace)})},P=(e,t,n)=>{parent.focus(),a.a.dispatch(c.c.selectConversation(e,void 0,t,n?t:null))},w=()=>{y.forEach(e=>e.close())},M=e=>a.a.getState().notificationState.moduleVersion<2?b.has(e.getTimestamp()):b.has(e.getNotificationId()),D=e=>{a.a.getState().notificationState.moduleVersion<2?(b.add(e.getTimestamp()),R("messageId",e.getMessageId())):(b.add(e.getNotificationId()),R("nId",e.getNotificationId()))};const L=new class{constructor(){this.addNotification=(e,t)=>new U(e,t),this.removeNotification=(e,t)=>new G(e,t),this.clickNotification=e=>new F(e),this.updateNotification=(e,t)=>new B(e,t),this.updateNotificationBadge=()=>new V,this.enableBrowserNotification=e=>new k(e)}};var x;!function(e){e.ADD_NOTIFICATION="notification/add",e.REMOVE_NOTIFICATION="notification/remove",e.CLICK_NOTIFICATION="notification/click",e.UPDATE_NOTIFICATION="notification/update",e.UPDATE_NOTIFICATION_BADGE="notification/updateBadge",e.ENABLE_BROWSER_NOTIFICATION="notification/enableBrowserNotification"}(x||(x={}));class k extends u.d{constructor(e){super(x.ENABLE_BROWSER_NOTIFICATION),this.isEnable=e}}class U extends u.c{constructor(e,t){super(x.ADD_NOTIFICATION),this.notificationModel=e,this.container=t}}class G extends u.c{constructor(e,t){super(x.REMOVE_NOTIFICATION),this.notificationId=e,this.container=t}}class F extends u.c{constructor(e){super(x.CLICK_NOTIFICATION),this.notificationId=e}}class B extends u.c{constructor(e,t){super(x.UPDATE_NOTIFICATION),this.notificationModel=e,this.container=t}}class V extends u.c{constructor(){super(x.UPDATE_NOTIFICATION_BADGE)}}var W=n(88),j=n.n(W);const H=p.n,z=(e={stickyNotificationVMs:{},overlayNotificationVMs:{},messageId:null,moduleVersion:0},t)=>{switch(t.type){case x.ADD_NOTIFICATION:{const n=t.notificationModel;if(t.container==h.b.OVERLAY){const t=j()(e.overlayNotificationVMs);t[n.id]=n,e=Object.assign({},e,{overlayNotificationVMs:t})}else{const t=j()(e.stickyNotificationVMs);t[n.id]=n,e=Object.assign({},e,{stickyNotificationVMs:t})}break}case x.REMOVE_NOTIFICATION:if(t.container==h.b.OVERLAY){const n=j()(e.overlayNotificationVMs);delete n[t.notificationId],e=Object.assign({},e,{overlayNotificationVMs:n})}else{const n=j()(e.stickyNotificationVMs);delete n[t.notificationId],e=Object.assign({},e,{stickyNotificationVMs:n})}break;case x.UPDATE_NOTIFICATION:if(t.container==h.b.OVERLAY){const n=t.notificationModel;if(e.overlayNotificationVMs[n.id]){const t=j()(e.overlayNotificationVMs);t[n.id]=n,e=Object.assign({},e,{overlayNotificationVMs:t})}}else{const n=t.notificationModel;if(e.stickyNotificationVMs[n.id]){const t=j()(e.stickyNotificationVMs);t[n.id]=n,e=Object.assign({},e,{stickyNotificationVMs:t})}}break;case f.a.SET_MODULE_VERSION:e=Object.assign({},e,{moduleVersion:t.moduleVersionMap[H]})}return e};var Y=n(70);const K=[],q=e=>e.notificationState.stickyNotificationVMs,Q=e=>e.notificationState.overlayNotificationVMs;var J=new class{constructor(){this.getVisibleStickyNotifications=Object(Y.a)(q,e=>{if(0===Object.keys(e).length)return K;const t=[];let n,i;for(const t of Object.keys(e)){const r=e[t];r.notificationCategory===h.a.PRIMARY&&(Object(T.g)(n)||n.priority>r.priority)?n=r:r.notificationCategory===h.a.SECONDARY&&(Object(T.g)(i)||i.priority>r.priority)&&(i=r)}return n&&t.push(n),i&&t.push(i),t}),this.getOverlayNotificationViewModels=Object(Y.a)(Q,e=>{if(0===Object.keys(e).length)return K;return Object.keys(e).map(t=>e[t])})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var i=n(43),r=n(4);const o="LocalStorageUtils";class a{constructor(e){this.isSessionStorage=e,this.storageListeners={},this.registerOnStorageChange=(e,t)=>{this.storageListeners[t]?this.storageListeners[t].push(e):this.storageListeners[t]=[e]},this.setData=(e,t,n)=>{if(e)try{const r=this.getEffectiveKey(e,n),o=i.a.stringify(t);return this.isSessionStorage?sessionStorage.setItem(r,o):localStorage.setItem(r,o),!0}catch(e){return!1}return!1},this.getData=(e,t)=>{if(e){const n=this.getEffectiveKey(e,t);return this.isSessionStorage?i.a.safeParse(sessionStorage.getItem(n)):i.a.safeParse(localStorage.getItem(n))}},this.getDataAsString=(e,t)=>{if(e){const n=this.getEffectiveKey(e,t);return this.isSessionStorage?sessionStorage.getItem(n):localStorage.getItem(n)}},this.removeData=(e,t)=>{if(e)try{const n=this.getEffectiveKey(e,t);this.isSessionStorage?sessionStorage.removeItem(n):localStorage.removeItem(n)}catch(e){r.b.errorWithNonPIIData(o,"isSessionStorage: ",this.isSessionStorage,"failed to remove data",e.stack||e.stacktrace||e)}},this.checkLocalStorageSupported=()=>{if(void 0!==a.isStorageSupported)return a.isStorageSupported;const e="localStorage.testKey",t="localStorage.testKey";a.isStorageSupported=!1;try{this.isSessionStorage?(sessionStorage.setItem(e,t),sessionStorage.removeItem(e)):(localStorage.setItem(e,t),localStorage.removeItem(e)),a.isStorageSupported=!0}catch(e){this.checkQuotaExceeded(e)&&(a.isStorageSupported=!0),r.b.warnWithNonPIIData(o,"isSessionStorage: ",this.isSessionStorage,"local storage is not supported",e.stack||e.stacktrace)}return a.isStorageSupported},this.checkQuotaExceeded=e=>{let t=!1;if(e)if(e.code)switch(e.code){case 22:t=!0;break;case 1014:"NS_ERROR_DOM_QUOTA_REACHED"===e.name&&(t=!0)}else-2147024882===e.number&&(t=!0);return t&&r.b.warnWithNonPIIData(o,"isSessionStorage: ",this.isSessionStorage,"out of memory",e.stack||e.stacktrace),t},this.getEffectiveKey=(e,t)=>t?t+"."+e:e,this.onStorageChanged=e=>{this.storageListeners[e.key]&&this.storageListeners[e.key].forEach(t=>{t(e.newValue)})},this.getAllKeys=()=>this.isSessionStorage?Object.keys(sessionStorage):Object.keys(localStorage),this.getAllKeysByNamespace=e=>{const t=new RegExp("^"+e+"\\..*");return this.isSessionStorage?Object.keys(sessionStorage).filter(e=>t.test(e)):Object.keys(localStorage).filter(e=>t.test(e))},this.clearStorage=()=>{this.isSessionStorage?sessionStorage.clear():localStorage.clear()},window.addEventListener("storage",this.onStorageChanged,!1)}}a.isStorageSupported=void 0;const s=new a(!1),c=new a(!0)},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return E})),n.d(t,"c",(function(){return u.b})),n.d(t,"e",(function(){return G})),n.d(t,"a",(function(){return d.e}));n(330);function i(){return{nonIMMessageTextMap:{},messageStateMap:{},readReceiptsMap:{},moduleVersion:0}}var r=n(28),o=n(77),a=n(29),s=n(4),c=n(32),l=n(46),u=n(147),d=n(47),p=n(13),h=n(73),f=n.n(h);const g="MessageMetadataReducer",m=r.k,E=(e={nonIMMessageTextMap:{},messageStateMap:{},readReceiptsMap:{},moduleVersion:0},t)=>{switch(t.type){case u.a.STORE_CONTENT_FOR_NON_IM_MESSAGES:s.b.infoWithNonPIIData(g,"inserting",t.contentList.length," non-im message strings"),t.contentList.forEach(t=>{e.nonIMMessageTextMap[t.id]=t.md}),e=Object.assign({},e,{nonIMMessageTextMap:e.nonIMMessageTextMap});break;case p.a.ON_RESPONSE_RECEIVED:{const n=Object(o.b)(t.responseData,m,"message_ids");if(n)if(Object(a.k)(n))n.errors[0].errorCode===a.c.INVALID_SESSION_ID?s.b.warnWithNonPIIData(m,"error response at message_ids",n.errors):s.b.errorWithNonPIIData(m,"error response at message_ids",n.errors);else{const t=n.value;0!==t.length&&(s.b.infoWithNonPIIData(g,"inserting",t.length," non-im message strings"),t.forEach(t=>{e.nonIMMessageTextMap[t.id]=t.md}),e=Object.assign({},e,{nonIMMessageTextMap:e.nonIMMessageTextMap}))}const i=Object(o.b)(t.responseData,m,"messageState");if(i)if(Object(a.k)(i))s.b.errorWithNonPIIData(m,"error response at messageState",i.errors);else{i.value.forEach(t=>{const n=t.md,i=Object(d.f)(n);e.messageStateMap[t.id]=i}),e=Object.assign({},e)}break}case p.a.ON_UPDATE_RECEIVED:{const n=Object(o.b)(t.responseData,m,"msgAll");if(n)if(!Object(a.k)(n)&&n.value){const t=n.value,i=t.md,r=Object(d.f)(i);e.messageStateMap[t.id]=r,e=Object.assign({},e)}else s.b.errorWithNonPIIData(m,"error response at",n.path[1],n.errors);const i=Object(o.b)(t.responseData,m,"stateForConv");if(i)if(!Object(a.k)(i)&&i.value){const t=i.value,n=t.md,r=Object(d.f)(n);e.messageStateMap[t.id]=r,e=Object.assign({},e)}else s.b.errorWithNonPIIData(m,"error response at",i.path[1],i.errors);break}case u.a.STORE_MESSAGE_STATE:{const n=t.messageStateInfo.md,i=Object(d.f)(n);e.messageStateMap[t.messageStateInfo.id]=i,e=Object.assign({},e);break}case u.a.STORE_MESSAGES_STATE:t.messagesStateInfo.forEach(t=>{const n=t.md,i=Object(d.f)(n);e.messageStateMap[t.id]=i}),e=Object.assign({},e);break;case l.a.MESSAGES_INSERT:s.b.infoWithNonPIIData(g,"inserting message states by extracting them from messages");for(const n of t.rawMessages)n.messageState&&(e.messageStateMap[n.id]=n.messageState);e=Object.assign({},e);break;case l.a.MESSAGES_DELETE:t.messages.forEach(t=>{delete e.messageStateMap[t.id],delete e.nonIMMessageTextMap[t.id]}),e=Object.assign({},e);break;case u.a.SET_READ_RECEIPT_INFO:{const n=t.messageId,i=t.receiptType,r=t.receiptInfo,o=e.readReceiptsMap[n]||{};o[i]=r,e.readReceiptsMap[n]=Object.assign({},o),e=Object.assign({},e);break}case u.a.CLEAR_ALL_READ_RECEIPTS_INFO:f()(e.readReceiptsMap).forEach(t=>delete e.readReceiptsMap[t]),e=Object.assign({},e);break;case c.a.SET_MODULE_VERSION:e=Object.assign({},e,{moduleVersion:t.moduleVersionMap[m]})}return e};var _=n(70),S=n(12),T=n(49),v=n(56),I=n(67),b=n(10),y=n(200),C=n.n(y),A=n(223),O=n.n(A),N=n(229),R=n.n(N),P=n(41),w=n(15),M=n(108);const D=(e,t)=>e.messageMetadataState.nonIMMessageTextMap[t],L=e=>e.messageMetadataState.moduleVersion,x=(e,t)=>e.messageMetadataState.readReceiptsMap[t],k=e=>t=>v.f.getUserInfo(e,t),U=e=>e.usersState;var G=new class{constructor(){this.getGroupMetadataMessageContent=Object(_.a)([D],e=>e||null),this.shouldUpdateMessagePLayedStatus=Object(_.a)([L],e=>e>=d.c.READ_RECEIPT_V2_STATE),this.getUserReadReceipts=Object(_.a)([x,U,k],(e,t,n)=>this.getReadReceipts(e,n)),this.shouldShowPlayedReceipts=Object(_.a)([l.g.getMessage],e=>e&&e.type===S.h.GENERIC_MESSAGE&&e.subType===S.g.SYSTEM_VIDEO_ATTACHMENT),this.getOneOnOneReadReceipts=Object(_.a)([x],e=>this.getReadReceipts(e,e=>null)),this.getMessageState=(e,t)=>{const n=e.messageMetadataState.messageStateMap[t];return n||d.e.UNKNOWN},this.isReplyAllowedForMessage=(e,t,n)=>{const i=t.sender!=e.usersState.myProfile.id||n!==d.e.UNKNOWN&&n!==d.e.UNSYNCED_TO_DEVICE;return!(t.subType===S.g.RESP||!i)},this.isCopyAllowedForMessage=(e,t)=>t.type===S.h.TEXT_MESSAGE||t.type===S.h.GENERIC_MESSAGE&&(t.subType===S.g.TRM||t.subType===S.g.ENHANCED_TEXT),this.isDeleteAllowedForMessage=(e,t,n)=>t.sender!=e.usersState.myProfile.id||n!==d.e.UNKNOWN&&n!==d.e.UNSYNCED_TO_DEVICE,this.isDeleteForEveryoneAllowedForMessage=(e,t)=>{const n=v.f.getMyProfile(e),i=l.g.getMessage(e,t),r=this.getMessageState(e,i.id),o=n.id!==i.sender,a=i.getHostConversationId();return!(l.g.getMessagesModuleVersion(e)<M.a.DELETE_FOR_EVERYONE)&&(!o&&!i.isDeleted()&&(!(!i.isMessageCreatedWithinAnHour()||e.conversationsState.allConversations[a].convType!==w.a.ONE_ON_ONE&&!P.e.isReachableGroup(e,a))&&(!i.isAggregateOnServer()&&r!=d.e.SENT_FAILURE)))},this.isForwardAllowedForMessage=(e,t,n,i)=>{if(t.sender==e.usersState.myProfile.id&&(n===d.e.UNKNOWN||n===d.e.UNSYNCED_TO_DEVICE))return!1;if(i===I.b.IMMERSIVE_VIEW&&t.type!==S.h.IMAGE_ATTACHMENT&&(t.type!==S.h.GENERIC_MESSAGE||t.subType!==S.g.SYSTEM_DOCUMENT_ATTACHMENT&&t.subType!==S.g.SYSTEM_VIDEO_ATTACHMENT&&t.subType!==S.g.SYSTEM_AUDIO_ATTACHMENT))return!1;if(t.type===S.h.GENERIC_MESSAGE&&t.subType!==S.g.ANNOUNCEMENT&&t.subType!==S.g.SYSTEM_CONTACT_ATTACHMENT&&t.subType!==S.g.SYSTEM_ALBUM_ATTACHMENT&&t.subType!==S.g.SYSTEM_DOCUMENT_ATTACHMENT&&t.subType!==S.g.SYSTEM_VIDEO_ATTACHMENT&&t.subType!==S.g.SYSTEM_AUDIO_ATTACHMENT&&t.subType!==S.g.TRM&&t.subType!==S.g.ENHANCED_TEXT&&t.subType!==S.g.SYSTEM_SURV_REQ&&t.subType!==S.g.SYSTEM_CUSTOM_SURVEY&&t.subType!==S.g.SYSTEM_CUSTOM_SURVEY_REM&&t.subType!==S.g.SYSTEM_SURV_REM||t.type===S.h.PHOTO_CHECKIN||t.type===S.h.BILL_SUBMIT)return!1;if(Object(S.d)(t.type,t.subType)){const n=t,i=Object(b.k)(n.packageId,e,n.surveyId,n.id);return!!(n.packageId===T.a.ANNOUNCEMENT_PACKAGE_ID||n.packageId===T.a.SURVEY_PACKAGE_ID||n.packageId===T.a.SURVEY_BASE_PACKAGE_ID||n.packageId.includes(T.a.TRAINING_PACKAGE_ID)||n.packageId.includes(T.a.MSN_NEWS_PACKAGE_ID)||i&&i.pTId&&i.pTId===T.a.ANNOUNCEMENT_PACKAGE_ID)}return!0},this.isViewReadReceiptsAllowedForMessage=(e,t,n)=>v.f.getMyProfile(e).id===t.sender&&n!==d.e.UNKNOWN&&n!==d.e.UNSYNCED_TO_DEVICE}getReadReceipts(e,t){if(!e)return;const n={};return O()(e,(e,i)=>{if(e&&e.receiptDetails){const r=parseInt(i,10);R()(n,C()(e.receiptDetails,(e,n)=>{if(this.shouldShowReceiptItem(n,r)){const i={readReceiptType:r,user:t(n.userId),readTimestamp:parseInt(n.readTimestamp,10),deliveryTimestamp:parseInt(n.deliveryTimestamp,10),playedTimestamp:parseInt(n.playedTimestamp,10)};(e[r]||(e[r]=[])).push(i)}else e[r]=[];return e},(e=>{const t={};return t[e]=[],t})(r)))}}),n}shouldShowReceiptItem(e,t){return t===d.d.READ?e.readTimestamp:t===d.d.DELIVERED?e.deliveryTimestamp:e.playedTimestamp}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h}));var i=n(0),r=n(44),o=n(1),a=n(178),s=n(16),c=n(2),l=n(6),u=n(5);function d(e){const t=e.id?e.id:Object(l.b)();!function(e,t){void 0===e.acceptButtonText&&e.onAccept&&(e.acceptButtonText=o.getString("AlertDialogYesText"));void 0===e.rejectButtonText&&e.onReject&&(e.rejectButtonText=o.getString("AlertDialogNoText"));const n=e.onAccept;e.onAccept=()=>{r.a.hideFloatingView(t),n&&n()};const i=e.onReject;e.onReject=()=>{r.a.hideFloatingView(t),i&&i()}}(e,t),r.a.showFloatingView({floatingViewContent:h(e),floatingViewId:t,isLightDismiss:e.isLightDismiss,onClose:e.onReject,accessibilityText:e.message,style:e.screenBackgroundStyle,boxShadowStyle:{boxShadow:"rgba(0, 0, 0, 0.2) 0px 6px 12px 0px"}}),e.isAnnounceForAccessibility&&Object(s.c)(e.message)}function p(e){r.a.hideFloatingView(e)}const h=e=>()=>i.createElement("div",{style:Object.assign({},f,{boxShadow:e.showShadow?"0 4px 8px 0 rgba(0, 0, 0, 0.25)":"",padding:void 0===e.padding?"20px":e.padding,paddingBottom:c.a.PADDING_16,width:void 0===e.width?f.width:e.width,minHeight:void 0===e.height?f.minHeight:e.height})},e.title?i.createElement("div",{style:g}," ",e.title," "):null,i.createElement("div",{style:m},e.message),i.createElement("div",{style:{marginLeft:"auto",marginTop:"auto"}},i.createElement("div",{style:E},e.rejectButtonText?i.createElement(a.a,{id:"AlertDialog.RejectButton."+e.id,className:e.rejectButtonClassName,onClick:e.onReject,buttonText:e.rejectButtonText,buttonWidth:e.buttonWidth,buttonMargin:e.buttonMargin,buttonFontSize:e.buttonFontSize,buttonPadding:e.buttonPadding}):null,e.acceptButtonText?i.createElement(a.a,{id:"AlertDialog.AcceptButton."+e.id,className:e.acceptButtonClassName,onClick:e.onAccept,autoFocus:!!Object(l.g)(e.autoFocusOnAcceptButton)||e.autoFocusOnAcceptButton,buttonText:e.acceptButtonText,buttonWidth:e.buttonWidth,buttonMargin:e.buttonMargin,buttonFontSize:e.buttonFontSize,buttonPadding:e.buttonPadding}):null,e.neutralButtonText?i.createElement(a.a,{id:"AlertDialog.NeutralButton."+e.id,className:e.neutralButtonClassName,onClick:e.onNeutral,buttonText:e.neutralButtonText,buttonWidth:e.buttonWidth,buttonMargin:e.buttonMargin,buttonFontSize:e.buttonFontSize,buttonPadding:e.buttonPadding}):null))),f={backgroundColor:Object(u.a)().backgroundColor4,display:"flex",flexDirection:"column",justifyContent:"flex-start",minHeight:c.a.APP_VIEW_ALERT_DIALOG_HEIGHT,width:c.a.APP_VIEW_ALERT_DIALOG_WIDTH,borderRadius:c.a.APP_VIEW_ALERT_DIALOG_BORDER_RADIUS},g={fontFamily:"Roboto",fontWeight:"bold",fontSize:18,color:Object(u.a)().textQuaternaryColor},m={fontFamily:"Roboto",fontSize:14,marginTop:c.a.MARGIN_14,color:Object(u.a)().textQuaternaryColor},E={display:"flex"}},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.ENTER=13]="ENTER",e[e.SHIFT=16]="SHIFT",e[e.CTRL=17]="CTRL",e[e.ALT=18]="ALT",e[e.PAUSE=19]="PAUSE",e[e.CAPSLOCK=20]="CAPSLOCK",e[e.ESC=27]="ESC",e[e.PAGE_UP=33]="PAGE_UP",e[e.PAGE_DOWN=34]="PAGE_DOWN",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFT_ARROW=37]="LEFT_ARROW",e[e.UP_ARROW=38]="UP_ARROW",e[e.RIGHT_ARROW=39]="RIGHT_ARROW",e[e.DOWN_ARROW=40]="DOWN_ARROW",e[e.INSERT=45]="INSERT",e[e.DLT=46]="DLT",e[e.F12=123]="F12",e[e.SPACE=32]="SPACE"}(i||(i={}))},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.None=-1]="None",e[e.SingleSelect=0]="SingleSelect",e[e.MultiSelect=1]="MultiSelect",e[e.Text=2]="Text",e[e.Numeric=3]="Numeric",e[e.Location=4]="Location",e[e.DateTime=5]="DateTime",e[e.Image=6]="Image",e[e.SingleSelectExternal=7]="SingleSelectExternal",e[e.AttachmentList=8]="AttachmentList",e[e.PhoneNumber=9]="PhoneNumber",e[e.Date=10]="Date"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var i,r=n(13);!function(e){e.OPEN_MINIAPP="miniapps/open-miniapp",e.CLOSE_MINIAPP="miniapps/close-miniapp",e.CLOSE_MINIAPP_SCREEN="miniapps/close-miniapp-screen",e.OPEN_MINIAPP_SCREEN="miniapps/open-miniapp-screen",e.EXECUTE_CARDWRAPPER_FUNCTION="miniapps/execute-card-wrapper-function",e.SET_ACTIVITY_RESULT="miniapps/set-activity-result",e.SET_PREFETCH_FUNCTION_RESULT="miniapps/set-prefetch-functions-result",e.FORCE_REFRESH_FOR_VIEW="miniapps/force-refresh-for-view",e.FETCH_MINI_APP_DATA="miniapps/fetch-miniApp-data",e.FETCH_MINI_APPS_DATA="miniapps/fetch-miniApps-data",e.SET_FETCH_STATUS_MINI_APPS_DATA="miniapps/set-fetch-status-miniApps-data",e.STORE_MINI_APP_DATA="miniapps/store-miniApp-data",e.FETCH_ACTION_CUSTOM_STRINGS="miniapps/fetch-action-custom-strings",e.STORE_ACTION_CUSTOM_STRINGS="miniapps/store-action-custom-strings",e.FETCH_CUSTOM_STRINGS_BATCH="miniapps/fetch-custom-strings-map",e.STORE_CUSTOM_STRINGS_BATCH="miniapps/store-custom-strings-map",e.STORE_IMMERSIVE_DATA_FOR_MINIAPP="miniapps/store-immersive-data-miniapp",e.STORE_MINI_APPS_DATA="miniapps/store-miniApps-data",e.MINI_APPS_LOCALE_DATA_UPDATED="miniapps/mini-app-locale-data-updated"}(i||(i={}));const o={storeImmersiveInfoForMiniapp:(e,t)=>new s(e,t),setRefreshForView:e=>new y(e),setPrefetchFunctionResult:(e,t)=>new E(e,t),setActivityResult:(e,t)=>new _(e,t),miniAppsLocaleDataUpdated:e=>new a(e),executeCardWrapperFunction:(e,t,n,i,r,o,a)=>new v(e,t,n,i,r,o,a),openMiniapp:e=>new b(e),closeMiniapp:()=>new T,closeMiniappScreen:e=>new I(e),openMiniappScreen:e=>new S(e),fetchMiniAppData:e=>new c(e),fetchMiniAppsData:e=>new l(e),setFetchStatusMiniAppsData:(e,t)=>new u(e,t),storeMiniAppData:(e,t)=>new d(e,t),storeMiniAppsData:(e,t,n)=>new p(e,t,n),fetchActionCustomStrings:(e,t,n)=>new h(e,t,n),storeActionCustomStrings:(e,t,n)=>new f(e,t,n),storeCustomStringsBatch:(e,t)=>new g(e,t),fetchCustomStringsBatch:e=>new m(e)};class a extends r.c{constructor(e){super(i.MINI_APPS_LOCALE_DATA_UPDATED),this.localeUpdatedMiniAppPkgIds=e}}class s extends r.c{constructor(e,t){super(i.STORE_IMMERSIVE_DATA_FOR_MINIAPP),this.view=e,this.info=t}}class c extends r.b{constructor(e){super(i.FETCH_MINI_APP_DATA),this.packageId=e}getIdentifier(){return this.type+"_"+this.packageId}}class l extends r.c{constructor(e){super(i.FETCH_MINI_APPS_DATA),this.packageIds=e}}class u extends r.c{constructor(e,t){super(i.SET_FETCH_STATUS_MINI_APPS_DATA),this.packageIds=e,this.fetchState=t}}class d extends r.c{constructor(e,t){super(i.STORE_MINI_APP_DATA),this.packageId=e,this.data=t}}class p extends r.c{constructor(e,t,n){super(i.STORE_MINI_APPS_DATA),this.miniAppData=e,this.packageIds=t,this.isRetryable=n}}class h extends r.c{constructor(e,t,n){super(i.FETCH_ACTION_CUSTOM_STRINGS),this.packageId=e,this.actionId=t,this.messageId=n}}class f extends r.b{constructor(e,t,n){super(i.STORE_ACTION_CUSTOM_STRINGS),this.actionId=e,this.customStrings=t,this.isRetryable=n}getIdentifier(){return this.type+"_"+this.actionId}}class g extends r.c{constructor(e,t){super(i.STORE_CUSTOM_STRINGS_BATCH),this.customStringMap=e,this.isRetryable=t}}class m extends r.c{constructor(e){super(i.FETCH_CUSTOM_STRINGS_BATCH),this.surveyMessageIdMap=e}}class E extends r.c{constructor(e,t){super(i.SET_PREFETCH_FUNCTION_RESULT),this.msgId=e,this.result=t}}class _ extends r.c{constructor(e,t){super(i.SET_ACTIVITY_RESULT),this.id=e,this.result=t}}class S extends r.c{constructor(e){super(i.OPEN_MINIAPP_SCREEN),this.view=e}}class T extends r.c{constructor(){super(i.CLOSE_MINIAPP)}}class v extends r.c{constructor(e,t,n,r,o,a,s){super(i.EXECUTE_CARDWRAPPER_FUNCTION),this.view=e,this.func=t,this.isMutate=n,this.exceptionCb=r,this.requestId=o,this.requestTag=a,this.attachmentUpload=s}}class I extends r.c{constructor(e){super(i.CLOSE_MINIAPP_SCREEN),this.viewId=e}}class b extends r.c{constructor(e){super(i.OPEN_MINIAPP),this.view=e}}class y extends r.c{constructor(e){super(i.FORCE_REFRESH_FOR_VIEW),this.viewId=e}}},function(e,t,n){"use strict";var i,r;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),function(e){e[e.NONE=0]="NONE",e[e.READ_RECEIPTS=1]="READ_RECEIPTS",e[e.REPLY=2]="REPLY",e[e.FORWARD=4]="FORWARD",e[e.COPY=8]="COPY",e[e.DELETE=16]="DELETE"}(i||(i={})),function(e){e[e.MENU=0]="MENU",e[e.IMMERSIVE_VIEW=1]="IMMERSIVE_VIEW",e[e.CANVAS=2]="CANVAS"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i,r=n(43),o=n(65),a=n(202),s=n(124),c=n(239);!function(e){e[e.Start=0]="Start",e[e.Success=1]="Success",e[e.ParsingFailed=2]="ParsingFailed",e[e.CallFailed=3]="CallFailed"}(i||(i={}));var l=n(10),u=n(90);class d{static isArray(e){return"Array"===e.constructor.name}static isObject(e){return"Object"===e.constructor.name}static isString(e){return"String"===e.constructor.name}static contains(e,t){if(null==e)return!1;for(const n of e)if(n===t)return!0;return!1}static isEmptyString(e){return null==e||null==e||0==e.length}static questionTypeFromNumber(e){switch(e){case-1:return o.a.None;case 0:return o.a.SingleSelect;case 1:return o.a.MultiSelect;case 2:return o.a.Text;case 3:return o.a.Numeric;case 4:return o.a.Location;case 5:return o.a.DateTime;case 6:return o.a.Image;case 7:return o.a.SingleSelectExternal;default:return o.a.SingleSelect}}static surveyTypeFromNumber(e){switch(e){case 0:return a.a.Poll;case 1:return a.a.Availability;case 2:return a.a.JobRequest;case 3:return a.a.LocationRequest;case 4:return a.a.TrackPath;case 20:default:return a.a.Survey}}static SurveyPropertyTypeFromNumber(e){switch(e){case 0:return s.a.Text;case 1:return s.a.Numeric;case 2:return s.a.Location;case 3:return s.a.DateTime;default:return s.a.Text}}static SurveySummaryFetchStateFromNumber(e){switch(e){case 0:return i.Start;case 1:return i.Success;case 2:return i.ParsingFailed;case 3:default:return i.CallFailed}}static getFlatMyResponse(e,t){const n=[];if(e instanceof c.a){const i=[];switch(e.getQuestionType()){case o.a.MultiSelect:const n=JSON.parse(t.getQuestionResponse(e.getId()));for(const e of n)i.push(e);break;default:i.push(t.getQuestionResponse(e.getId()))}for(const t of i){const i=e.getOptionById(parseInt(t,10));let r=null;null!=i&&(r=i.getText()),n.push(r)}}else if(e.getQuestionType()==o.a.Image){let i=t.getLocalAssetPath(t.getQuestionResponse(e.getId()));d.isEmptyString(i)&&(i=t.getQuestionResponse(e.getId())),n.push(i)}else if(e.getQuestionType()==o.a.Location){const i=JSON.parse(t.getQuestionResponse(e.getId()));d.isEmptyString(i.n)?n.push(""):n.push(i.n)}else n.push(t.getQuestionResponse(e.getId()));return n}static format(e,...t){let n=e;for(let e=0;e<t.length;e++){const i=new RegExp("\\{"+e+"\\}","gi");n=n.replace(i,t[e])}return n}static getFormattedNumberForDisplay(e){return e==Math.floor(e)?e.toFixed(0):e.toFixed(2)}static openDuplicateSurveyView(e,t){return n=>{const i=new l.c(n,t.packageId);i.setForwardContext(t.surveyId),e.dispatch(l.o.openMiniapp(i))}}static getSurveyAttachments(e,t){const n=u.f.getSurveyObject(e,t.surveyId),i=[];return n.Properties.filter(e=>e.getType()===s.a.AttachmentList).forEach(e=>{const t=r.a.safeParse(e.getValue());i.push(...t)}),n.Properties.filter(e=>e.getType()===s.a.Attachment).forEach(e=>{const t=r.a.safeParse(e.getValue());i.push(t)}),i}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p}));var i=n(24),r=n(60),o=n(33),a=n(26),s=n(501),c=n.n(s),l=n(131),u=n.n(l);const d=[i.l.RestrictCopyMessage,i.l.RestrictForwardMessage,i.l.RestrictForwardMessageToOrgGroupsOnly],p=[i.l.RestrictCopyMessage,i.l.RestrictForwardMessage,i.l.RestrictForwardMessageToOrgGroupsOnly],h={id:"_kz_action_restricted",title:"RestrictedActionMessage",isCancellable:!1,dismissTimeOut:1e4};t.a=new class{constructor(){this.onActionRestricted=()=>{a.b.dispatch(r.c.addNotification(h,o.b.OVERLAY))}}handleCopyPolicyViolation(e,t){return this.handlePolicyViolation(e,[i.l.RestrictCopyMessage],t)}handlePolicyViolation(e,t,n){if(0===e.length)return!1;const i=c()(t,e);return i.length>0&&(n?n():this.onPolicyViolated(i[0]),!0)}isCopyRestricted(e){return e.findIndex(e=>e===i.l.RestrictCopyMessage)>-1}containsPolicies(e,t){return u()(t,e).length!==t.length}onPolicyViolated(e){switch(e){case i.l.RestrictCopyMessage:case i.l.RestrictForwardMessage:case i.l.RestrictForwardMessageToOrgGroupsOnly:this.onActionRestricted()}}}},function(e,t,n){"use strict";function i(e,t){return e===t}function r(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var i=t.length,r=0;r<i;r++)if(!e(t[r],n[r]))return!1;return!0}function o(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}n.d(t,"a",(function(){return a}));var a=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return function(){for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];var a=0,s=i.pop(),c=o(i),l=e.apply(void 0,[function(){return a++,s.apply(null,arguments)}].concat(n)),u=e((function(){for(var e=[],t=c.length,n=0;n<t;n++)e.push(c[n].apply(null,arguments));return l.apply(null,e)}));return u.resultFunc=s,u.dependencies=c,u.recomputations=function(){return a},u.resetRecomputations=function(){return a=0},u}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,n=null,o=null;return function(){return r(t,n,arguments)||(o=e.apply(null,arguments)),n=arguments,o}}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var i=n(0),r=n(64),o=n(134);const a=o.a.div`
  animation-name: ${e=>o.b`
0% {
  transform: translateY(100%);
  max-height: 0;
}
100% {
  transform: translateY(0%);
}
`};
  animation-duration: ${300}ms;
  animation-iteration-count: 1;
  animation-fill-mode: forwards;
  animation-timing-function: linear;
  overflow: hidden;
`,s=o.a.div`
  animation-name: ${e=>o.b`
0% {
  transform: translateY(0%);
}
100% {
  transform: translateY(200%);
  max-height: 0;
}
`};
  animation-duration: ${300}ms;
  animation-iteration-count: 1;
  animation-fill-mode: forwards;
  animation-timing-function: linear;
  overflow: hidden;
`;class c extends i.PureComponent{constructor(){super(...arguments),this.getContentView=()=>null,this.getNodeRef=e=>{e&&(this.node=e)},this.onClickOutside=e=>{e&&this.node&&this.node.contains(e.target)||this.props.onPaletteCloseEvent()},this.handleKeyDown=e=>{(e.keyCode||e.which)===r.a.ESC&&this.props.onPaletteCloseEvent()}}render(){return this.props.paletteState===l.OPEN?i.createElement(a,{id:"Palette-Open"},this.getContentView()):this.props.paletteState===l.CLOSING?i.createElement(s,{id:"Palette-Close"},this.getContentView()):null}componentDidMount(){document.addEventListener("click",this.onClickOutside,!1),document.addEventListener("keydown",this.handleKeyDown,!1)}componentWillUnmount(){document.removeEventListener("click",this.onClickOutside,!1),document.removeEventListener("keydown",this.handleKeyDown,!1)}}var l;!function(e){e[e.OPEN=0]="OPEN",e[e.CLOSING=1]="CLOSING",e[e.CLOSE=2]="CLOSE"}(l||(l={}))},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var r=(a=i,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),o=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[n].concat(o).concat([r]).join("\n")}var a,s,c;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(i)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(r[a]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);i&&r[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},function(e,t,n){var i=n(297)(Object.keys,Object);e.exports=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n(0),r=n(3),o=n(44),a=n(8),s=n(9),c=n(7),l=n(2),u=n(5);const d={blockingViewStyle:r.Styles.createViewStyle({flexDirection:"row",flex:1,backgroundColor:Object(u.a)().backgroundColor10,alignItems:"center"}),dialogTextStyle:{color:Object(u.a)().textQuaternaryColor,marginTop:16,marginLeft:10,marginRight:10,textAlign:"center"},dialogSubTextStyle:{color:Object(u.a)().textSecondaryColor,marginTop:4,marginLeft:10,marginRight:10,textAlign:"center",fontSize:16}};class p{static show(e){o.a.showFloatingView({floatingViewContent:p.getLoadingUIView(e),floatingViewId:e.id,isLightDismiss:!1,accessibilityText:e.dialogText+e.dialogSubText,style:{backgroundColor:Object(u.a)().backgroundColor10,opacity:1}})}static hide(e){o.a.hideFloatingView(e)}static isVisible(e){return o.a.isFloatingViewVisible(e)}static getVerySmallLoadingUI(e){return i.createElement("div",{className:"loader very-small-loader",style:e})}static getSmallLoadingUI(e){return i.createElement("div",{className:"loader small-loader",style:e})}static getMediumLoadingUI(e){return i.createElement("div",{className:"loader",style:e})}static getLargeLoadingUI(e){return i.createElement("div",{className:"loader large-loader",style:e})}static getSubTextView(e){return e.dialogSubText?i.createElement(s.a,{style:Object.assign({},a.a.LargeTextStyle,d.dialogSubTextStyle),text:e.dialogSubText}):null}}p.getLoadingUIView=e=>()=>i.createElement(r.View,{style:d.blockingViewStyle},i.createElement(r.View,{style:{flexDirection:"column",flex:1,alignItems:"center",margin:16}},e.showKaizalaLogo?i.createElement(r.Image,{source:c.a.KaizalaIcon,style:{height:l.a.LOADING_UI_IMAGE_HEIGHT,width:l.a.LOADING_UI_IMAGE_WIDTH,margin:l.a.MARGIN_12}}):null,p.getMediumLoadingUI(),i.createElement("div",null,i.createElement(s.a,{style:Object.assign({},a.a.ExtraLargeMediumBoldTextStyle,d.dialogTextStyle),text:e.dialogText}),p.getSubTextView(e))))},function(e,t,n){"use strict";var i,r;n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),function(e){e.CONNECT="CONNECT",e.SEND="SEND",e.VERIFY_OTP="VerifyOTP",e.AUTHORIZE="authorize",e.TELEMETRY="TELEMETRY",e.LOGOUT="Logout",e.WAKE_UP_DEVICE="WAKE_UP_DEVICE",e.GET_CONTENT_URL="GetContentURL",e.GET_SURVEY_SUMMARY="GetSurveySummary",e.GET_REACTIONS_SUMMARY_FOR_KAS_IDS="GetReactionsSummaryForKASIds",e.GET_REACTIONS="GetReactions",e.GET_RECEIPT_DETAILS="GetReceiptDetails",e.GET_USER_ONLINE_LASTSEEN_STATUS="GetUserOnlineLastSeenStatus",e.GET_URL_PREVIEW_DATA="GetUrlPreviewData",e.GET_CONNECT_GROUP_META_INFO="GetConnectGroupMetaInfoCommand"}(i||(i={})),function(e){e[e.GET_SURVEY_SUMMARY=6]="GET_SURVEY_SUMMARY",e[e.GET_CONTENT_URL_COMMAND_ID=26]="GET_CONTENT_URL_COMMAND_ID",e[e.GET_RECEIPT_DETAILS_COMMAND_ID=75]="GET_RECEIPT_DETAILS_COMMAND_ID",e[e.GET_CONNECT_GROUP_META_INFO=89]="GET_CONNECT_GROUP_META_INFO",e[e.GET_ONLINE_LAST_SEEN_STATUS_COMMAND=119]="GET_ONLINE_LAST_SEEN_STATUS_COMMAND",e[e.CONNECT_COMMAND_ID=154]="CONNECT_COMMAND_ID",e[e.VERIFY_OTP_COMMAND_ID=155]="VERIFY_OTP_COMMAND_ID",e[e.SEND_COMMAND_ID=156]="SEND_COMMAND_ID",e[e.AUTHORIZE_COMMAND_ID=168]="AUTHORIZE_COMMAND_ID",e[e.WAKEUP_DEVICE_COMMAND_ID=191]="WAKEUP_DEVICE_COMMAND_ID",e[e.TELEMETRY_COMMAND_ID=192]="TELEMETRY_COMMAND_ID",e[e.LOGOUT_COMMAND_ID=196]="LOGOUT_COMMAND_ID",e[e.GET_REACTIONS_SUMMARY_FOR_KAS_IDS=220]="GET_REACTIONS_SUMMARY_FOR_KAS_IDS",e[e.GET_REACTIONS=36]="GET_REACTIONS",e[e.GET_URL_PREVIEW_DATA_COMMAND_ID=253]="GET_URL_PREVIEW_DATA_COMMAND_ID"}(r||(r={}));class o{constructor(e,t,n){this.guid=e,this.respCode=t,this.response=n}getGuid(){return this.guid}getRespCode(){return this.respCode}getRespMessage(){return this.response}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return H}));var i=n(34),r=n(25),o=n(58),a=n(29);const s=()=>{const e=[];e.push({rt:a.f.QUERY,path:["session"],variables:{action:"ping"}});return{paths:e}};var c,l=n(57),u=n(52),d=n(6),p=n(4),h=n(130),f=n(94),g=n(93),m=n(179),E=n(54);class _{constructor(e){this.resultType=e}}class S extends _{constructor(){super(c.Success)}}class T extends _{constructor(e,t,n){super(c.Failure),this.serverReachable=e,this.deviceReachable=t,this.isTimeout=n}}!function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"}(c||(c={}));var v=n(22),I=n(79),b=n(125);const y="BaseConnectionTask";class C{constructor(e,t){this.cmdHandler=e,this.commandListener=t,this.getTaskIdentifier=()=>"",this.onCommandComplete=e=>{this.logAndRecordTelemetryOnTaskCompletion(e),this.commandListener.onCommandComplete(e,this)},this.logAndRecordTelemetryOnTaskExecutionStart=()=>{p.b.infoWithNonPIIData(I.a.CONNECTION_TAG,y,this.getName(),I.b.STARTED_EXECUTION,this.taskId,this.getType()),o.a.recordEvent(i.b.CONNECTION_TASK,{TAG:I.a.CONNECTION_TAG,SUB_TAG:y,GUID:this.taskId,ACTION:I.b.STARTED_EXECUTION,NAME:this.getName(),TYPE:this.getType()})},this.logAndRecordTelemetryOnTaskCompletion=e=>{p.b.infoWithNonPIIData(I.a.CONNECTION_TAG,y,this.getName(),I.b.COMPLETED,this.taskId,this.getType(),c[e.resultType]),o.a.recordEvent(i.b.CONNECTION_TASK,{TAG:I.a.CONNECTION_TAG,SUB_TAG:y,GUID:this.taskId,ACTION:I.b.COMPLETED,MESSAGE:this.getTelemetryMessageFromTaskType(this.getType()),NAME:this.getName(),TYPE:this.getType(),RESULT:c[e.resultType]})},this.logAndRecordTelemetryOnTaskTimedOut=()=>{p.b.infoWithNonPIIData(I.a.CONNECTION_TAG,y,this.getName(),I.b.TIMED_OUT,this.taskId,this.getType()),o.a.recordEvent(i.b.CONNECTION_TASK,{TAG:I.a.CONNECTION_TAG,SUB_TAG:y,ACTION:I.b.TIMED_OUT,NAME:this.getName(),TYPE:this.getType(),GUID:this.taskId})},this.getTelemetryMessageFromTaskType=e=>{let t;switch(e){case j.ENSURE_WAKE_UP_DEVICE:case j.PING_WAKE_UP_DEVICE:t=i.b.DEVICE_CONNECTION;break;case j.ENSURE_SERVER_CONNECTION:t=i.b.SERVER_CONNECTION;break;case j.PING:t=i.b.PING_DEVICE;break;case j.DISCONNECT:t=i.b.ACTIVELY_DISCONNECT_CONNECTION}return t},this.taskId=Object(d.b)()}execute(){this.logAndRecordTelemetryOnTaskExecutionStart()}onCommandTimedOut(){this.logAndRecordTelemetryOnTaskTimedOut()}}class A extends C{constructor(e,t){super(e,t),this.cmdHandler=e,this.commandListener=t,this.onSocketOpened=()=>{clearTimeout(this.timeoutId),r.c.updateConnectionStatistics(r.a.ENSURE_SERVER_CONNECTION,0),this.unregisterListeners(),this.onCommandComplete(new S)},this.onConnectionClose=()=>{clearTimeout(this.timeoutId),this.unregisterListeners()},this.onConnectionError=e=>{clearTimeout(this.timeoutId),this.executeCommandFailed()},this.executeCommandFailed=e=>{this.unregisterListeners(),this.onCommandComplete(new T(!1,void 0,e))},this.unregisterListeners=()=>{b.a.unregisterOnAuthenticationSuccess(this.onSocketOpened),f.a.unRegisterOnClose(this.onConnectionClose),f.a.unRegisterOnError(this.onConnectionError)}}execute(){super.execute(),this.timeoutId=setTimeout(this.onCommandTimedOut.bind(this),I.a.getConnectCommandTimeoutMS()),b.a.registerOnAuthenticationSuccess(this.onSocketOpened,0),f.a.reconnect(),f.a.registerOnClose(this.onConnectionClose),f.a.registerOnError(this.onConnectionError)}getType(){return j.ENSURE_SERVER_CONNECTION}getName(){return j[j.ENSURE_SERVER_CONNECTION]}onCommandTimedOut(){super.onCommandTimedOut(),r.c.updateConnectionStatistics(r.a.ENSURE_SERVER_CONNECTION,2),this.executeCommandFailed(!0)}}var O=n(85),N=n(53),R=n(177),P=n(150),w=n(48),M=n(219);class D extends C{constructor(e,t,n,a){super(e,t),this.cmdHandler=e,this.commandListener=t,this.messageChannel=n,this.sessionMessagePayload=a,this.getCommandTimeoutMS=()=>P.a.getAppNetworkSpeedQuotient()*this.getTaskTimeout(),this.getSessionMessage=()=>{const e=R.a.build(this.sessionMessagePayload);return e.sit=N.a.getCurrentActualTime(),e},this.handleIncomingMessage=e=>{const t=JSON.parse(e);parseInt(t.reqId,10)===this.mSessionMessage.id&&this.onCommandCompleteInternal(new S,!1)},this.sendCommandResultTelemetry=(e,t,n)=>{const a={TAG:"AuthorizeUserTask",GUID:t.getGuid(),ID:this.taskId,COMMAND_TYPE:this.getType(),IS_SUCCESS:e,CODE:t.getRespCode(),MESSAGE:t.getRespMessage(),SUFFIX:n,GENERATION_TIME:r.c.getValue(r.a.AT_GENERATION_TIME),TIME:(new Date).toString()};o.a.recordEvent(i.b.COMMAND_RESULT,a)}}getAppContextKey(){return r.a.ENSURE_WAKE_UP_DEVICE}getTaskTimeout(){return 15e3}getType(){return j.AUTHORIZE}getName(){return j[j.AUTHORIZE]}execute(){O.b.isFeatureEnabled(O.a.NEW_COLD_BOOT_FLOW)&&super.execute(),this.mTimeoutId=setTimeout(this.onCommandTimedOut.bind(this),this.getCommandTimeoutMS()),this.messageChannel.registerOnMessage(this.handleIncomingMessage);const e=this.getCommandPromise();e?e.then(e=>{this.OnAuthorizeCommandCompletion(e),this.mRespCode=e.getRespCode(),this.mRespCode!==E.b.Success&&this.onCommandCompleteInternal(new T(!1),!1)}).catch(e=>{this.OnAuthorizeCommandCompletion(e);let t=!1;let n=!1;switch(e.getRespCode()){case E.a.Timeout:n=!0;break;case E.a.ServerDisconnected:break;default:t=!0}this.onCommandCompleteInternal(new T(t,!1,n),!1)}):p.b.infoWithNonPIIData("AuthorizeUserTask","No authToken present. AuthorizeUserTask cannot be proceeded")}getCommandPromise(){return this.mSessionMessage=this.getSessionMessage(),b.a.authorize(this.mSessionMessage)}onCommandTimedOut(){O.b.isFeatureEnabled(O.a.NEW_COLD_BOOT_FLOW)&&(r.c.updateConnectionStatistics(this.getAppContextKey(),2),super.onCommandTimedOut()),this.onCommandCompleteInternal(new T(!0,!1,!0),!0)}onCommandCompleteInternal(e,t){t||r.c.updateConnectionStatistics(this.getAppContextKey(),e.resultType),this.messageChannel.unregisterOnMessage(this.handleIncomingMessage),clearTimeout(this.mTimeoutId),O.b.isFeatureEnabled(O.a.NEW_COLD_BOOT_FLOW)&&(o.a.recordEvent(i.b.NEW_WAKE_UP_FLOW,{RESULT:c[e.resultType],REASON:t?"TIME_OUT":""}),this.onCommandComplete(e))}OnAuthorizeCommandCompletion(e){const t=e.getRespCode(),n=e.getRespMessage(),i=n.s,r=n.em;Object(d.g)(r)?Object(d.g)(i)||0==i?0===t?this.handleAuthorizeCommandSuccess(e):this.isTransientError(t)?this.handleAuthorizeCommandTransientError(e):this.handleAuthorizeCommandInvalidError(e):this.handleAuthorizeCommandInvalidError(e):this.handleAuthorizeCommandTransientError(e)}handleAuthorizeCommandSuccess(e){w.a.recordInternalEventEnd(i.a.AUTHORIZE),this.sendCommandResultTelemetry(!0,e,"Authentication successful"),b.a.notifyOnAuthenticationSuccess(),O.b.isFeatureEnabled(O.a.NEW_COLD_BOOT_FLOW)?H.setDeviceConnecting():this.onCommandCompleteInternal(new S,!1)}handleAuthorizeCommandInvalidError(e){w.a.recordInternalEventEnd(i.a.AUTHORIZE),this.sendCommandResultTelemetry(!1,e,"Authentication failed due to invalid token"),M.a.clearAllData(),b.a.notifyOnAuthenticationError(!1,e),this.onCommandCompleteInternal(new T(!1),!1)}handleAuthorizeCommandTransientError(e){this.sendCommandResultTelemetry(!1,e,"Authentication failed due to transient Error"),b.a.notifyOnAuthenticationError(!0,e),this.onCommandCompleteInternal(new T(!1),!1)}isTransientError(e){return e===E.b.None||e===E.b.ServerError||e===E.b.TimeOut||e===E.b.TooManyRequests||e===E.a.Timeout}}class L extends C{constructor(e,t,n,r,a){super(e,t),this.cmdHandler=e,this.commandListener=t,this.messageChannel=n,this.sessionMessagePayload=r,this.retryIteration=a,this.getCommandTimeoutMS=()=>P.a.getAppNetworkSpeedQuotient()*this.getTaskTimeout()*(this.retryIteration+1),this.getSessionMessage=()=>{const e=R.a.build(this.sessionMessagePayload);return e.sit=N.a.getCurrentActualTime(),e},this.handleIncomingMessage=e=>{const t=JSON.parse(e);parseInt(t.reqId,10)===this.mSessionMessage.id&&this.onCommandCompleteInternal(new S,!1)},this.sendCommandServerResultTelemetry=e=>{p.b.infoWithNonPIIData(I.a.CONNECTION_TAG,"WakeUpDeviceTask",this.getName(),I.b.SERVER_RESULT,this.taskId,this.getType(),e.getGuid(),e.getRespCode(),this.mSessionMessage.id),o.a.recordEvent(i.b.CONNECTION_TASK,{TAG:I.a.CONNECTION_TAG,SUB_TAG:"WakeUpDeviceTask",ID:this.taskId,ACTION:I.b.SERVER_RESULT,NAME:this.getName(),TYPE:this.getType(),GUID:e.getGuid(),RESULT:e.getRespCode(),MESSAGE_ID:this.mSessionMessage.id})}}execute(){super.execute(),this.mTimeoutId=setTimeout(this.onCommandTimedOut.bind(this),this.getCommandTimeoutMS()),this.messageChannel.registerOnMessage(this.handleIncomingMessage);this.getCommandPromise().then(e=>{w.a.recordInternalEvent(i.a.WAKE_UP_DEVICE_RESP_RECEIVED_FROM_SERVER),this.sendCommandServerResultTelemetry(e),this.mRespCode=e.getRespCode(),this.mRespCode!==E.b.Success&&this.onCommandCompleteInternal(new T(!1),!1)}).catch(e=>{this.sendCommandServerResultTelemetry(e);let t=!1;let n=!1;switch(e.getRespCode()){case E.a.Timeout:n=!0;break;case E.a.ServerDisconnected:break;default:t=!0}this.onCommandCompleteInternal(new T(t,!1,n),!1)})}getCommandPromise(){return this.mSessionMessage=this.getSessionMessage(),b.a.wakeUpDevice(this.mSessionMessage)}onCommandTimedOut(){r.c.updateConnectionStatistics(this.getAppContextKey(),2),super.onCommandTimedOut(),this.onCommandCompleteInternal(new T(!0,!1,!0),!0)}onCommandCompleteInternal(e,t){t||r.c.updateConnectionStatistics(this.getAppContextKey(),e.resultType),this.messageChannel.unregisterOnMessage(this.handleIncomingMessage),clearTimeout(this.mTimeoutId),this.onCommandComplete(e)}}class x extends L{constructor(e,t,n,i,r){super(e,t,n,i,r),this.cmdHandler=e,this.commandListener=t,this.messageChannel=n,this.sessionMessagePayload=i,this.retryIteration=r}getType(){return j.ENSURE_WAKE_UP_DEVICE}getName(){return j[j.ENSURE_WAKE_UP_DEVICE]}getAppContextKey(){return r.a.ENSURE_WAKE_UP_DEVICE}getTaskTimeout(){return 15e3}}class k extends L{constructor(e,t,n,i,r){super(e,t,n,i,r),this.cmdHandler=e,this.commandListener=t,this.messageChannel=n,this.sessionMessagePayload=i,this.retryIteration=r}getType(){return j.PING_WAKE_UP_DEVICE}getName(){return j[j.PING_WAKE_UP_DEVICE]}getAppContextKey(){return r.a.PING_WAKE_UP_DEVICE}getTaskTimeout(){return 5e3}}var U=n(43);class G extends C{constructor(e,t,n){super(e,t),this.cmdHandler=e,this.commandListener=t,this.messageChannel=n,this.onCommandCompleteInternal=(e,t=!1)=>{t||r.c.updateConnectionStatistics(r.a.PING,e.resultType),this.messageChannel.unregisterOnMessage(this.handleIncomingMessage),clearTimeout(this.mTimeoutId),this.onCommandComplete(e)},this.handleIncomingMessage=e=>{const t=JSON.parse(e);parseInt(t.reqId,10)===this.mPingMessage.id&&this.onCommandCompleteInternal(new S)},this.sendCommandServerResultTelemetry=e=>{p.b.infoWithNonPIIData(I.a.CONNECTION_TAG,"PingTask",this.getName(),I.b.SERVER_RESULT,this.taskId,this.getType(),e.getGuid(),e.getRespCode(),this.mPingMessage.id),o.a.recordEvent(i.b.CONNECTION_TASK,{TAG:I.a.CONNECTION_TAG,SUB_TAG:"PingTask",ID:this.taskId,ACTION:I.b.SERVER_RESULT,NAME:this.getName(),TYPE:this.getType(),GUID:e.getGuid(),RESULT:e.getRespCode(),MESSAGE_ID:this.mPingMessage.id})}}execute(){if(super.execute(),!f.a.isConnected())return void this.onCommandComplete(new T(!1));this.mTimeoutId=setTimeout(this.onCommandTimedOut.bind(this),I.a.getPingCommandTimeoutMS()),this.messageChannel.registerOnMessage(this.handleIncomingMessage);this.getCommandPromise().then(e=>{this.sendCommandServerResultTelemetry(e),e.getRespCode()!==E.b.Success&&this.onCommandCompleteInternal(new T(!1,!0))}).catch(e=>{this.sendCommandServerResultTelemetry(e);let t=!1;let n=!1;switch(e.getRespCode()){case E.a.Timeout:n=!0;break;case E.a.ServerDisconnected:break;default:t=!0}this.onCommandCompleteInternal(new T(t,!1,n))})}getCommandPromise(){const e=s();return this.mPingMessage=R.a.build(e),this.mPingMessage.sit=N.a.getCurrentActualTime(),b.a.sendMessage(U.a.stringify(this.mPingMessage),"PingMessage")}getType(){return j.PING}getName(){return j[j.PING]}onCommandTimedOut(){r.c.updateConnectionStatistics(r.a.PING,2),super.onCommandTimedOut(),this.onCommandCompleteInternal(new T(!0,!1,!0),!0)}}var F=n(19),B=n(81),V=n(20),W=n(159);var j;!function(e){e[e.AUTHORIZE=0]="AUTHORIZE",e[e.ENSURE_SERVER_CONNECTION=1]="ENSURE_SERVER_CONNECTION",e[e.DISCONNECT=2]="DISCONNECT",e[e.ENSURE_WAKE_UP_DEVICE=3]="ENSURE_WAKE_UP_DEVICE",e[e.PING_WAKE_UP_DEVICE=4]="PING_WAKE_UP_DEVICE",e[e.PING=5]="PING"}(j||(j={}));const H=new class{constructor(){this.connectionTasksRetryMap={},this.connectionState=v.a.UNKNOWN,this.onConnectionChangedListeners=[],this.onDisconnected=()=>{this.connectionState!==v.a.SERVER_DISCONNECTED&&this.connectionState!==v.a.SERVER_CONNECTING&&this.connectionState!==v.a.NETWORK_DISCONNECTED&&this.setServerConnected(!1,v.b.OnWebSocketClose)},this.forceReconnect=e=>{this.clearRetryMap(),this.ensureServerConnected(!0,e)},this.getSessionMessagePayload=()=>{const e=[];e.push({rt:F.a.MUTATE,path:["session","ensure"],variables:{waId:r.c.getWebId(),agent:B.a(),majV:V.getWebAppVersion()[0],minV:V.getWebAppVersion()[1],maxPV:V.getMaxSupportedProtocolVersion(),minPV:V.getMinSupportedProtocolVersion(),session:{},ICF:W.a(),WSAR:W.c(),maxConvCount:W.b()}});return{paths:e}},this.ensureConnection=(e,t)=>{if(this.has(j.PING))return void p.b.infoWithNonPIIData(I.a.CONNECTION_TAG,"not ensuring connection as ping command is running");const n=this.connectionState;(n!==v.a.SERVER_DEVICE_CONNECTED&&n!==v.a.SERVER_CONNECTING||e)&&this.ensureServerConnected(e,t)},this.ensureServerConnected=(e,t)=>{if(!this.isServerConnected()||e){if(this.connectionState>=v.a.NETWORK_CONNECTED&&this.connectionState!==v.a.SERVER_CONNECTING||e){const n=j.ENSURE_SERVER_CONNECTION,i=this.getRetryCount(n);if(i<I.a.getMaxRetryCount(n)||e){this.resetPerfTrackers(),this.connectionTasksRetryMap[n]=i+1,this.notifyConnectionStateChanged(v.a.SERVER_CONNECTING,t);return void new A(h.a,this).execute()}p.b.infoWithNonPIIData(I.a.CONNECTION_TAG,"not connecting server as all the attempts exhausted"),this.notifyConnectionStateChanged(v.a.SERVER_DISCONNECTED)}p.b.infoWithNonPIIData(I.a.CONNECTION_TAG,"not connecting server in ensureServerConnected call, state:",this.connectionState)}else p.b.infoWithNonPIIData(I.a.CONNECTION_TAG,"not connecting server as it is already connected")},this.wakeupDeviceWithPayload=(e,t)=>{this.ensureDeviceConnected(!0,e,t)},this.ensureDeviceConnected=(e,t,n)=>{if(!this.isDeviceConnected()||e)if(this.isServerConnected()||e){if(this.connectionState===v.a.DEVICE_DISCONNECTED||this.connectionState===v.a.DEVICE_CONNECTING||e){const i=j.ENSURE_WAKE_UP_DEVICE,r=this.getRetryCount(i);if(r<I.a.getMaxRetryCount(i)||e){this.connectionTasksRetryMap[i]=r+1,this.notifyConnectionStateChanged(v.a.DEVICE_CONNECTING,t);return void new x(h.a,this,f.a,n||this.sessionDataProvider.getSessionMsgPayload(),r).execute()}}p.b.infoWithNonPIIData(I.a.CONNECTION_TAG,"not connecting device as all the attempts exhausted"),this.notifyConnectionStateChanged(v.a.DEVICE_DISCONNECTED)}else p.b.infoWithNonPIIData(I.a.CONNECTION_TAG,"not connecting device as server is not connected");else p.b.infoWithNonPIIData(I.a.CONNECTION_TAG,"not connecting device as it is already connected")},this.wakeUpWithPing=()=>{const e=this.connectionState;if(e!==v.a.SERVER_DEVICE_CONNECTED)return void p.b.infoWithNonPIIData(I.a.CONNECTION_TAG,"not checking connection health as we are disconnected:",e);const t=this.getRetryCount(j.PING_WAKE_UP_DEVICE);if(t<I.a.getMaxRetryCount(j.PING_WAKE_UP_DEVICE)){this.connectionTasksRetryMap[j.PING_WAKE_UP_DEVICE]=t+1;new k(h.a,this,f.a,s(),t).execute()}},this.initiatePing=()=>{const e=this.connectionState;if(e!==v.a.SERVER_DEVICE_CONNECTED)return void p.b.infoWithNonPIIData(I.a.CONNECTION_TAG,"not checking connection health as we are disconnected:",e);const t=j.PING;if(this.has(t))p.b.infoWithNonPIIData(I.a.CONNECTION_TAG,"not checking connection health as we are already checking");else{this.connectionTasksRetryMap[t]=1;new G(h.a,this,f.a).execute()}},this.getRetryCount=e=>{const t=this.connectionTasksRetryMap[e];return void 0!==t?t:0},this.setRetryCount=(e,t)=>{this.connectionTasksRetryMap[e]=t},this.has=e=>this.connectionTasksRetryMap[e],this.onMessageSendTimeout=e=>{const t=e.payload.outgoingState;switch(r.c.updateConnectionStatistics(r.a.KQUERY_MESSAGE_TIMED_OUT,2),t.getState()){case m.a.SERVER_ACK_RECEIVED:const e=t.serverResponseCode;p.b.warnWithNonPIIData(g.a.OUTGOING_TAG,"message sent failed with response",e),e===E.b.ClientDisconnected?this.setDeviceConnected(!1,!1,v.b.DeviceDisconnected):e===E.b.Success&&this.wakeUpWithPing();break;case m.a.READY:this.setServerConnected(!1,v.b.Timeout)}},this.resetPerfTrackers=()=>{w.a.isAlive()&&w.a.reset(),w.b.isAlive()&&w.b.reset(),w.i.isAlive()&&w.i.reset(),w.f.isAlive()&&w.f.reset()},this.clearRetryMap=()=>{p.b.infoWithNonPIIData(g.a.OUTGOING_TAG,"clearing the retryMap"),delete this.connectionTasksRetryMap[j.ENSURE_SERVER_CONNECTION],delete this.connectionTasksRetryMap[j.ENSURE_WAKE_UP_DEVICE],delete this.connectionTasksRetryMap[j.PING_WAKE_UP_DEVICE],delete this.connectionTasksRetryMap[j.PING]},this.isDeviceConnected=()=>this.connectionState===v.a.SERVER_DEVICE_CONNECTED,this.onConnectionError=e=>{this.connectionState!==v.a.SERVER_DISCONNECTED&&this.connectionState!==v.a.SERVER_CONNECTING&&this.connectionState!==v.a.NETWORK_DISCONNECTED&&this.setServerConnected(!1,v.b.OnWebSocketError)},this.notifyConnectionStateChanged=(e,t=v.b.ConnectivityChange,n)=>{(this.connectionState!=e||n)&&(this.logAndRecordConnectionStateChangeTelemetry(e,t,n),this.connectionState=e,r.c.updateConnectionStatistics(r.a.CONNECTION_STATE_CHANGE,this.connectionState),w.b.recordConnectionChange(v.a[this.connectionState]),w.a.recordInternalEvent(v.a[this.connectionState]),w.i.recordConnectionChange(v.a[this.connectionState]),w.f.recordConnectionChange(v.a[this.connectionState]),this.onConnectionChangedListeners.forEach(e=>{try{e(this.connectionState,t)}catch(e){p.b.errorWithNonPIIData(I.a.CONNECTION_TAG,"notifyConnectionStateChanged",e.stack||e.stacktrace||e)}}))},this.logAndRecordConnectionStateChangeTelemetry=(e,t=v.b.ConnectivityChange,n)=>{p.b.infoWithNonPIIData("ConnectionManager","ConnectionStateChanged ","old_state: ",v.a[this.connectionState],"new_state: ",v.a[e],"reason: ",v.b[t],"isForceful: ",n),o.a.recordEvent(i.b.CONNECTION,{TAG:"ConnectionManager",SUB_TAG:"ConnectionStateChanged",OLD_STATE:v.a[this.connectionState],NEW_STATE:v.a[e],REASON:v.b[t],FORCEFULLY:n})},f.a.registerOnClose(this.onDisconnected),f.a.registerOnError(this.onConnectionError),u.b.subscribe(l.b.MESSAGE_SEND_TIMEOUT,this.onMessageSendTimeout)}setSessionDataProvider(e){this.sessionDataProvider=e}setDeviceConnected(e,t,n){const i=e?v.a.SERVER_DEVICE_CONNECTED:v.a.DEVICE_DISCONNECTED;e&&this.clearRetryMap();const r=n||v.b.ConnectivityChange;this.notifyConnectionStateChanged(i,r,t)}setConnected(){this.clearRetryMap();const e=v.a.SERVER_DEVICE_CONNECTED;this.notifyConnectionStateChanged(e)}setDeviceConnecting(){this.notifyConnectionStateChanged(v.a.DEVICE_CONNECTING)}registerOnClose(e){f.a.registerOnClose(e)}closeConnection(e){f.a.closeConnection(e)}isConnected(){return this.connectionState===v.a.SERVER_DEVICE_CONNECTED&&f.a.isConnected()}isDeviceConnecting(){return this.connectionState===v.a.DEVICE_CONNECTING&&f.a.isConnected()}isDeviceDisconnected(){return this.connectionState===v.a.DEVICE_DISCONNECTED&&f.a.isConnected()}isServerConnected(){return this.connectionState>=v.a.SERVER_CONNECTED&&f.a.isConnected()}isNetworkConnected(){return this.connectionState>=v.a.NETWORK_CONNECTED}setNetworkConnectionState(e){const t=e?v.a.NETWORK_CONNECTED:v.a.NETWORK_DISCONNECTED;this.connectionState!==t&&(t===v.a.NETWORK_DISCONNECTED||this.connectionState<=v.a.NETWORK_DISCONNECTED)&&(this.clearRetryMap(),this.notifyConnectionStateChanged(t))}registerOnConnectionEvent(e){this.onConnectionChangedListeners.push(e)}unregisterOnConnectionEvent(e){const t=this.onConnectionChangedListeners.indexOf(e);-1!==t&&this.onConnectionChangedListeners.splice(t,1)}onCommandComplete(e,t){if(e.resultType===c.Success)switch(delete this.connectionTasksRetryMap[t.getType()],t.getType()){case j.ENSURE_SERVER_CONNECTION:this.setServerConnected(!0);break;case j.ENSURE_WAKE_UP_DEVICE:case j.PING_WAKE_UP_DEVICE:case j.AUTHORIZE:this.setDeviceConnected(!0);break;case j.PING:w.a.recordBootEnd(i.a.PING_RECEIVED),this.notifyConnectionStateChanged(v.a.SERVER_DEVICE_CONNECTED,v.b.ConnectivityChange,!1)}else{if(Object(d.g)(this.connectionTasksRetryMap[t.getType()]))return void p.b.warnWithNonPIIData(I.a.CONNECTION_TAG,t.getName(),"does not exist in map, might be already completed");const n=e,i=n.isTimeout?v.b.Timeout:v.b.Unknown;switch(t.getType()){case j.ENSURE_SERVER_CONNECTION:this.ensureServerConnected(!1,i);break;case j.ENSURE_WAKE_UP_DEVICE:case j.AUTHORIZE:n.serverReachable?this.setDeviceConnected(!1,!1,i):this.setServerConnected(!1,i);break;case j.PING_WAKE_UP_DEVICE:this.clearRetryMap(),r.c.setValue(r.a.SHOW_ALL_CONNECTIVITY_STATUS,!0),n.serverReachable?this.ensureDeviceConnected(!0,i):this.setServerConnected(!1,i);break;case j.PING:delete this.connectionTasksRetryMap[t.getType()],r.c.setValue(r.a.SHOW_ALL_CONNECTIVITY_STATUS,!0),n.serverReachable?this.ensureDeviceConnected(!1,i):this.forceReconnect(i)}}}authorizeUser(){new D(h.a,this,f.a,this.getSessionMessagePayload()).execute()}setServerConnected(e,t=v.b.ConnectivityChange){e&&this.clearRetryMap();const n=e?v.a.SERVER_CONNECTED:v.a.SERVER_DISCONNECTED;this.notifyConnectionStateChanged(n,t)}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));const i=(e,t,n)=>{let i=null;return e.paths.forEach(e=>{e.path[0]!==t||e.path[1]!==n||(i=e)}),i},r=(e,t,n)=>{let i=null;return e.paths.forEach(e=>{e.path[0]===t&&e.variables&&e.variables.action===n&&(i=e)}),i}},function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"h",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return u}));const i="IsPlaySoundForNewMsg",r="isDesktopNotificationsEnabled",o="isMsgContentVisible",a="IsSettingsToggled",s="BaseDocumentTitle",c="AgreeToWebAppUpgrade",l="IsDarkThemeEnabled",u="IsLocationPolicyAccepted"},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var i,r=n(150),o=n(76);class a{static getConnectCommandTimeoutMS(){return this.CONNECT_TIMEOUT_IN_MS}static getPingCommandTimeoutMS(){return r.a.getAppNetworkSpeedQuotient()*this.PING_TIMEOUT_IN_MS}static getMaxRetryCount(e){switch(e){case o.a.ENSURE_WAKE_UP_DEVICE:case o.a.PING_WAKE_UP_DEVICE:case o.a.PING:return 1;case o.a.AUTHORIZE:return 10;case o.a.ENSURE_SERVER_CONNECTION:return 5;default:return 2}}}a.CONNECTION_TAG="Connection",a.CONNECT_TIMEOUT_IN_MS=1e4,a.PING_TIMEOUT_IN_MS=5e3,a.USER_STATUS_TIMEOUT_IN_MS=6e4,function(e){e.STARTED_EXECUTION="STARTED_EXECUTION",e.SERVER_RESULT="SERVER_RESULT",e.COMPLETED="COMPLETED",e.TIMED_OUT="TIMED_OUT"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"g",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return E}));var i=n(6),r=n(43),o=n(4),a=n(1),s=n(35);function c(e,t){if(null==e)return null;const n=e.lastIndexOf("."),i=Math.max(e.lastIndexOf("/"),e.lastIndexOf("\\"));return-1==n||i>n?"":e.substring(n+(t?0:1))}function l(e){if(null==e)return null;const t=e.lastIndexOf("."),n=Math.max(e.lastIndexOf("/"),e.lastIndexOf("\\"));return-1==t||n>t?"":e.substring(0,t)}function u(e){if(e<1024)return e+" B";const t=Math.floor(Math.log(e)/Math.log(1024)),n="KMGTPE".charAt(t-1);return(e/Math.pow(1024,t)).toFixed(1)+" "+n+"B"}function d(e){const t=e/1024;return t>=1e3?s.a.format(a.getString("SizeInMBString"),(t/1e3).toFixed(2)):s.a.format(a.getString("SizeInKBString"),Math.round(t).toString())}function p(e,t){return e&&e.length>t&&(e=e.substring(0,t-3)+"…"),e}function h(e,t){return t.size+"/"+t.lastModified+"/"+e}function f(e){return new Promise((t,n)=>{const i=new FileReader;i.onload=n=>{const r=i.result;t(new g(e.name,e.size,r))},i.readAsDataURL(e)})}class g{constructor(e,t,n){this.name=e,this.sizeInBytes=t,this.dataUrl=n}}function m(e){const t=new XMLHttpRequest;return t.open("GET",e),t.timeout=3e4,new Promise((e,n)=>{t.onload=()=>{if(4==t.readyState&&200==t.status)e(t.responseText);else{const e={errCode:t.status,errMsg:t.statusText,timeout:!1};n(e)}},t.onerror=()=>{const e={errCode:t.status,errMsg:t.statusText,timeout:!1};n(e)},t.ontimeout=()=>{const e={errCode:t.status,errMsg:t.statusText,timeout:!0};n(e)},t.send()})}function E(e,t=!1){return new Promise((n,a)=>{m(e).then(e=>{t&&(e=Object(i.h)(e)),n(r.a.safeParse(e))}).catch(t=>{o.b.debugWithNonPIIData("FileUtils","Could not load file with path "+e),a(t)})})}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p}));var i=n(64),r=n(4);let o;function a(){return o||(o=(()=>{const e=n(653);return o=e(),o.cEnabled=navigator.cookieEnabled,o.lang=navigator.language,o.lastConnected="",r.b.infoWithNonPIIData("getBrowserDetails",o),o})()),o}const s=()=>navigator.userAgent,c=()=>window.navigator.userAgent.indexOf("Edge")>-1,l=()=>window.navigator.userAgent.indexOf("Firefox")>-1,u=()=>(a(),h.indexOf(o.name)>-1),d=()=>h;const p=new class{constructor(){this.LOG_TAG="InspectDetector",this.inspectDetectorTimerId=null,this.startDetector=e=>{null===this.inspectDetectorTimerId&&(r.b.infoWithNonPIIData(this.LOG_TAG,"starting the inspector"),this.inspectDetectorTimerId=setInterval(this.detectAndHandleInspect(e),300))},this.stopDetector=()=>{null!==this.inspectDetectorTimerId&&(r.b.infoWithNonPIIData(this.LOG_TAG,"ending the inspector"),clearInterval(this.inspectDetectorTimerId),this.inspectDetectorTimerId=null)},this.detectAndHandleInspect=e=>()=>{this.isInspectOpen()&&(e(),this.stopDetector())},this.onKeyDown=e=>t=>{const n=t.keyCode?t.keyCode:t.which;(n==i.a.F12||n==="I".charCodeAt(0)&&t.metaKey&&t.altKey||n==="J".charCodeAt(0)&&t.metaKey&&t.altKey||n==="C".charCodeAt(0)&&t.metaKey&&t.shiftKey||n==="I".charCodeAt(0)&&t.ctrlKey&&t.shiftKey||n==="J".charCodeAt(0)&&t.ctrlKey&&t.shiftKey||n==="c".charCodeAt(0)&&t.ctrlKey&&t.shiftKey||n==="u".charCodeAt(0)&&t.ctrlKey)&&(e(),t.preventDefault())},this.onContextMenu=e=>t=>{e(),t.preventDefault()}}setUpInspectorShortcutDetector(e){this.keyPressListener||(this.keyPressListener=this.onKeyDown(e),window.addEventListener("keydown",this.keyPressListener)),this.contextMenuListener||(this.contextMenuListener=this.onContextMenu(e),window.addEventListener("contextmenu",this.contextMenuListener))}removeInspectorShortcutDetector(){window.removeEventListener("keydown",this.keyPressListener),window.removeEventListener("contextmenu",this.contextMenuListener),this.keyPressListener=null,this.contextMenuListener=null}isInspectOpen(){let t;const n=new Image;return Object.defineProperty(n,"id",{get(){t=!0}}),t=!1,e.dir(n),e.clear(),t}},h=["Chrome","Edge","Safari","Firefox"]}).call(this,n(110))},function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return y}));var i=n(4);
/*!
 * Image Compressor v1.1.4
 * https://xkeshi.github.io/image-compressor
 *
 * Copyright 2017-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2018-06-20T07:28:41.051Z
 */var r=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){!function(t){var n=t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype,i=t.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),r=i&&t.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),o=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder,a=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,s=(i||o)&&t.atob&&t.ArrayBuffer&&t.Uint8Array&&function(e){var t,n,s,c,l,u,d,p,h;if(!(t=e.match(a)))throw new Error("invalid data URI");for(n=t[2]?t[1]:"text/plain"+(t[3]||";charset=US-ASCII"),s=!!t[4],c=e.slice(t[0].length),l=s?atob(c):decodeURIComponent(c),u=new ArrayBuffer(l.length),d=new Uint8Array(u),p=0;p<l.length;p+=1)d[p]=l.charCodeAt(p);return i?new Blob([r?d:u],{type:n}):((h=new o).append(u),h.getBlob(n))};t.HTMLCanvasElement&&!n.toBlob&&(n.mozGetAsFile?n.toBlob=function(e,t,i){var r=this;setTimeout((function(){i&&n.toDataURL&&s?e(s(r.toDataURL(t,i))):e(r.mozGetAsFile("blob",t))}))}:n.toDataURL&&s&&(n.toBlob=function(e,t,n){var i=this;setTimeout((function(){e(s(i.toDataURL(t,n)))}))})),e.exports?e.exports=s:t.dataURLtoBlob=s}(window)})),o=Object.prototype.toString,a={checkOrientation:!0,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,quality:.8,mimeType:"auto",convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},s=/^image\/.+$/;function c(e){return s.test(e)}var l=String.fromCharCode;var u=window.btoa;function d(e,t){var n=new Uint8Array(e),i="";if("function"==typeof n.forEach)n.forEach((function(e){i+=l(e)}));else for(var r=n.length,o=0;o<r;o+=1)i+=l(n[o]);return"data:"+t+";base64,"+u(i)}function p(e){var t=new DataView(e),n=void 0,i=void 0,r=void 0,o=void 0;if(255===t.getUint8(0)&&216===t.getUint8(1))for(var a=t.byteLength,s=2;s<a;){if(255===t.getUint8(s)&&225===t.getUint8(s+1)){r=s;break}s+=1}if(r){var c=r+10;if("Exif"===function(e,t,n){var i="",r=void 0;for(n+=t,r=t;r<n;r+=1)i+=l(e.getUint8(r));return i}(t,r+4,4)){var u=t.getUint16(c);if(((i=18761===u)||19789===u)&&42===t.getUint16(c+2,i)){var d=t.getUint32(c+4,i);d>=8&&(o=c+d)}}}if(o){var p=t.getUint16(o,i),h=void 0,f=void 0;for(f=0;f<p;f+=1)if(h=o+12*f+2,274===t.getUint16(h,i)){h+=8,n=t.getUint16(h,i),t.setUint16(h,1,i);break}}return n}var h=/\.\d*(?:0|9){12}\d*$/i;function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return h.test(e)?Math.round(e*t)/t:e}var g=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},E=window,_=E.ArrayBuffer,S=E.FileReader,T=window.URL||window.webkitURL,v=/\.\w+$/,I=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.result=null,t&&this.compress(t,n)}return g(e,[{key:"compress",value:function(e,t){var n=this,i=new Image;return t=m({},a,t),_||(t.checkOrientation=!1),new Promise((function(n,i){if((r=e)instanceof Blob||"[object Blob]"===o.call(r)){var r,a=e.type;if(c(a))if(T||S){if(T&&!t.checkOrientation)n({url:T.createObjectURL(e)});else if(S){var s=new S,l=t.checkOrientation&&"image/jpeg"===a;s.onload=function(e){var t=e.target.result;n(l?m({url:d(t,a)},function(e){var t=0,n=1,i=1;switch(e){case 2:n=-1;break;case 3:t=-180;break;case 4:i=-1;break;case 5:t=90,i=-1;break;case 6:t=90;break;case 7:t=90,n=-1;break;case 8:t=-90}return{rotate:t,scaleX:n,scaleY:i}}(p(t))):{url:t})},s.onabort=function(){i(new Error("Aborted to load the image with FileReader."))},s.onerror=function(){i(new Error("Failed to load the image with FileReader."))},l?s.readAsArrayBuffer(e):s.readAsDataURL(e)}}else i(new Error("The current browser does not support image compression."));else i(new Error("The first argument must be an image File or Blob object."))}else i(new Error("The first argument must be a File or Blob object."))})).then((function(t){return new Promise((function(n,r){i.onload=function(){return n(m({},t,{naturalWidth:i.naturalWidth,naturalHeight:i.naturalHeight}))},i.onabort=function(){r(new Error("Aborted to load the image."))},i.onerror=function(){r(new Error("Failed to load the image."))},i.alt=e.name,i.src=t.url}))})).then((function(o){var a=o.naturalWidth,s=o.naturalHeight,l=o.rotate,u=void 0===l?0:l,d=o.scaleX,p=void 0===d?1:d,h=o.scaleY,g=void 0===h?1:h;return new Promise((function(o){var l=document.createElement("canvas"),d=l.getContext("2d"),h=a/s,m=Math.max(t.maxWidth,0)||1/0,E=Math.max(t.maxHeight,0)||1/0,_=Math.max(t.minWidth,0)||0,S=Math.max(t.minHeight,0)||0,T=a,v=s;if(m<1/0&&E<1/0?E*h>m?E=m/h:m=E*h:m<1/0?E=m/h:E<1/0&&(m=E*h),_>0&&S>0?S*h>_?S=_/h:_=S*h:_>0?S=_/h:S>0&&(_=S*h),t.width>0)v=(T=t.width)/h;else if(t.height>0){T=(v=t.height)*h}var I=-(T=Math.min(Math.max(T,_),m))/2,b=-(v=Math.min(Math.max(v,S),E))/2,y=T,C=v;if(Math.abs(u)%180==90){var A={width:v,height:T};T=A.width,v=A.height}l.width=f(T),l.height=f(v),c(t.mimeType)||(t.mimeType=e.type);var O="transparent";e.size>t.convertSize&&"image/png"===t.mimeType&&(O="#fff",t.mimeType="image/jpeg"),d.fillStyle=O,d.fillRect(0,0,T,v),d.save(),d.translate(T/2,v/2),d.rotate(u*Math.PI/180),d.scale(p,g),t.beforeDraw&&t.beforeDraw.call(n,d,l),d.drawImage(i,Math.floor(f(I)),Math.floor(f(b)),Math.floor(f(y)),Math.floor(f(C))),t.drew&&t.drew.call(n,d,l),d.restore();var N=function(e){o({naturalWidth:a,naturalHeight:s,result:e})};l.toBlob?l.toBlob(N,t.mimeType,t.quality):N(r(l.toDataURL(t.mimeType,t.quality)))}))})).then((function(r){var o=r.naturalWidth,a=r.naturalHeight,s=r.result;if(T&&!t.checkOrientation&&T.revokeObjectURL(i.src),s)if(s.size>e.size&&t.mimeType===e.type&&!(t.width>o||t.height>a||t.minWidth>o||t.minHeight>a))s=e;else{var l=new Date;s.lastModified=l.getTime(),s.lastModifiedDate=l,s.name=e.name,s.name&&s.type!==e.type&&(s.name=s.name.replace(v,function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=c(e)?e.substr(6):"";return"jpeg"===n&&(n="jpg"),n&&t&&(n="."+n),n}(s.type)))}else s=e;return n.result=s,t.success&&t.success.call(n,s),Promise.resolve(s)})).catch((function(e){if(!t.error)throw e;t.error.call(n,e)}))}}]),e}();class b{static getImageAdjustedDimension(e,t){const n=t.width/t.height,i=t;return n<e?(i.width=t.width,i.height=i.width/e):n>e&&(i.height=t.height,i.width=i.height*e),i}static generateBlobUrl(e){return new Promise(t=>{const n=new FileReader;n.onload=()=>{const i=new Blob([n.result],{type:e.type}),r=URL.createObjectURL(i);t(r)},n.readAsArrayBuffer(e)})}static getImageMetaData(e,t="",n=!1){return new Promise((r,o)=>{const a=new FileReader;a.onload=s=>{const c=n?a.result:URL.createObjectURL(e),l=new Image;l.onload=e=>{const n=e.currentTarget,i={height:n.height,width:n.width},o=b.getImageAdjustedDimension(i.width/i.height,{width:b.MAX_THUMBNAIL_SIZE,height:b.MAX_THUMBNAIL_SIZE}),a=document.createElement("canvas");a.width=o.width,a.height=o.height;a.getContext("2d").drawImage(n,0,0,o.width,o.height);const s=a.toDataURL("image/jpeg",b.THUMBNAIL_QUALITY);r(new y(i,c,s,t))},l.onerror=e=>{i.b.errorWithNonPIIData(b.LOG_TAG,"onerror: @getImageMetaData thumbnail creation failed",e),o({error:this})},l.onabort=e=>{i.b.errorWithNonPIIData(b.LOG_TAG,"onabort: @getImageMetaData thumbnail creation failed",e),o({error:this})},l.src=c},a.readAsDataURL(e)})}static getImageMetaDataWithoutThumbnail(e,t="",n=!1){return new Promise((r,o)=>{const a=new FileReader;a.onload=s=>{const c=n?a.result:URL.createObjectURL(e),l=new Image;l.onload=e=>{const n=e.currentTarget,i={height:n.height,width:n.width};r(new y(i,c,null,t))},l.onerror=e=>{i.b.errorWithNonPIIData(b.LOG_TAG,"onerror: @getImageMetaDataWithoutThumbnail thumbnail creation failed",e),o({error:this})},l.onabort=e=>{i.b.errorWithNonPIIData(b.LOG_TAG,"onabort: @getImageMetaDataWithoutThumbnail thumbnail creation failed",e),o({error:this})},l.src=c},a.readAsDataURL(e)})}static getImageMetaDataWithServerPath(e,t="",n=!1){return new Promise((r,o)=>{const a=document.createElement("canvas"),s=a.getContext("2d"),c=new Image;n&&(c.crossOrigin="Anonymous"),c.src=e,c.onload=i=>{s.drawImage(c,0,0);const o=i.currentTarget,l={height:o.height,width:o.width},u=n?a.toDataURL():e;r(new y(l,u,null,t))},c.onerror=t=>{i.b.errorWithNonPIIData(b.LOG_TAG,"onerror: @getImageMetaDataWithServerPath failed to load image from server path",e,t),o({error:this})},c.onabort=t=>{i.b.errorWithNonPIIData(b.LOG_TAG,"onabort: @getImageMetaDataWithServerPath could not load image from server path",e,t),o({error:this})}})}static convertDataURLToBase64(e){return e.replace(/^data:image\/(png|jpg|jpeg);base64,/,"")}static convertBase64ToDataUrl(e){const t={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode(e){let n,i,r,o,a,s,c,l="",u=0;for(e=t._utf8_encode(e);u<e.length;)n=e.charCodeAt(u++),i=e.charCodeAt(u++),r=e.charCodeAt(u++),o=n>>2,a=(3&n)<<4|i>>4,s=(15&i)<<2|r>>6,c=63&r,isNaN(i)?s=c=64:isNaN(r)&&(c=64),l=l+this._keyStr.charAt(o)+this._keyStr.charAt(a)+this._keyStr.charAt(s)+this._keyStr.charAt(c);return l},decode(e){let n,i,r,o,a,s,c,l="",u=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)o=this._keyStr.indexOf(e.charAt(u++)),a=this._keyStr.indexOf(e.charAt(u++)),s=this._keyStr.indexOf(e.charAt(u++)),c=this._keyStr.indexOf(e.charAt(u++)),n=o<<2|a>>4,i=(15&a)<<4|s>>2,r=(3&s)<<6|c,l+=String.fromCharCode(n),64!=s&&(l+=String.fromCharCode(i)),64!=c&&(l+=String.fromCharCode(r));return l=t._utf8_decode(l),l},_utf8_encode(e){e=e.replace(/\r\n/g,"\n");let t="";for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t},_utf8_decode(e){let t="",n=0,i=0,r=0;for(;n<e.length;)if(i=e.charCodeAt(n),i<128)t+=String.fromCharCode(i),n++;else if(i>191&&i<224)r=e.charCodeAt(n+1),t+=String.fromCharCode((31&i)<<6|63&r),n+=2;else{r=e.charCodeAt(n+1);const o=e.charCodeAt(n+2);t+=String.fromCharCode((15&i)<<12|(63&r)<<6|63&o),n+=3}return t}};let n;const i=t.decode(e).toLowerCase();n=-1!==i.indexOf("png")?"png":-1!==i.indexOf("jpg")||-1!==i.indexOf("jpeg")?"jpg":"tiff";return"data:image/"+n+";base64,"+e}static compressImage(e){return(new I).compress(e,{checkOrientation:!1,maxWidth:1400,maxHeight:800,quality:.5}).catch(()=>e)}static getImageMaxWidth(e,t){const n=e.imageSize.width/e.imageSize.height;return e.imageSize.width===e.imageSize.height?t:t*n}}b.MAX_THUMBNAIL_SIZE=260,b.THUMBNAIL_QUALITY=.6,b.LOG_TAG="ImageUtils";class y{constructor(e,t,n,i){this.imageSize=e,this.imageURL=t,this.thumbnailURL=n,this.imageIdentifier=i}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(6);class r{static getGlyphText(e){if(i.g(e)||/^\s*$/.test(e))return"@";{const t=e.match(/\S+/g),n=t.length;if(0==n)return"@";if(1==n)return e.length>2?r.isSurrogatePair(e.charAt(1),e.charAt(2))?e.substring(0,1):e.substring(0,2):e;{const e=t[0],n=t[1];return e.length>=2&&r.isSurrogatePair(e.charAt(0),e.charAt(1))?e.substring(0,2):n.length>=2&&r.isSurrogatePair(n.charAt(0),n.charAt(1))?e.substring(0,1):e.charAt(0)+n.charAt(0)}}}static getGlyphBackground(e){const t=r.GLYPH_BACKGROUND[0];let n=Math.floor(Math.random()*(r.GLYPH_BACKGROUND.length-1));return i.g(e)||/^\s*$/.test(e)?t:(n=e.length>20?Math.abs(i.c(e)%r.GLYPH_BACKGROUND.length):Math.abs(i.i(parseInt(e.substring(1),10))),r.GLYPH_BACKGROUND[n%r.GLYPH_BACKGROUND.length])}static getSenderColor(e){const t=r.SENDER_NAME_COLOR[0];let n=Math.floor(Math.random()*(r.SENDER_NAME_COLOR.length-1));return i.g(e)||/^\s*$/.test(e)?t:(n=e.length>20?Math.abs(i.c(e)%r.SENDER_NAME_COLOR.length):Math.abs(i.i(parseInt(e.substring(1),10))),r.SENDER_NAME_COLOR[n%r.SENDER_NAME_COLOR.length])}static isSurrogatePair(e,t){return e===t}}r.GLYPH_BACKGROUND=["#6bbfe5","#f18787","#a1e08a","#bf93ed","#ff89b5","#819dec"],r.SENDER_NAME_COLOR=["#4D7A8F","#AF6060","#3D8523","#9751E1","#DE1289","#466FE2"]},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(20),r=n(61),o=n(4),a=n(73),s=n.n(a);const c={EMOTICON_SUPPORT:"Emoticon Support",PRE_FETCH_CHAT_MESSAGES:"PreFetchChatMessages",AT_MENTION_SUPPORT:"AtMentionSupport",REACTIONS_SUPPORT:"ReactionsSupport",NEW_COLD_BOOT_FLOW:"NewColdBootFlow",CONVERSATION_OPTIONS:"ConversationOptions"};class l{constructor(){this.darkFeatureMap={},this.enableDarkFeature=e=>{o.b.infoWithNonPIIData(l.LOG_TAG,"enabling",e);let t=r.a.getData(l.EnabledDarkFeatureListKey);t=t||{},t[e]=!0,r.a.setData(l.EnabledDarkFeatureListKey,t)},this.disableDarkFeature=e=>{o.b.infoWithNonPIIData(l.LOG_TAG,"disabling",e);let t=r.a.getData(l.EnabledDarkFeatureListKey);t||(o.b.errorWithNonPIIData(l.LOG_TAG,"darkFeatureMap not found while disabling",e),t={}),t[e]=!1,r.a.setData(l.EnabledDarkFeatureListKey,t)},this.isFeatureEnabled=e=>{const t=this.getDarkFeatureMap();return e in t&&t[e]||!(e in t)&&this.darkFeatureMap[e]},this.getDarkFeatureList=()=>s()(this.darkFeatureMap),this.getDarkFeatureMap=()=>{if(i.isProdConfig)return{};const e=r.a.getData(l.EnabledDarkFeatureListKey);return e||this.darkFeatureMap},this.darkFeatureMap[c.EMOTICON_SUPPORT]=!0,this.darkFeatureMap[c.PRE_FETCH_CHAT_MESSAGES]=!0,this.darkFeatureMap[c.AT_MENTION_SUPPORT]=!0,this.darkFeatureMap[c.REACTIONS_SUPPORT]=!0,this.darkFeatureMap[c.NEW_COLD_BOOT_FLOW]=!1,this.darkFeatureMap[c.CONVERSATION_OPTIONS]=!0}}l.EnabledDarkFeatureListKey="EDFL",l.LOG_TAG="FeatureGateManager",t.b=new l},function(e,t,n){e.exports=n(610)()},,function(e,t,n){var i=n(370);e.exports=function(e){return i(e,4)}},function(e,t,n){"use strict";var i;!function(e){e[e.START_SIGN_IN=0]="START_SIGN_IN",e[e.PAIRING_CODE_REQUESTED=1]="PAIRING_CODE_REQUESTED",e[e.PAIRING_CODE_RE_REQUESTED=2]="PAIRING_CODE_RE_REQUESTED",e[e.PAIRING_CODE_GENERATION_SUCCESS=3]="PAIRING_CODE_GENERATION_SUCCESS",e[e.PAIRING_CODE_GENERATION_FAILED=4]="PAIRING_CODE_GENERATION_FAILED",e[e.PAIRING_CODE_RE_GENERATION_SUCCESS=5]="PAIRING_CODE_RE_GENERATION_SUCCESS",e[e.PAIRING_CODE_RE_GENERATION_FAILED=6]="PAIRING_CODE_RE_GENERATION_FAILED",e[e.PAIRING_CODE_SUBMITTED=7]="PAIRING_CODE_SUBMITTED",e[e.SIGNED_IN=8]="SIGNED_IN",e[e.SIGN_IN_FAILED=9]="SIGN_IN_FAILED"}(i||(i={})),t.a=i},function(e,t,n){"use strict";n.d(t,"e",(function(){return R})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return _})),n.d(t,"d",(function(){return x})),n.d(t,"f",(function(){return s}));var i=n(12),r=n(171),o=n(70),a=n(17);var s=new class{constructor(){this.getSurveyObject=Object(o.a)([this.getSurveyJson],e=>e?r.a.fromJSON(JSON.parse(e)):void 0),this.getMyResponsesJson=Object(o.a)([this.getMyResponses],e=>{const t=[];return e&&e.forEach(e=>{const n={};n[a.a.SURVEY_RESPONSE_NATIVE_ID]=e.data.id,n[a.a.SURVEY_RESPONSE_SEND_STATUS]=e.state,n[a.a.SURVEY_RESPONSE_SEND_TIME]=e.time,n[a.a.SURVEY_RESPONSE_NATIVE_PAYLOAD]=JSON.stringify(e.data.rs),t.push(n)}),JSON.stringify(t)})}getSurveyJson(e,t){return e.surveyState.surveyMap[t]}canRespondToSurvey(e,t){if(e.surveyState.surveyMetadataMap[t]){let n=e.surveyState.surveyMetadataMap[t].canResPondToSurvey;if(e.surveyState.surveyMap[t]){const i=JSON.parse(e.surveyState.surveyMap[t]);n&&(n=!(Math.ceil(i.exp/1e3)<Math.ceil((new Date).getTime()/1e3)))}return n}return!0}shouldSeeSurveySummary(e,t,n){return n!==i.g.RESP&&(!e.surveyState.surveyMetadataMap[t]||e.surveyState.surveyMetadataMap[t].shouldSeeSurveySummary)}getSurveySummary(e,t){return e.surveyState.summaryMap[t]?e.surveyState.summaryMap[t].data:""}getMyResponses(e,t){return e.surveyState.responseMap[t]}getSurveyTitle(e,t){let n=null;const i=this.getSurveyJson(e,t)?this.getSurveyObject(e,t):null;return i.Title?n=i.Title:i.Properties&&i.getSurveyProperty("Description")&&i.getSurveyProperty("Description").getValue()?n=i.getSurveyProperty("Description").getValue():i.Questions&&i.Questions.length>0&&(n=i.Questions[0].getTitle()),n}},c=n(28),l=n(13);const u={getSurveyForMessageIds:e=>new p(e),insertSurveyBundle:e=>new f(e),applySurveyBundleDelta:e=>new g(e),fetchServerSurveySummary:(e,t)=>new h(e),storeSurveySummary:(e,t,n=!1)=>new m(e,t,n),storeSurveySummaries:e=>new E(e)};var d;!function(e){e.GET_SURVEY_FOR_MESSAGE_IDS="survey/get-survey-for-messageids",e.FETCH_SERVER_SURVEY_SUMMARY="survey/fetch-server-survey-summary",e.STORE_SURVEY_SUMMARY="survey/store-survey-summary",e.STORE_SURVEY_SUMMARIES="survey/store-survey-summaries",e.INSERT_SURVEY_BUNDLE="survey/insert-survey-bundle",e.APPLY_SURVEY_BUNDLE_DELTA="survey/apply-survey-bundle-delta"}(d||(d={}));class p extends l.c{constructor(e){super(d.GET_SURVEY_FOR_MESSAGE_IDS),this.messsageIds=e}}class h extends l.c{constructor(e){super(d.FETCH_SERVER_SURVEY_SUMMARY),this.surveyId=e}}class f extends l.c{constructor(e){super(d.INSERT_SURVEY_BUNDLE),this.survey=e}}class g extends l.c{constructor(e){super(d.APPLY_SURVEY_BUNDLE_DELTA),this.surveyBundleDelta=e}}class m extends l.c{constructor(e,t,n){super(d.STORE_SURVEY_SUMMARY),this.surveyId=e,this.summary=t,this.isRetryable=n}}class E extends l.c{constructor(e){super(d.STORE_SURVEY_SUMMARIES),this.summaryMap=e}}function _(){return{summaryMap:{},surveyMap:{},responseMap:{},surveyMetadataMap:{},surveyToMessageIdArrayMap:{},moduleVersion:0}}var S=n(46),T=n(122),v=n(32),I=n(4),b=n(38),y=n(88),C=n.n(y),A=n(73),O=n.n(A);const N=c.r,R=(e={summaryMap:{},surveyMap:{},responseMap:{},surveyMetadataMap:{},surveyToMessageIdArrayMap:{},moduleVersion:0},t)=>{switch(t.type){case d.INSERT_SURVEY_BUNDLE:Object.keys(t.survey.definition).forEach(n=>{e.surveyMap[n]=JSON.stringify(t.survey.definition[n])}),Object.keys(t.survey.summary).forEach(n=>{e.summaryMap[n]={data:JSON.stringify(t.survey.summary[n]),fetchState:b.a.Success}}),Object.keys(t.survey.surveyMetadata).forEach(n=>{e.surveyMetadataMap[n]=t.survey.surveyMetadata[n],!1===e.surveyMetadataMap[n].IsSupportedSchema&&(e.surveyMap[n]=null)}),Object.keys(t.survey.responses).forEach(n=>{const i=[],r=t.survey.responses[n];Object.keys(r).forEach(e=>{const t=r[e];i.push(t)}),e.responseMap[n]=i}),e=Object.assign({},e,{surveyMap:e.surveyMap,summaryMap:e.summaryMap,responseMap:e.responseMap,surveyMetadataMap:e.surveyMetadataMap});break;case d.APPLY_SURVEY_BUNDLE_DELTA:{const n=t.surveyBundleDelta.smd;if(n&&!1===n.IsSupportedSchema)e.surveyMap[t.surveyBundleDelta.id]=null,e.surveyMetadataMap[t.surveyBundleDelta.id]=t.surveyBundleDelta.smd;else{const n=t.surveyBundleDelta;if(n.survey&&(I.b.infoWithNonPIIData(N,"survey delta received  type: survey id:",n.id),e.surveyMap[n.id]=JSON.stringify(n.survey)),n.smd&&(I.b.infoWithNonPIIData(N,"survey delta received  type: smd id:",n.id),e.surveyMetadataMap[n.id]=Object.assign({},e.surveyMetadataMap[n.id],n.smd)),n.st){I.b.infoWithNonPIIData(N,"survey delta received  type: st id:",n.id);const t=e.summaryMap[n.id],i=t?JSON.parse(t.data):{};e.summaryMap[n.id]=Object.assign({},t,{data:JSON.stringify(Object.assign({},i,{st:n.st}))})}if(n.resSt){I.b.infoWithNonPIIData(N,"survey delta received  type: resSt id:",n.id);const t=n.id in e.responseMap?C()(e.responseMap[n.id]):[],i=P(t,n.resSt.resId);-1!=i&&(t[i]=Object.assign({},t[i],{state:n.resSt.st}),e.responseMap[n.id]=t)}if(n.res){I.b.infoWithNonPIIData(N,"survey delta received  type: res id:",n.id);const t=n.id in e.responseMap?C()(e.responseMap[n.id]):[],i=P(t,n.res.data.rid);-1===i?t.push(n.res):t[i]=n.res,e.responseMap[n.id]=t}}e=Object.assign({},e);break}case S.a.MESSAGES_INSERT:t.rawMessages.forEach(t=>{Object(i.d)(t.type,Object(T.b)(t))&&t.content&&t.content.id&&(e.surveyToMessageIdArrayMap[t.content.id]?e.surveyToMessageIdArrayMap[t.content.id].push(t.id):e.surveyToMessageIdArrayMap[t.content.id]=[t.id])});break;case S.a.MESSAGE_INSERT:Object(i.d)(t.rawMessage.type,Object(T.b)(t.rawMessage))&&t.rawMessage.content&&t.rawMessage.content.id&&(e.surveyToMessageIdArrayMap[t.rawMessage.content.id]?e.surveyToMessageIdArrayMap[t.rawMessage.content.id].push(t.rawMessage.id):e.surveyToMessageIdArrayMap[t.rawMessage.content.id]=[t.rawMessage.id]);break;case S.a.MESSAGES_DELETE:t.messages.forEach(t=>{if(Object(i.d)(t.type,t.subType)){const n=t.surveyId;if(n&&e.surveyToMessageIdArrayMap[n])if(1==e.surveyToMessageIdArrayMap[n].length)delete e.responseMap[n],delete e.summaryMap[n],delete e.surveyMap[n],delete e.surveyMetadataMap[n],delete e.surveyToMessageIdArrayMap[n];else{const i=e.surveyToMessageIdArrayMap[n].indexOf(t.id);-1!==i&&e.surveyToMessageIdArrayMap[n].splice(i,1)}}});break;case d.STORE_SURVEY_SUMMARY:{const n=t.surveyId;if(t.summary)e.summaryMap[n]={data:JSON.stringify(t.summary),fetchState:b.a.Success};else{const i=t.isRetryable?b.a.RetryableFailure:b.a.PermanentFailure;e.summaryMap[n]=Object.assign({},e.summaryMap[n],{fetchState:i})}e=Object.assign({},e,{summaryMap:e.summaryMap});break}case d.STORE_SURVEY_SUMMARIES:{const n={};O()(t.summaryMap).forEach(e=>{n[e]={data:JSON.stringify(t.summaryMap[e]),fetchState:b.a.Success}}),e=Object.assign({},e,{summaryMap:Object.assign({},e.summaryMap,n)});break}case v.a.SET_MODULE_VERSION:e=Object.assign({},e,{moduleVersion:t.moduleVersionMap[N]})}return e},P=(e,t)=>{if(""===t&&1===e.length)return 0;for(let n=0;n<e.length;n++)if(e[n].data.rid===t)return n;return-1};var w=n(77),M=n(29),D=n(100);const L=c.r,x=e=>t=>n=>{switch(n.type){case d.GET_SURVEY_FOR_MESSAGE_IDS:D.b.sendQuery([L,"related_to_msgs_all",n.messsageIds.join()]).then(t=>{const n=t.paths[0].value;e.dispatch(u.insertSurveyBundle(n))}).catch(e=>{I.b.errorWithPIIData(L,[" (",n.type,"): ",e.stack||e.stacktrace,"error code: ",e.errorCode],e)});break;case d.FETCH_SERVER_SURVEY_SUMMARY:D.b.sendQuery([L,"summary",n.surveyId]).then(t=>{D.b.addPathHandlerSubscription(L,{handleRequest:t=>{for(const i of t.data.paths)if("summary"===i.path[1]){if(!Object(M.k)(i)){const t=i.value;t?e.dispatch(u.storeSurveySummary(n.surveyId,t)):I.b.errorWithNonPIIData("summary null for surveyId: ",n.surveyId),D.b.removePathHandlerSubscription(L);break}I.b.errorWithNonPIIData("Error in summary fetch",i.errors)}}})}).catch(e=>{I.b.errorWithPIIData(L,[" (",n.type,"): ",e.stack||e.stacktrace,"error code: ",e.errorCode],e)});break;case l.a.ON_RESPONSE_RECEIVED:{const t=Object(w.b)(n.responseData,L,"related_to_msgs_all");if(!t)break;if(Object(M.k)(t))I.b.errorWithNonPIIData(L,"error response at related_to_msgs_all",t.errors);else{const n=t.value;e.dispatch(u.insertSurveyBundle(n))}break}case l.a.ON_UPDATE_RECEIVED:{const t=Object(w.b)(n.responseData,L,"surveyBundleDelta");if(!t)break;if(Object(M.k)(t))I.b.errorWithNonPIIData(L,"error response at survey bundle delta",t.errors);else{const n=t.value;e.dispatch(u.applySurveyBundleDelta(n))}break}}return t(n)}},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var i=n(13);const r=new class{constructor(){this.selectTab=e=>new s(e),this.onAppForegroundChanged=e=>new c(e),this.onAppTerminated=()=>new l,this.onStringsLoaded=()=>new u,this.onSessionRejected=e=>new d(e),this.onSessionReset=e=>new h(e),this.onSessionUpdate=(e,t)=>new f(e,t),this.onSessionResumed=(e,t)=>new p(e),this.onSessionExtended=e=>new g(e),this.handleActiveWebClientChanged=e=>new m(e),this.updatePeerBatteryState=e=>new E(e),this.updatePeerFeatureStatus=e=>new _(e),this.setModuleVersion=e=>new S(e),this.setDeepLinkData=e=>new T(e),this.onAppJsDownloadStatusChanged=e=>new v(e)}};var o,a;!function(e){e.SELECT_TAB="app/select_tab",e.ON_APP_FG_CHANGED="app/on_app_fg_changed",e.ON_APP_TERMINATED="app/on_app_terminated",e.ON_STRINGS_LOADED="app/on_strings_loaded",e.ON_SESSION_RESET="app/on_session_reset",e.ON_SESSION_RESUME="app/on_session_resume",e.ON_SESSION_UPDATE="app/on_session_update",e.ON_SESSION_EXTEND="app/on_session_extend",e.ON_SESSION_REJECTED="app/on_session_rejected",e.HANDLE_ACTIVE_WEB_CLIENT_CHANGED="app/handle_active_web_client_changed",e.UPDATE_PEER_BATTERY_STATE="app/update_peer_battery_state",e.UPDATE_PEER_FEATURE_STATUS="app/update_peer_feature_status",e.SET_MODULE_VERSION="app/set-module-version",e.SET_DEEP_LINK_DATA="app/set-deepLink-data",e.APP_JS_DOWNLOAD_STATUS_CHANGE="app/app_js_download_status_change"}(o||(o={})),function(e){e.Me="Me",e.Chats="Chats",e.People="People",e.Discover="Discover"}(a||(a={}));class s extends i.c{constructor(e){super(o.SELECT_TAB),this.tab=e}}class c extends i.c{constructor(e){super(o.ON_APP_FG_CHANGED),this.isAppForeground=e}}class l extends i.c{constructor(){super(o.ON_APP_TERMINATED)}}class u extends i.c{constructor(){super(o.ON_STRINGS_LOADED)}}class d extends i.c{constructor(e){super(o.ON_SESSION_REJECTED),this.rejectReason=e}}class p extends i.d{constructor(e){super(o.ON_SESSION_RESUME),this.resumePayload=e}}class h extends i.d{constructor(e){super(o.ON_SESSION_RESET),this.resetPayload=e}}class f extends i.d{constructor(e,t){super(o.ON_SESSION_UPDATE),this.updatePayload=e,this.sessionResult=t}}class g extends i.c{constructor(e){super(o.ON_SESSION_EXTEND),this.extendPayload=e}}class m extends i.c{constructor(e){super(o.HANDLE_ACTIVE_WEB_CLIENT_CHANGED),this.isCurrentlyActive=e}}class E extends i.c{constructor(e){super(o.UPDATE_PEER_BATTERY_STATE),this.batteryState=e}}class _ extends i.c{constructor(e){super(o.UPDATE_PEER_FEATURE_STATUS),this.featureGateStatus=e}}class S extends i.c{constructor(e){super(o.SET_MODULE_VERSION),this.moduleVersionMap=e}}class T extends i.c{constructor(e){super(o.SET_DEEP_LINK_DATA),this.deepLinkData=e}}class v extends i.c{constructor(e){super(o.APP_JS_DOWNLOAD_STATUS_CHANGE),this.payload=e}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var i=n(13);const r=new class{constructor(){this.addConversation=e=>new a(e),this.updateConversationsBase=(e,t)=>new s(e,t),this.applyConversationsDelta=e=>new c(e),this.selectConversation=(e,t,n,i)=>new l(e,t,n,i),this.deselectConversation=()=>new u,this.startPeerConversation=(e,t,n)=>new d(e,t,n),this.updateLatestMessage=(e,t,n,i)=>new p(e,t,n,i),this.updateLatestMessageState=(e,t)=>new f(e,t),this.addConversationBOComponent=(e,t,n)=>new h(e,t,n),this.updateCursorMessage=(e,t)=>new g(e,t),this.setScrollToSelectedConversation=e=>new m(e),this.fetchUserStatus=(e,t,n)=>new E(e,t,n),this.updateUserStatus=e=>new _(e)}pinOrUnpinConversation(e,t){return new S(e,t)}muteConversation(e,t,n,i){return new T(e,t,n,i)}unmuteConversation(e,t){return new v(e,t)}markReadOrMarkUnreadConversation(e,t){return new I(e,t)}clearConversation(e){return new b(e)}updateUserSourceGroupId(e,t){return new y(e,t)}};var o;!function(e){e.ADD_CONVERSATION="conversation-list/add-conversation",e.UPDATE_CONVERSATIONS_BASE="conversation-list/update_conversations_base",e.APPLY_CONVERSATIONS_DELTA="conversation-list/apply_conversations_delta",e.SELECT_CONVERSATION_V2="conversation-list/select-v2",e.DESELECT_CONVERSATION="conversation-list/deselect",e.START_PEER_CONVERSATION="conversation-list/start_peer_conversation",e.UPDATE_LATEST_MESSAGE="conversation-list/update-latest-message",e.UPDATE_LATEST_MESSAGE_STATE="conversation-list/update-latest-message-state",e.ADD_CONVERSATION_COMPONENT="conversation-list/add_conversation_component",e.UPDATE_CURSOR_MESSAGE="conversation-list/update_cursor_message",e.SET_SCROLL_TO_SELECTED_CONV="conversation-list/set_scroll_to_selected_conv",e.FETCH_USER_STATUS="conversation-list/fetch_user_status",e.UPDATE_USER_STATUS="conversation-list/update_user_status",e.PIN_OR_UNPIN_CONVERSATION="conversation-list/pin_or_unpin_conversation",e.MUTE_OR_UNMUTE_CONVERSATION="conversation-list/mute_or_unmute_conversation",e.MARK_READ_OR_MARK_UNREAD_CONVERSATION="conversation-list/mark_read_or_mark_unread_conversation",e.CLEAR_CONVERSATION="conversation-list/clear_conversation",e.UPDATE_USER_SOURCE_GROUP_ID="conversation-list/update_user_source_groupId"}(o||(o={}));class a extends i.c{constructor(e){super(o.ADD_CONVERSATION),this.conversation=e}}class s extends i.c{constructor(e,t){super(o.UPDATE_CONVERSATIONS_BASE),this.conversationsBase=e,this.isConversationFetched=t}}class c extends i.c{constructor(e){super(o.APPLY_CONVERSATIONS_DELTA),this.conversationsDelta=e}}class l extends i.d{constructor(e,t,n,i){super(o.SELECT_CONVERSATION_V2),this.conversationId=e,this.prevConversationId=t,this.scrollToMessageId=n,this.highlightedMessageId=i}}class u extends i.c{constructor(){super(o.DESELECT_CONVERSATION)}}class d extends i.c{constructor(e,t,n){super(o.START_PEER_CONVERSATION),this.peerId=e,this.tenantId=t,this.sourceConversationId=n}}class p extends i.c{constructor(e,t,n,i){super(o.UPDATE_LATEST_MESSAGE),this.conversationId=e,this.rawMessage=t,this.sender=n,this.scrollToSelectedConversation=i}}class h extends i.c{constructor(e,t,n){super(o.ADD_CONVERSATION_COMPONENT),this.initialConversationCount=e,this.conversations=t,this.isIOS=n}}class f extends i.c{constructor(e,t){super(o.UPDATE_LATEST_MESSAGE_STATE),this.conversationId=e,this.messageState=t}}class g extends i.c{constructor(e,t){super(o.UPDATE_CURSOR_MESSAGE),this.conversationId=e,this.messageId=t}}class m extends i.c{constructor(e){super(o.SET_SCROLL_TO_SELECTED_CONV),this.scrollToSelectedConversation=e}}class E extends i.d{constructor(e,t,n){super(o.FETCH_USER_STATUS),this.userId=e,this.conversationType=t,this.isChatSame=n}}class _ extends i.d{constructor(e){super(o.UPDATE_USER_STATUS),this.onlineStatus=e}}class S extends i.c{constructor(e,t){super(o.PIN_OR_UNPIN_CONVERSATION),this.conversationId=e,this.conversationOption=t}}class T extends i.c{constructor(e,t,n,i){super(o.MUTE_OR_UNMUTE_CONVERSATION),this.conversationId=e,this.conversationOption=t,this.muteDuration=n,this.showNotifications=i}}class v extends i.c{constructor(e,t){super(o.MUTE_OR_UNMUTE_CONVERSATION),this.conversationId=e,this.conversationOption=t}}class I extends i.c{constructor(e,t){super(o.MARK_READ_OR_MARK_UNREAD_CONVERSATION),this.conversationId=e,this.conversationOption=t}}class b extends i.c{constructor(e){super(o.CLEAR_CONVERSATION),this.conversationId=e}}class y extends i.c{constructor(e,t){super(o.UPDATE_USER_SOURCE_GROUP_ID),this.conversationId=e,this.userSourceGroupId=t}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(150);class r{static getDeviceResponseTimeoutMS(){return i.a.getAppNetworkSpeedQuotient()*this.DEVICE_RESPONSE_TIMEOUT_FOR_WIFI_IN_MS}static getServerReceiptTimeoutMS(){return this.SERVER_RESPONSE_TIMEOUT_IN_MS}static getOutgoingMessageRetryCount(){return 5}static getOutgoingInFlightSize(){return 20}}r.OUTGOING_TAG="Outgoing",r.DEVICE_RESPONSE_TIMEOUT_FOR_WIFI_IN_MS=1e4,r.SERVER_RESPONSE_TIMEOUT_IN_MS=7e3},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var i=n(232),r=n(20),o=n(25),a=n(61),s=n(219),c=n(34),l=n(58),u=n(43),d=n(4);const{StringDecoder:p}=n(715);var h;!function(e){e.SETUP_SOCKET_INITIATED="SETUP_SOCKET_INITIATED",e.CLOSE_SOCKET_INITIATED="CLOSE_SOCKET_INITIATED",e.RECONNECT_SOCKET_INITIATED="RECONNECT_SOCKET_INITIATED",e.SOCKET_PING_TIMEOUT="SOCKET_PING_TIMEOUT",e.ON_SOCKET_ERROR_CALLBACK="ON_SOCKET_ERROR_CALLBACK",e.ON_SOCKET_CLOSE_CALLBACK="ON_SOCKET_CLOSE_CALLBACK",e.ON_SOCKET_OPEN_CALLBACK="ON_SOCKET_OPEN_CALLBACK"}(h||(h={}));const f=new class{constructor(){this.lastPongMsgTime=0,this.lastPingMsgTime=0,this.WEBSOCKET_PROTOCOL="wss://",this.WEBSOCKET_URL="kaizalar/webclient",this.KEEP_ALIVE_TIME_MILLISECONDS=15e3,this.KEEP_ALIVE_MSG=new Uint8Array(1),this.onMessageListeners=[],this.onSDNMessageListeners=[],this.onCmdResponseListeners=[],this.onOpenListeners=[],this.onCloseListeners=[],this.onErrorListeners=[],this.LOG_TAG="kaizalaR",this.sendPing=()=>{if(this.isConnected())this.lastPongMsgTime&&this.lastPingMsgTime>this.lastPongMsgTime?(this.logAndSendKaizalaRActionTelemetry(h.SOCKET_PING_TIMEOUT,u.a.stringify({timerId:this.timerId})),this.reconnect()):(this.webSocket.send(this.KEEP_ALIVE_MSG),this.lastPingMsgTime=(new Date).getTime());else{if(!this.timerId)return;clearInterval(this.timerId)}},this.handlePong=()=>{this.lastPongMsgTime=(new Date).getTime()},this.logAndSendKaizalaRActionTelemetry=(e,t)=>{d.b.infoWithNonPIIData(this.LOG_TAG,"Socket",e,t||"");const n={TAG:this.LOG_TAG,SUB_TAG:"Socket",ACTION:e,DATA:t};t&&(n.DATA=t),l.a.recordEvent(c.b.CONNECTION,n)};const e=o.c.getWSUrl(),t=o.c.getWSHostUrl(),n=r.serverSetting.KmsHostUrl;d.b.infoWithNonPIIData(this.LOG_TAG,"siteHostUrl: ",r.siteHostUrl," previousKMSEndPointUrl: ",e," previousKMSEndPointHostUrl: ",t," currentKMSEndPointUrl: ",n);let i=!1;(a.a.getData("hostUrl")||a.a.getData("wsUrl"))&&(l.a.recordEvent(c.b.CLEAR_LOCAL_STORAGE,{TAG:this.LOG_TAG,ACTION:"flushing older storage"}),this.clearStoredData("flushing older storage"),i=!0),t&&t!==n&&(this.clearStoredData("KMS End Point host url is changed"),i=!0),o.c.setWSHostUrl(n),this.setUrl(!i&&e&&e.includes("kms")?e:n)}clearStoredData(e){d.b.infoWithNonPIIData(this.LOG_TAG,"clearing env data. Reason: ",e),s.a.clearAllData()}isConnected(){return this.webSocket&&this.webSocket.readyState===this.webSocket.OPEN}isConnecting(){return this.webSocket&&this.webSocket.readyState===this.webSocket.CONNECTING}setUrl(e){e="/"===e[e.length-1]?e:e+"/",d.b.infoWithNonPIIData(this.LOG_TAG,"Setting websocket url: ",e),o.c.setWSUrl(e);const t=this.WEBSOCKET_PROTOCOL+e+this.WEBSOCKET_URL;this.webSocketUrl=t,this.isConnected()&&this.closeConnection("Connection redirected")}sendData(e){if(this.isConnected())try{return this.webSocket.send(e),!0}catch(e){d.b.errorWithNonPIIData(this.LOG_TAG,"Unable to send. Error",e.stack||e.stacktrace||e)}return!1}registerOnSDNMessage(e){this.onSDNMessageListeners.push(e)}registerOnMessage(e){this.onMessageListeners.push(e)}unregisterOnMessage(e){const t=this.onMessageListeners.indexOf(e);t>-1&&this.onMessageListeners.splice(t,1)}registerOnCmdResponse(e){this.onCmdResponseListeners.push(e)}registerOnOpen(e){this.onOpenListeners.push(e)}registerOnError(e){this.onErrorListeners.push(e)}unRegisterOnError(e){const t=this.onErrorListeners.indexOf(e);-1!==t&&this.onErrorListeners.splice(t,1)}unRegisterOnOpen(e){const t=this.onOpenListeners.indexOf(e);-1!==t&&this.onOpenListeners.splice(t,1)}registerOnClose(e){this.onCloseListeners.push(e)}unRegisterOnClose(e){const t=this.onCloseListeners.indexOf(e);-1!==t&&this.onCloseListeners.splice(t,1)}reconnect(){this.isConnecting()||(this.logAndSendKaizalaRActionTelemetry(h.RECONNECT_SOCKET_INITIATED),this.closeConnection("Reconnect initiated"),this.setupConnection())}closeConnection(e){null!=this.webSocket&&(this.logAndSendKaizalaRActionTelemetry(h.CLOSE_SOCKET_INITIATED,e),clearInterval(this.timerId),this.webSocket.close(3500,e),this.webSocket=null)}setupConnection(){this.logAndSendKaizalaRActionTelemetry(h.SETUP_SOCKET_INITIATED),this.webSocket=new WebSocket(this.webSocketUrl),this.webSocket.binaryType="arraybuffer",this.webSocket.onmessage=e=>{this.onDataReceived(e.data)},this.webSocket.onopen=e=>{this.logAndSendKaizalaRActionTelemetry(h.ON_SOCKET_OPEN_CALLBACK,r.serverEnv+" env"),this.onOpenListeners.forEach(e=>{try{e()}catch(e){d.b.errorWithNonPIIData(this.LOG_TAG,"Failed to invoke listener. Error:",e.stack||e.stacktrace||e)}}),this.KEEP_ALIVE_MSG[0]=8,this.lastPingMsgTime=this.lastPongMsgTime=0,this.timerId=setInterval(()=>{this.sendPing()},this.KEEP_ALIVE_TIME_MILLISECONDS)},this.webSocket.onclose=e=>{o.c.updateConnectionStatistics(o.a.ON_SOCKET_CLOSE_CALLBACK,0),this.logAndSendKaizalaRActionTelemetry(h.ON_SOCKET_CLOSE_CALLBACK,u.a.stringify(e)),this.onCloseListeners.forEach(e=>{try{e()}catch(e){d.b.errorWithNonPIIData(this.LOG_TAG,"Error while notifying web socket close listeners")}})},this.webSocket.onerror=e=>{o.c.updateConnectionStatistics(o.a.ON_SOCKET_CLOSE_CALLBACK,0),this.logAndSendKaizalaRActionTelemetry(h.ON_SOCKET_ERROR_CALLBACK,u.a.stringify(e)),this.onErrorListeners.forEach(t=>{try{t(e)}catch(e){d.b.errorWithNonPIIData(this.LOG_TAG,"Error while notifying web socket close listeners")}})}}onDataReceived(e){let t=new Uint8Array(e);const n=t[0];if(n&this.KEEP_ALIVE_MSG[0])return void this.handlePong();t=t.slice(1);const r=0!=(128&n);4==(4&n)&&(t=t.slice(16));const o=r?Object(i.inflate)(t,{to:"string"}):this.decodeUTF8(t),a=JSON.parse(o);null!=a.m&&"mtc"===a.m?a.p[0].msg.contentHeader&&"SDN"===a.p[0].msg.contentHeader.msgSubType?setTimeout(this.receivedSDNMessage.bind(this,a.p[0].msg.content),1):setTimeout(this.receivedMsgFromPeer.bind(this,a.p[0].msg.content),1):null!=a.msg&&"SDN"===a.msg.contentHeader.msgSubType&&setTimeout(this.receivedSDNMessage.bind(this,a.msg.content),1),null!=a.m&&"cmr"===a.m&&a.p[0]&&this.receivedCmdResponse(a.p[0],a.p[1],a.p[2])}receivedCmdResponse(e,t,n){this.onCmdResponseListeners.forEach(i=>{try{i(e,t,n)}catch(e){d.b.errorWithNonPIIData(this.LOG_TAG,"Connector: onCommand",e.stack||e.stacktrace||e)}})}receivedSDNMessage(e){const t=u.a.safeParse(e);this.onSDNMessageListeners.forEach(e=>{try{e(t)}catch(e){d.b.errorWithNonPIIData(this.LOG_TAG,"Connector: onSDNMessage",e.stack||e.stacktrace||e)}})}receivedMsgFromPeer(e){const t=JSON.parse(e);this.onMessageListeners.forEach(e=>{try{e(t.c)}catch(e){d.b.errorWithNonPIIData(this.LOG_TAG,"Connector: onMessage",e.stack||e.stacktrace||e)}})}decodeUTF8(t){const n=new p("utf8"),i=new e(t.byteLength);return t.forEach((e,n)=>i[n]=t[n]),n.write(i)}}}).call(this,n(385).Buffer)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var i,r=n(38);function o(){return{groupInfoList:{fetchState:r.a.Fetching,data:Object.create(null)},sendWidgetStateMap:{},moduleVersion:0,joinGroupInviteToken:void 0,joinGroupViaInviteTokenState:i.None,groupInfoOfInviteToken:void 0,tenantData:{}}}!function(e){e[e.None=0]="None",e[e.InfoFetching=1]="InfoFetching",e[e.InvalidInput=2]="InvalidInput",e[e.FetchFailed=3]="FetchFailed",e[e.FetchSuccess=4]="FetchSuccess",e[e.Joining=5]="Joining",e[e.JoinFailed=6]="JoinFailed",e[e.JoinSuccessful=7]="JoinSuccessful",e[e.OpenGroup=8]="OpenGroup",e[e.ViewGroup=9]="ViewGroup",e[e.Unsupported=10]="Unsupported"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var i=n(13);const r=new class{fetchGroupInfoWithTenantData(e,t){return new a(e,t)}storeGroupInfoWithTenantData(e,t,n){return new s(e,t,n)}fetchGroupUserMembers(e){return new c(e)}storeGroupUserMembers(e,t){return new l(e,t)}storeSendWidgetState(e,t){return new u(e,t)}createGroup(e){return new d(e)}fetchGroupInfoOfInviteToken(e){return new p(e)}updateStateJoinGroupViaInviteToken(e){return new h(e)}storeGroupInfoOfInviteToken(e){return new f(e)}joinPrivateGroup(e,t){return new g(e,t)}joinPublicGroup(e){return new m(e)}removePublicGroupInfo(e){return new E(e)}addParticipantsToGroup(e,t){return new _(e,t)}removeParticipantFromGroup(e,t){return new S(e,t)}changeParticipantRoleInGroup(e,t,n){return new T(e,t,n)}getConnectGroupMetaInfo(e){return new v(e)}storeConnectGroupMetaInfo(e){return new I(e)}};var o;!function(e){e.FETCH_GROUP_INFO_AND_TENANT_DATA="group-manager/fetch-info",e.STORE_GROUP_INFO_WITH_TENANT_DATA="group-manager/store-info",e.FETCH_GROUP_USER_MEMBERS="group-manager/fetch-user-members",e.STORE_GROUP_USER_MEMBERS="group-manager/store-user-members",e.STORE_SEND_WIDGET_STATE="group-manager/store-send-widget-state",e.CREATE_GROUP="group-manager/create-group",e.ADD_PARTICIPANTS_TO_GROUP="group-manager/add-participant-to-group",e.REMOVE_PARTICIPANT_FROM_GROUP="group-manager/remove-participant-from-group",e.CHANGE_PARTICIPANT_ROLE_IN_GROUP="group-manager/change-role",e.GET_CONNECT_GROUP_META_INFO="group-manager/get-connect-group-meta-info",e.STORE_CONNECT_GROUP_META_INFO="group-manager/store-connect-group-meta-info",e.FETCH_GROUP_INFO_FROM_INVITE_TOKEN="group-manager/fetch_info_from_invite_token",e.UPDATE_STATE_JOIN_GROUP_VIA_INVITE_TOKEN="group-manager/update_state_join_group_via_invite_token",e.IS_JOIN_GROUP_DEEPLINK="group-manager/is_join_group_deepLink",e.STORE_GROUP_INFO_OF_INVITE_TOKEN="group-manager/store_group_info_of_invite_token",e.JOIN_PRIVATE_GROUP="group-manager/join_private_group",e.JOIN_PUBLIC_GROUP="group-manager/join_public_group",e.REMOVE_PUBLIC_GROUP_INFO="group-manager/remove_public_group_info"}(o||(o={}));class a extends i.c{constructor(e,t,n){super(o.FETCH_GROUP_INFO_AND_TENANT_DATA),this.conversationIds=e,this.shouldFetchMembers=t,this.shouldStoreMembers=n}}class s extends i.c{constructor(e,t,n){super(o.STORE_GROUP_INFO_WITH_TENANT_DATA),this.groupInfos=e,this.tenantData=t,this.groupMembers=n}}class c extends i.c{constructor(e){super(o.FETCH_GROUP_USER_MEMBERS),this.groupId=e}}class l extends i.c{constructor(e,t){super(o.STORE_GROUP_USER_MEMBERS),this.groupId=e,this.groupMembers=t}}class u extends i.c{constructor(e,t){super(o.STORE_SEND_WIDGET_STATE),this.groupId=e,this.sendWidgetState=t}}class d extends i.c{constructor(e){super(o.CREATE_GROUP),this.groupData=e}}class p extends i.c{constructor(e){super(o.FETCH_GROUP_INFO_FROM_INVITE_TOKEN),this.groupInviteToken=e}}class h extends i.c{constructor(e){super(o.UPDATE_STATE_JOIN_GROUP_VIA_INVITE_TOKEN),this.joinGroupState=e}}class f extends i.c{constructor(e){super(o.STORE_GROUP_INFO_OF_INVITE_TOKEN),this.groupInfo=e}}class g extends i.c{constructor(e,t){super(o.JOIN_PRIVATE_GROUP),this.groupInviteToken=e,this.groupId=t}}class m extends i.c{constructor(e){super(o.JOIN_PUBLIC_GROUP),this.groupId=e}}class E extends i.c{constructor(e){super(o.REMOVE_PUBLIC_GROUP_INFO),this.groupId=e}}class _ extends i.c{constructor(e,t){super(o.ADD_PARTICIPANTS_TO_GROUP),this.conversationId=e,this.participants=t}}class S extends i.c{constructor(e,t){super(o.REMOVE_PARTICIPANT_FROM_GROUP),this.conversationId=e,this.participant=t}}class T extends i.c{constructor(e,t,n){super(o.CHANGE_PARTICIPANT_ROLE_IN_GROUP),this.conversationId=e,this.participant=t,this.newRole=n}}class v extends i.c{constructor(e){super(o.GET_CONNECT_GROUP_META_INFO),this.groupIds=e}}class I extends i.c{constructor(e){super(o.STORE_CONNECT_GROUP_META_INFO),this.metaInfos=e}}},function(e,t,n){"use strict";n.r(t),n.d(t,"AssetType",(function(){return o})),n.d(t,"AssetsSource",(function(){return l}));var i=n(7);class r{}r.initializePhase1=()=>{(new Image).src=i.a.SIGN_IN_GRAPHIC,(new Image).src=i.a.KaizalaIcon,(new Image).src=i.a.GET_ON_GOOGLE_PLAY,(new Image).src=i.a.GET_ON_APP_STORE,(new Image).src=i.a.NETWORK_UNAVAILABLE_ICON,(new Image).src=i.a.UNABLE_TO_REACH,(new Image).src=i.a.ConnectivityCheckResource},r.initializePhase2=()=>{(new Image).src=i.a.PHONE_NOT_CONNECTED,(new Image).src=i.a.MESSAGE_SENDING_ICON,(new Image).src=i.a.MESSAGE_UNSYNCED_ICON};var o,a=n(1),s=n(20),c=n(191);!function(e){e[e.IMAGES=0]="IMAGES",e[e.WEB_STRINGS=1]="WEB_STRINGS",e[e.OOB_ACTIONS=2]="OOB_ACTIONS",e[e.OOB_ACTIONS_PACKAGE_SRC=3]="OOB_ACTIONS_PACKAGE_SRC",e[e.COUNTRIES_LIST=4]="COUNTRIES_LIST",e[e.EULA=5]="EULA",e[e.WEBAPP_AGREEMENT=6]="WEBAPP_AGREEMENT",e[e.TPN=7]="TPN",e[e.ACTION_BOOT=8]="ACTION_BOOT"}(o||(o={}));class l{static getImageAssetPath(e){return this.getAssetsPath(o.IMAGES,e)}static getAssetPath(e){return this.getAssetsPath(e,"")}static getAssetsPath(e,t,n=""){return(l.isCDNUsed?"":n)+l.assetsPath[e]+t+l.version}static getOutOfBoxMiniappFolder(){return"OutOfBoxMiniApps/"+s.webAppVersion.replace(/\./g,"_")}}l.initializeAssetsPhase1=()=>{l.version="",l.isCDNUsed=!1,l.assetsPath[o.IMAGES]=Object(c.a)()+"web-app-images/",l.assetsPath[o.OOB_ACTIONS_PACKAGE_SRC]=Object(c.a)()+l.getOutOfBoxMiniappFolder(),l.assetsPath[o.EULA]=Object(c.a)()+"assets/eula.htm",l.assetsPath[o.WEBAPP_AGREEMENT]=Object(c.a)()+"assets/Microsoft-Kaizala-Web-Terms-022819.htm",l.assetsPath[o.TPN]=Object(c.a)()+"assets/thirdpartynotice.htm",l.assetsPath[o.ACTION_BOOT]=Object(c.a)()+"assets/actionboot.html",l.assetsPath[o.WEB_STRINGS]=s.isDesktop?"./assets/strings":"../../assets/strings",l.assetsPath[o.COUNTRIES_LIST]=s.isDesktop?"./assets/countries.json":"../../assets/countries.json",i.b.initialize(),r.initializePhase1();const e=navigator.languages&&navigator.languages[0]||navigator.language;a.setLocale(e,!0)},l.initializeAssetsPhase2=()=>{r.initializePhase2(),a.setLocaleForActionsAndPackages()},l.isCDNUsed=!1,l.version="",l.assetsPath={}},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return g})),n.d(t,"b",(function(){return p.b})),n.d(t,"a",(function(){return p.a})),n.d(t,"d",(function(){return T})),n.d(t,"f",(function(){return y}));var i=n(13);const r=new class{constructor(){this.resolveServerUrl=(e,t,n,i,r)=>new a(e,t,n,i,r),this.updateServerUrl=(e,t,n,i)=>new s(e,t,n,i),this.updateMediaUploadStatus=(e,t)=>new c(e,t),this.updateMediaTag=(e,t)=>new l(e,t)}};var o;!function(e){e.RESOLVE_SERVER_URL="media/resolve-server-url",e.UPDATE_SERVER_URL="media/update-server-url",e.UPDATE_MEDIA_UPLOAD_STATUS="media/update-media-upload-status",e.UPDATE_MEDIA_TAG="media/update-media-tag"}(o||(o={}));class a extends i.c{constructor(e,t,n,i,r){super(o.RESOLVE_SERVER_URL),this.filename=e,this.localUrl=t,this.size=n,this.extension=i,this.conversationId=r}}class s extends i.c{constructor(e,t,n,i){super(o.UPDATE_SERVER_URL),this.localUrl=e,this.uploadUrl=t,this.downloadUrl=n,this.size=i}}class c extends i.c{constructor(e,t){super(o.UPDATE_MEDIA_UPLOAD_STATUS),this.localUrl=e,this.mediaStatus=t}}class l extends i.c{constructor(e,t){super(o.UPDATE_MEDIA_TAG),this.localUrls=e,this.mediaTag=t}}class u{static buildFromPropertyBag(e){return new u(e.localUrl,e.uploadUrl,e.downloadUrl,e.size,e.mediaUploadStatus)}constructor(e,t,n,i,r){this.localUrl=e,this.uploadUrl=t,this.downloadUrl=n,this.size=i,this.mediaUploadStatus=r}}var d=n(28),p=n(116),h=n(32);const f=d.j,g=(e=Object(p.b)(),t)=>{switch(t.type){case o.UPDATE_SERVER_URL:{const n=t.localUrl,i=t.uploadUrl,r=t.downloadUrl,o=t.size,a=Object.assign({},e.allMediaMap),s=e.allMediaMap[n],c=new u(n,i,r,o,p.a.PATH_RESOLVED);a[n]=Object.assign({},s,c),e=Object.assign({},e,{allMediaMap:a});break}case o.UPDATE_MEDIA_UPLOAD_STATUS:{const n=t.localUrl,i=t.mediaStatus,r=Object.assign({},e.allMediaMap);let o=r[n];o?o.mediaUploadStatus=i:o=new u(n,null,null,0,i),r[n]=o,e=Object.assign({},e,{allMediaMap:r});break}case o.UPDATE_MEDIA_TAG:{const n=t.localUrls||[],i=t.mediaTag,r=Object.assign({},e.allMediaMap);for(const e of n){let t=r[e];t||(t=new u(e,null,null,0,p.a.UNKNOWN)),t.tag=i,r[e]=t}e=Object.assign({},e,{allMediaMap:r});break}case h.a.SET_MODULE_VERSION:e=Object.assign({},e,{moduleVersion:t.moduleVersionMap[f]})}return e};var m=n(6),E=n(4),_=n(125);const S=d.j,T=e=>t=>n=>{switch(n.type){case o.RESOLVE_SERVER_URL:_.a.getContentURL(Object(m.b)(),n.filename,n.extension,n.size,3,n.conversationId).then(t=>{e.dispatch(r.updateServerUrl(n.localUrl,t.getRespMessage().uurl,t.getRespMessage().durl,n.size))}).catch(e=>{E.b.errorWithPIIData(S,[" (",n.type,"): ",e.stack||e.stacktrace,"error code: ",e.errorCode],e)});break}return t(n)};var v=n(70);const I=(e,t)=>e.mediaState.allMediaMap,b=(e,t)=>t;var y=new class{constructor(){this.getMediaKeysForTag=Object(v.a)(I,b,(e,t)=>Object.keys(e).filter(n=>{const i=e[n].tag;return i&&i===t})),this.getCombinedMediaStatusForTag=Object(v.a)(I,this.getMediaKeysForTag,(e,t)=>{if(0!=t.length){let n=!0;for(const i of t){const t=e[i].mediaUploadStatus;if(t===p.a.UPLOAD_FAILED)return p.a.UPLOAD_FAILED;n=n&&t===p.a.UPLOAD_SUCCESS}return n?p.a.UPLOAD_SUCCESS:p.a.UPLOADING}return p.a.UNKNOWN})}getMediaItemModel(e,t){return e.mediaState.allMediaMap[t]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(268),r=n(12),o=n(259),a=n(62);class s extends o.a{constructor(e){super(e),this.rawMessage=e,this.deSerializeMessageContentHeader(e)}serializeMessagePayloadForServer(){return{id:this.id,convId:this.conversationId,type:this.type,subType:this.subType,payload:this.serializeMessageContentForServer()}}getRawMessage(){return Object.assign({},this.rawMessage,{id:this.id})}toRawMessage(){return{content:this.toRawContent(),conversationId:this.conversationId,flags:this.flags,from:this.sender,id:this.id,mp:"",srt:0,timestamp:this.timestamp,isReceiveMimicked:!1,to:"",type:this.type,version:3,messageState:a.a.UNSYNCED_TO_DEVICE,contentHeader:{msgSubType:this.subType}}}getReplyToContent(){return{msgId:this.id,uId:this.sender,type:this.type,msgSubType:this.subType}}isRetryable(){return 0!=(this.flags&i.a.RELIABLE)}isDeleted(){return 0!=(this.flags&i.a.SET_DELETED)}isAggregateOnServer(){return 0!=(this.flags&i.a.AGGREGATE_RESPONSE)}isMessageCreatedWithinAnHour(){const e=Date.now(),t=this.timestamp;return 0!=e&&0!=t&&e-t<=36e5}toRawContent(){return null}serializeMessageContentForServer(){return null}deSerializeMessageContentHeader(e){e.contentHeader&&this.type===r.h.GENERIC_MESSAGE&&(e.contentHeader.msgSubType?this.subType=e.contentHeader.msgSubType:this.type=r.h.CLIENT_UNSUPPORTED_MESSAGE),this.flags=0!=e.flags?e.flags:255}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return C}));var i=n(20),r=n(43),o=n(337),a=n(177),s=n(53),c=n(57),l=n(52),u=n(338),d=n(29),p=n(242),h=n(4);const f=5e3,g="session",m=10;var E=new class{constructor(){this.timerId=void 0,this.asyncResponseIds=[],this.onAsyncResponseReceived=e=>{this.asyncResponseIds.push(e),this.asyncResponseIds.length>=m?this.flushAcks():void 0===this.timerId&&(this.timerId=setTimeout(this.onTimerUpdate,f))},this.onTimerUpdate=()=>{this.flushAcks()},this.flushAcks=()=>{const e=[];e.push({rt:d.f.MUTATE,path:[g,"subscription","ack",this.asyncResponseIds.join()]});C.sendMessage({paths:e});this.asyncResponseIds=[],clearTimeout(this.timerId),this.timerId=void 0}}},_=n(340),S=n(123),T=n(31),v=n(222),I=n(6);class b{static isErrorResponse(e){let t=!1;if(1===e.data.paths.length){const n=e.data.paths[0];n.errors&&n.errors.length>0&&(t=!0)}return t}static extractErrorResponse(e){let t=null;return e.data.paths.forEach(e=>{e.errors&&e.errors.length>0&&(t=e.errors[0])}),t}static extractResponse(e){if(e.hasOwnProperty("data"))return Object.assign({},e.data,{ppt:e.ppt})}static isUpdateTypeMessage(e,t){if(e.mt===d.f.UPDATE)return!0;if(!Object(I.g)(t)){const n=parseInt(t.toString(),10);if(e.mt===d.f.RESULT)return n<3}return!1}static shouldResolvePromise(e,t){return t>=4&&e.mt===d.f.RESULT||t<4}}class y{constructor(){this.promiseMap={},this.asyncUpdateMap={},this.pathSubscriptionMap={},this.isSubscriptionAckEnabled=!1,this.currentProtocolVersion=0,this.clearAllSubscriptions=()=>{Object.keys(this.asyncUpdateMap).forEach(e=>{delete this.promiseMap[e]}),this.asyncUpdateMap={}}}setSubscriptionAckEnabled(e){this.isSubscriptionAckEnabled=e}setCurrentProtocolVersion(e){this.currentProtocolVersion=e}reject(e,t){h.b.warnWithNonPIIData("Messaging Send",["failed for reqId ",e,":Error details",t.errorCode],t),this.promiseMap[e]&&this.promiseMap[e].reject(t)}resolve(e){if(Object(o.a)(e,b.isUpdateTypeMessage(e,this.currentProtocolVersion)),e){h.b.infoWithNonPIIData(y.LOG_TAG,"response received",d.h.getMessageWithNonPIIData(e));const t=T.a.getState();if(this.isDiagnosticBannerEnabled()&&t&&t.sessionState&&Object(i.isiOS)(t.sessionState.maOS)&&e.mtdebug&&!i.isProdConfig){const t=JSON.parse(e.mtdebug);h.b.debugWithNonPIIData(y.LOG_TAG,"iOS app state received: ",t),T.a.dispatch(v.b.onDiagnosticDataReceived(t))}if(e.reqId){if(this.promiseMap[e.reqId]&&b.shouldResolvePromise(e,this.currentProtocolVersion))return b.isErrorResponse(e)?this.reject(e.reqId,b.extractErrorResponse(e)):this.promiseMap[e.reqId].resolve(b.extractResponse(e)),void delete this.promiseMap[e.reqId];if(this.asyncUpdateMap[e.reqId])return void(b.isUpdateTypeMessage(e,this.currentProtocolVersion)&&(this.isSubscriptionAckEnabled&&!1!==e.ir&&E.onAsyncResponseReceived(e.id),b.isErrorResponse(e)?this.asyncUpdateMap[e.reqId].onError(b.extractErrorResponse(e)):this.asyncUpdateMap[e.reqId].onResponse(b.extractResponse(e))))}}const t=e.data.paths[0].path[0];this.pathSubscriptionMap[t]?(b.isUpdateTypeMessage(e,this.currentProtocolVersion)&&this.isSubscriptionAckEnabled&&E.onAsyncResponseReceived(e.id),this.pathSubscriptionMap[t].handleRequest(e)):b.isUpdateTypeMessage(e,this.currentProtocolVersion)?h.b.warnWithNonPIIData("Messaging service","unattended subscription update received for path:",e.id,e.reqId,t):h.b.warnWithNonPIIData("Messaging service","unattended message received for path:",e.id,e.reqId,t)}addPathHandlerSubscription(e,t){this.pathSubscriptionMap[e]=t}removePathHandlerSubscription(e){delete this.pathSubscriptionMap[e]}addRequest(e,t){const n=new Promise((t,n)=>{this.promiseMap[e.id]={resolve:t,reject:n}});return t&&(this.asyncUpdateMap[e.id]=t),n}removeMessage(e){this.promiseMap[e.id]&&delete this.promiseMap[e.id],this.asyncUpdateMap[e.id]&&delete this.asyncUpdateMap[e.id]}isDiagnosticBannerEnabled(){return!0}}y.LOG_TAG="ResponseResolver";const C=new class{constructor(){this.responseResolver=new y,this.lastIncomingMsgTime=0,this.getLastIncomingMsgTime=()=>this.lastIncomingMsgTime,this.onSessionReset=e=>{this.responseResolver.clearAllSubscriptions(),this.responseResolver.setSubscriptionAckEnabled(!0),this.responseResolver.setCurrentProtocolVersion(e)},this.onSendFailedQueueEvent=e=>{const t=e.payload,n=new d.b;n.errorCode=d.c.NETWORK_ERROR,this.responseResolver.reject(t.outgoingMesage.message.id,n)},this.has=(e,t)=>p.a.has(e,t),this.eventListener=this.eventListener.bind(this),this.handleIncomingMessage=this.handleIncomingMessage.bind(this),this.initialize()}loginToWebApp(e){return!0}sendMessage(e,t){const n=a.a.build(e);return p.a.handle(n),0==e.ir?null:this.responseResolver.addRequest(n,t)}sendAckMessage(e){const t=a.a.build(e);return S.a.sendMessage(r.a.stringify(t),"NotificationMessage")}sendCancellableMessage(e,t){const n=a.a.build(e);p.a.handle(n);const i=this.responseResolver.addRequest(n,t);return new _.a(i,()=>(this.responseResolver.removeMessage(n),p.a.cancel(n)))}sendQuery(e){const t=[];return t.push({rt:d.f.QUERY,path:e}),this.sendMessage({paths:t})}sendSubscribe(e,t,n=!0){const i=[];return i.push({rt:d.f.SUBSCRIBE,path:e,preFetch:n}),this.sendMessage({paths:i},t)}addPathHandlerSubscription(e,t){this.responseResolver.addPathHandlerSubscription(e,t)}removePathHandlerSubscription(e){this.responseResolver.removePathHandlerSubscription(e)}initialize(){l.b.subscribe(c.b.SEND_MESSAGE,this.eventListener),l.b.subscribe(c.b.OUTGOING_CHANNEL_QUEUE_FAILED,this.onSendFailedQueueEvent),u.a.addListener(this.handleIncomingMessage)}handleIncomingMessage(e){this.lastIncomingMsgTime=s.a.getCurrentActualTime(),this.responseResolver.resolve(e)}eventListener(e){h.b.debugWithNonPIIData("messagingService","received",e),this.sendMessage(e.payload)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return g})),n.d(t,"k",(function(){return m})),n.d(t,"c",(function(){return E})),n.d(t,"g",(function(){return _})),n.d(t,"i",(function(){return S})),n.d(t,"e",(function(){return T})),n.d(t,"j",(function(){return v})),n.d(t,"h",(function(){return I})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return O})),n.d(t,"l",(function(){return N}));var i=n(175),r=n(4),o=n(231),a=n.n(o),s=n(11),c=n(53),l=n(6);const u="LOCATION UTILS";var d,p;!function(e){e.LOCATION_NOT_ENABLED="LOCATION_NOT_ENABLED",e.LOCATION_PERMISSION_DENIED="LOCATION_PERMISSION_DENIED",e.TIMEOUT="TIMEOUT",e.GENERIC_ERROR="GENERIC_ERROR"}(d||(d={})),function(e){e.TIMEOUT="TIMEOUT",e.GENERIC_ERROR="GENERIC_ERROR",e.NULL_COUNTRY_CODE="NULL_COUNTRY_CODE"}(p||(p={}));const h="AIzaSyDjPO2zl8WtI7HmbUYfNXC5THT3W7Ghtfs",f=new i.a("lac",20);function g(e){let t=!1;const n=c.a.getCurrentActualTime();let i=0;return new Promise((o,a)=>{if(navigator.geolocation&&navigator.geolocation.getCurrentPosition){const c=e=>{const r={lt:e.coords.latitude,lg:e.coords.longitude,acc:e.coords.accuracy};t=!0,i=y(n),s.e.recordEvent(s.c.GEO_LOCATION,{IS_SUCCESS:!0,ELAPSED_TIME:i}),o(r)},l=e=>{let o;switch(e.code){case e.PERMISSION_DENIED:o=d.LOCATION_PERMISSION_DENIED;break;case e.POSITION_UNAVAILABLE:o=d.LOCATION_NOT_ENABLED;break;case e.TIMEOUT:o=d.TIMEOUT;break;default:o=d.GENERIC_ERROR}t=!0,r.b.debugWithPIIData(u,"getGeoLocation",e),i=y(n),s.e.recordEvent(s.c.GEO_LOCATION,{IS_SUCCESS:!1,ERROR_CODE:o,ERROR_MESSAGE:e.message,ELAPSED_TIME:i}),a(o)};navigator.geolocation.getCurrentPosition(c,l,{timeout:1e4,maximumAge:e?0:6e4,enableHighAccuracy:!0}),setTimeout(()=>{t||(r.b.debugWithNonPIIData(u,"getGeoLocation",d.TIMEOUT),i=y(n),s.e.recordEvent(s.c.GEO_LOCATION,{IS_SUCCESS:!1,ERROR_CODE:d.TIMEOUT,ERROR_MESSAGE:d.TIMEOUT,ELAPSED_TIME:i}),a(d.TIMEOUT))},1e4)}else r.b.debugWithNonPIIData(u,"getGeoLocation",d.LOCATION_NOT_ENABLED),i=y(n),s.e.recordEvent(s.c.GEO_LOCATION,{IS_SUCCESS:!1,ERROR_CODE:d.LOCATION_NOT_ENABLED,ERROR_MESSAGE:d.LOCATION_NOT_ENABLED,ELAPSED_TIME:i}),a(d.LOCATION_NOT_ENABLED)})}function m(e){if(Object(l.g)(e.latitude)||Object(l.g)(e.longitude))return r.b.errorWithNonPIIData(this.LOG_TAG,"invalid params"),"";e.sizeX=e.sizeX||360,e.sizeY=e.sizeY||170,e.markerColor=e.markerColor||"red",e.zoom=Object(l.g)(e.zoom)?15:e.zoom;const t="https://maps.googleapis.com/maps/api/staticmap?markers=color:{color}|{lt},{lg}&zoom={zoom}&size={sizeX}x{sizeY}&key={apikey}".replace("{lt}",e.latitude.toString()).replace("{lg}",e.longitude.toString()).replace("{color}",e.markerColor).replace("{zoom}",e.zoom.toString()).replace("{sizeX}",e.sizeX.toString()).replace("{sizeY}",e.sizeY.toString()).replace("{apikey}",h);return e.mapType?t+"&mapType="+e.mapType:t}function E(e,t="en"){return new Promise((n,i)=>{const o=e.lt.toString(),s=e.lg.toString(),c=Number(e.lt).toFixed(2).toString()+Number(e.lg).toFixed(2).toString();if(f.has(c)){const e=f.get(c);n(e)}else{const e="https://maps.googleapis.com/maps/api/geocode/json?latlng={lt},{lg}&language={lang}&key={apikey}".replace("{lt}",o).replace("{lg}",s).replace("{lang}",t).replace("{apikey}",h);a.a.get(e).then(e=>{try{const t=e.data.results[0];f.put(c,t),n(t)}catch(e){r.b.errorWithPIIData(u,"getLocationEnrichedWithAddress",e.stack||e.stacktrace||e),i("200")}}).catch(e=>{r.b.errorWithPIIData(u,["getLocationEnrichedWithAddress",e.stack,"errorCode: ",e.code,"errorJSON: ",e.toJSON()],e),i("200")})}})}function _(e,t="en"){return new Promise((t,n)=>{const i=m({latitude:e.lt,longitude:e.lg});E(e).then(n=>{const r=n.formatted_address,o=Object.assign({},e,{mapUrl:i,n:r});t(o)})})}function S(e,t,n){return new Promise((i,o)=>{const a=new google.maps.places.AutocompleteService,s=new google.maps.LatLng(t,n);a.getQueryPredictions({input:e,location:s,radius:5e4},(e,t)=>{if(t===google.maps.places.PlacesServiceStatus.OK){const t=new Array;for(const n of e){const e={description:n.structured_formatting.secondary_text?n.structured_formatting.secondary_text:n.description,placeId:n.place_id,name:n.structured_formatting.main_text};null!=e.placeId&&t.push(e)}i({addrList:t,isResult:!0})}else if(t===google.maps.places.PlacesServiceStatus.ZERO_RESULTS){i({isResult:!1})}else r.b.errorWithPIIData(u,["getNearbyPlaces",t]),o("200")})})}function T(e,t){return new Promise((n,i)=>{const o=new google.maps.Map(document.getElementById("map")),a={location:new google.maps.LatLng(e,t),radius:5e4};new google.maps.places.PlacesService(o).nearbySearch(a,(e,t)=>{if(t===google.maps.places.PlacesServiceStatus.OK){const t=new Array;for(const n of e){const e={description:n.vicinity,placeId:n.place_id,name:n.name};t.push(e)}n(t)}else r.b.errorWithPIIData(u,["getCurrentNearbyPlaces",t]),i("200")})})}function v(e){return new Promise((t,n)=>{const i=new google.maps.Map(document.getElementById("map")),o={placeId:e,fields:["geometry","name"]};new google.maps.places.PlacesService(i).getDetails(o,(e,i)=>{if(i===google.maps.places.PlacesServiceStatus.OK){const n={lt:e.geometry.location.lat(),lg:e.geometry.location.lng(),name:e.name};t(n)}else r.b.errorWithPIIData(u,["getPlaceDetails",i]),n("200")})})}function I(e,t){return"https://maps.google.com/maps?q={lt},{lg}".replace("{lt}",e.toString()).replace("{lg}",t.toString())}function b(e,t){return Object.assign({},e,{n:t})}function y(e){return c.a.getCurrentActualTime()-e}const C=1,A=2;function O(e,t){return new Promise((t,n)=>{let i=!1;const o=c.a.getCurrentActualTime();let l=0;const d=e?"https://freegeoip.app/json/":"https://ipapi.co/json";a.a.get(d).then(n=>{l=y(o),i=!0;const r=n.data.country_code?n.data.country_code:null;r?s.e.recordEvent(s.c.IP_LOCATION,{IS_SUCCESS:!0,NAME:r,ELAPSED_TIME:l,MESSAGE:e?"Primary endpoint used":"Secondary endpoint used",CODE:e?C:A}):s.e.recordEvent(s.c.IP_LOCATION,{IS_SUCCESS:!1,ERROR_CODE:p.NULL_COUNTRY_CODE,ERROR_MESSAGE:"Received NULL country code for ip",ELAPSED_TIME:l,MESSAGE:e?"Primary endpoint used":"Secondary endpoint used",CODE:e?C:A}),t(r)}).catch(t=>{l=y(o),i=!0,r.b.debugWithPIIData(u,"getCountryCodeFromIp",t.stack||t),s.e.recordEvent(s.c.IP_LOCATION,{IS_SUCCESS:!1,ERROR_CODE:p.GENERIC_ERROR,ERROR_MESSAGE:t.stack,ELAPSED_TIME:l,MESSAGE:e?"Primary endpoint used":"Secondary endpoint used",CODE:e?C:A}),n(p.GENERIC_ERROR)}),setTimeout(()=>{i||(l=y(o),s.e.recordEvent(s.c.IP_LOCATION,{IS_SUCCESS:!1,ERROR_CODE:p.TIMEOUT,ERROR_MESSAGE:"API timed out",ELAPSED_TIME:l,MESSAGE:e?"Primary endpoint used":"Secondary endpoint used",CODE:e?C:A}),n(p.TIMEOUT))},5e3)})}function N(e){if(!e){try{const t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("src",`https://maps.googleapis.com/maps/api/js?key=${h}&libraries=places`),(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(t),e=!0,r.b.infoWithNonPIIData(u,"Success in loading google maps script")}catch(e){r.b.errorWithNonPIIData("Exception while loading google maps script: ",e.stack||e.stacktrace||e)}return e}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return l}));var i,r,o,a=n(4),s=n(206),c=n(26);!function(e){e.command="COMMAND",e.event="EVENT",e.load="LOAD_STATUS",e.error="ERROR",e.allowEvent="ALLOW_EVENT",e.executeCallback="EXECUTE_CALLBACK"}(i||(i={})),function(e){e.BootSrcLoaded="BOOT_SRC_LOADED",e.MiniappSrcLoaded="MINIAPP_SRC_LOADED",e.SameOriginTimeout="SAME_ORIGIN_TIMEOUT",e.UIVisible="UI_VISIBLE",e.MiniappLoaded="MINIAPP_LOADED"}(r||(r={})),function(e){e.VisibilityChange="VISIBILITY_CHANGE",e.Blur="BLUR",e.Focus="FOCUS",e.Copy="COPY",e.ContextMenu="CONTEXT_MENU"}(o||(o={}));class l{constructor(){this.LOG_TAG="KASClientMessageRouter",this.receivers={},this.iframeWindows={},this.sendMessageToIFrame=e=>{const t=this.iframeWindows[e.viewId];t&&t.window?t.window.postMessage(e,t.origin):a.b.errorWithNonPIIData(this.LOG_TAG,"no target IFrame found for view Id",e.viewId)},this.routeMessageFromMiniapp=(e,t,n)=>{if(s.d.getViewById(c.b.getState(),e.viewId)){const r=this.receivers[this.getReceiverId(e.viewId,e.type)];if(r)switch(e.type){case i.command:"getSurveySummaryWithNotify"===e.payload.command&&(e.payload.args[0]=this.getFunctionFromCallbackString(t,n,e.viewId,e.payload.args[0]),e.payload.args[1]=this.getFunctionFromCallbackString(t,n,e.viewId,e.payload.args[1])),r(e.payload.command,e.payload.args,this.getFunctionFromCallbackString(t,n,e.viewId,e.payload.successCallback),this.getFunctionFromCallbackString(t,n,e.viewId,e.payload.errorCallback));break;case i.event:r(e.payload);break;case i.load:r(e.payload.eventType);break;case i.error:"PII"===e.payload.logType?a.b.errorWithPIIData(this.LOG_TAG,e.payload.error):a.b.errorWithNonPIIData(this.LOG_TAG,e.payload.error),r(e.payload)}else a.b.warnWithNonPIIData(this.LOG_TAG,"no receiver registered for view",this.getReceiverId(e.viewId,e.type))}else a.b.warnWithNonPIIData(this.LOG_TAG,e.type,e.payload,"no iframe view is present")},this.getFunctionFromCallbackString=(e,t,n,r)=>e=>{this.sendMessageToIFrame({type:i.executeCallback,payload:{id:r,args:e},viewId:n})},window.addEventListener("message",e=>{this.isKASClientMessage(e.data)&&(this.addIFrameWindow(e.data.viewId,e.source,e.origin),this.routeMessageFromMiniapp(e.data,e.source,e.origin))},!1)}static getInstance(){return l.self||(l.self=new l),l.self}addReceiver(e,t,n){this.receivers[this.getReceiverId(t.viewId,e)]=n}removeReceiver(e,t){delete this.receivers[this.getReceiverId(t.viewId,e)]}addIFrameWindow(e,t,n){this.iframeWindows[e]={window:t,origin:n}}getReceiverId(e,t){return e+t}isKASClientMessage(e){return e.type&&e.viewId&&e.payload}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(4),r=n(339),o=n(54),a=n(75);class s{constructor(e){this.LOG_TAG="BaseCommand",this.timeoutInMS=2e4,this.getCommandId=()=>this.commandId,this.handleResponse=(e,t)=>{if(i.b.infoWithNonPIIData(this.LOG_TAG,this.getCommandType(),this.getGuid(),"response received with code: ",e),this.isResponseSuccess(e)){if(this.result=new a.b(this.getGuid(),e,t),this.extractResult(t),null===this.promiseResolve)return void i.b.errorWithPIIData(this.LOG_TAG,[this.getCommandType(),"no resolve promise found",e],this.getResponseErrorDetails(e,t));this.promiseResolve(this.result)}else{const n=new a.b(this.getGuid(),e,this.getResponseErrorDetails(e,t));this.promiseReject(n)}},this.handleTimeout=()=>{this.result=new a.b(this.getGuid(),o.a.Timeout,"command timed out"),this.promiseReject(this.result)},this.isResponseSuccess=e=>e==o.b.Success,this.getResult=()=>this.result,this.commandId=e,this.guid=r.a.generateGuid()}getGuid(){return this.guid}getTimeout(){return this.timeoutInMS}createResponsePromise(){return new Promise((e,t)=>{this.promiseResolve=e,this.promiseReject=t})}Serialize(){const e={m:"cmfc",p:[this.commandId,this.guid,this.getCommandPayload()]};return JSON.stringify(e)}}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(39);function r(e,t){for(const n in e){if(typeof e[n]!=typeof t[n])return!1;switch(typeof e[n]){case"object":if(null===n)continue;if(!Object(i.c)(e[n],t[n]))return!1;break;case"function":if(e[n].toString()!==t[n].toString())return!1;break;default:if(e[n]!==t[n])return!1}}return!0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var i=n(6);const r={UNREAD_MESSAGE_MARKER:2,PHOTO_STORY_CREATION:3,URL_PREVIEW_CREATION:4,MESSAGE_OPTIONS_SUPPORT:5,AT_MENTIONS_SUPPORT:6,DELETE_FOR_EVERYONE:7};var o;o||(o={});const a=e=>{const t=e.sCId;let n=e.conversationId;return Object(i.g)(t)||"null"===t||(n=t),n}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(293),s=n(214),c=n(406);t.Types=c;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(o.Component);t.ActivityIndicator=l;var u=function(){};t.Alert=u;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(o.Component);t.AnimatedComponent=d;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(d);t.AnimatedImage=p;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(d);t.AnimatedText=h;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(d);t.AnimatedTextInput=f;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(d);t.AnimatedView=g;var m=function(){function e(){this.supportsExperimentalKeyboardNavigation=!1,this.activationStateChangedEvent=new a.default,this.memoryWarningEvent=new a.default}return e.prototype.initialize=function(e,t){s.default.setAppConfig(e,t)},e}();t.App=m;var E=function(){this.contentSizeMultiplierChangedEvent=new a.default,this.touchLatencyEvent=new a.default,this.keyboardNavigationEvent=new a.default};t.UserInterface=E;var _=function(){};t.Modal=_;var S=function(){};t.Popup=S;var T=function(){this.deepLinkRequestEvent=new a.default};t.Linking=T;var v=function(){this.screenReaderChangedEvent=new a.default,this.highContrastChangedEvent=new a.default};t.Accessibility=v;var I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(o.Component);t.Button=I;var b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(o.Component);t.Picker=b;var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(o.Component);t.Component=y;var C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(o.Component);t.Image=C;var A=function(){};t.Clipboard=A;var O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(o.Component);t.Link=O;var N=function(){};t.Storage=N;var R=function(){};t.Location=R;var P=function(){};t.Platform=P;var w=function(){this.backButtonEvent=new a.default(!0),this.keyDownEvent=new a.default(!0),this.keyUpEvent=new a.default(!0)};t.Input=w;var M=function(){};t.StatusBar=M;var D=function(){};t.Styles=D;var L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(o.Component);t.Text=L;var x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(o.Component);t.TextInput=x;var k=function(){this.userPresenceChangedEvent=new a.default};t.UserPresence=k;var U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(o.Component);t.ViewBase=U;var G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(U);t.View=G;var F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(U);t.GestureView=F},function(e,t,n){(function(t){var i,r=n(407),o=n(533),a=n(534),s=Array.prototype.slice,c={};i=void 0!==t&&t.console?t.console:"undefined"!=typeof window&&window.console?window.console:{};for(var l=[[function(){},"log"],[function(){i.log.apply(i,arguments)},"info"],[function(){i.log.apply(i,arguments)},"warn"],[function(){i.warn.apply(i,arguments)},"error"],[function(e){c[e]=a()},"time"],[function(e){var t=c[e];if(!t)throw new Error("No such label: "+e);var n=a()-t;i.log(e+": "+n+"ms")},"timeEnd"],[function(){var e=new Error;e.name="Trace",e.message=r.format.apply(null,arguments),i.error(e.stack)},"trace"],[function(e){i.log(r.inspect(e)+"\n")},"dir"],[function(e){if(!e){var t=s.call(arguments,1);o.ok(!1,r.format.apply(null,t))}},"assert"]],u=0;u<l.length;u++){var d=l[u],p=d[0],h=d[1];i[h]||(i[h]=p)}e.exports=i}).call(this,n(185))},function(e,t,n){"use strict";n.r(t),n.d(t,"getSrcFileFromMap",(function(){return y})),n.d(t,"copyStringToClipboard",(function(){return C})),n.d(t,"getCustomPackageBasePath",(function(){return A})),n.d(t,"getSrcFileForOOBMiniapp",(function(){return O})),n.d(t,"isCustomMiniapp",(function(){return N})),n.d(t,"getSrcUrl",(function(){return R})),n.d(t,"getOOBPollCompactResponseView",(function(){return P})),n.d(t,"isOOBMiniapp",(function(){return w})),n.d(t,"isMiniappTemplateTypeSupported",(function(){return M})),n.d(t,"isMiniappDisabled",(function(){return D})),n.d(t,"getLogStringForView",(function(){return L})),n.d(t,"stripZipPath",(function(){return x})),n.d(t,"isCustomAppAllowed",(function(){return k})),n.d(t,"consentAlertForCustomApp",(function(){return G})),n.d(t,"ImmersiveViewSupportCache",(function(){return B}));var i=n(34),r=n(58),o=n(26),a=n(61),s=n(14),c=n(20),l=n(4),u=n(231),d=n.n(u),p=n(175),h=n(6),f=n(97),g=n(73),m=n.n(g),E=n(121),_=n.n(E),S=n(49),T=n(10),v=n(1),I=n(35);const b={out_of_box_poll:[{viewType:s.s.SUMMARY,srcFile:"Poll/PollSummary.html"},{viewType:s.s.RESPONSE,srcFile:"Poll/PollResponse.html"},{viewType:s.s.CREATE,srcFile:"Poll/PollCreation.html"},{viewType:s.s.RESPONSE_COMPACT,srcFile:"Poll/PollResponseCompact.html"}],out_of_box_job:[{viewType:s.s.SUMMARY,srcFile:"JobV2/JobSummary.html"},{viewType:s.s.RESPONSE,srcFile:"JobV2/JobResponse.html"},{viewType:s.s.CREATE,srcFile:"JobV2/JobCreation.html"}],out_of_box_meeting:[{viewType:s.s.SUMMARY,srcFile:"Meet/MeetSummary.html"},{viewType:s.s.RESPONSE,srcFile:"Meet/MeetResponse.html"},{viewType:s.s.CREATE,srcFile:"Meet/MeetCreation.html"}],"survey-package-id":[{viewType:s.s.SUMMARY,srcFile:"Survey/SurveySummary.html"},{viewType:s.s.RESPONSE,srcFile:"Survey/SurveyResponse.html"},{viewType:s.s.CREATE,srcFile:"Survey/CreateSurvey.html"},{viewType:s.s.EDIT_SURVEY,srcFile:"Survey/EditSurvey.html"}],Announcement:[{viewType:s.s.SUMMARY,srcFile:"Announcement/AnnouncementSummary.html"},{viewType:s.s.CREATE,srcFile:"Announcement/CreateAnnouncement.html"}],InfoActionDefault:[{viewType:s.s.CREATE,srcFile:"InfoActionDefault/CreateAction.html"}]};function y(e,t,n="",i){if(_()(m()(e),i||t.packageId)){const r=e[i||t.packageId].find(e=>e.viewType===t.viewType);return r?n+"/"+r.srcFile:void 0}}function C(e){const t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}function A(e){const t=e?new URL(e):null,n=t&&c.serverSetting.cdnUrls[t.host]?c.serverSetting.cdnUrls[t.host]:c.serverSetting.cdnUrls["*"];let i=window.location.protocol;return c.isDesktop&&(i="https:"),i+"//"+n+"/acp/"}function O(e,t){const n=y(b,e,"",t);return c.isDesktop?f.AssetsSource.getAssetsPath(f.AssetType.OOB_ACTIONS_PACKAGE_SRC,n,"../"):f.AssetsSource.getAssetsPath(f.AssetType.OOB_ACTIONS_PACKAGE_SRC,n,"../..")}function N(e){return!w(e.packageId)}function R(e,t,n,i){return w(e.packageId)?O(e):"2"===n?O(e,"survey-package-id"):N(e)||"3"===n?A(i)+t:void l.b.errorWithNonPIIData("MiniappUtils","templateType ",n," not supported ")}function P(e,t){const n=b[e.packageId].find(e=>e.viewType===s.s.RESPONSE),i=b[e.packageId].find(e=>e.viewType===s.s.RESPONSE_COMPACT);return t.replace(n.srcFile,i.srcFile)}function w(e){return!!_()(m()(b),e)}function M(e,t){return w(e)||void 0===t||"3"===t||"2"===t}function D(e,t){const n=e.id;return n===S.a.OOB_POLL_PACKAGE_ID&&t<6||n===S.a.PAYMENTS_PACKAGE_ID||n===S.a.OOB_MEETING_PACKAGE_ID&&t<4||n===S.a.SHARE_PHOTO_WITH_LOCATION_PACKAGE_ID||n===S.a.LIVE_TRACK_PACKAGE_ID||n===S.a.LOCATION_REQUEST_PACKAGE_ID||n===S.a.LIVE_SHARE_PACKAGE_ID||n===S.a.SHARE_LOCATION_PACKAGE_ID||n===S.a.SUBMIT_BILL_PACKAGE_ID||n===S.a.TIC_TAC_TOE_PACKAGE_ID||n.includes(S.a.CHECKLIST_BASE_PACKAGE_ID)||n.includes(S.a.CHESS_BASE_PACKAGE_ID)||n.includes(S.a.MOBIQWIK_PAYMENT_BASE_PACKAGE_ID)||!M(n,e.templateType)}function L(e){return"ActionImmersivePane : pid: "+e.packageId+" vid: "+e.viewId+" vT: "+e.viewType}function x(e){if(e){let t=e.split("?").shift();return t.endsWith(".zip")&&(t=t.substr(0,t.length-4)),t}return e}function k(e){return a.a.getData(U(e.packageId))}function U(e){return e+"_consentStatus"}function G(e,t){return new Promise((n,c)=>{N(t)&&!k(t)?e(T.o.openMiniappScreen(new s.c({alertType:0,title:v.getString("CustomAppConsentTitle"),message:I.a.format(v.getString("CustomAppConsentMessage"),T.q.getMiniAppName(t.packageId,o.a.getState()),T.q.getCustomActionCreatorName(t.getConversationId(),o.a.getState())),cancelButtonText:v.getString("LearnMore"),onCancelClick:()=>window.open("https://support.microsoft.com/en-us/topic/manage-actions-in-kaizala-28cb0e53-8763-4736-a63e-d411659dff34?ui=en-us&rs=en-us&ad=us#bmk-give-consent-to-custom-actions"),okButtonText:v.getString("Allow"),onOkClick:()=>{r.a.recordEvent(i.b.CUSTOM_ACTION_CONSENT_SUCCESS,{SUFFIX:"Consent provided successfully for the package id: "+t.packageId}),a.a.setData(U(t.packageId),!0),e(T.o.closeMiniappScreen()),n(!0)},neutralButtonText:v.getString("CancelButtonText"),onNeutralButtonClick:()=>{r.a.recordEvent(i.b.CUSTOM_ACTION_CONSENT_REJECT,{SUFFIX:"Consent rejected for the package id: "+t.packageId}),a.a.setData(U(t.packageId),!1),e(T.o.closeMiniappScreen()),c("Clicked on cancel")},buttonWidth:80,buttonMargin:4,buttonFontSize:12}))):n(!0)})}var F;!function(e){e[e.PASSED=0]="PASSED",e[e.FAILED=1]="FAILED",e[e.INCONCLUSIVE=2]="INCONCLUSIVE"}(F||(F={}));class B{static isSupported(e){return!this.immersiveViewSupportCache.has(e)||this.immersiveViewSupportCache.get(e)}static initializeCache(e,t){if(this.cleanCacheIfNeeded(),t=x(t),!Object(h.g)(t)&&!this.immersiveViewSupportCache.has(e)){const n=[];["KASClient.js","KASClientCore.js","KASClientCore.min.js","KASClient.min.js"].forEach(e=>{const i=t+"/"+e;n.push(new Promise(e=>{d.a.get(i).then(t=>200!==t.status?e(F.INCONCLUSIVE):-1!==t.data.search("isRenderedForWebApp")?e(F.PASSED):e(F.FAILED)).catch(t=>e(F.INCONCLUSIVE))}))}),Promise.all(n).then(t=>{let n=!1;const i=t.reduce((e,t)=>t===F.INCONCLUSIVE?e:(n=!0,t===F.PASSED?F.PASSED:e),F.FAILED);n&&this.immersiveViewSupportCache.put(e,i===F.PASSED)})}}static getCurrentCacheVersion(){return this.immersiveViewSupportCache.has(this.CACHE_VERSION_KEY)?this.immersiveViewSupportCache.get(this.CACHE_VERSION_KEY):0}static cleanCacheIfNeeded(){this.CACHE_VERSION>this.getCurrentCacheVersion()&&(this.immersiveViewSupportCache.purge(),this.immersiveViewSupportCache.put(this.CACHE_VERSION_KEY,this.CACHE_VERSION))}}B.immersiveViewSupportCache=new p.a("ivs",100),B.CACHE_VERSION=1,B.CACHE_VERSION_KEY="CACHE_VERSION"},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var i=n(13);const r=new class{constructor(){this.insertMessage=(e,t,n=!0)=>new a(e,t,n),this.insertMessages=e=>new s(e),this.deleteMessages=(e,t)=>new c(e,t),this.sendNewMessage=e=>new l(e),this.sendDeleteMessage=(e,t)=>new u(e,t),this.sendForwardMessage=(e,t)=>new d(e,t),this.editAndForwardMessage=(e,t)=>new p(e,t),this.playMessage=e=>new h(e),this.onTypingMessageReceived=e=>new f(e),this.onTypingMessageTimeout=(e,t)=>new g(e,t),this.preFetchMessagesReceived=e=>new m(e)}};var o;!function(e){e.SEND_NEW_MESSAGE="messages/send_new_message",e.SEND_DELETE_MESSAGE="messages/send_del_message",e.SEND_FORWARD_MESSAGE="messages/send_fwd_messages",e.EDIT_FORWARD_MESSAGE="messages/edit_fwd_messages",e.MESSAGE_INSERT="messages/insert_message",e.MESSAGES_INSERT="messages/insert_messages",e.MESSAGES_DELETE="messages/delete-messages",e.MESSAGE_DELETE="messages/delete_message",e.MESSAGE_PLAY="messages/play_message",e.TYPING_MESSAGE_RECEIVED="messages/typing_message_received",e.TYPING_MESSAGE_TIMEOUT="conversation-list/typing_message_timeout",e.PRE_FETCH_MESSAGES_RECEIVED="messages/pre-fetch-messages-received"}(o||(o={}));class a extends i.c{constructor(e,t,n){super(o.MESSAGE_INSERT),this.rawMessage=e,this.isSentByMe=t}}class s extends i.c{constructor(e){super(o.MESSAGES_INSERT),this.rawMessages=e}}class c extends i.c{constructor(e,t){super(o.MESSAGES_DELETE),this.messages=e,this.updateListAfterDelete=t}}class l extends i.c{constructor(e){super(o.SEND_NEW_MESSAGE),this.messageToSend=e}}class u extends i.c{constructor(e,t){super(o.SEND_DELETE_MESSAGE),this.messageId=e,this.deleteForEveryOne=t}}class d extends i.c{constructor(e,t){super(o.SEND_FORWARD_MESSAGE),this.messageId=e,this.toParticipants=t}}class p extends i.c{constructor(e,t){super(o.EDIT_FORWARD_MESSAGE),this.messageId=e,this.toParticipants=t}}i.c;class h extends i.c{constructor(e){super(o.MESSAGE_PLAY),this.messageId=e}}class f extends i.c{constructor(e){super(o.TYPING_MESSAGE_RECEIVED),this.rawMessage=e}}class g extends i.c{constructor(e,t){super(o.TYPING_MESSAGE_TIMEOUT),this.conversationId=e,this.senderId=t}}class m extends i.c{constructor(e){super(o.PRE_FETCH_MESSAGES_RECEIVED),this.rawMessages=e}}},function(e,t,n){"use strict";function i(){return{selectedItem:void 0}}n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return o}));var r=n(13);const o=new class{constructor(){this.openProfileItem=e=>new c(e)}};var a,s;!function(e){e.OPEN_PROFILE_ITEM="profile/open"}(a||(a={})),function(e){e.EULA="EULA",e.THIRD_PARTY_NOTICE="Third_Party_Notices",e.PRIVACY_STATEMENT="Privacy_Statement",e.ACCESSIBILITY_DECREE="Accessibility_Decree"}(s||(s={}));class c extends r.c{constructor(e){super(a.OPEN_PROFILE_ITEM),this.profileItem=e}}const l=(e={selectedItem:void 0},t)=>{switch(t.type){case a.OPEN_PROFILE_ITEM:e=Object.assign({},e,{selectedItem:t.profileItem})}return e};new class{constructor(){this.getSelectedProfileItem=e=>e.profileState.selectedItem}}},function(e,t,n){"use strict";var i,r=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function s(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function c(e,t){for(var n={},i=[],r=0;r<e.length;r++){var o=e[r],c=t.base?o[0]+t.base:o[0],l=n[c]||0,u="".concat(c," ").concat(l);n[c]=l+1;var d=s(u),p={css:o[1],media:o[2],sourceMap:o[3]};-1!==d?(a[d].references++,a[d].updater(p)):a.push({identifier:u,updater:m(p,t),references:1}),i.push(u)}return i}function l(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var r=n.nc;r&&(i.nonce=r)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function p(e,t,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=d(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function h(e,t,n){var i=n.css,r=n.media,o=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),o&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var f=null,g=0;function m(e,t){var n,i,r;if(t.singleton){var o=g++;n=f||(f=l(t)),i=p.bind(null,n,o,!1),r=p.bind(null,n,o,!0)}else n=l(t),i=h.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var n=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var r=s(n[i]);a[r].references--}for(var o=c(e,t),l=0;l<n.length;l++){var u=s(n[l]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}n=o}}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return r}));var i,r,o=n(42);class a{}a.JSON_NAME="name",a.JSON_ID="id",a.JSON_TYPE="type",a.JSON_ROLE="role",a.JSON_GROUP_TITLE="t",a.JSON_GROUP_TITLE_OLD="title",a.JSON_GROUP_ID_OLD="groupId",a.JSON_IS_READONLY="iro",a.JSON_IS_READONLY_OLD="isReadonly",a.JSON_SUBGROUPS_COUNT="gc",a.JSON_MEMBERS_COUNT="mc",a.JSON_UNPROVISIONED_USERS_COUNT="uuc",a.JSON_LONG_DESC="ld",a.JSON_SHORT_DESC="sd",a.JSON_SUBS_COUNT="sc",a.JSON_WEL_MESSAGE="wm",a.JSON_TENANT_NAME="name",a.JSON_IS_TENANT_DISABLED="isd",a.JSON_IS_CUR_USER_ADMIN="isCurrentUserAdmin",a.JSON_IS_CUR_USER_MEMBER="isCurrentUserMember",a.JSON_IS_CUR_USER_SUBSCRIBER="isCurrentUserSubscriber",a.JSON_CUR_USER_ROLE="cur",a.JSON_IS_ORG_USER="isOrgUser",a.JSON_IS_PRIVATE_MEMBER="isPM",function(e){e[e.GROUP_CREATION_SUPPORT=3]="GROUP_CREATION_SUPPORT",e[e.GROUP_INFO_SUPPORT=4]="GROUP_INFO_SUPPORT",e[e.GROUP_NAME_INCREASE_SUPPORT=5]="GROUP_NAME_INCREASE_SUPPORT",e[e.GROUP_POLICY_ALLOW_ADD_USERS_SUPPORT=6]="GROUP_POLICY_ALLOW_ADD_USERS_SUPPORT",e[e.GROUP_CHAT_DATA_PRE_FETCH=7]="GROUP_CHAT_DATA_PRE_FETCH"}(i||(i={}));class s{static FromJSON(e){return new s(e[a.JSON_ID],e[a.JSON_NAME],e[a.JSON_TYPE],e[a.JSON_ROLE],e[a.JSON_IS_ORG_USER],e[a.JSON_IS_PRIVATE_MEMBER])}constructor(e,t,n,i,r=!1,o=!1){this.id=e,this.name=t,this.type=n,this.role=i,this.isOrgUser=r,this.isPrivateMember=o}}class c{constructor(e){this.groupId=e[a.JSON_ID]||e[a.JSON_GROUP_ID_OLD],this.title=e[a.JSON_GROUP_TITLE]||e[a.JSON_GROUP_TITLE_OLD],this.isReadonly=e[a.JSON_IS_READONLY]||e[a.JSON_IS_READONLY_OLD],this.membersCount=e[a.JSON_MEMBERS_COUNT],this.groupsCount=e[a.JSON_SUBGROUPS_COUNT]?e[a.JSON_SUBGROUPS_COUNT]:0,this.unprovisionedUsersCount=e[a.JSON_UNPROVISIONED_USERS_COUNT]?e[a.JSON_UNPROVISIONED_USERS_COUNT]:0;let t=e[a.JSON_CUR_USER_ROLE];void 0===t&&(t=1==e[a.JSON_IS_CUR_USER_ADMIN]?o.a.ADMIN:1==e[a.JSON_IS_CUR_USER_MEMBER]?o.a.MEMBER:1==e[a.JSON_IS_CUR_USER_SUBSCRIBER]?o.a.SUBSCRIBER:o.a.NONE),this.currentUserRole=t}}class l extends c{constructor(e){super(e),this.longDescription=e[a.JSON_LONG_DESC],this.shortDescription=e[a.JSON_SHORT_DESC],this.welcomeMessage=e[a.JSON_WEL_MESSAGE]}}class u{static FromJSON(e){return new u(e[a.JSON_ID],e[a.JSON_TENANT_NAME],e[a.JSON_IS_TENANT_DISABLED])}constructor(e,t,n){this.tenantId=e,this.tenantName=t,this.isDisabled=n}}!function(e){e[e.Unknown=-1]="Unknown",e[e.TextInput=0]="TextInput",e[e.TextInputDisabled=1]="TextInputDisabled",e[e.ForumMember=2]="ForumMember",e[e.ForumReachable=3]="ForumReachable",e[e.ForumAdmin=4]="ForumAdmin",e[e.PGMember=5]="PGMember",e[e.PGAdmin=6]="PGAdmin",e[e.PGSubscriber=7]="PGSubscriber",e[e.PGNoAction=8]="PGNoAction",e[e.Readonly=9]="Readonly",e[e.ReadonlyPGJoinRequested=10]="ReadonlyPGJoinRequested",e[e.ReadOnlyPGJoinNotRequested=11]="ReadOnlyPGJoinNotRequested",e[e.ReadonlyNotReachable=12]="ReadonlyNotReachable",e[e.PeerDeleted=13]="PeerDeleted"}(r||(r={}))},function(e,t,n){"use strict";var i;function r(){return{allMediaMap:{},moduleVersion:0}}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.STARTED=1]="STARTED",e[e.PATH_RESOLVED=2]="PATH_RESOLVED",e[e.UPLOADING=3]="UPLOADING",e[e.UPLOAD_SUCCESS=4]="UPLOAD_SUCCESS",e[e.UPLOAD_FAILED=5]="UPLOAD_FAILED"}(i||(i={}))},function(e,t,n){"use strict";var i=n(76);n.d(t,"a",(function(){return i.b}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,r=n(42),o=n(1),a=n(41);!function(e){e[e.NONE=0]="NONE",e[e.MAKE_ADMIN=1]="MAKE_ADMIN",e[e.REMOVE_ADMIN=2]="REMOVE_ADMIN",e[e.REMOVE_FROM_GROUP=4]="REMOVE_FROM_GROUP",e[e.REMOVE_GROUP_FROM_GROUP=8]="REMOVE_GROUP_FROM_GROUP",e[e.ADD_PARTICIPANTS=16]="ADD_PARTICIPANTS"}(i||(i={}));t.b=class{constructor(){this.getId=()=>"groupOptions",this.getAllOptions=()=>{const e=[];return e.push(i.NONE),e.push(i.MAKE_ADMIN),e.push(i.REMOVE_ADMIN),e.push(i.REMOVE_FROM_GROUP),e.push(i.REMOVE_GROUP_FROM_GROUP),e},this.getEligibleOptions=e=>{const t=e;let n=i.NONE;return t.participantType===r.b.GROUP?n|=i.REMOVE_GROUP_FROM_GROUP:t.participantRole===r.a.ADMIN?(n|=i.REMOVE_ADMIN,n|=i.REMOVE_FROM_GROUP):t.participantRole===r.a.MEMBER&&(n|=i.MAKE_ADMIN,n|=i.REMOVE_FROM_GROUP),n},this.getOptionLabel=e=>{switch(e){case i.NONE:return"";case i.MAKE_ADMIN:return o.getString("makeAdmin");case i.REMOVE_ADMIN:return o.getString("removeAdmin");case i.REMOVE_FROM_GROUP:return o.getString("removeFromGroup");case i.REMOVE_GROUP_FROM_GROUP:return o.getString("removeGroupFromGroup");default:return""}},this.getOptionTitle=e=>{switch(e){case i.NONE:return"";case i.MAKE_ADMIN:return o.getString("makeAdmin");case i.REMOVE_ADMIN:return o.getString("removeAdmin");case i.REMOVE_FROM_GROUP:return o.getString("removeFromGroup");case i.REMOVE_GROUP_FROM_GROUP:return o.getString("removeGroupFromGroup");default:return""}},this.getOptionIcon=e=>"",this.getMenuId=e=>this.getId()+"-menu-"+e,this.onPress=(e,t)=>{const n=t;switch(t.id){case i.MAKE_ADMIN:e(a.c.changeParticipantRoleInGroup(n.conversationId,n.participantModel,r.a.ADMIN));break;case i.REMOVE_ADMIN:e(a.c.changeParticipantRoleInGroup(n.conversationId,n.participantModel,r.a.MEMBER));break;case i.REMOVE_FROM_GROUP:case i.REMOVE_GROUP_FROM_GROUP:e(a.c.removeParticipantFromGroup(n.conversationId,n.participantModel))}}}}},function(e,t,n){"use strict";var i,r;n.d(t,"h",(function(){return k})),n.d(t,"f",(function(){return V})),n.d(t,"g",(function(){return D})),n.d(t,"e",(function(){return $})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return M})),n.d(t,"b",(function(){return r})),function(e){e.EXTERNAL="external",e.INTERNAL="internal"}(i||(i={})),function(e){e.USER_LOGGED_OUT_FROM_WEBAPP="FROM_WEBAPP",e.USER_LOGGED_OUT_FROM_DEVICE="FROM_DEVICE",e.USER_LOGGED_OUT_AS_AUTH_FAILED="AUTH_FAILED",e.USER_LOGGED_OUT_ON_CLICKING_RE_SIGNIN="CLICKED_ON_RE_SIGNIN",e.USER_DENIED_WEBAPP_UPGRADE="USER_DENIED_WEBAPP_UPGRADE"}(r||(r={}));var o=n(26),a=n(25),s=n(123),c=n(19),l=n(22),u=n(166),d=n(4),p=n(13);const h=new class{constructor(){this.sendPairingCodeRequest=(e,t,n)=>new g(e,t,n),this.resendPairingCodeRequest=(e,t,n)=>new m(e,t,n),this.pairingCodeGenerationSuccess=(e,t)=>new E(e,t),this.pairingCodeGenerationFailed=(e,t)=>new _(e,t),this.pairingCodeReGenerationSuccess=(e,t)=>new S(e,t),this.pairingCodeReGenerationFailed=(e,t)=>new T(e,t),this.sendConnectionRequest=(e,t,n)=>new v(e,t,n),this.sendReConnectionRequest=(e,t,n,i)=>new b(e,t,n,i),this.connectionSuccess=e=>new y(e),this.connectionFailed=(e,t)=>new C(e,t),this.updatePreAuthConnectionState=(e,t=!1)=>new A(e,t),this.sendLogoutRequest=(e,t)=>new I(e,t),this.clearSession=()=>new O,this.reconnectServer=()=>new N,this.enterPairingCodeAgain=()=>new R}};var f;!function(e){e.SEND_PAIRING_CODE_REQUEST="auth/send_pairing_code_request",e.PAIRING_CODE_GENERATION_SUCCESS="auth/pairing_code_generation_success",e.PAIRING_CODE_GENERATION_FAILED="auth/pairing_code_generation_failed",e.RESEND_PAIRING_CODE_REQUEST="auth/resend_pairing_code_request",e.PAIRING_CODE_RE_GENERATION_SUCCESS="auth/pairing_code_re_generation_success",e.PAIRING_CODE_RE_GENERATION_FAILED="auth/pairing_code_re_generation_failed",e.SEND_CONNECTION_REQUEST="auth/send_connection_request",e.SEND_RE_CONNECTION_REQUEST="auth/send_connection_request",e.CONNECTION_SUCCESS="auth/connection_success",e.CONNECTION_FAILED="auth/connection_failed",e.LOGOUT="auth/logout",e.CLEAR_SESSION="auth/clear_session",e.RECONNECT_SERVER="auth/reconnect_server",e.ENTER_PAIRING_CODE_AGAIN="auth/enter_pairing_code_again",e.UPDATE_PRE_AUTH_CONNECTION_STATE="auth/update_pre_auth_connection_state"}(f||(f={}));class g extends p.c{constructor(e,t,n){super(f.SEND_PAIRING_CODE_REQUEST),this.countryCode=e,this.countryPhoneCode=t,this.mobileNumber=n}}class m extends p.c{constructor(e,t,n){super(f.RESEND_PAIRING_CODE_REQUEST),this.countryCode=e,this.countryPhoneCode=t,this.mobileNumber=n}}class E extends p.c{constructor(e,t){super(f.PAIRING_CODE_GENERATION_SUCCESS),this.remainingRetry=e,this.tOTP=t}}class _ extends p.c{constructor(e,t){super(f.PAIRING_CODE_GENERATION_FAILED),this.errorCode=e,this.errorValue=t}}class S extends p.c{constructor(e,t){super(f.PAIRING_CODE_RE_GENERATION_SUCCESS),this.remainingRetry=e,this.tOTP=t}}class T extends p.c{constructor(e,t){super(f.PAIRING_CODE_RE_GENERATION_FAILED),this.errorCode=e,this.errorValue=t}}class v extends p.c{constructor(e,t,n){super(f.SEND_CONNECTION_REQUEST),this.countryPhoneCode=e,this.mobileNumber=t,this.pairingCode=n}}class I extends p.c{constructor(e,t){super(f.LOGOUT),this.isExternal=e,this.reason=t}}class b extends p.c{constructor(e,t,n,i){super(f.SEND_RE_CONNECTION_REQUEST),this.countryPhoneCode=e,this.mobileNumber=t,this.pairingCode=n,this.authToken=i}}class y extends p.c{constructor(e){super(f.CONNECTION_SUCCESS),this.authToken=e}}class C extends p.c{constructor(e,t){super(f.CONNECTION_FAILED),this.errorCode=e,this.errorValue=t}}class A extends p.c{constructor(e,t){super(f.UPDATE_PRE_AUTH_CONNECTION_STATE),this.connectionState=e,this.forceReconnect=t}}class O extends p.c{constructor(){super(f.CLEAR_SESSION)}}class N extends p.c{constructor(){super(f.RECONNECT_SERVER)}}class R extends p.c{constructor(){super(f.ENTER_PAIRING_CODE_AGAIN)}}var P=n(11);class w{constructor(){this.LOG_TAG="AuthManager",this.handleLogoutSDNMessage=e=>{String(e.type)===String(u.a.SDN_LOGOUT_MESSAGE_TYPE)&&e.logOut&&e.webclientId&&e.webclientId.includes(a.c.getWebId())&&o.a.getStore().dispatch(h.sendLogoutRequest(!0,r.USER_LOGGED_OUT_FROM_DEVICE))},this.handleCommandTimeOut=()=>{this.handleServerDisconnection()},this.handleConnectionStateChanged=e=>{switch(e){case l.a.NETWORK_CONNECTED:c.b.reconnect()}},this.handleAppForegroundChanged=e=>{e&&!c.b.isConnected()&&c.b.reconnect()},this.handleAuthTokenRefreshSDNMessage=e=>{String(e.type)===String(u.a.SDN_AUTH_TOKEN_REFRESH_MESSAGE_TYPE)&&(P.e.recordEvent(P.c.AUTH_TOKEN_REFRESHED,null),a.c.setAuthToken(e.user.at))},this.reconnectServer=()=>{c.b.reconnect()},this.listenOnConnectionOpen=()=>{this.connectionRetryCount=0,o.a.getStore().dispatch(h.updatePreAuthConnectionState(l.a.SERVER_CONNECTED))},this.listenOnAuthConnectionOpen=()=>{c.b.unRegisterOnOpen(this.listenOnConnectionOpen),c.b.unRegisterOnError(this.handleServerDisconnection),c.b.unRegisterOnClose(this.handleServerDisconnection),d.b.infoWithNonPIIData(this.LOG_TAG,"Auth success: Unregister for socket activities")},this.handleServerDisconnection=e=>{d.b.infoWithNonPIIData(this.LOG_TAG,"Socket closed/thrown error. Retry count: ",w.MAX_RETRY_COUNT,"and network status: ",navigator.onLine),this.connectionRetryCount<w.MAX_RETRY_COUNT&&navigator.onLine?(c.b.reconnect(),this.connectionRetryCount++):navigator.onLine&&o.a.getStore().dispatch(h.updatePreAuthConnectionState(l.a.SERVER_DISCONNECTED,!0))},this.connectionRetryCount=0,a.c.getAuthToken()?(c.b.unRegisterOnOpen(this.listenOnConnectionOpen),c.b.unRegisterOnError(this.handleServerDisconnection),c.b.unRegisterOnClose(this.handleServerDisconnection),s.a.unregisterOnAuthenticationSuccess(this.listenOnAuthConnectionOpen),d.b.infoWithNonPIIData(this.LOG_TAG,"Constructor: Unregister for socket activities")):(c.b.registerOnOpen(this.listenOnConnectionOpen),c.b.registerOnError(this.handleServerDisconnection),c.b.registerOnClose(this.handleServerDisconnection),s.a.registerOnAuthenticationSuccess(this.listenOnAuthConnectionOpen),d.b.infoWithNonPIIData(this.LOG_TAG,"Constructor: Register for socket activities"))}}w.MAX_RETRY_COUNT=3;const M=new w;var D=new class{constructor(){this.isUserAuthenticated=e=>e.authState.auth.isAuthenticated}},L=n(89),x=n(54);function k(){return{auth:{countryCode:"",countryPhoneCode:"",mobileNumber:"",signInState:L.a.START_SIGN_IN,isAuthenticated:!!a.c.getAuthToken(),authToken:"",responseCode:x.b.None,responseMessage:"",tOTP:""},preAuthConnectionModel:{preAuthConnectionState:l.a.UNKNOWN,forceReconnect:!1}}}var U=n(1),G=n(35),F=n(144),B=n(234);const V=(e=k(),t)=>{switch(t.type){case F.a.ON_CONNECTION_STATE_CHANGED:if(!e.auth.isAuthenticated){const n=Object.assign({},e.preAuthConnectionModel,{preAuthConnectionState:t.connectionState});e=Object.assign({},e,{preAuthConnectionModel:n})}break;case f.UPDATE_PRE_AUTH_CONNECTION_STATE:if(!e.auth.isAuthenticated){const n=Object.assign({},e.preAuthConnectionModel,{preAuthConnectionState:t.connectionState,forceReconnect:t.forceReconnect});e=Object.assign({},e,{preAuthConnectionModel:n})}break;case f.PAIRING_CODE_GENERATION_SUCCESS:case f.PAIRING_CODE_RE_GENERATION_SUCCESS:{let r="";n=t.remainingRetry,i=3,n>=0&&n<=i?r=G.a.format(U.getString("PairingCodeGenerationSuccessWithRemainingRetry"),t.remainingRetry):t.type===f.PAIRING_CODE_RE_GENERATION_SUCCESS&&(r=U.getString("PairingCodeGenerationSuccess"));const o=Object.assign({},e.auth,{signInState:t.type===f.PAIRING_CODE_GENERATION_SUCCESS?L.a.PAIRING_CODE_GENERATION_SUCCESS:L.a.PAIRING_CODE_RE_GENERATION_SUCCESS,responseCode:x.b.Success,responseMessage:r,tOTP:t.tOTP});e=Object.assign({},e,{auth:o});break}case f.PAIRING_CODE_GENERATION_FAILED:case f.PAIRING_CODE_RE_GENERATION_FAILED:{let n=x.b.ServerError,i=U.getString("ServerErrorInPairingCodeGeneration");if(t.errorCode)switch(t.errorCode){case x.b.InValidUser:n=x.b.InValidUser,i=U.getString("InvalidUser");break;case x.b.TooManyRequests:n=x.b.TooManyRequests,i=G.a.format(U.getString("TooManyPairingCodeGenerationFailed"),t.errorValue)}const r=Object.assign({},e.auth,{signInState:t.type===f.PAIRING_CODE_GENERATION_FAILED?L.a.PAIRING_CODE_GENERATION_FAILED:L.a.PAIRING_CODE_RE_GENERATION_FAILED,responseCode:n,responseMessage:i});e=Object.assign({},e,{auth:r});break}case f.CONNECTION_SUCCESS:{const n=Object.assign({},e.auth,{signInState:L.a.SIGNED_IN,isAuthenticated:!0,authAToken:t.authToken,responseCode:x.b.Success,responseMessage:U.getString("VerificationSuccess")});e=Object.assign({},e,{auth:n});break}case f.ENTER_PAIRING_CODE_AGAIN:{const t=Object.assign({},e.auth,{signInState:L.a.START_SIGN_IN,isAuthenticated:!1});e=Object.assign({},e,{auth:t});break}case f.CONNECTION_FAILED:{let n=x.b.ServerError,i=U.getString("VerificationFailed");if(t.errorCode)switch(t.errorCode){case x.b.WebclientOTPMisMatch:switch(n=x.b.WebclientOTPMisMatch,t.errorValue.info){case B.a.PIN_INVALID:i=U.getString("PairingCodeVerificationInvalid");break;case B.a.PIN_EXPIRED:i=U.getString("PairingCodeVerificationExpired")}t.errorValue.rTry<=3&&(i+=G.a.format(U.getString("_PairingCodeVerificationRemainingRetry"),t.errorValue.rTry));break;case x.b.TooManyRequests:n=x.b.TooManyRequests,i=G.a.format(U.getString("TooManyPairingCodeVerificationFailed"),t.errorValue)}const r=Object.assign({},e.auth,{signInState:L.a.SIGN_IN_FAILED,responseCode:n,responseMessage:i});e=Object.assign({},e,{auth:r});break}case f.CLEAR_SESSION:{const t=k();e=Object.assign({},t);break}case f.SEND_PAIRING_CODE_REQUEST:{const n=Object.assign({},e.auth,{countryCode:t.countryCode,countryPhoneCode:t.countryPhoneCode,mobileNumber:t.mobileNumber,signInState:L.a.PAIRING_CODE_REQUESTED});e=Object.assign({},e,{auth:n});break}case f.RESEND_PAIRING_CODE_REQUEST:{const n=Object.assign({},e.auth,{countryCode:t.countryCode,countryPhoneCode:t.countryPhoneCode,mobileNumber:t.mobileNumber,signInState:L.a.PAIRING_CODE_RE_REQUESTED,responseCode:x.b.None,responseMessage:""});e=Object.assign({},e,{auth:n});break}case f.SEND_CONNECTION_REQUEST:{const n=Object.assign({},e.auth,{countryPhoneCode:t.countryPhoneCode,mobileNumber:t.mobileNumber,signInState:L.a.PAIRING_CODE_SUBMITTED});e=Object.assign({},e,{auth:n});break}}var n,i;return e};var W=n(85),j=n(78),H=n(32),z=n(28),Y=n(20),K=n(76),q=n(79),Q=n(156),J=n(222);const X=z.c,$=e=>t=>n=>{const o=(t,n)=>{d.b.errorWithNonPIIData(X,"handleAuthenticationFailed",n),g(t)?m():e.dispatch(h.sendLogoutRequest(!0,r.USER_LOGGED_OUT_AS_AUTH_FAILED))},c=()=>{K.b.setRetryCount(K.a.AUTHORIZE,0),e.dispatch(h.connectionSuccess(a.c.getAuthToken()))},g=e=>e&&K.b.getRetryCount(K.a.AUTHORIZE)<q.a.getMaxRetryCount(K.a.AUTHORIZE),m=()=>{navigator.onLine&&(K.b.setRetryCount(K.a.AUTHORIZE,K.b.getRetryCount(K.a.AUTHORIZE)+1),d.b.infoWithNonPIIData(X,"Retry Authentication for transient error, count: ",K.b.getRetryCount(K.a.AUTHORIZE)),K.b.authorizeUser())},E=e=>{e.getRespCode()===x.a.Timeout&&M.handleCommandTimeOut()},_=()=>{e.dispatch(p.e.resetApp()),window.location.reload()},S=e=>{if(Y.isProdServerEnv)return null;return e.response&&e.response.tOTP?e.response.tOTP:""},T=e=>e.response&&e.response.rTry?e.response.rTry:-1,v=(e,t,n,i,r,o,a)=>{const s={TAG:"AUTH MIDDLEWARE",SUB_TAG:t,IS_SUCCESS:!0,MASKED_PHONE:n,GUID:i};r&&(s.SOURCE=r),o&&(s.REASON=o),a&&(s.REMAINING_RETRY=a),P.e.recordEvent(e,s)},I=(e,t,n,i,r,o)=>{const a={TAG:"AUTH MIDDLEWARE",SUB_TAG:t,IS_SUCCESS:!1,MASKED_PHONE:n,ERROR_CODE:i.getRespCode(),ERROR_MESSAGE:i.getRespMessage(),GUID:i.getGuid()};r&&(a.SOURCE=r),o&&(a.REASON=o),P.e.recordEvent(e,a)};switch(n.type){case f.CONNECTION_SUCCESS:if(!W.b.isFeatureEnabled(W.a.NEW_COLD_BOOT_FLOW)){e.getState().connectivityState.isActivelyConnect&&e.dispatch(J.b.ensureSession())}break;case p.a.START_APP:s.a.registerOnAuthenticationError(o),s.a.registerOnAuthenticationSuccess(c),u.b.registerOnSDNMessageReceived(M.handleAuthTokenRefreshSDNMessage,u.a.SDN_AUTH_TOKEN_REFRESH_MESSAGE_TYPE);break;case f.SEND_PAIRING_CODE_REQUEST:{const t=s.a.connectWithPhoneNumber(n.countryPhoneCode+n.mobileNumber),i=Q.a.getMaskedMobileNumber(n.countryPhoneCode,n.mobileNumber);t.then(t=>{const r=S(t),o=T(t);v(P.c.USER_CLICK_GENERATE_CODE,n.type,i,t.getGuid(),void 0,void 0,o),e.dispatch(h.pairingCodeGenerationSuccess(o,r))}).catch(t=>{d.b.errorWithPIIData("AUTH MIDDLEWARE",[" (",n.type,"): ",t.stack||t.stacktrace,"error code: ",t.errorCode,"error Response: ",t.getRespMessage()],t),I(P.c.USER_CLICK_GENERATE_CODE,n.type,i,t),e.dispatch(h.pairingCodeGenerationFailed(t.getRespCode(),t.getRespMessage())),E(t)});break}case f.RESEND_PAIRING_CODE_REQUEST:{const t=s.a.connectWithPhoneNumber(n.countryPhoneCode+n.mobileNumber),i=Q.a.getMaskedMobileNumber(n.countryPhoneCode,n.mobileNumber);t.then(t=>{const r=S(t),o=T(t);v(P.c.USER_CLICK_REGENERATE_CODE,n.type,i,t.getGuid(),void 0,void 0,o),e.dispatch(h.pairingCodeReGenerationSuccess(o,r))}).catch(t=>{d.b.errorWithPIIData("AUTH MIDDLEWARE",[" (",n.type,"): ",t.stack||t.stacktrace,"error code: ",t.errorCode,"error Response: ",t.getRespMessage()],t),I(P.c.USER_CLICK_REGENERATE_CODE,n.type,i,t),e.dispatch(h.pairingCodeReGenerationFailed(t.getRespCode(),t.getRespMessage())),E(t)});break}case f.SEND_CONNECTION_REQUEST:{const t=s.a.verifyOtp(n.countryPhoneCode+n.mobileNumber,n.pairingCode),i=Q.a.getMaskedMobileNumber(n.countryPhoneCode,n.mobileNumber);t.then(e=>{v(P.c.USER_CLICK_VERIFY_OTP_CODE,n.type,i,e.getGuid()),localStorage.setItem(j.a,"Accept"),K.b.authorizeUser()}).catch(t=>{d.b.errorWithPIIData("AUTH MIDDLEWARE",[" (",n.type,"): ",t.stack||t.stacktrace,"error code: ",t.errorCode,"error Response: ",t.getRespMessage()],t),I(P.c.USER_CLICK_VERIFY_OTP_CODE,n.type,i,t),e.dispatch(h.connectionFailed(t.getRespCode(),t.getRespMessage())),E(t)});break}case f.LOGOUT:if(n.isExternal)v(P.c.USER_LOGGED_OUT,n.type,"","",i.EXTERNAL,n.reason),_();else{s.a.logout().then(e=>{v(P.c.USER_LOGGED_OUT,n.type,"",e.getGuid(),i.INTERNAL,n.reason),_()}).catch(e=>{d.b.errorWithPIIData("AUTH MIDDLEWARE",[" (",n.type,"): ",e.stack||e.stacktrace,"error code: ",e.errorCode],e),I(P.c.USER_LOGGED_OUT,n.type,"",e,i.INTERNAL,n.reason),_()})}break;case f.SEND_RE_CONNECTION_REQUEST:{const t=s.a.verifyOtp(n.countryPhoneCode+n.mobileNumber,n.pairingCode),i=Q.a.getMaskedMobileNumber(n.countryPhoneCode,n.mobileNumber);t.then(e=>{d.b.infoWithPIIData("AUTH MIDDLEWARE","Resend success ",e),v(P.c.USER_CLICK_RE_VERIFY_OTP_CODE,n.type,i,e.getGuid()),K.b.authorizeUser()}).catch(t=>{d.b.errorWithPIIData("AUTH MIDDLEWARE",[" (",n.type,"): ",t.stack||t.stacktrace,"error code: ",t.errorCode,"error Response: ",t.getRespMessage()],t),I(P.c.USER_CLICK_RE_VERIFY_OTP_CODE,n.type,i,t),e.dispatch(h.connectionFailed(t.errorCode,t.errorValue)),E(t)});break}case F.a.ON_CONNECTION_STATE_CHANGED:e.getState().authState.auth.isAuthenticated||n.connectionState!==l.a.NETWORK_CONNECTED||M.handleConnectionStateChanged(n.connectionState);break;case H.a.ON_APP_FG_CHANGED:{const t=e.getState().authState.auth.isAuthenticated,i=n.isAppForeground;!t&&n.isAppForeground&&M.handleAppForegroundChanged(i);break}case f.RECONNECT_SERVER:M.reconnectServer()}return t(n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return v})),n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return N}));var i=n(28),r=n(133),o=n(13);const a=new class{constructor(){this.groupReactionsSummaryFetch=e=>new c(e),this.insertGroupReactionsResponse=e=>new l(e),this.toggleLike=e=>new u(e),this.getReactionDetails=e=>new d(e),this.insertReactionDetails=e=>new p(e),this.openReactionDetailsView=(e,t,n)=>new h(e,t,n),this.sendComment=(e,t,n)=>new f(e,t,n),this.clearAllReactionDetails=()=>new g,this.storeNewComment=(e,t)=>new m(e,t)}};var s;!function(e){e.GROUP_REACTIONS_SUMMARY_FETCH="reactions/group_reactions_summary_fetch",e.INSERT_GROUP_REACTIONS_RESPONSE="reactions/insert_group_reactions_response",e.TOGGLE_LIKE="reactions/toggle_like",e.GET_REACTION_DETAILS="reactions/get_reaction_details",e.INSERT_REACTION_DETAILS_RESPONSE="reactions/insert_reaction_details_response",e.OPEN_REACTION_DETAILS_VIEW="reactions/open_reaction_details_view",e.SEND_COMMENT="reactions/send_comment",e.CLEAR_ALL_REACTION_DETAILS="reactions/clear_all_reaction_details",e.STORE_NEW_COMMENT="reactions/store_new_comment"}(s||(s={}));class c extends o.c{constructor(e){super(s.GROUP_REACTIONS_SUMMARY_FETCH),this.groupReactionsCommandRequest=e}}class l extends o.c{constructor(e){super(s.INSERT_GROUP_REACTIONS_RESPONSE),this.reactionsResponseForKasIds=e}}class u extends o.c{constructor(e){super(s.TOGGLE_LIKE),this.toggleLikeRequest=e}}class d extends o.c{constructor(e){super(s.GET_REACTION_DETAILS),this.reactionCommandRequest=e}}class p extends o.c{constructor(e){super(s.INSERT_REACTION_DETAILS_RESPONSE),this.reactionDetailsToStore=e}}class h extends o.c{constructor(e,t,n){super(s.OPEN_REACTION_DETAILS_VIEW),this.messageId=e,this.conversationId=t,this.selectedReaction=n}}class f extends o.c{constructor(e,t,n){super(s.SEND_COMMENT),this.commentText=e,this.messageId=t,this.conversationId=n}}class g extends o.c{constructor(){super(s.CLEAR_ALL_REACTION_DETAILS)}}class m extends o.c{constructor(e,t){super(s.STORE_NEW_COMMENT),this.commentToStore=e,this.messageId=t}}function E(){return{moduleVersion:0,messageReactions:{},likeReactionDetails:{},commentReactionDetails:{}}}var _=n(4),S=n(32);const T=i.o,v=(e={moduleVersion:0,messageReactions:{},likeReactionDetails:{},commentReactionDetails:{}},t)=>{switch(t.type){case S.a.SET_MODULE_VERSION:e=Object.assign({},e,{moduleVersion:t.moduleVersionMap[T]});break;case s.INSERT_GROUP_REACTIONS_RESPONSE:{const n=t.reactionsResponseForKasIds;e=Object.assign({},e,{messageReactions:Object.assign({},e.messageReactions,n)});break}case s.INSERT_REACTION_DETAILS_RESPONSE:{const n=t.reactionDetailsToStore;e=I(e,n);break}case s.CLEAR_ALL_REACTION_DETAILS:_.b.infoWithNonPIIData("REACTIONS REDUCER","clearing all the reaction details"),e=Object.assign({},e,{likeReactionDetails:{},commentReactionDetails:{}});break;case s.STORE_NEW_COMMENT:{_.b.infoWithNonPIIData("REACTIONS REDUCER","storing the new comment into state");const n=e.commentReactionDetails,i=t.commentToStore;if(n[t.messageId]){n[t.messageId].reactionDetails.push(i)}e=Object.assign({},e,{commentReactionDetails:Object.assign({},e.commentReactionDetails)});break}}return e},I=(e,t)=>(_.b.infoWithNonPIIData("REACTIONS REDUCER","adding reaction details to store"),t.reactionType==r.a.LIKE?b(e,t):y(e,t)),b=(e,t)=>{const n=e.likeReactionDetails[t.msgId],i=Object(r.c)(t.msgId,t.reactionType,t.timeStamp);return i.reactionDetails=n?t.reactionDetails.reverse().concat(n.reactionDetails):i.reactionDetails=t.reactionDetails.reverse(),e.likeReactionDetails[t.msgId]=i,Object.assign({},e)},y=(e,t)=>{const n=e.commentReactionDetails[t.msgId],i=Object(r.c)(t.msgId,t.reactionType,t.timeStamp);return i.reactionDetails=n?t.reactionDetails.reverse().concat(n.reactionDetails):t.reactionDetails.reverse(),e.commentReactionDetails[t.msgId]=i,Object.assign({},e)};var C=n(6),A=n(15),O=n(24);var N=new class{constructor(){this.getReactionSummaryForMsgId=(e,t)=>{const n=e.reactionsState.messageReactions[t];return Object(C.g)(n)?Object(r.d)(t):n},this.getReactionsPolicyForConversationId=(e,t)=>{const n=Object(r.e)();return A.f.isPolicyTypePresent(e,t,O.l.RestrictLikesMessages)?n.mShowLikes=!1:n.mShowLikes=!0,A.f.isPolicyTypePresent(e,t,O.l.RestrictLikesDetails)?n.mShowLikesDetails=!1:n.mShowLikesDetails=!0,A.f.isPolicyTypePresent(e,t,O.l.RestrictCommentMessages)?n.mShowComments=!1:n.mShowComments=!0,n},this.getLikeDetailsDataForMessageId=(e,t)=>e.reactionsState.likeReactionDetails[t],this.getCommentDetailsDataForMessageId=(e,t)=>e.reactionsState.commentReactionDetails[t],this.getReactionsModuleVersion=e=>e.reactionsState.moduleVersion}},R=n(16),P=n(34),w=n(58),M=n(53),D=n(145),L=n(14),x=n(10),k=n(45),U=n(19),G=n(123),F=n(56),B=n(43),V=n(1);const W=i.o,j=e=>t=>n=>{switch(n.type){case s.GROUP_REACTIONS_SUMMARY_FETCH:{const t=n.groupReactionsCommandRequest,i=F.f.getMyProfile(e.getState()).id;G.a.getReactionsSummaryForKASIds(Object.assign({userId:i},t)).then(t=>{const n=Object(r.g)(t.response);_.b.debugWithNonPIIData(W,"reactions summary fetched successfully"),e.dispatch(a.insertGroupReactionsResponse(n))}).catch(e=>{_.b.errorWithNonPIIData(W,"failed to fetch reactions summary, error: ",e.stack||e.stacktrace||e)});break}case s.TOGGLE_LIKE:{w.a.recordEvent(P.b.TOGGLE_LIKE,{});const e=[];e.push({rt:U.a.MUTATE,path:[W,"like","update"],variables:{msgId:n.toggleLikeRequest.msgId,convId:n.toggleLikeRequest.convId,srcConvId:n.toggleLikeRequest.srcConvId,comment:""}});U.c.sendMessage({paths:e}).then(e=>{_.b.debugWithNonPIIData(W,"toggle like result: ",B.a.stringify(e.paths[0].value))});break}case s.GET_REACTION_DETAILS:G.a.getReactions(n.reactionCommandRequest).then(t=>{const n=Object(r.f)(t.response);_.b.debugWithNonPIIData(W,"reactions details fetched successfully, reaction type: ",n.reactionType," & reactions count: ",n.reactionDetails.length),e.dispatch(a.insertReactionDetails(n))}).catch(e=>{_.b.errorWithNonPIIData(W,"failed to fetch reaction details, error: ",e.stack||e.stacktrace||e)});break;case s.OPEN_REACTION_DETAILS_VIEW:{w.a.recordEvent(P.b.OPEN_REACTION_DETAILS_VIEW,{});const i=new L.m(n.messageId,n.conversationId,n.selectedReaction);if(x.q.isResponseOrCreationViewActive(e.getState()))return void Object(D.b)({onAccept:()=>{e.dispatch(k.b.highlightMessage(n.messageId,n.conversationId)),e.dispatch(x.o.openMiniapp(i)),t(n)}});e.dispatch(k.b.highlightMessage(n.messageId,n.conversationId)),e.dispatch(x.o.openMiniapp(i));break}case s.SEND_COMMENT:{w.a.recordEvent(P.b.ADD_COMMENT,{});const t=[],i=Object(C.b)(),r=M.a.getCurrentActualTime();t.push({rt:U.a.MUTATE,path:[W,"comment","new"],variables:{msgId:n.messageId,convId:n.conversationId,srcConvId:n.conversationId,reactionId:i,commentText:n.commentText,timeStamp:r}});const o={reactionId:i,userId:F.f.getMyUserId(e.getState()),comment:n.commentText,lastModifiedTime:r};e.dispatch(a.storeNewComment(o,n.messageId));U.c.sendMessage({paths:t}).then(t=>{Object(R.c)(Object(V.getString)("CommentSentText"));const i=A.f.getUserSourceGroupId(e.getState(),n.conversationId);e.dispatch(a.groupReactionsSummaryFetch({userSourceGroupId:i,sourceGroupId:n.conversationId,messageIds:[n.messageId]})),_.b.debugWithNonPIIData(W,"send new comment result: ",B.a.stringify(t.paths[0].value))});break}}return t(n)}},function(e,t,n){var i=n(304);e.exports=function(e,t){return!!(null==e?0:e.length)&&i(e,t,0)>-1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return R})),n.d(t,"b",(function(){return P}));var i=n(341),r=n(4),o=n(186),a=n(99);class s extends a.a{constructor(e){super(e)}getReplyToContent(){const e=super.getReplyToContent();return Object.assign({},e,{mp:this.title})}deSerializeMessageSpecificContent(e){const t=e.content.ann;this.attachmentServerPaths=e.content.loa?e.content.loa:null,this.description=t.at,this.title=t.ati?t.ati:null,this.isReceiveMimicked=e.isReceiveMimicked}}var c=n(259),l=n(12);class u extends c.a{constructor(e){super(e)}deSerializeMessageSpecificContent(e){this.content=JSON.stringify(e.content),this.type=l.h.CLIENT_BAD_MESSAGE}}var d=n(1),p=n(193);class h extends p.a{constructor(e){super(e)}getReplyToContent(){const e=super.getReplyToContent(),t=this.getMessageTitleOrType();return Object.assign({},e,{mp:t})}getCaption(){return null}getMessageTitle(){return d.getString("billSubmitCardTitle")}getMessageTitleOrType(){let e=this.getMessageTitle();return this.getCaption()&&(e=e+" - "+this.getCaption()),e}deSerializeMessageSpecificContent(e){super.deSerializeMessageSpecificContent(e),this.billAmount=null!=e.content.amount?e.content.amount:null,this.description=e.content.description?e.content.description:null}}class f extends a.a{constructor(e){super(e)}getReplyToContent(){const e=super.getReplyToContent(),t=this.getMessageTitleOrType();return Object.assign({},e,{mp:t})}getCaption(){return this.contactName}getMessageTitleOrType(){let e=this.getMessageTitle();return this.getCaption()&&(e=e+" - "+this.getCaption()),e}getMessageTitle(){return d.getString("ContactAttachmentCaption")}deSerializeMessageSpecificContent(e){this.phoneDetails=e.content.ph,this.emailDetails=e.content.email,this.phoneDetails&&this.phoneDetails.length%2==0&&(this.phoneNumber=this.phoneDetails[1]);const t=e.content.fn,n=e.content.ln;this.contactName=t||n?(t?t+" ":"")+(n||""):this.phoneNumber}}var g=n(342),m=n(285),E=n(286),_=n(49);class S extends a.a{constructor(e){super(e)}getReplyToContent(){const e=super.getReplyToContent();return Object.assign({},e,{pid:this.packageId})}deSerialize(e){this.surveyId=null,this.packageId=null,e.content&&(e.content.id&&(this.surveyId=e.content.id),e.content.pid&&(this.packageId=e.content.pid)),super.deSerialize(e)}}class T extends S{constructor(e){super(e)}getReplyToContent(){const e=super.getReplyToContent();return Object.assign({},e,{mp:this.meetingTitle,mpd:this.meetingDetails,pid:_.a.OOB_MEETING_PACKAGE_ID})}deSerialize(e){if(this.meetingTitle=null,this.meetingDetails=null,this.meetingDuration=null,this.meetingDate=null,e.content){if(!e.content.title)throw new Error("rawMessage.content.title not found");this.meetingTitle=e.content.title,e.content.details&&(this.meetingDetails=e.content.details),e.content.mD&&(this.meetingDuration=e.content.mD),e.content.date&&(this.meetingDate=e.content.date)}super.deSerialize(e)}}class v extends p.a{constructor(e){super(e)}getReplyToContent(){const e=super.getReplyToContent(),t=this.getMessageTitleOrType();return Object.assign({},e,{mp:t,spu:null})}getCaption(){return null}getMessageTitle(){return d.getString("PhotoCheckinCardTitle")}getMessageTitleOrType(){let e=this.getMessageTitle();return this.getCaption()&&(e=e+" - "+this.getCaption()),e}deSerializeMessageSpecificContent(e){super.deSerializeMessageSpecificContent(e),this.addressFirstLine=e.content.pN?e.content.pN:null,this.addressSecondLine=e.content.pA?e.content.pA:null,this.locationShareType=null!=e.content.pT?e.content.pT:null,this.caption=null!=e.content.ac?e.content.ac:null,this.latitude=null!=e.content.latitude?e.content.latitude:0,this.longitude=null!=e.content.longitude?e.content.longitude:0}}var I=n(343),b=n(344);class y extends c.a{constructor(e){super(e)}deSerializeMessageSpecificContent(e){this.displayTimestamp=e.content}}var C=n(345),A=n(347),O=n(348);class N extends a.a{constructor(e){super(e)}serializeMessageContentForServer(){const e=super.serializeMessageContentForServer();return Object.assign({},e,{IsAdmin:this.IsAdmin})}deSerializeMessageSpecificContent(e){const t=e.content;this.IsAdmin=t.IsAdmin}}function R(e){const t=e;try{switch(e.type){case l.h.TEXT_MESSAGE:return new I.a(t);case l.h.IMAGE_ATTACHMENT:return new E.a(t);case l.h.PHOTO_CHECKIN:return new v(t);case l.h.BILL_SUBMIT:return new h(t);case l.h.TIMESTAMP:return new y(e);case l.h.GENERIC_MESSAGE:switch(P(t)){case l.g.SYSTEM_CONTACT_ATTACHMENT:return new f(t);case l.g.SYSTEM_ALBUM_ATTACHMENT:return new o.a(t);case l.g.SYSTEM_DOCUMENT_ATTACHMENT:return new g.a(t);case l.g.SYSTEM_VIDEO_ATTACHMENT:return new C.a(t);case l.g.SYSTEM_AUDIO_ATTACHMENT:return new A.a(t);case l.g.ANNOUNCEMENT:return new s(t);case l.g.TRM:return new b.a(t);case l.g.ENHANCED_TEXT:return new m.a(t);case l.g.SYSTEM_SURV_REQ:case l.g.SYSTEM_CUSTOM_SURVEY_REM:case l.g.SYSTEM_SURV_REM:case l.g.RESP:case l.g.SYSTEM_CUSTOM_SURVEY:return new S(t);case l.g.SYSTEM_AVAIL_REQ:return new T(t);case l.g.SYSTEM_START_TYPING:return new i.a(t);case l.g.UNSUPPORTED_MESSAGE:return new O.a(t);case l.g.IC3INTEROP_DISABLED:case l.g.IC3INTEROP_ENABLED:return new N(t);default:return new a.a(t)}default:return new a.a(t)}}catch(n){return r.b.errorWithNonPIIData("MessageFactory","deserialization failed for messageId: ",e.id," with error : ",n.message,n.stack||n.stacktrace,"error code: ",n.errorCode),new u(t)}}function P(e){return e.contentHeader&&e.type===l.h.GENERIC_MESSAGE&&e.contentHeader.msgSubType?e.contentHeader.msgSubType:null}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r.a}));n(317),n(318),n(75),n(319),n(320);var i=n(103);i.a;n(321),n(322);var r=n(125)},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.Text=0]="Text",e[e.Numeric=1]="Numeric",e[e.Location=2]="Location",e[e.DateTime=3]="DateTime",e[e.Array=4]="Array",e[e.Attachment=5]="Attachment",e[e.Set=6]="Set",e[e.AttachmentList=7]="AttachmentList"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i=n(76),r=n(34),o=n(103),a=n(75);class s extends o.a{constructor(e){super(a.a.GET_REACTIONS),this.getReactionsCommandRequest=e}getCommandPayload(){return{kid:this.getReactionsCommandRequest.reactionId,sid:this.getReactionsCommandRequest.sourceGroupId,gid:this.getReactionsCommandRequest.userSourceGroupId,r:this.getReactionsCommandRequest.reactionType,ts:this.getReactionsCommandRequest.reactionSyncTimestamp}}getCommandType(){return a.c.GET_REACTIONS}getResponseErrorDetails(e){return"Unable to get reaction details. ErrorCode: "+e}getTimeout(){return 2e4}extractResult(e){}}class c extends o.a{constructor(e){super(a.a.GET_CONNECT_GROUP_META_INFO),this.groupIds=e}getCommandPayload(){return{gids:this.groupIds}}getCommandType(){return a.c.GET_CONNECT_GROUP_META_INFO}getResponseErrorDetails(e){return"Error in calling "+this.getCommandId()+" code = "+e}extractResult(e){const t=[];return e.mis.forEach(e=>{t.push({subCount:e.sc,gId:e.gId})}),t}}var l,u=n(219),d=n(25),p=n(4),h=n(130),f=n(317),g=n(318);class m extends o.a{constructor(e,t,n,i,r,o){super(a.a.GET_CONTENT_URL_COMMAND_ID),this.contentId=e,this.filename=t,this.extension=n,this.sizeInKB=i,this.sourceType=r,this.groupId=o}getCommandPayload(){const e={id:this.contentId,size:Math.ceil(this.sizeInKB),fn:this.filename,ext:this.extension,cst:this.sourceType};return this.groupId&&(e.gid=this.groupId),e}getCommandType(){return a.c.GET_CONTENT_URL}getResponseErrorDetails(e){return"Unable to get content url. ErrorCode: "+e}getTimeout(){return 2e4}extractResult(e){}}!function(e){e[e.None=0]="None",e[e.User=1]="User",e[e.Group=2]="Group",e[e.Attachment=3]="Attachment",e[e.ActionPackage=4]="ActionPackage"}(l||(l={}));var E=n(319),_=n(320),S=n(321),T=n(322),v=n(94);class I extends o.a{constructor(e,t,n,i){super(a.a.GET_RECEIPT_DETAILS_COMMAND_ID),this.groupId=e,this.messageId=t,this.startToken=n,this.receiptType=i}getCommandPayload(){const e={gid:this.groupId,mid:this.messageId,rt:this.receiptType,bs:50};return this.startToken&&(e.st=this.startToken),e}getCommandType(){return a.c.GET_RECEIPT_DETAILS}getResponseErrorDetails(e){return"Unable to get receipt details. ErrorCode: "+e}extractResult(e){}}class b extends o.a{constructor(e){super(a.a.GET_ONLINE_LAST_SEEN_STATUS_COMMAND),this.userId=e}getCommandPayload(){return{tuid:this.userId}}getCommandType(){return a.c.GET_USER_ONLINE_LASTSEEN_STATUS}getResponseErrorDetails(e){return"Unable to get user lastseen/online status. ErrorCode: "+e}getTimeout(){return 2e4}extractResult(e){}}class y extends o.a{constructor(e){super(a.a.GET_URL_PREVIEW_DATA_COMMAND_ID),this.url=e}getCommandPayload(){return{u:this.url}}getCommandType(){return a.c.GET_URL_PREVIEW_DATA}getResponseErrorDetails(e){return"Unable to get Url Preview Data . ErrorCode: "+e}getTimeout(){return 2e4}extractResult(e){}}class C extends o.a{constructor(e){super(a.a.GET_REACTIONS_SUMMARY_FOR_KAS_IDS),this.getReactionsCommandRequest=e}getCommandPayload(){return{uid:this.getReactionsCommandRequest.userId,sgid:this.getReactionsCommandRequest.sourceGroupId,gid:this.getReactionsCommandRequest.userSourceGroupId,kids:this.getReactionsCommandRequest.messageIds}}getCommandType(){return a.c.GET_REACTIONS_SUMMARY_FOR_KAS_IDS}getResponseErrorDetails(e){return"Unable to get reactions for Kas ids. ErrorCode: "+e}getTimeout(){return 2e4}extractResult(e){}}var A=n(48);const O=new class{constructor(){this.LOG_TAG="CommandServices",this.onAuthenticationErrorListeners=[],this.onAuthenticationSuccessListeners=[],this.connectWithPhoneNumber=e=>{const t=new g.a(e);return h.a.invokeAsync(t)},this.verifyOtp=(e,t)=>{const n=new S.a(e,t);return h.a.invokeAsync(n)},this.authorize=e=>{if(!d.c.getAuthToken())return;const t=new f.a(e);return A.a.recordInternalEventStart(r.a.AUTHORIZE),h.a.invokeAsync(t)},this.logout=()=>{const e=d.c.getWebId();p.b.infoWithNonPIIData(this.LOG_TAG,"logout: ",e);const t=new E.a,n=h.a.invokeAsync(t);return u.a.clearAllData(),n},this.sendMessage=(e,t)=>{const n=new _.a(e,t);return h.a.invokeAsync(n)},this.wakeUpDevice=e=>{const t=new T.a(e,d.c.getWebId());return h.a.invokeAsync(t)},this.getContentURL=(e,t,n,i,r,o)=>{const a=new m(e,t,n,i,r,o);return h.a.invokeAsync(a)},this.getConnectGroupMetaInfo=e=>{const t=new c(e);return h.a.invokeAsync(t)},this.getUserOnlineLastSeenStatus=e=>{const t=new b(e);return h.a.invokeAsync(t)},this.getReactionsSummaryForKASIds=e=>{const t=new C(e);return h.a.invokeAsync(t)},this.getReactions=e=>{const t=new s(e);return h.a.invokeAsync(t)},this.getURLPreviewData=e=>h.a.invokeAsync(new y(e)),this.registerOnAuthenticationError=e=>{-1===this.onAuthenticationErrorListeners.indexOf(e)&&this.onAuthenticationErrorListeners.push(e)},this.registerOnAuthenticationSuccess=(e,t=-1)=>{-1===this.onAuthenticationSuccessListeners.indexOf(e)&&(-1!==t?this.onAuthenticationSuccessListeners.splice(t,0,e):this.onAuthenticationSuccessListeners.push(e))},this.unregisterOnAuthenticationSuccess=e=>{const t=this.onAuthenticationSuccessListeners.indexOf(e);-1!==t&&this.onAuthenticationSuccessListeners.splice(t,1)},this.getReceiptDetails=(e,t,n,i)=>{const r=new I(e,t,n,i);return h.a.invokeAsync(r)},this.notifyOnAuthenticationSuccess=()=>{this.onAuthenticationSuccessListeners.forEach(e=>{try{e()}catch(e){p.b.errorWithNonPIIData("Error on AuthorizationSuccessListener",e.stack||e.stacktrace||e)}})},this.notifyOnAuthenticationError=(e,t)=>{this.onAuthenticationErrorListeners.forEach(n=>{try{n(e,t.getRespMessage())}catch(e){p.b.errorWithNonPIIData("Error on AuthorizationErrorListener",e.stack||e.stacktrace||e)}})},v.a.registerOnOpen(i.b.authorizeUser.bind(i.b))}}},function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return i}));var i,r=n(12);class o{constructor(e){this.metadataType=e}}class a extends o{static fromJson(e){const t=e.n,n=e.d,i=e.u,r=e.tu,o=e.t;return new a(t,n,i,r,o)}static fromProps(e){return new a(e.uname,e.udesc,e.url,e.thumb,e.tib)}constructor(e,t,n,r,o){super(i.URL_PREVIEW),this.name=e,this.description=t,this.thumbnailUrl=r,this.url=n,this.urlBitmap=o}serialize(){return{type:this.metadataType,uname:this.name,udesc:this.description,url:this.url,thumb:this.thumbnailUrl,tib:this.urlBitmap}}}class s extends o{static fromProps(e){return new s(e.amlist)}constructor(e){super(i.AT_MENTION),this.mentionedUserDataList=e}serialize(){return{type:this.metadataType,amlist:this.mentionedUserDataList}}}class c extends o{static fromProps(e){const t=new c;if(t.replyToMessageId=e.msgId,!t.replyToMessageId)throw new Error("replyToJson.msgId not found");return t.replyToMsgSenderId=e.uId?e.uId:"",t.replyToMsgPreview=e.mp?e.mp:"",t.replyToMsgType=e.type?e.rtype:r.h.CLIENT_UNSUPPORTED_MESSAGE,t.replyToMsgSubType=e.msgSubType?e.msgSubType:null,t.thumbnailInBase64=e.tib?e.tib:null,t.attachmentUrl=e.spu?e.spu:null,t.replyToMsgPackageId=e.pid?e.pid:null,t.replyToMsgPreviewDescription=e.mpd?e.mpd:null,t}static fromReplyToContent(e){const t=new c;return t.replyToMessageId=e.msgId,t.replyToMsgSenderId=e.uId?e.uId:"",t.replyToMsgPreview=e.mp?e.mp:"",t.replyToMsgType=e.type?e.type:r.h.CLIENT_UNSUPPORTED_MESSAGE,t.replyToMsgSubType=e.msgSubType?e.msgSubType:null,t.thumbnailInBase64=e.tib?e.tib:null,t.attachmentUrl=e.spu?e.spu:null,t.replyToMsgPackageId=e.pid?e.pid:null,t.replyToMsgPreviewDescription=e.mpd?e.mpd:null,t}constructor(){super(i.REPLY_TO)}serialize(){return{type:this.metadataType,msgId:this.replyToMessageId,uId:this.replyToMsgSenderId,mp:this.replyToMsgPreview,rtype:this.replyToMsgType,msgSubType:this.replyToMsgSubType,tib:this.thumbnailInBase64,spu:this.attachmentUrl,pid:this.replyToMsgPackageId,mpd:this.replyToMsgPreviewDescription}}}!function(e){e.URL_PREVIEW="url",e.AT_MENTION="atmention",e.REPLY_TO="replyTo"}(i||(i={}))},function(e,t,n){"use strict";(function(t){!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){t.error(e)}}}(),e.exports=n(535)}).call(this,n(110))},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.CONVERSATION=1]="CONVERSATION",e[e.MESSAGE=2]="MESSAGE",e[e.USER=3]="USER",e[e.O365=4]="O365",e[e.JOIN_GROUP=5]="JOIN_GROUP"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(1),r=n(42),o=n(35),a=n(118);class s{static getParticipantsCountString(e,t,n){let r="";return t>0&&(r+=t+" ",r+=Object(i.getString)("RegisteredMembersText")),n&&n>0&&(""!=r&&(r+=", "),r+=n+" ",r+=Object(i.getString)("unProvisionedUsersText")),e>0&&(""!=r&&(r+=", "),r+=e+" ",r+=e>1?Object(i.getString)("groups"):Object(i.getString)("group")),r}static getParticipantsCountStringForGroups(e,t,n){let r="";return t>0&&(r+=t+" ",r+=t>1?Object(i.getString)("People").toLocaleLowerCase():Object(i.getString)("person").toLocaleLowerCase()),e>0&&(""!=r&&(r+=", "),r+=e+" ",r+=e>1?Object(i.getString)("groups").toLocaleLowerCase():Object(i.getString)("group").toLocaleLowerCase()),n&&n>0&&(""!=r&&(r+=", "),r+=n+" ",r+=Object(i.getString)("unProvisionedUsersText").toLocaleLowerCase()),r}static getParticipantsCountStringForParticipantModel(e,t=!1){let n=0,i=0,o=0;for(const t of e)t.type===r.b.GROUP?n++:t.type===r.b.USER?i++:o++;return this.getParticipantsCountString(n,i,!1===t?o:0)}static getMemberCountString(e,t){let n;const i=e.split("members");return n=2===i.length?i[0]:e,this.getParticipantsCountString(parseInt(t),parseInt(n))}static getNotificationStringForGroupOperationInitiate(e,t){let n="";const r=t&&t.length>1,s=t[0].name;switch(e){case a.a.MAKE_ADMIN:n=o.a.format(Object(i.getString)("MakingAdmin"),s);break;case a.a.REMOVE_ADMIN:n=o.a.format(Object(i.getString)("RemovingAdmin"),s);break;case a.a.REMOVE_FROM_GROUP:case a.a.REMOVE_GROUP_FROM_GROUP:n=o.a.format(Object(i.getString)("RemovingFromGroup"),s);break;case a.a.ADD_PARTICIPANTS:n=r?o.a.format(Object(i.getString)("AddingMembers"),t.length.toString()):o.a.format(Object(i.getString)("AddingMember"),s)}return n}static getNotificationStringForGroupOperationSuccess(e,t){let n="";const r=t&&t.length>1,s=t[0].name;switch(e){case a.a.MAKE_ADMIN:n=o.a.format(Object(i.getString)("MakeAdminSuccess"),s);break;case a.a.REMOVE_ADMIN:n=o.a.format(Object(i.getString)("RemoveAdminSuccess"),s);break;case a.a.REMOVE_FROM_GROUP:case a.a.REMOVE_GROUP_FROM_GROUP:n=o.a.format(Object(i.getString)("RemoveFromGroupSuccess"),s);break;case a.a.ADD_PARTICIPANTS:n=r?o.a.format(Object(i.getString)("AddMembersSuccess"),t.length.toString()):o.a.format(Object(i.getString)("AddMemberSuccess"),s)}return n}static getNotificationStringForGroupOperationFailure(e,t){let n="";const r=t&&t.length>1,s=t[0].name;switch(e){case a.a.MAKE_ADMIN:n=o.a.format(Object(i.getString)("MakeAdminFailure"),s);break;case a.a.REMOVE_ADMIN:n=o.a.format(Object(i.getString)("RemoveAdminFailure"),s);break;case a.a.REMOVE_FROM_GROUP:case a.a.REMOVE_GROUP_FROM_GROUP:n=o.a.format(Object(i.getString)("RemoveFromGroupFailure"),s);break;case a.a.ADD_PARTICIPANTS:n=r?Object(i.getString)("AddMembersFailure"):o.a.format(Object(i.getString)("AddMemberFailure"),s)}return n}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(4),r=n(339),o=n(94),a=n(54),s=n(232);class c{constructor(){this.LOG_TAG="CommandHandler",this.correlationIds=[],this.timeoutIds=[],this.commands=[],this.invokeAsync=e=>{const t=e.createResponsePromise();return this.correlationIds[e.getGuid()]=e,this.timeoutIds[e.getGuid()]=this.setCommandTimeout(e),this.invokeCommand(e),t},this.setCommandTimeout=e=>setTimeout(()=>{this.onCommandTimeout(e)},e.getTimeout()),this.serializeCommandToBinary=e=>{const t=e.getGuid(),n=e.Serialize();i.b.infoWithPIIData(this.LOG_TAG,["serializing command, ",e.getCommandType(),"guid:",e.getGuid()],"Command: ",n),this.correlationIds[t]=e;let o=64,a=unescape(encodeURIComponent(n));n.length>=c.MIN_MSG_SIZE_IN_BYTES&&(a=Object(s.gzip)(n,{to:"string"}),o=192);const l=new ArrayBuffer(a.length+17),u=new Uint8Array(l);u[0]=o;const d=r.a.guidToBytes(t);for(let e=0;e<16;e++)u[1+e]=d[16-e-1];for(let e=0,t=a.length;e<t;e++)u[17+e]=a.charCodeAt(e);return u},this.onCommandTimeout=e=>{e.getGuid();e.handleTimeout(),this.removeCmd(e)},this.invokeCommand=e=>{const t=this.serializeCommandToBinary(e);if(o.a.sendData(t)){const t=this.commands.indexOf(e);-1!==t&&this.commands.splice(t,1)}else this.commands.indexOf(e)<0&&this.commands.push(e)},this.onCmdResponseReceived=(e,t,n)=>{const r=this.correlationIds[e];if(t!=a.b.Success?i.b.warnWithNonPIIData(this.LOG_TAG,"error code ",t," received while executing command ",r.getCommandType()):i.b.infoWithNonPIIData(this.LOG_TAG,"command response successful, Guid:",e),this.removeCmd(this.correlationIds[e]),t===a.b.RedirectToDeviceSU){this.commands.push(r),this.timeoutIds[r.getGuid()]=this.setCommandTimeout(r);const e=n.rurl.substr(8);o.a.setUrl(e)}else r.handleResponse(t,n)},this.removeCmd=e=>{const t=e.getGuid();let n=this.correlationIds.indexOf(t);this.correlationIds.splice(n);const i=this.timeoutIds.indexOf(t);clearTimeout(this.timeoutIds[i]),this.timeoutIds.splice(i),n=this.commands.indexOf(e),-1!==n&&this.commands.splice(n,1)},this.onConnected=()=>{this.commands.forEach(e=>{this.invokeCommand(e)})},o.a.registerOnCmdResponse(this.onCmdResponseReceived.bind(this)),o.a.registerOnOpen(this.onConnected)}}c.MIN_MSG_SIZE_IN_BYTES=768;const l=new c},function(e,t,n){var i=n(481),r=n(250),o=n(216),a=n(276),s=o((function(e,t){return a(e)?i(e,r(t,1,a,!0)):[]}));e.exports=s},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}},function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return l})),function(e){e[e.COMPACT_REACTIONS_VERSION=2]="COMPACT_REACTIONS_VERSION",e[e.REACTIONS_FULL_SUPPORT=3]="REACTIONS_FULL_SUPPORT"}(i||(i={}));const r={LIKE:0,COMMENT:1},o=e=>{const t={},n=e.s,i=e.u;if(n)for(const e of n){const n=e.kid;t[n]=s(n),e.cm&&(t[n].likesCount=e.cm[0]?e.cm[0]:0,t[n].commentsCount=e.cm[1]?e.cm[1]:0)}if(i)for(const e of i){const n=e.kid;t[n].didIComment=!!e.hc&&e.hc,t[n].didILike=!!e.hl&&e.hl}return t},a=e=>{const t=[];if(e.d)for(const n of e.d)t.push({reactionId:n.id,userId:n.uid,comment:n.c,lastModifiedTime:n.lmt});return{msgId:e.kid,timeStamp:e.ts,reactionDetails:t,reactionType:e.r}},s=e=>({msgId:e,didIComment:!1,didILike:!1,likesCount:0,commentsCount:0}),c=()=>({mShowComments:!1,mShowLikes:!1,mShowLikesDetails:!1}),l=(e,t,n)=>({msgId:e,timeStamp:n,reactionDetails:[],reactionType:t})},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return we}));var i=n(257),r=n(0),o=n.n(r),a=n(502),s=n.n(a),c=n(503),l=n(504),u=n(404),d=n(267),p=n.n(d);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var f=function(e,t){for(var n=[e[0]],i=0,r=t.length;i<r;i+=1)n.push(t[i],e[i+1]);return n},g=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!Object(i.typeOf)(e)},m=Object.freeze([]),E=Object.freeze({});function _(e){return"function"==typeof e}function S(e){return e.displayName||e.name||"Component"}function T(e){return e&&"string"==typeof e.styledComponentId}var v=void 0!==e&&(Object({SERVER_ENV:"production",NODE_ENV:"production",MODE:"prod",WEBAPP_VERSION:"1.1.22.1007.150615",BUILD_FLAVOUR:"prod"}).REACT_APP_SC_ATTR||Object({SERVER_ENV:"production",NODE_ENV:"production",MODE:"prod",WEBAPP_VERSION:"1.1.22.1007.150615",BUILD_FLAVOUR:"prod"}).SC_ATTR)||"data-styled",I="undefined"!=typeof window&&"HTMLElement"in window,b="boolean"==typeof SC_DISABLE_SPEEDY&&SC_DISABLE_SPEEDY||void 0!==e&&(Object({SERVER_ENV:"production",NODE_ENV:"production",MODE:"prod",WEBAPP_VERSION:"1.1.22.1007.150615",BUILD_FLAVOUR:"prod"}).REACT_APP_SC_DISABLE_SPEEDY||Object({SERVER_ENV:"production",NODE_ENV:"production",MODE:"prod",WEBAPP_VERSION:"1.1.22.1007.150615",BUILD_FLAVOUR:"prod"}).SC_DISABLE_SPEEDY)||!1,y=function(){return n.nc};function C(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var A=function(e){var t=document.head,n=e||t,i=document.createElement("style"),r=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var i=t[n];if(i&&1===i.nodeType&&i.hasAttribute(v))return i}}(n),o=void 0!==r?r.nextSibling:null;i.setAttribute(v,"active"),i.setAttribute("data-styled-version","5.2.0");var a=y();return a&&i.setAttribute("nonce",a),n.insertBefore(i,o),i},O=function(){function e(e){var t=this.element=A(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,i=t.length;n<i;n++){var r=t[n];if(r.ownerNode===e)return r}C(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),N=function(){function e(e){var t=this.element=A(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),i=this.nodes[e];return this.element.insertBefore(n,i||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),R=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),P=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,i=n.length,r=i;e>=r;)(r<<=1)<0&&C(16,""+e);this.groupSizes=new Uint32Array(r),this.groupSizes.set(n),this.length=r;for(var o=i;o<r;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,c=t.length;s<c;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),i=n+t;this.groupSizes[e]=0;for(var r=n;r<i;r++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],i=this.indexOfGroup(e),r=i+n,o=i;o<r;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),w=new Map,M=new Map,D=1,L=function(e){if(w.has(e))return w.get(e);var t=D++;return w.set(e,t),M.set(t,e),t},x=function(e){return M.get(e)},k=function(e,t){t>=D&&(D=t+1),w.set(e,t),M.set(t,e)},U="style["+v+'][data-styled-version="5.2.0"]',G=new RegExp("^"+v+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),F=function(e,t,n){for(var i,r=n.split(","),o=0,a=r.length;o<a;o++)(i=r[o])&&e.registerName(t,i)},B=function(e,t){for(var n=t.innerHTML.split("/*!sc*/\n"),i=[],r=0,o=n.length;r<o;r++){var a=n[r].trim();if(a){var s=a.match(G);if(s){var c=0|parseInt(s[1],10),l=s[2];0!==c&&(k(l,c),F(e,l,s[3]),e.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}},V=I,W={isServer:!I,useCSSOMInjection:!b},j=function(){function e(e,t,n){void 0===e&&(e=W),void 0===t&&(t={}),this.options=h({},W,{},e),this.gs=t,this.names=new Map(n),!this.options.isServer&&I&&V&&(V=!1,function(e){for(var t=document.querySelectorAll(U),n=0,i=t.length;n<i;n++){var r=t[n];r&&"active"!==r.getAttribute(v)&&(B(e,r),r.parentNode&&r.parentNode.removeChild(r))}}(this))}e.registerId=function(e){return L(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(h({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,i=t.useCSSOMInjection,r=t.target,e=n?new R(r):i?new O(r):new N(r),new P(e)));var e,t,n,i,r},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(L(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(L(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(L(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,i="",r=0;r<n;r++){var o=x(r);if(void 0!==o){var a=e.names.get(o),s=t.getGroup(r);if(void 0!==a&&0!==s.length){var c=v+".g"+r+'[id="'+o+'"]',l="";void 0!==a&&a.forEach((function(e){e.length>0&&(l+=e+",")})),i+=""+s+c+'{content:"'+l+'"}/*!sc*/\n'}}}return i}(this)},e}(),H=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},z=function(e){return H(5381,e)},Y=/^\s*\/\/.*$/gm,K=[":","[",".","#"];function q(e){var t,n,i,r,o=void 0===e?E:e,a=o.options,s=void 0===a?E:a,l=o.plugins,u=void 0===l?m:l,d=new c.a(s),p=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,i,r,o,a,s,c,l,u,d){switch(n){case 1:if(0===u&&64===i.charCodeAt(0))return e(i+";"),"";break;case 2:if(0===l)return i+"/*|*/";break;case 3:switch(l){case 102:case 112:return e(r[0]+i),"";default:return i+(0===d?"/*|*/":"")}case-2:i.split("/*|*/}").forEach(t)}}}((function(e){p.push(e)})),f=function(e,i,o){return 0===i&&K.includes(o[n.length])||o.match(r)?e:"."+t};function g(e,o,a,s){void 0===s&&(s="&");var c=e.replace(Y,""),l=o&&a?a+" "+o+" { "+c+" }":c;return t=s,n=o,i=new RegExp("\\"+n+"\\b","g"),r=new RegExp("(\\"+n+"\\b){2,}"),d(a||!o?"":o,l)}return d.use([].concat(u,[function(e,t,r){2===e&&r.length&&r[0].lastIndexOf(n)>0&&(r[0]=r[0].replace(i,f))},h,function(e){if(-2===e){var t=p;return p=[],t}}])),g.hash=u.length?u.reduce((function(e,t){return t.name||C(15),H(e,t.name)}),5381).toString():"",g}var Q=o.a.createContext(),J=(Q.Consumer,o.a.createContext()),X=(J.Consumer,new j),$=q();function Z(){return Object(r.useContext)(Q)||X}function ee(){return Object(r.useContext)(J)||$}function te(e){var t=Object(r.useState)(e.stylisPlugins),n=t[0],i=t[1],a=Z(),c=Object(r.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),l=Object(r.useMemo)((function(){return q({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return Object(r.useEffect)((function(){s()(n,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),o.a.createElement(Q.Provider,{value:c},o.a.createElement(J.Provider,{value:l},e.children))}var ne=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=$);var i=n.name+t.hash;e.hasNameForId(n.id,i)||e.insertRules(n.id,i,t(n.rules,i,"@keyframes"))},this.toString=function(){return C(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=$),this.name+e.hash},e}(),ie=/([A-Z])/,re=new RegExp(ie,"g"),oe=/^ms-/,ae=function(e){return"-"+e.toLowerCase()};function se(e){return ie.test(e)?e.replace(re,ae).replace(oe,"-ms-"):e}var ce=function(e){return null==e||!1===e||""===e};function le(e,t,n,i){if(Array.isArray(e)){for(var r,o=[],a=0,s=e.length;a<s;a+=1)""!==(r=le(e[a],t,n,i))&&(Array.isArray(r)?o.push.apply(o,r):o.push(r));return o}return ce(e)?"":T(e)?"."+e.styledComponentId:_(e)?"function"!=typeof(c=e)||c.prototype&&c.prototype.isReactComponent||!t?e:le(e(t),t,n,i):e instanceof ne?n?(e.inject(n,i),e.getName(i)):e:g(e)?function e(t,n){var i,r,o=[];for(var a in t)t.hasOwnProperty(a)&&!ce(t[a])&&(g(t[a])?o.push.apply(o,e(t[a],a)):_(t[a])?o.push(se(a)+":",t[a],";"):o.push(se(a)+": "+(i=a,(null==(r=t[a])||"boolean"==typeof r||""===r?"":"number"!=typeof r||0===r||i in l.a?String(r).trim():r+"px")+";")));return n?[n+" {"].concat(o,["}"]):o}(e):e.toString();var c}function ue(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return _(e)||g(e)?le(f(m,[e].concat(n))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:le(f(e,n))}var de=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},pe=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function he(e,t,n){var i=e[n];de(t)&&de(i)?fe(i,t):e[n]=t}function fe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(var r=0,o=n;r<o.length;r++){var a=o[r];if(de(a))for(var s in a)pe(s)&&he(e,a[s],s)}return e}var ge=/(a)(d)/gi,me=function(e){return String.fromCharCode(e+(e>25?39:97))};function Ee(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=me(t%52)+n;return(me(t%52)+n).replace(ge,"$1-$2")}function _e(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(_(n)&&!T(n))return!1}return!0}var Se=z("5.2.0"),Te=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&_e(e),this.componentId=t,this.baseHash=H(Se,t),this.baseStyle=n,j.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var i=this.componentId,r=[];if(this.baseStyle&&r.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(i,this.staticRulesId))r.push(this.staticRulesId);else{var o=le(this.rules,e,t,n).join(""),a=Ee(H(this.baseHash,o.length)>>>0);if(!t.hasNameForId(i,a)){var s=n(o,"."+a,void 0,i);t.insertRules(i,a,s)}r.push(a),this.staticRulesId=a}else{for(var c=this.rules.length,l=H(this.baseHash,n.hash),u="",d=0;d<c;d++){var p=this.rules[d];if("string"==typeof p)u+=p;else if(p){var h=le(p,e,t,n),f=Array.isArray(h)?h.join(""):h;l=H(l,f+d),u+=f}}if(u){var g=Ee(l>>>0);if(!t.hasNameForId(i,g)){var m=n(u,"."+g,void 0,i);t.insertRules(i,g,m)}r.push(g)}}return r.join(" ")},e}(),ve=(new Set,function(e,t,n){return void 0===n&&(n=E),e.theme!==n.theme&&e.theme||t||n.theme}),Ie=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,be=/(^-|-$)/g;function ye(e){return e.replace(Ie,"-").replace(be,"")}function Ce(e){return"string"==typeof e&&!0}var Ae=function(e){return Ee(z(e)>>>0)},Oe=o.a.createContext();Oe.Consumer;var Ne={};function Re(e,t,n){var i=T(e),a=!Ce(e),s=t.displayName,c=void 0===s?function(e){return Ce(e)?"styled."+e:"Styled("+S(e)+")"}(e):s,l=t.componentId,d=void 0===l?function(e,t){var n="string"!=typeof e?"sc":ye(e);Ne[n]=(Ne[n]||0)+1;var i=n+"-"+Ae("5.2.0"+n+Ne[n]);return t?t+"-"+i:i}(t.displayName,t.parentComponentId):l,f=t.attrs,g=void 0===f?m:f,v=t.displayName&&t.componentId?ye(t.displayName)+"-"+t.componentId:t.componentId||d,I=i&&e.attrs?Array.prototype.concat(e.attrs,g).filter(Boolean):g,b=t.shouldForwardProp;i&&e.shouldForwardProp&&(b=b?function(n,i){return e.shouldForwardProp(n,i)&&t.shouldForwardProp(n,i)}:e.shouldForwardProp);var y,C=new Te(n,v,i?e.componentStyle:void 0),A=function(e,t){return function(e,t,n){var i=e.attrs,o=e.componentStyle,a=e.defaultProps,s=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,d=e.target,p=function(e,t,n){void 0===e&&(e=E);var i=h({},t,{theme:e}),r={};return n.forEach((function(e){var t,n,o,a=e;for(t in _(a)&&(a=a(i)),a)i[t]=r[t]="className"===t?(n=r[t],o=a[t],n&&o?n+" "+o:n||o):a[t]})),[i,r]}(ve(t,Object(r.useContext)(Oe),a)||E,t,i),f=p[0],g=p[1],m=function(e,t,n,i){var r=Z(),o=ee();return e.isStatic&&!t?e.generateAndInjectStyles(E,r,o):e.generateAndInjectStyles(n,r,o)}(o,i.length>0,f),S=n,T=g.$as||t.$as||g.as||t.as||d,v=Ce(T),I=g!==t?h({},t,{},g):t,b=c||v&&u.a,y={};for(var C in I)"$"!==C[0]&&"as"!==C&&("forwardedAs"===C?y.as=I[C]:b&&!b(C,u.a)||(y[C]=I[C]));return t.style&&g.style!==t.style&&(y.style=h({},t.style,{},g.style)),y.className=Array.prototype.concat(s,l,m!==l?m:null,t.className,g.className).filter(Boolean).join(" "),y.ref=S,Object(r.createElement)(T,y)}(y,e,t)};return A.displayName=c,(y=o.a.forwardRef(A)).attrs=I,y.componentStyle=C,y.displayName=c,y.shouldForwardProp=b,y.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):m,y.styledComponentId=v,y.target=i?e.target:e,y.withComponent=function(e){var i=t.componentId,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(t,["componentId"]),o=i&&i+"-"+(Ce(e)?e:ye(S(e)));return Re(e,h({},r,{attrs:I,componentId:o}),n)},Object.defineProperty(y,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?fe({},e.defaultProps,t):t}}),y.toString=function(){return"."+y.styledComponentId},a&&p()(y,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,self:!0,styledComponentId:!0,target:!0,withComponent:!0}),y}var Pe=function(e){return function e(t,n,r){if(void 0===r&&(r=E),!Object(i.isValidElementType)(n))return C(1,String(n));var o=function(){return t(n,r,ue.apply(void 0,arguments))};return o.withConfig=function(i){return e(t,n,h({},r,{},i))},o.attrs=function(i){return e(t,n,h({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},o}(Re,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Pe[e]=Pe(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=_e(e),j.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,i){var r=i(le(this.rules,t,n,i).join(""),""),o=this.componentId+e;n.insertRules(o,o,r)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,i){e>2&&j.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,i)}}();function we(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=ue.apply(void 0,[e].concat(n)).join(""),o=Ae(r);return new ne(o,r)}!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),n=y();return"<style "+[n&&'nonce="'+n+'"',v+'="true"','data-styled-version="5.2.0"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?C(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return C(2);var n=((t={})[v]="",t["data-styled-version"]="5.2.0",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),i=y();return i&&(n.nonce=i),[o.a.createElement("style",h({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new j({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?C(2):o.a.createElement(te,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return C(3)}}();t.a=Pe}).call(this,n(295))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var i=n(13);const r=new class{constructor(){this.onConnectionStateChanged=(e,t)=>new a(e,t),this.forceReconnect=()=>new l,this.forceReconnectServer=()=>new u,this.onAppActivelyConnect=()=>new s,this.onAppActivelyDisconnect=()=>new c}};var o;!function(e){e.ON_CONNECTION_STATE_CHANGED="connectivity/on_connection_state_changed",e.FORCE_RECONNECT="connectivity/force_reconnect",e.FORCE_RECONNECT_SERVER="connectivity/force_reconnect_server",e.ACTIVELY_CONNECT="connectivity/actively_connect",e.ACTIVELY_DISCONNECT="connectivity/actively_disconnect"}(o||(o={}));class a extends i.c{constructor(e,t){super(o.ON_CONNECTION_STATE_CHANGED),this.connectionState=e,this.stateChangeReason=t}}class s extends i.c{constructor(){super(o.ACTIVELY_CONNECT)}}class c extends i.c{constructor(){super(o.ACTIVELY_DISCONNECT)}}class l extends i.c{constructor(){super(o.FORCE_RECONNECT)}}class u extends i.c{constructor(){super(o.FORCE_RECONNECT_SERVER)}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));const i=15,r="Bucket0",o="pre_fetch_msg"},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(53),r=n(188),o=n(52),a=n(4),s=n(11),c=n(20);class l{constructor(e){this.isSuccessful=e}}const u=c.isDevAudienceGroup?"./webapp."+n.h+".js":"/Scripts/webapp.js?v="+c.webAppVersion;Object({SERVER_ENV:"production",NODE_ENV:"production",MODE:"prod",WEBAPP_VERSION:"1.1.22.1007.150615",BUILD_FLAVOUR:"prod"}).HASH;t.b=new class{constructor(){this.hash=Object({SERVER_ENV:"production",NODE_ENV:"production",MODE:"prod",WEBAPP_VERSION:"1.1.22.1007.150615",BUILD_FLAVOUR:"prod"}).HASH,this.LOG_TAG="ScriptDownloader",this.downloadScript=e=>{if(!e)return void this.postEventForAppJSScriptUnavailable();if(this.exists(e))return void this.postEventForAppJSScriptAvailable();const t=i.a.getCurrentActualTime(),n={name:e};a.b.infoWithNonPIIData(this.LOG_TAG,"downloading script",e);const c=document.createElement("script");c.setAttribute("type","text/javascript"),c.setAttribute("src",e),c.defer=!0,c.onload=()=>{a.b.infoWithNonPIIData(this.LOG_TAG,"downloaded script",e),this.postEventForAppJSScriptAvailable(),o.b.post(new o.a(o.c.TELEMETRY_METRIC,new r.b(s.c.SCRIPT_DOWNLOAD_SUCCESS,i.a.getCurrentActualTime()-t,n))),c.onload=null},c.onerror=()=>{a.b.errorWithNonPIIData(this.LOG_TAG,"downloaded failed ",e),this.postEventForAppJSScriptUnavailable(),o.b.post(new o.a(o.c.TELEMETRY_EVENT,new r.a(s.c.SCRIPT_DOWNLOAD_FAILED,n))),c.onerror=null},document.getElementsByTagName("body")[0].appendChild(c)},this.exists=e=>{const t=document.getElementsByTagName("script");for(let n=t.length;n--;)if(t[n].src==e)return!0}}postEventForAppJSScriptAvailable(){o.b.post(new o.a(o.c.APP_JS_DOWNLOAD_STATE_CHANGE,new l(!0)))}postEventForAppJSScriptUnavailable(){o.b.post(new o.a(o.c.APP_JS_DOWNLOAD_STATE_CHANGE,new l(!1)))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(11),r=n(57),o=n(53),a=n(52),s=n(6);class c{constructor(e,t){this.startSuffix="_START",this.endSuffix="_END",this.internalEventsMap={},this.isEventAlive=!1,this.initialize=(e,t)=>{this.eventName=e,this.logSelfEvent=t,this.eventStartTime=o.a.getCurrentActualTime(),this.internalEventsMap={},this.isEventAlive=!0,!1!==t&&this.recordInternalEventStart(e)},this.recordInternalEventStart=(e,t)=>{if(!this.isAlive())return;const n=e+this.startSuffix;this.hasStartRecord(e)||(this.internalEventsMap[n]=this.getElapsedTime()),t&&(this.internalEventsMap=Object.assign({},this.internalEventsMap,t))},this.recordInternalEvent=(e,t)=>{this.isAlive()&&(this.internalEventsMap[e]=t||this.getElapsedTime())},this.recordInternalEventEnd=e=>{this.isAlive()&&this.hasStartRecord(e)&&(this.internalEventsMap[e+this.endSuffix]=this.getElapsedTime())},this.recordEnd=(e,t,n)=>{if(e&&(this.marker=e),!this.isAlive())return;t&&(this.hasStartRecord(t)?this.recordInternalEventEnd(t):this.recordInternalEvent(t));const o=this.getElapsedTime(),s=Object.assign({},this.endEventAndGetRecord(),n);a.b.post(new r.a(r.b.TELEMETRY_METRIC,new i.d(this.marker,o,s))),this.isEventAlive=!1},this.getElapsedTime=()=>o.a.getCurrentActualTime()-this.eventStartTime,this.getEndTimeForEvent=e=>this.internalEventsMap[e+this.endSuffix],this.isAlive=()=>this.isEventAlive,this.equals=e=>this.eventName===e,this.reset=()=>{this.internalEventsMap={},this.initialize(this.eventName,this.logSelfEvent),this.recordInternalEvent(i.b.RESET)},this.clear=()=>{this.internalEventsMap={},this.isEventAlive=!1},this.hasRecord=e=>!Object(s.g)(this.internalEventsMap[e]),this.hasStartRecord=e=>{const t=e+this.startSuffix;return!Object(s.g)(this.internalEventsMap[t])},this.endEventAndGetRecord=()=>(this.recordInternalEventEnd(this.eventName),this.internalEventsMap),e&&(this.marker=e),t&&(this.eventName=t)}}},function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return _})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return O})),n.d(t,"d",(function(){return R}));var i=n(38);function r(){return{allContacts:Object(i.b)(),selectedContactId:void 0,moduleVersion:0}}var o=n(28),a=n(13);const s=new class{constructor(){this.fetchContacts=e=>new l(e),this.setFetchState=e=>new u(e),this.insertContacts=e=>new d(e),this.selectContact=e=>new p(e),this.contactFetchError=e=>new h(e)}};var c;!function(e){e.CONTACTS_FETCH="contacts/fetch-all",e.SET_FETCH_STATE="contacts/set-fetchstate",e.CONTACTS_INSERT="contacts/insert-contacts",e.SELECT_CONTACT="contacts/select-contact",e.CONTACT_FETCH_ERROR="contacts/fetch-error"}(c||(c={}));class l extends a.c{constructor(e){super(c.CONTACTS_FETCH),this.forceRefresh=e}}class u extends a.c{constructor(e){super(c.SET_FETCH_STATE),this.fetchState=e}}class d extends a.c{constructor(e){super(c.CONTACTS_INSERT),this.contacts=e}}class p extends a.c{constructor(e){super(c.SELECT_CONTACT),this.contactId=e}}class h extends a.c{constructor(e){super(c.CONTACT_FETCH_ERROR),this.fetchState=e}}var f=n(32),g=n(88),m=n.n(g);const E=o.g,_=(e=r(),t)=>{switch(t.type){case f.a.SET_MODULE_VERSION:e=Object.assign({},e,{moduleVersion:t.moduleVersionMap[E]});break;case c.SET_FETCH_STATE:e.allContacts.fetchState=t.fetchState,e=Object.assign({},e);break;case c.CONTACTS_INSERT:{const n=S(t.contacts,e);e=Object.assign({},n);break}case c.SELECT_CONTACT:e=Object.assign({},e,{selectedContactId:t.contactId});break;case c.CONTACT_FETCH_ERROR:e.allContacts.fetchState=t.fetchState,e=Object.assign({},e)}return e},S=(e,t)=>{const n=m()(t.allContacts.data);for(const t of e)n[t.phoneNum]=t;return t.allContacts.fetchState=i.a.Success,t.allContacts.data=n,t};var T=n(26),v=n(4),I=n(19),b=n(29),y=n(164),C=n.n(y);const A=o.g,O=e=>t=>n=>{const r=()=>{const t=T.a.getState().contactsState.allContacts.fetchState,r=t===i.a.None||t===i.a.RetryableFailure,o=[];o.push({rt:I.a.QUERY,path:[A,"all"]});if(!0===n.forceFetch||r){e.dispatch(s.setFetchState(i.a.Fetching));new Promise((t,r)=>{I.c.sendMessage({paths:o}).then(n=>{e.dispatch(s.insertContacts(n.paths[0].value)),t()}).catch(e=>{v.b.errorWithPIIData(A,[" (",n.type,"): ",e.stack||e.stacktrace,"error code: ",e.errorCode],e),r(e.errorCode===b.c.NETWORK_ERROR?i.a.RetryableFailure:i.a.PermanentFailure)}),setTimeout(()=>{r(i.a.RetryableFailure)},1e4)}).then().catch(t=>{(t=>{const i=T.a.getState().contactsState.allContacts.data;0===C()(i).length&&(v.b.infoWithPIIData(A,[" (",n.type,"): Timeout in fetching contacts"]),e.dispatch(s.contactFetchError(t)))})(t)})}};switch(n.type){case c.CONTACTS_FETCH:e.getState().contactsState.allContacts.fetchState!==i.a.PermanentFailure&&r();break;case f.a.ON_SESSION_RESUME:case f.a.ON_SESSION_RESET:T.a.getState().appState.selectedTab===f.b.People&&Object(i.c)(T.a.getState().contactsState.allContacts)&&r()}return t(n)};var N=n(70);var R=new class{constructor(){this.getSelectedContacts=Object(N.a)(this.getSelectedContactId,e=>{const t=[];return e&&t.push(e),t})}getSelectedContactId(e){return e.contactsState.selectedContactId}getContactsFetchState(e){return e.contactsState.allContacts.fetchState}getContactForPhoneNumber(e,t){return e.contactsState.allContacts.data[t]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(229);t.assign=i;var r=n(88);t.clone=r;var o=n(556);t.cloneDeep=o;var a=n(557);t.defer=a;var s=n(559);t.each=s;var c=n(560);t.endsWith=c;var l=n(561);t.extend=l;var u=n(312);t.filter=u;var d=n(255);t.findIndex=d;var p=n(575);t.findLast=p;var h=n(430);t.flatten=h;var f=n(373);t.get=f;var g=n(192);t.isEmpty=g;var m=n(434);t.isEqual=m;var E=n(578);t.isNumber=E;var _=n(174);t.isObject=_;var S=n(579);t.isUndefined=S;var T=n(580);t.kebabCase=T;var v=n(73);t.keys=v;var I=n(154);t.map=I;var b=n(389);t.mapValues=b;var y=n(589);t.max=y;var C=n(591);t.memoize=C;var A=n(332);t.merge=A;var O=n(599);t.omit=O;var N=n(207);t.remove=N;var R=n(604);t.throttle=R;var P=n(391);t.union=P},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n="undefined"!=typeof window?window:e,i=function(){function e(){}return e.clearInterval=function(e){n.clearInterval(e)},e.clearTimeout=function(e){n.clearTimeout(e)},e.setInterval=function(e,t){return n.setInterval(e,t)},e.setTimeout=function(e,t){return n.setTimeout(e,t)},e}();t.default=i}).call(this,n(185))},function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s.a})),n.d(t,"a",(function(){return o.a})),n.d(t,"b",(function(){return o.b}));var i=n(22);function r(){return{connectionState:i.a.UNKNOWN,isActivelyConnect:void 0}}var o=n(136);const a=(e=r(),t)=>{switch(t.type){case o.a.ON_CONNECTION_STATE_CHANGED:e=Object.assign({},e,{connectionState:t.connectionState});break;case o.a.ACTIVELY_CONNECT:e=Object.assign({},e,{isActivelyConnect:!0});break;case o.a.ACTIVELY_DISCONNECT:e=Object.assign({},e,{isActivelyConnect:!1})}return e};var s=n(325);n(331)},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var i=n(0),r=n(63),o=n(1),a=n(5);const s={width:"100%",height:"100%",justifyContent:"center",alignItems:"center",display:"flex"},c={width:"80%",minHeight:"10%",justifyContent:"center",alignItems:"center",display:"flex"},l=e=>{const t=r.a({message:e.view.message,title:e.view.title,acceptButtonText:e.view.okButtonText?e.view.okButtonText:o.getString("OkButtonText"),onAccept:e.view.onOkClick?e.view.onOkClick:e.onClose,neutralButtonText:e.view.neutralButtonText,onNeutral:e.view.onNeutralButtonClick?e.view.onNeutralButtonClick:e.onClose,showShadow:!0,rejectButtonText:e.view.cancelButtonText,onReject:e.view.onCancelClick,width:"100%",buttonWidth:e.view.buttonWidth,buttonMargin:e.view.buttonMargin,buttonFontSize:e.view.buttonFontSize,autoFocusOnAcceptButton:e.view.autoFocusOnOkButton})();return s.backgroundColor=e.view.overlayMode?"rgba(0,0,0,0.3)":Object(a.a)().backgroundColor10,i.createElement("div",{style:Object.assign({},s),onClick:e.onClose},i.createElement("div",{style:Object.assign({},c),onClick:e=>e.stopPropagation()},t))},u=e=>{r.c({title:o.getString("ImmersiveViewActiveWhenConversationSwitchText"),onAccept:()=>{e.onAccept()},onReject:()=>{e.onReject&&e.onReject()}})}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var i=n(13);const r=new class{constructor(){this.fetchContentForNonImMessages=e=>new c(e),this.getReadReceipts=(e,t)=>new u(e,t),this.setReadReceiptInfo=(e,t,n)=>new d(e,t,n),this.clearAllReadReceiptsInfo=()=>new p,this.storeContentForNonImMessages=e=>new l(e),this.storeMessageState=e=>new a(e),this.storeMessagesState=e=>new s(e)}};var o;!function(e){e.STORE_MESSAGE_STATE="message-metadata/store-message-state",e.STORE_MESSAGES_STATE="message-metadata/store-messages-state",e.FETCH_CONTENT_FOR_NON_IM_MESSAGES="non-im-msg/fetch-content",e.STORE_CONTENT_FOR_NON_IM_MESSAGES="non-im-msg/store-content",e.GET_READ_RECEIPTS="message-metadata/get-read-receipts",e.SET_READ_RECEIPT_INFO="message-metadata/set-read-receipt-info",e.CLEAR_ALL_READ_RECEIPTS_INFO="message-metadata/clear-all-read-receipts-info"}(o||(o={}));class a extends i.c{constructor(e){super(o.STORE_MESSAGE_STATE),this.messageStateInfo=e}}class s extends i.c{constructor(e){super(o.STORE_MESSAGES_STATE),this.messagesStateInfo=e}}class c extends i.c{constructor(e){super(o.FETCH_CONTENT_FOR_NON_IM_MESSAGES),this.messageIdList=e}}class l extends i.c{constructor(e){super(o.STORE_CONTENT_FOR_NON_IM_MESSAGES),this.contentList=e}}class u extends i.c{constructor(e,t){super(o.GET_READ_RECEIPTS),this.messageId=e,this.readReceiptType=t}}class d extends i.c{constructor(e,t,n){super(o.SET_READ_RECEIPT_INFO),this.messageId=e,this.receiptType=t,this.receiptInfo=n}}class p extends i.c{constructor(){super(o.CLEAR_ALL_READ_RECEIPTS_INFO)}}},function(e,t,n){var i=n(433),r=n(274),o=n(248),a=n(482),s=n(717);e.exports=function(e){if(null==e)return 0;if(o(e))return a(e)?s(e):e.length;var t=r(e);return"[object Map]"==t||"[object Set]"==t?e.size:i(e).length}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{}i.SURVEY_PROP_DATE_TIME="DateTime",i.SURVEY_PROP_LOCATION="Location",i.SURVEY_LOCATION_QUESTION="Responder location",i.KEYBOARD_HELPER_HEIGHT_IOS=50,i.MINIAPP_DEF_PACKAGE="miniapps",i.KAIZALA_SHARED_PACKAGE="shared",i.WEBAPP_ASSETS_PACKAGE="web",i.MAX_32BIT_NUMBER=Math.abs(1<<31)-1},function(e,t,n){"use strict";var i=n(25),r=n(224);t.a=new class{constructor(){this.mAppNetworkType=r.a.UNKNOWN,this.mAppNetworkSpeedQuotient=1,this.getAppNetworkType=()=>this.mAppNetworkType,this.setAppNetworkType=e=>{this.mAppNetworkType=e,i.c.setValue(i.a.DEVICE_NETWORK_TYPE,e,i.b.SESSION),this.updateAppConnectionSpeedQuotient()},this.getAppNetworkSpeedQuotient=()=>this.mAppNetworkSpeedQuotient,this.updateAppConnectionSpeedQuotient=()=>{switch(this.mAppNetworkType){case r.a.MOBILE_4G:case r.a.WIFI:this.mAppNetworkSpeedQuotient=1;break;case r.a.MOBILE_3G:this.mAppNetworkSpeedQuotient=1.5;break;case r.a.MOBILE_2G:this.mAppNetworkSpeedQuotient=2.5;break;default:this.mAppNetworkSpeedQuotient=1}}}}},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.SEND_SUCCESS=0]="SEND_SUCCESS",e[e.SEND_FAILED=1]="SEND_FAILED",e[e.SEND_CANCELLED=2]="SEND_CANCELLED"}(i||(i={}))},function(e,t,n){var i=n(432),r=n(273),o=n(274),a=n(248),s=n(482),c=n(727),l=n(728),u=n(446),d=n(729),p=n(164),h=i?i.iterator:void 0;e.exports=function(e){if(!e)return[];if(a(e))return s(e)?d(e):r(e);if(h&&e[h])return c(e[h]());var t=o(e);return("[object Map]"==t?l:"[object Set]"==t?u:p)(e)}},function(e,t,n){"use strict";function i(){return null}var r;n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),function(e){e.RESET="RESET",e.RESUME="RESUME",e.REJECT="REJECT"}(r||(r={}))},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return _}));class i{static buildFromPropertyBag(e){return new i(e.id,e.name,e.type,e.pictureUrl,e.phoneNum,e.subtitle,e.glyphText,e.glyphBgColor)}constructor(e,t,n,i,r,o,a,s,c,l,u,d,p){this.id=e,this.name=t,this.type=n,this.pictureUrl=i,this.phoneNum=r,this.subtitle=o,this.glyphText=a,this.glyphBgColor=s,this.tenantID=c,this.role=l,this.isDisabled=u,this.userPrimaryIdentifier=d,this.groupAudienceType=p}toJson(){return{uId:this.id,name:this.name,pictureUrl:this.pictureUrl,t:this.type}}}var r=n(59),o=n(129),a=n(70),s=n(56),c=n(84),l=n(6),u=n(1),d=n(42),p=n(41),h=n(255),f=n.n(h);const g=(e,t)=>e.contactsState.allContacts.data,m=(e,t,n)=>{const a=e.groupManagerState.groupInfoList.data[t]?e.groupManagerState.groupInfoList.data[t].groupMembers:[],h=[],g=s.f.getMyUserId(e),m=e.conversationsState.allConversations[t].tenantId;if(Object(l.g)(a)||a.forEach(a=>{if(-1===n.indexOf(a.type)){let n=m;(e=>!0===e.appState.featureGateStatus.ODFeatureEnabled)(e)||(n=!0===a.isOrgUser?m:""),h.push(((e,t,n,a,l)=>{const h=a.id;if(a.type===d.b.USER||a.type===d.b.UNPROVISIONED){const o=s.f.getUserInfo(e,h,l,a.isOrgUser);let f,g={},m=o.phoneNumber;const E=o.phoneNumber;l&&o.tenantUserProfile&&(g=o.tenantUserProfile[l]||g,f=g[r.a]),f||(f=n===o.id?Object(u.getString)("You"):a.type===d.b.UNPROVISIONED?o.phoneNumber:a.name);const _="AAD"===g[r.g],S=!0===a.isOrgUser?r.j.Email:r.j.Phone;a.type===d.b.UNPROVISIONED&&(o.primaryIdentifier===r.j.Phone?m=null:(n!==o.id&&(f=g[r.a]),m=g[r.b])),f||(f=r.c);const T=p.e.isUserPrivateMemberInGroup(e,o.id,t);return new i(h,f,a.type,T?"":o.pictureUrl,T?"":E,T?"":m,c.a.getGlyphText(f),o.glyphColor?o.glyphColor:c.a.getGlyphBackground(o.phoneNumber),_?l:null,a.role,!1,S)}if(a.type===d.b.GROUP){const t=p.e.getGroupInfo(e,h);let n;return h in e.conversationsState.allConversations&&(n=e.conversationsState.allConversations[h].photoServerUrl),new i(h,a.name,a.type,n,null,t?o.a.getParticipantsCountString(t.groupsCount,t.membersCount):"",c.a.getGlyphText(a.name),c.a.getGlyphBackground(t?t.title:"Group"),null,null)}})(e,t,g,a,n))}}),h.length>=2){const e=f()(h,{id:g});let t;-1!==e&&(t=h.splice(e,1)),h.sort((e,t)=>e.role!==d.a.ADMIN||e.type!==d.b.USER||t.role===d.a.ADMIN&&t.type!==d.b.GROUP?e.role===d.a.ADMIN&&e.type!==d.b.GROUP||t.role!==d.a.ADMIN||t.type!==d.b.USER?e.name.toLocaleLowerCase().localeCompare(t.name.toLocaleLowerCase()):1:-1),-1!==e&&h.splice(0,0,t[0])}return h},E=(e,t)=>t;var _=new class{constructor(){this.getAllContactsAsParticipants=Object(a.a)([g,E],(e,t)=>{const n=[];for(const r of Object.keys(e)){const o=e[r];let a="",s=d.b.UNPROVISIONED;o.userId&&(a=o.pictureUrl,s=d.b.USER);const l=new i(t?o.userId:o.phoneNum,o.name,s,a,o.phoneNum,o.phoneNum,c.a.getGlyphText(o.name),c.a.getGlyphBackground(o.phoneNum));n.push(l)}return n}),this.getAllGroupMembersAsParticipantsList=Object(a.a)([m],e=>e)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(6);class r{static convertToAbbrvString(e){return e<9999?e:e<1e6?(e/1e3).toFixed(1)+"K":e<1e7?(e/1e6).toFixed(2)+"M":e<1e9?Math.round(e/1e6)+"M":e<1e12?Math.round(e/1e9)+"B":"1T+"}}r.getMaskedMobileNumber=(e,t)=>{const n=e+t,i=n.length;let r="";return i>8?(r+=n.substr(0,4),r+="X".repeat(i-4-4),r+=n.substr(i-4)):i>4?(r+="X".repeat(i-4),r+=n.substr(i-4)):r=n,r},r.isNSEEnabled=(e,t,n)=>!(Object(i.g)(e)||Object(i.g)(t)||Object(i.g)(n))&&("iOS"==n&&e>="14.5"&&t>="1.159")},function(e,t,n){"use strict";n.d(t,"b",(function(){return i.b})),n.d(t,"a",(function(){return r.b})),n.d(t,"c",(function(){return o}));var i=n(256),r=n(167);const o=(e=Object(r.b)(),t)=>{switch(t.type){case i.a.UPDATE_ISSUE_STATE:{const n=t.uuid,i=t.issueState;e.reportAnIssueMap[n]=i,e=Object.assign({},e)}}return e};new class{constructor(){this.getIssueStatus=(e,t)=>e.reportAnIssueState.reportAnIssueMap[t]?e.reportAnIssueState.reportAnIssueMap[t]:r.a.STARTED}},n(328)},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o}));const i=()=>18,r=()=>!0,o=()=>50},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var i=!1,r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;i=e},get useDeprecatedSynchronousErrorHandling(){return i}}}).call(this,n(110))},function(e,t,n){"use strict";(function(e){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(214),a=n(109),s=n(615),c=n(141),l=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e._createDummyElement=c.memoize((function(){return document.createElement("testCss")})),e._getCssPropertyAliasesJsStyle=c.memoize((function(){var t={};return["flex","flexDirection","alignItems","justifyContent","alignSelf","alignContent","transform","transition","animationDuration","animationTimingFunction","animationDirection","animationDelay","animationIterationCount","animationName","hyphens","filter","appRegion"].forEach((function(n){var i=e._getCssPropertyAlias(n);i&&n!==i&&(t[n]=i)})),t})),e._cssPropertyAliasesCssStyle=u((function(){var t=e._getCssPropertyAliasesJsStyle(),n={};return c.each(c.keys(t),(function(i){n[i]=e.convertJsToCssStyle(t[i])})),n})),e}return r(n,t),n.prototype.combine=function(e,t){if(e||t){var n=e?t?[e,t]:e:t;if(n instanceof Array){for(var i={},r=0;r<n.length;r++){var o=this.combine(n[r]);i=c.extend(i,o)}return void 0===i.marginLeft&&void 0===i.marginRight&&void 0===i.marginTop&&void 0===i.marginBottom||void 0===i.margin||(void 0===i.marginLeft&&(i.marginLeft=i.margin),void 0===i.marginRight&&(i.marginRight=i.margin),void 0===i.marginTop&&(i.marginTop=i.margin),void 0===i.marginBottom&&(i.marginBottom=i.margin),delete i.margin),void 0===i.paddingLeft&&void 0===i.paddingRight&&void 0===i.paddingTop&&void 0===i.paddingBottom||void 0===i.padding||(void 0===i.paddingLeft&&(i.paddingLeft=i.padding),void 0===i.paddingRight&&(i.paddingRight=i.padding),void 0===i.paddingTop&&(i.paddingTop=i.padding),void 0===i.paddingBottom&&(i.paddingBottom=i.padding),delete i.padding),(i.borderWidth||i.borderTopWidth||i.borderRightWidth||i.borderBottomWidth||i.borderLeftWidth)&&(void 0===i.borderColor&&(i.borderColor="black"),void 0===i.borderStyle&&(i.borderStyle="solid")),i}return n}},n.prototype.createViewStyle=function(e,t){return void 0===t&&(t=!0),this._adaptStyles(e,t)},n.prototype.createAnimatedViewStyle=function(e){return this._adaptStyles(e,!1)},n.prototype.createScrollViewStyle=function(e,t){return void 0===t&&(t=!0),this._adaptStyles(e,t)},n.prototype.createButtonStyle=function(e,t){return void 0===t&&(t=!0),this._adaptStyles(e,t)},n.prototype.createTextStyle=function(e,t){return void 0===t&&(t=!0),this._adaptStyles(e,t,!0)},n.prototype.createAnimatedTextStyle=function(e){return this._adaptStyles(e,!1)},n.prototype.createTextInputStyle=function(e,t){return void 0===t&&(t=!0),this._adaptStyles(e,t,!0)},n.prototype.createAnimatedTextInputStyle=function(e){return this._adaptStyles(e,!1)},n.prototype.createLinkStyle=function(e,t){return void 0===t&&(t=!0),this._adaptStyles(e,t)},n.prototype.createImageStyle=function(e,t){return void 0===t&&(t=!0),this._adaptStyles(e,t)},n.prototype.createAnimatedImageStyle=function(e){return this._adaptStyles(e,!1)},n.prototype.createPickerStyle=function(e,t){return void 0===t&&(t=!0),this._adaptStyles(e,t)},n.prototype._getCssPropertyAlias=function(e){if("undefined"!=typeof document){var t=e.charAt(0).toUpperCase()+e.slice(1),n=[e,t];n=n.concat(["Webkit","webkit","Moz","O","ms"].map((function(e){return e+t})));for(var i=this._createDummyElement().style,r=0;r<n.length;r++){var o=n[r];if(void 0!==i[o])return o}}},n.prototype.convertJsToCssStyle=function(e){var t="";if(e)for(var n=0;n<e.length;n++){var i=e[n].toLowerCase();i===e[n]?t+=i:t+="-"+i}return t},n.prototype.getCssPropertyAliasesCssStyle=function(){return this._cssPropertyAliasesCssStyle()},n.prototype.getParentComponentName=function(e){var t,n=e._reactInternalInstance;return n&&n._currentElement&&n._currentElement._owner&&n._currentElement._owner._instance&&(t=n._currentElement._owner._instance.constructor),t?t.name?t.name:t:""},n.prototype._adaptStyles=function(t,n,i){if(void 0===i&&(i=!1),n&&s.default.detectLeaks(t),t.font&&(void 0!==t.font.fontFamily&&(t.fontFamily=t.font.fontFamily),void 0!==t.font.fontWeight&&(t.fontWeight=t.font.fontWeight),void 0!==t.font.fontStyle&&(t.fontStyle=t.font.fontStyle),delete t.font),void 0!==t.flex){o.default.isDevelopmentMode()&&(void 0===t.flexGrow&&void 0===t.flexShrink||e.error("Conflicting rules for flex specified."));var r=t.flex;delete t.flex,r>0?(t.flexGrow=r,t.flexShrink=1):r<0?(t.flexGrow=0,t.flexShrink=-r):(t.flexGrow=0,t.flexShrink=0)}if(t.transform){var a=[],l={},u={};c.each(t.transform,(function(e){c.each(c.keys(e),(function(t){if("object"==typeof e[t])l[t]=e[t];else{var n=e[t].toString();0===t.indexOf("translate")&&(n+="px"),a.push(t+"("+n+")"),u[t]=n}}))})),delete t.transform,a.length>0&&(t.transform=a.join(" ")),c.keys(l).length>0&&(t.animatedTransforms=l,t.staticTransforms=u)}if(void 0!==t.shadowOffset||void 0!==t.shadowRadius||void 0!==t.shadowColor){var d=0,p=0,h=0,f="black";void 0!==t.shadowOffset&&(d=t.shadowOffset.width,p=t.shadowOffset.height,delete t.shadowOffset),void 0!==t.shadowRadius&&(h=t.shadowRadius,delete t.shadowRadius),void 0!==t.shadowColor&&(f=t.shadowColor,delete t.shadowColor),i?t.textShadow=d+"px "+p+"px "+h+"px "+f:t.boxShadow=d+"px "+p+"px "+h+"px 0px "+f}void 0!==t.lineHeight&&(t.lineHeight=t.lineHeight+"px"),(t.borderStyle||t.borderTopWidth||t.borderRightWidth||t.borderBottomWidth||t.borderLeftWidth)&&void 0===t.borderWidth&&(void 0===t.borderTopWidth&&(t.borderTopWidth=0),void 0===t.borderRightWidth&&(t.borderRightWidth=0),void 0===t.borderBottomWidth&&(t.borderBottomWidth=0),void 0===t.borderLeftWidth&&(t.borderLeftWidth=0)),void 0!==t.marginVertical&&(void 0===t.marginTop&&(t.marginTop=t.marginVertical),void 0===t.marginBottom&&(t.marginBottom=t.marginVertical),delete t.marginVertical),void 0!==t.marginHorizontal&&(void 0===t.marginLeft&&(t.marginLeft=t.marginHorizontal),void 0===t.marginRight&&(t.marginRight=t.marginHorizontal),delete t.marginHorizontal),void 0!==t.paddingVertical&&(void 0===t.paddingTop&&(t.paddingTop=t.paddingVertical),void 0===t.paddingBottom&&(t.paddingBottom=t.paddingVertical),delete t.paddingVertical),void 0!==t.paddingHorizontal&&(void 0===t.paddingLeft&&(t.paddingLeft=t.paddingHorizontal),void 0===t.paddingRight&&(t.paddingRight=t.paddingHorizontal),delete t.paddingHorizontal),void 0!==t.textDecorationLine&&(t.textDecoration=t.textDecorationLine,delete t.textDecorationLine),void 0!==t.textDecorationStyle&&(void 0!==t.textDecoration?t.textDecoration+=" "+t.textDecorationStyle:t.textDecoration=t.textDecorationStyle,delete t.textDecorationStyle),void 0!==t.textDecorationColor&&(void 0!==t.textDecoration?t.textDecoration+=" "+t.textDecorationColor:t.textDecoration=t.textDecorationColor,delete t.textDecorationColor);var g=this._getCssPropertyAliasesJsStyle();for(var m in g)void 0!==t[m]&&g[m]&&(t[g[m]]=t[m]);return"break-word"===t.wordBreak&&(t.wordWrap="break-word"),o.default.isDevelopmentMode()?Object.freeze(t):t},n}(a.Styles);function u(e,t){return c.memoize(e,t)}t.Styles=l,t.memoize=u,t.default=new l}).call(this,n(110))},function(e,t,n){"use strict";var i=n(468),r=Object.prototype.toString;function o(e){return"[object Array]"===r.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==r.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===r.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===r.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isPlainObject:c,isUndefined:a,isDate:function(e){return"[object Date]"===r.call(e)},isFile:function(e){return"[object File]"===r.call(e)},isBlob:function(e){return"[object Blob]"===r.call(e)},isFunction:l,isStream:function(e){return s(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function e(){var t={};function n(n,i){c(t[i])&&c(n)?t[i]=e(t[i],n):c(n)?t[i]=e({},n):o(n)?t[i]=n.slice():t[i]=n}for(var i=0,r=arguments.length;i<r;i++)u(arguments[i],n);return t},extend:function(e,t,n){return u(t,(function(t,r){e[r]=n&&"function"==typeof t?i(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},,function(e,t,n){var i=n(672),r=n(73);e.exports=function(e){return null==e?[]:i(e,r(e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(0),r=n(21),o=n(4),a=n(11);class s extends i.Component{constructor(){super(...arguments),this.linkRef=null,this.defaultLinkColor=r.a.LINK_COLOR,this.getAttributes=()=>({role:this.props.role?this.props.role:"button",tabIndex:this.props.tabIndex?this.props.tabIndex:0,style:Object.assign({color:this.defaultLinkColor,cursor:"pointer",margin:"2px",borderBottom:"none"},this.props.style),onKeyPress:this.onKeyPress,onClick:this.onClick,onFocus:this.onFocus,onBlur:this.onBlur,className:this.props.className,id:this.props.id?this.props.id:"Not set"}),this.onFocus=e=>{e.preventDefault(),this.linkRef.style.borderBottom="solid 1px "+this.defaultLinkColor},this.onBlur=e=>{e.preventDefault(),this.linkRef.style.borderBottom="none"},this.onClick=e=>{e.preventDefault(),o.b.infoWithNonPIIData("LinkView","Link is pressed with id: ",this.props.id?this.props.id:"Not set"),a.e.recordEvent(a.c.LINK_CLICKED,{ELEMENT_ID:this.props.id?this.props.id:"Not set"}),this.props.onClick(e)},this.onKeyPress=e=>{e.preventDefault();13===(e.keyCode||e.which)&&this.props.onClick(e)},this.setLinkRef=e=>{this.linkRef=e}}static linkify(e,t){const n=t.split(" "),r=new RegExp("([a-zA-Z0-9]+://)?([a-zA-Z0-9_]+:[a-zA-Z0-9_]+@)?([a-zA-Z0-9.-]+\\.[A-Za-z]{2,4})(:[0-9]+)?(/.*)?"),o=[];let a=!1,c=0;return n.forEach(t=>{a?o.push(" "):a=!0,o.push(r.test(t)?i.createElement(s,{key:e+"."+c++,id:e+"."+c++,href:t,wrapperStyle:{whiteSpace:"inherit"}},t):t)}),o}componentDidMount(){this.props.autoFocus&&this.linkRef&&this.linkRef.focus()}render(){return i.createElement("span",{style:Object.assign({padding:0,border:"none",display:"inline-block",whiteSpace:"nowrap"},this.props.wrapperStyle)},i.createElement("a",Object.assign({ref:this.setLinkRef},this.getAttributes(),{"aria-label":this.props.accessibilityLabel,title:this.props.children.toLocaleString()}),this.props.children))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i,r=n(4),o=n(94);class a{constructor(){this.registerOnSDNMessageReceived=(e,t)=>{t?this.onSDNMessageListeners[t]?this.onSDNMessageListeners[t].push(e):this.onSDNMessageListeners[t]=[e]:this.onSDNMessageListeners[a.ALL]?this.onSDNMessageListeners[a.ALL].push(e):this.onSDNMessageListeners[a.ALL]=[e]},this.handleSDNMessage=e=>{r.b.infoWithPIIData(a.LOG_TAG,["SDN message type: ",e.type],e),this.onSDNMessageListeners[a.ALL]&&this.onSDNMessageListeners[a.ALL].forEach(t=>{t(e)}),this.onSDNMessageListeners[e.type]&&this.onSDNMessageListeners[e.type].forEach(t=>{t(e)})},this.onSDNMessageListeners={},o.a.registerOnSDNMessage(this.handleSDNMessage.bind(this))}}a.LOG_TAG="SDNMessageHandler",a.ALL="all",function(e){e.SDN_AUTH_TOKEN_REFRESH_MESSAGE_TYPE="6",e.SDN_LOGOUT_MESSAGE_TYPE="15"}(i||(i={}));const s=new a},function(e,t,n){"use strict";var i;function r(){return{reportAnIssueMap:{}}}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.STARTED=1]="STARTED",e[e.SUBMITTING=2]="SUBMITTING",e[e.SUBMIT_SUCCESS=3]="SUBMIT_SUCCESS",e[e.SUBMIT_FAILURE=4]="SUBMIT_FAILURE"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"f",(function(){return M})),n.d(t,"d",(function(){return D})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return U})),n.d(t,"c",(function(){return y}));var i=n(20),r=n(53),o=n(28),a=n(13);const s=new class{constructor(){this.insertClientOnlyMessages=(e,t,n)=>new l(e,t,n),this.createClientOnlyMessages=e=>new u(e)}};var c;!function(e){e.INSERT_MESSAGES="com/insert-messages",e.CREATE_CLIENT_ONLY_MESSAGES="com/create-client-only-messages"}(c||(c={}));class l extends a.c{constructor(e,t,n){super(c.INSERT_MESSAGES),this.conversationId=e,this.rawMessages=t,this.messageIdToViewModels=n}}class u extends a.c{constructor(e){super(c.CREATE_CLIENT_ONLY_MESSAGES),this.baseRawMessages=e}}var d=n(122),p=n(12),h=n(27),f=n(210),g=n(45),m=n(46),E=n(11),_=n(4),S=n(6),T=n(15),v=n(73),I=n.n(v);const b=o.e,y=e=>t=>n=>{switch(n.type){case g.a.ADD_BUCKET_DATA:case g.a.ADD_BUCKET_DATA_IOS:{const t=n.messageIds,i=T.f.getUnseenCursor(e.getState(),n.conversationId),r=n.conversationId;N(i,e,t,r);break}case m.a.MESSAGES_INSERT:{const t=P(n.rawMessages);C(e,t);break}case c.CREATE_CLIENT_ONLY_MESSAGES:{const t=P(n.baseRawMessages);C(e,t);break}case m.a.MESSAGES_DELETE:{const t=n.messages;A(e,t)}case g.a.PRE_FETCH_CHAT_MESSAGE_IDS_TO_CONVERSATION_MAP_RECEIVED:I()(n.messageIdsMap).forEach(t=>{const i=n.messageIdsMap[t],r=T.f.getUnseenCursor(e.getState(),t);N(r,e,i,t)});break}return t(n)};const C=(e,t)=>{const n=e.getState(),i=n.usersState.myProfile.id,r=[],o=new Array;let a=null;if(t.length>0){const c={from:i,type:p.h.TIMESTAMP,conversationId:t[0].getHostConversationId()};let l=t[0];for(let e=1;e<t.length;e++){const i=t[e];if(w(n,i,l)){const e=Object.assign({},c,{content:i.serverTimestamp,id:f.a.next().value?f.a.next().value+"":"",timestamp:i.serverTimestamp});r.push(e),o.push({messageId:i.id,viewModel:{type:e.type,id:e.id}})}l=i}const u=n.chatState.chatConversationsMap[t[0].getHostConversationId()].chatMessageViewModelList,d=u.findIndex(e=>e.id===t[0].id);let m=!1;if(0===d)m=!0;else{d<0&&(_.b.errorWithNonPIIData(b,"prev message not found for first message in block to check for insertion",t[0].getHostConversationId()),m=!0);const e=u[d-1],i=n.messagesState.messages[e.id];w(n,t[0],i)&&(m=!0)}if(m){const e=Object.assign({},c,{content:t[0].serverTimestamp,id:f.a.next().value?f.a.next().value+"":"",timestamp:t[0].serverTimestamp});r.push(e),o.push({messageId:t[0].id,viewModel:{type:e.type,id:e.id}})}const E=1===t.length?d:u.findIndex(e=>e.id===t[t.length-1].id);if(E!==u.length-1){let e=u[E+1];e.type===p.h.TIMESTAMP&&(a=e,e=u[E+2]);const i=n.messagesState.messages[e.id];e.id!==h.f&&w(n,i,t[t.length-1])&&(a=null)}0!=r.length&&e.dispatch(s.insertClientOnlyMessages(t[0].getHostConversationId(),r,o)),a&&e.dispatch(g.b.deleteMessageViewModels(t[0].getHostConversationId(),[a]))}},A=(e,t)=>{if(t.length>0){const n=e.getState(),i=n.usersState.myProfile.id,r=[],o=new Array,a=[],c=t[0].getHostConversationId(),l=n.chatState.chatConversationsMap[c].chatMessageViewModelList,u={from:i,type:p.h.TIMESTAMP,conversationId:c},d={};let h=[];t.forEach(e=>{const t=l.findIndex(t=>t.id===e.id);t>0&&(h.push(t),d[t]=!0)});const E=O(l,h);E&&a.push(E),h=h.sort();const _=h[0],S=h[h.length-1];if(_){const e={};let t=null,i=[];i.push(_);for(let n=_+1;n<l.length&&(d[n]?(i.push(n),t=null):t=l[n],!(i.length>0&&t&&(i.forEach(n=>e[n]=t),i=[],n>S)));n++);h.forEach(t=>{const i=l[t-1];if(i.type===p.h.TIMESTAMP){a.push(i);const s=e[t];if(s&&!Object(p.b)(s.type,s.subType)){const e=m.g.getMessage(n,s.id),t=Object.assign({},u,{content:e.serverTimestamp,id:f.a.next().value?f.a.next().value+"":"",timestamp:e.serverTimestamp});r.push(t),o.push({messageId:s.id,viewModel:{type:t.type,id:t.id}})}}})}r.length>0&&e.dispatch(s.insertClientOnlyMessages(t[0].getHostConversationId(),r,o)),a.length>0&&e.dispatch(g.b.deleteMessageViewModels(t[0].getHostConversationId(),a))}},O=(e,t)=>{for(const n of t){const t=n>0?n>1&&e[n-1].type===p.h.TIMESTAMP?n-2:n-1:-1;if(t>-1&&e[t].type===p.h.UNREAD_COUNT_MESSAGE)return e[t]}return null},N=(e,t,n,i)=>{if(e&&e.MessageId){R(t,n,e.MessageId,i)||E.e.recordEvent(E.c.ERROR,{CONVERSATION_ID:i,CONVERSATION_CURSOR:JSON.stringify(e),MESSAGE:"trying to add umm again"})}},R=(e,t,n,i)=>{const r=h.f;let o=!1;if(t.findIndex((e,t,n)=>e===r)>-1)return!1;const a=t.findIndex((e,t,i)=>e===n);if(a>-1&&(_.b.infoWithNonPIIData(b,"adding UM at",a,i,t.length),t.splice(a,0,r),o=!0),o&&!U.doesMessageExists(e.getState(),r)){const t={from:e.getState().usersState.myProfile.id,type:p.h.UNREAD_COUNT_MESSAGE,conversationId:"",content:r,id:r,timestamp:0};e.dispatch(s.insertClientOnlyMessages("",[t],[]))}return!0},P=e=>{const t=[];return e.forEach(e=>{t.push(d.a(e))}),t},w=(e,t,n)=>!(!Object(S.g)(t)&&!Object(S.g)(n))||!(!Object(i.isiOS)(e.sessionState.maOS)&&Object(p.c)(t.type,t.subType)&&!Object(p.a)(t.type,t.subType))&&0!=r.a.compareDates(r.a.getDateFromTimestamp(t.serverTimestamp),r.a.getDateFromTimestamp(n.serverTimestamp));function M(){return{clientOnlyMessages:{}}}const D=(e={clientOnlyMessages:{}},t)=>{switch(t.type){case c.INSERT_MESSAGES:t.rawMessages.forEach(t=>{const n=d.a(t);e.clientOnlyMessages[t.id]=n}),e=Object.assign({},e)}return e};var L=n(70);const x=(e,t)=>e.clientOnlyMessagesState.clientOnlyMessages[t],k=(e,t)=>t;var U=new class{constructor(){this.getClientOnlyMessage=Object(L.a)([x,k],(e,t)=>t?e:(_.b.errorWithNonPIIData("clientOnlyMessages","selector:Invalid messageId"),null)),this.doesMessageExists=(e,t)=>t in e.clientOnlyMessagesState.clientOnlyMessages}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var i=n(13);const r=new class{constructor(){this.ensureSession=()=>new a,this.updateSessionParams=e=>new s(e)}onDiagnosticDataReceived(e){return new c(e)}};var o;!function(e){e.ENSURE_SESSION="session/ensure_session",e.UPDATE_SESSION_PARAMS="session/update_session_params",e.ON_IOS_DIAGNOSTIC_DATA_RECEIVED="session/on_ios_diagnostic_data_received"}(o||(o={}));class a extends i.c{constructor(){super(o.ENSURE_SESSION)}}class s extends i.c{constructor(e){super(o.UPDATE_SESSION_PARAMS),this.newSessionParams=e}}class c extends i.c{constructor(e){super(o.ON_IOS_DIAGNOSTIC_DATA_RECEIVED),this.diagnosticData=e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var i=n(57),r=n(52),o=n(151),a=n(4),s=n(199),c=n(53),l=n(29),u=n(125),d=n(76),p=n(93),h=n(338),f=n(179);class g extends f.b{getState(){return f.a.DEVICE_RESPONSE_RECEIVED}}class m{constructor(e){m.handler=e,b.initialize(e,this)}static has(e){return null!=m.idToMessageMap[e]}send(e,t){return 0==e.message.ir?e.send():(m.has(e.message.id)||(m.messages.push(e),m.idToMessageMap[e.message.id]=e),!e.isSending()&&e.send(p.a.getDeviceResponseTimeoutMS()))}remove(e){const t=m.idToMessageMap[e];if(t){const n=m.messages.indexOf(t);n>-1&&m.messages.splice(n,1),delete m.idToMessageMap[e]}}get(e){return m.idToMessageMap[e]}peek(){return m.messages.length>0?m.messages[0]:null}getAll(){return m.messages}size(){return m.messages.length}isFull(){return this.size()===p.a.getOutgoingInFlightSize()}}m.idToMessageMap={},m.messages=[];var E,_=n(337),S=n(54);class T extends f.b{getState(){return f.a.READY}}class v extends f.b{constructor(e){super(),this.serverResponseCode=e}getState(){return f.a.SERVER_ACK_RECEIVED}}class I{constructor(){this.sendMessage=()=>{const e=u.a.sendMessage(JSON.stringify(this.mMessage),l.d.getMessageWithNonPIIData(this.mMessage));let t=0;const n=this.mMessage;e.then(e=>{t=e.getRespCode(),a.b.infoWithNonPIIData(p.a.OUTGOING_TAG,"server receipt recieved for message",n.id),this.isSameMessage(n)?(this.mState=new v(t),this.notifyHandler(!0)):a.b.infoWithNonPIIData(p.a.OUTGOING_TAG,"server receipt received when already timed out",n.id)}).catch(e=>{this.isSameMessage(n)?(this.raiseErrorTelemetryForMessage(e,n),this.setOutgoingState(e.getRespCode()),this.notifyHandler(!1)):a.b.errorWithNonPIIData(p.a.OUTGOING_TAG,"server error received when already timed out",n.id)})},this.isSameMessage=e=>this.mMessage&&this.mMessage.id===e.id,this.raiseErrorTelemetryForMessage=(e,t)=>{this.isErrorResponse(e.getRespCode())&&a.b.errorWithNonPIIData(p.a.OUTGOING_TAG,"server error received while sending message",l.d.getMessageWithNonPIIData(t),e)},this.isErrorResponse=e=>e!==S.a.Timeout&&e!==S.b.ClientDisconnected,this.notifyHandler=e=>{this.mComplete||(clearTimeout(this.mTimeoutId),this.mComplete=!0,this.mHandler.onMessageProcessingComplete(this.mMessage,e,this.mState))},this.setOutgoingState=e=>{this.mState=e===S.b.ClientDisconnected?new v(e):new T}}send(e,t){this.mComplete=!1,this.mHandler=t,this.mMessage=e,this.mState=new T,this.mTimeoutId=setTimeout(()=>{a.b.infoWithNonPIIData(p.a.OUTGOING_TAG,"server receipt timed out for messageId",e.id),this.notifyHandler(!1)},p.a.getServerReceiptTimeoutMS()),this.sendMessage()}abort(){clearTimeout(this.mTimeoutId),this.mComplete=!0}isComplete(){return this.mComplete}getMessage(){return this.mMessage}getCurrentState(){return this.mState}}class b{constructor(e){this.message=e,this.mAttemptCount=0,this.mStartTime=0,this.onMessageProcessingComplete=(e,t,n)=>{t||b.onMessageProcessingComplete(e,t,n)},this.isSending=()=>this.mServerResponseTracker&&b.timeoutMap[this.message.id],this.getRetryCount=()=>this.mAttemptCount,this.getStartTime=()=>this.mStartTime}static initialize(e,t){b.handler=e,b.inTransitMessagesMap=t,h.a.addListenerAtStart(b.handleIncomingMessage)}static onMessageProcessingComplete(e,t,n){e&&(a.b.infoWithNonPIIData(p.a.OUTGOING_TAG,"processing complete for messageId",e.id),b.clearTimeout(e.id),b.handler.onMessageProcessingComplete(e,t,n))}static clearTimeout(e){b.timeoutMap[e]&&(clearTimeout(b.timeoutMap[e]),delete b.timeoutMap[e])}send(e){if(this.isSending())return a.b.warnWithNonPIIData(p.a.OUTGOING_TAG,"send initiated again for in progress messageId",this.message.id),!1;if(this.mStartTime=c.a.getCurrentActualTime(),this.mAttemptCount++,this.mServerResponseTracker=new I,!1===this.message.ir)return this.mServerResponseTracker.send(this.message,this),!0;const t=setTimeout(()=>{a.b.infoWithNonPIIData(p.a.OUTGOING_TAG,"timed out for messageId",this.mServerResponseTracker.getMessage().id),this.mServerResponseTracker.abort(),this.onMessageProcessingComplete(this.mServerResponseTracker.getMessage(),!1,this.mServerResponseTracker.getCurrentState())},e);return b.timeoutMap[this.message.id]=t,this.message.sit=c.a.getCurrentActualTime(),this.mServerResponseTracker.send(this.message,this),!0}abort(){b.clearTimeout(this.message.id),this.mServerResponseTracker&&(a.b.infoWithNonPIIData(p.a.OUTGOING_TAG,"aborted message id:",this.message.id),this.mServerResponseTracker.abort(),this.mServerResponseTracker=null,this.mAttemptCount--)}}b.timeoutMap={},b.handleIncomingMessage=e=>{if(m.has(parseInt(e.reqId,10))){const t=b.inTransitMessagesMap.get(e.reqId);Object(_.b)(t.getRetryCount(),e),b.onMessageProcessingComplete(t.message,!0,new g)}};class y{constructor(e){this.outgoingState=e}}function C(e){e.getAll().forEach(e=>{e.abort()})}class A{constructor(){this.messages=[],this.messageIdToOutgoingMessageMap={},this.getAll=()=>this.messages}push(e){if(!this.messageIdToOutgoingMessageMap[e.id]){const t=new N(e,E.NOT_STARTED);this.messages.push(t),a.b.infoWithPIIData(p.a.OUTGOING_TAG,["queued message:",e.id,", queue size:",this.size(),"Msg(without PII data):",l.d.getMessageWithNonPIIData(e)],"Msg(with PII data):",l.d.getMessageWithPIIData(e)),this.messageIdToOutgoingMessageMap[e.id]=t}}updateQueueState(e,t){const n=this.messageIdToOutgoingMessageMap[e];n&&(n.updateMessageState(t),t===E.FAILED&&this.sendNotification(i.b.OUTGOING_CHANNEL_QUEUE_FAILED,n))}remove(e,t){const n=this.messageIdToOutgoingMessageMap[e.id];if(n){const r=this.messages.indexOf(n);if(r>-1)return this.messages.splice(r,1),delete this.messageIdToOutgoingMessageMap[e.id],a.b.infoWithNonPIIData(p.a.OUTGOING_TAG,"removed  message:",e.id,", queue size:",this.size()),t===o.a.SEND_SUCCESS&&this.sendNotification(i.b.OUTGOING_CHANNEL_QUEUE_SUCCESS,n),!0}return!1}peek(e){for(const t in this.messages)if(this.messages[t].getMessageState()===e)return this.messages[t].message;return null}size(){return this.messages.length}sendNotification(e,t){const n=new O(t);r.b.post(new i.a(e,n))}}class O{constructor(e){this.outgoingMesage=e}}class N{constructor(e,t){this.message=e,this.mMessageState=t}updateMessageState(e){this.mMessageState=e}getMessageState(){return this.mMessageState}}!function(e){e[e.NOT_STARTED=0]="NOT_STARTED",e[e.SENDING=1]="SENDING",e[e.FAILED=2]="FAILED"}(E||(E={}));const R=new class{constructor(){this.queue=new A,this.inTransitMessages=new m(this),this.onQueueEmptyListeners=[],this.lastOutgoingMsgTime=0,this.registerOnQueueEmpty=e=>{this.onQueueEmptyListeners.push(e)},this.onConnected=()=>{this.processMessages()},this.onDisconnected=()=>{C(this.inTransitMessages)},this.send=e=>{this.queue.push(e),this.processMessages()},this.getQueueSize=()=>this.queue.size(),this.getLastOutgoingMsgTime=()=>this.lastOutgoingMsgTime,this.onConnectionUpdate=e=>{d.b.isConnected()?(C(this.inTransitMessages),this.processMessages()):C(this.inTransitMessages)},this.onItemRemovedFromQueue=e=>{0===this.queue.size()?this.onQueueEmptyListeners.forEach(e=>{try{e()}catch(e){a.b.errorWithNonPIIData(p.a.OUTGOING_TAG,"onQueueEmptyListeners error",e.stack||e.stacktrace||e)}}):this.processMessages()},this.onMessageProcessingComplete=(e,t,n)=>{const r=this.inTransitMessages.get(e.id);if(r){if(t)return a.b.infoWithNonPIIData(p.a.OUTGOING_TAG,"message successfully sent, Id:",e.id),void this.remove(e);a.b.infoWithNonPIIData(p.a.OUTGOING_TAG,"message sent failed in state",n.getState(),", for message id",e.id),this.checkRetryExhausted(r),this.sendNotification(i.b.MESSAGE_SEND_TIMEOUT,n)}else a.b.errorWithNonPIIData(p.a.OUTGOING_TAG,"message(without PII) is not present in channel",l.d.getMessageWithNonPIIData(e)),this.processMessages()},this.remove=(e,t=o.a.SEND_SUCCESS)=>(this.inTransitMessages.remove(e.id),this.queue.remove(e,t)),this.has=(e,t)=>this.queue.getAll().find(n=>n.message.mt===e&&Object(s.a)(n.message,t)),this.checkRetryExhausted=e=>{e.getRetryCount()>=p.a.getOutgoingMessageRetryCount()&&(a.b.errorWithNonPIIData(p.a.OUTGOING_TAG,"send permanent failed for message(without PII):",l.d.getMessageWithNonPIIData(e.message)),this.remove(e.message))},this.sendNotification=(e,t)=>{const n=new y(t);r.b.post(new i.a(e,n))},this.processMessages=()=>{if(d.b.isConnected()){this.inTransitMessages.getAll().forEach(e=>{e.isSending()||(e.getRetryCount()>=p.a.getOutgoingMessageRetryCount()?a.b.errorWithNonPIIData(p.a.OUTGOING_TAG,"retry exhausted for message:",e.message.id):e.send(p.a.getDeviceResponseTimeoutMS())&&a.b.infoWithNonPIIData(p.a.OUTGOING_TAG,"sending message Id:",e.message.id,", retryCount",e.getRetryCount()))});let e=null;do{if(e=this.queue.peek(E.NOT_STARTED),null!=e){this.lastOutgoingMsgTime=c.a.getCurrentActualTime();const t=new b(e);this.inTransitMessages.send(t,this)&&(this.queue.updateQueueState(e.id,E.SENDING),a.b.infoWithNonPIIData(p.a.OUTGOING_TAG,"sending message Id:",t.message.id,", retryCount",t.getRetryCount()," message details(without PII data):",l.d.getMessageWithNonPIIData(e)))}}while(!this.inTransitMessages.isFull()&&null!=e)}else a.b.warnWithNonPIIData(p.a.OUTGOING_TAG,"can not send message as connection is not present, ensuring connection")},u.a.registerOnAuthenticationSuccess(this.onConnected),d.b.registerOnClose(this.onDisconnected),d.b.registerOnConnectionEvent(this.onConnectionUpdate),r.b.subscribe(i.b.OUTGOING_CHANNEL_QUEUE_SUCCESS,this.onItemRemovedFromQueue)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i,r=n(290),o=n(65),a=n(68),s=n(17),c=n(239),l=n(202);!function(e){e[e.All=0]="All",e[e.Sender=1]="Sender",e[e.Admin=2]="Admin"}(i||(i={}));var u=n(353);class d{constructor(){this.Title="",this.IsAnonymous=!1,this.Version=d.CURRENT_VERSION,this.Visibility=i.All,this.IsResponseAppended=!1,this.IsLocationRequested=!1,this.IsResponseEdit=!1,this.hasDependentQuestions=!1,this.Type=l.a.Survey,this.Questions=[],this.Properties=[],this.maxQuestionId=-1,this.isSurveyClosedByCreator=!1}static fromJSON(e){const t=new d;t.Id=e[s.a.ID],t.GroupId=e[s.a.GROUP_ID],t.CreatorId=e[s.a.CreatorID],t.Title=e[s.a.TITLE],t.IsAnonymous=e[s.a.ANONYMOUS],t.Version=e[s.a.VERSION],t.Expiry=e[s.a.EXPIRY],t.Type=a.a.surveyTypeFromNumber(parseInt(e[s.a.TYPE])),t.Visibility=e[s.a.RESULT_VISIBILITY],t.IsResponseAppended=e[s.a.IS_RESPONSE_APPENDED],t.IsResponseEdit=e[s.a.IS_RESPONSE_EDIT],t.IsLocationRequested=!!e.hasOwnProperty(s.a.IS_LOCATION_REQUESTED)&&e[s.a.IS_LOCATION_REQUESTED],t.hasDependentQuestions=!!e.hasOwnProperty(s.a.HAS_DEPENDENT_QUESTIONS)&&e[s.a.HAS_DEPENDENT_QUESTIONS],t.packageId=e.hasOwnProperty(s.a.SURVEY_PACKAGE_ID)?e[s.a.SURVEY_PACKAGE_ID]:null;const n=e[s.a.QUESTIONS];for(let e=0;e<n.length;e++){n[e][s.a.TYPE]==o.a.SingleSelect||n[e][s.a.TYPE]==o.a.MultiSelect||n[e][s.a.TYPE]==o.a.SingleSelectExternal?t.Questions.push(c.a.fromJSON(n[e])):t.Questions.push(r.a.fromJSON(n[e]));const i=t.Questions[e].getId();i>t.maxQuestionId&&(t.maxQuestionId=i)}const i=e[s.a.SURVEY_METADATA];if(i)for(const e of i)t.Properties.push(u.a.fromJSON(e));return t.isSurveyClosedByCreator=e[s.a.SURVEY_CLOSED_BY_CREATOR],t}toJSON(){const e=JSON.parse("{}");e[s.a.ID]=this.Id,e[s.a.GROUP_ID]=this.GroupId,e[s.a.CreatorID]=this.CreatorId,e[s.a.TITLE]=this.Title,e[s.a.ANONYMOUS]=this.IsAnonymous,e[s.a.EXPIRY]=this.Expiry,e[s.a.TYPE]=this.Type,e[s.a.VERSION]=this.Version,e[s.a.RESULT_VISIBILITY]=this.Visibility,e[s.a.IS_RESPONSE_APPENDED]=this.IsResponseAppended,e[s.a.IS_RESPONSE_EDIT]=this.IsResponseEdit,e[s.a.IS_LOCATION_REQUESTED]=this.IsLocationRequested,e[s.a.HAS_DEPENDENT_QUESTIONS]=this.hasDependentQuestions,e[s.a.SURVEY_PACKAGE_ID]=this.packageId;const t=[];for(const e of this.Questions)t.push(e.toJSON());e[s.a.QUESTIONS]=t;const n=[];for(const e of this.Properties)n.push(e.toJSON());return e[s.a.SURVEY_METADATA]=n,e[s.a.SURVEY_CLOSED_BY_CREATOR]=this.isSurveyClosedByCreator,e}getNextQuestionId(){return this.maxQuestionId++,this.maxQuestionId}setMaxQuestionId(e){this.maxQuestionId=e}getVersion(){return this.Version}getOptionQuestions(){const e=[];for(const t of this.Questions)t instanceof c.a&&e.push(t);return e}getQuestionType(e){for(const t of this.Questions)if(t.getId()==e)return t.getQuestionType();return o.a.SingleSelect}deleteQuestion(e){this.Questions.splice(e,1)}getSurveyProperty(e){for(const t of this.Properties)if(t.getName()==e)return t;return null}getVisibleQuestions(){const e=[];for(const t of this.Questions)t.isInvisible()||e.push(t);return e}}d.CURRENT_VERSION=2},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Unspecified=0]="Unspecified",e[e.String=1]="String",e[e.Int64=2]="Int64",e[e.Double=3]="Double",e[e.Boolean=4]="Boolean",e[e.Date=5]="Date"}(t.AWTPropertyType||(t.AWTPropertyType={})),function(e){e[e.NotSet=0]="NotSet",e[e.DistinguishedName=1]="DistinguishedName",e[e.GenericData=2]="GenericData",e[e.IPV4Address=3]="IPV4Address",e[e.IPv6Address=4]="IPv6Address",e[e.MailSubject=5]="MailSubject",e[e.PhoneNumber=6]="PhoneNumber",e[e.QueryString=7]="QueryString",e[e.SipAddress=8]="SipAddress",e[e.SmtpAddress=9]="SmtpAddress",e[e.Identity=10]="Identity",e[e.Uri=11]="Uri",e[e.Fqdn=12]="Fqdn",e[e.IPV4AddressLegacy=13]="IPV4AddressLegacy"}(t.AWTPiiKind||(t.AWTPiiKind={})),function(e){e[e.NotSet=0]="NotSet",e[e.GenericContent=1]="GenericContent"}(t.AWTCustomerContentKind||(t.AWTCustomerContentKind={})),function(e){e[e.Low=1]="Low",e[e.Normal=2]="Normal",e[e.High=3]="High",e[e.Immediate_sync=5]="Immediate_sync"}(t.AWTEventPriority||(t.AWTEventPriority={})),function(e){e[e.NonRetryableStatus=1]="NonRetryableStatus",e[e.QueueFull=3]="QueueFull",e[e.MaxRetryLimit=4]="MaxRetryLimit"}(t.AWTEventsDroppedReason||(t.AWTEventsDroppedReason={})),function(e){e[e.InvalidEvent=1]="InvalidEvent",e[e.SizeLimitExceeded=2]="SizeLimitExceeded",e[e.KillSwitch=3]="KillSwitch"}(t.AWTEventsRejectedReason||(t.AWTEventsRejectedReason={}))},,function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n(495),r=n.n(i),o=n(181),a=n.n(o),s=n(132),c=n.n(s),l=n(389),u=n.n(l),d=n(496),p=n.n(d),h=n(392),f=n.n(h),g=n(164),m=n.n(g),E=n(497),_=n.n(E),S=n(390),T=n.n(S),v=n(313),I=n.n(v);class b{constructor(e,t){this.name=e,this.maxCount=t,this.setupCache()}get(e){if(this.has(e)){const t=this.cache[e];return t.obj||(t.obj=JSON.parse(localStorage.getItem(this.getObjectKey(t.objNo)))),this.updateMetaEntry(t),t.obj}return null}put(e,t){if(this.has(e)){const n=this.cache[e];n.obj=t,this.updateObjectEntry(n),this.updateMetaEntry(n)}else{const n={id:e,timestamp:0,objNo:this.getNextObjNo(),obj:t};this.cache[e]=n,this.updateObjectEntry(n),this.updateMetaEntry(n),this.count++,this.checkSize()}}remove(e){if(this.has(e)){const t=this.cache[e];this.deleteStoreEntry(t),delete this.cache[e],this.count--}}has(e){return a()(this.cache,e)}purge(){u()(this.cache,e=>{this.deleteStoreEntry(e)}),this.cache={},this.count=0}size(){return this.count}checkSize(){this.count>this.maxCount&&this.compact()}compact(){const e=p()(b.COMPACTION_FACTOR*this.maxCount),t=f()(m()(this.cache),["timestamp"]);c()(r()(t,e),e=>{this.remove(e.id)})}setupCache(){this.cache={},this.count=0;const e=localStorage.length,t=this.getMetaKey("");for(let n=0;n<e;n++){const e=localStorage.key(n);if(_()(e,t)){const n=e.substr(t.length),i=this.getMetaKey(n),r=JSON.parse(localStorage.getItem(i)),o={id:n,timestamp:r[0],objNo:r[1],obj:null};this.cache[n]=o,this.count++}}}deleteStoreEntry(e){localStorage.removeItem(this.getMetaKey(e.id)),localStorage.removeItem(this.getObjectKey(e.objNo))}updateObjectEntry(e){localStorage.setItem(this.getObjectKey(e.objNo),JSON.stringify(e.obj))}updateMetaEntry(e){e.timestamp=T()(),localStorage.setItem(this.getMetaKey(e.id),JSON.stringify([e.timestamp,e.objNo]))}getNextObjNo(){const e=this.getNextObjNoKey(),t=localStorage.getItem(e);let n=t?I()(t):-1;return n++,localStorage.setItem(e,n.toString()),n}getNextObjNoKey(){return`l/${this.name}/n`}getMetaKey(e){return`l/${this.name}/m/${e}`}getObjectKey(e){return`l/${this.name}/o/${e.toString()}`}}b.COMPACTION_FACTOR=.7},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(135),r=n(284),o=n(266),a=n(198),s=n(230),c=n(160),l=n(241),u=function(e){function t(n,i,r){var a=e.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=o.a;break;case 1:if(!n){a.destination=o.a;break}if("object"==typeof n){n instanceof t?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new d(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new d(a,n,i,r)}return a}return i.a(t,e),t.prototype[s.a]=function(){return this},t.create=function(e,n,i){var r=new t(e,n,i);return r.syncErrorThrowable=!1,r},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(a.a),d=function(e){function t(t,n,i,a){var s,c=e.call(this)||this;c._parentSubscriber=t;var l=c;return Object(r.a)(n)?s=n:n&&(s=n.next,i=n.error,a=n.complete,n!==o.a&&(l=Object.create(n),Object(r.a)(l.unsubscribe)&&c.add(l.unsubscribe.bind(l)),l.unsubscribe=c.unsubscribe.bind(c))),c._context=l,c._next=s,c._error=i,c._complete=a,c}return i.a(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;c.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=c.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(l.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(l.a)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};c.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),c.a.useDeprecatedSynchronousErrorHandling)throw e;Object(l.a)(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!c.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return c.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(Object(l.a)(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(u)},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(25),r=n(53),o=n(210),a=n(29);class s{static getETag(e){return this.eTags.get(e)}}s.eTags=new Map;class c{static build(e){const t=e.paths.map(e=>class{static getPath(e){switch(e.rt){case a.f.SUBSCRIBE:{const t=s.getETag({path:e.path,variables:e.variables});return new a.i(e.path,e.variables,t,e.preFetch)}case a.f.UNSUBSCRIBE:return new a.j(e.path,e.variables,e.preFetch);case a.f.QUERY:{const t=s.getETag({path:e.path,variables:e.variables});return new a.g(e.path,e.variables,t)}default:return new a.e(e.path,e.rt,e.variables)}}}.getPath(e)),n=o.a.next().value,c=r.a.getCurrentActualTime(),l=i.c.getWebId(),u=new a.a(t);return new a.d(n,c,e.sessionId,l||"",u,e.paths[0].rt,e.ir)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(0),r=n(4),o=n(11),a=n(16),s=n(107);class c extends i.Component{constructor(){super(...arguments),this.buttonRef=null,this.onClick=e=>{e.preventDefault(),r.b.infoWithNonPIIData("ButtonView","Button is clicked with id: ",this.props.id),o.e.recordEvent(o.c.BUTTON_CLICKED,{ELEMENT_ID:this.props.id}),this.props.onClick(e)},this.setButtonRef=e=>{this.buttonRef=e}}shouldComponentUpdate(e){return!Object(s.a)(this.props,e)}componentDidMount(){this.props.autoFocus&&this.buttonRef&&this.buttonRef.focus()}render(){return i.createElement("div",Object.assign({"aria-label":this.props.buttonText,className:"alert-dialog-button "+(this.props.rectangularButton?"alert-dialog-button-rect ":"")+(this.props.className?this.props.className:""),id:this.props.id,onClick:this.onClick,ref:this.setButtonRef,"aria-disabled":this.props.isDisabled},Object(a.f)(this.onClick),{style:{minWidth:this.props.buttonWidth,margin:this.props.buttonMargin,fontSize:this.props.buttonFontSize,padding:this.props.buttonPadding}}),this.props.buttonText)}}c.defaultProps={isDisabled:!1}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));class i{}var r;!function(e){e[e.READY=0]="READY",e[e.SERVER_ACK_RECEIVED=1]="SERVER_ACK_RECEIVED",e[e.DEVICE_RESPONSE_RECEIVED=2]="DEVICE_RESPONSE_RECEIVED"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(3),r=n(0),o=n(1);class a{static show(e){const t={getAnchor:e.getAnchoredRef.bind(this),renderPopup:(t,n,i,r)=>this.getDialogView(e,t,n,i,r),positionPriorities:[e.dialogPosition],dismissIfShown:e.shouldToggleOnClick,useInnerPositioning:!!e.useInnerPositioning&&e.useInnerPositioning,onDismiss:()=>{e.hasOwnProperty("onDismiss")&&e.onDismiss()},onAnchorPressed:t=>{e.hasOwnProperty("onAnchorPressed")&&e.onAnchorPressed()}};i.Popup.show(t,e.id,e.delayInShow?e.delayInShow:0)}static dismiss(e){i.Popup.dismiss(e)}static getDialogView(e,t,n,a,s){const c=i.Styles.createViewStyle({width:e.width,height:e.height,backgroundColor:"transparent",flex:1,shadowColor:e.shadowColor?e.shadowColor:"black",shadowRadius:e.shadowRadius?e.shadowRadius:0,shadowOffset:e.shadowOffset?e.shadowOffset:{width:0,height:0},borderRadius:e.borderRadius?e.borderRadius:0,marginRight:e.marginRight?e.marginRight:0,marginBottom:e.marginBottom?e.marginBottom:0,marginLeft:e.marginLeft?e.marginLeft:0,marginTop:e.marginTop?e.marginTop:0});return r.createElement("div",{dir:Object(o.getLocaleDirection)()},r.createElement(i.View,{style:c},e.getDialogContent()))}}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e,t){return null!=e&&n.call(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a}));var i=n(49);const r=[i.a.ANNOUNCEMENT_PACKAGE_ID,i.a.OOB_JOB_PACKAGE_ID,i.a.OOB_MEETING_PACKAGE_ID,i.a.OOB_POLL_PACKAGE_ID,i.a.SHARE_PHOTO_WITH_LOCATION_PACKAGE_ID,i.a.SURVEY_PACKAGE_ID,i.a.LIVE_TRACK_PACKAGE_ID,i.a.LOCATION_REQUEST_PACKAGE_ID,i.a.SUBMIT_BILL_PACKAGE_ID,i.a.SHARE_LOCATION_PACKAGE_ID,i.a.TIC_TAC_TOE_PACKAGE_ID,i.a.LIVE_SHARE_PACKAGE_ID,i.a.PAYMENTS_PACKAGE_ID,i.a.INVITE_TO_PAYMENTS_PACKAGE_ID,i.a.INFO_ACTION_DEFAULT_PACKAGE_ID];function o(e){switch(e){case i.a.SHARE_PHOTO_WITH_LOCATION_PACKAGE_ID:return"/SharePhotoWithLocation";case i.a.ANNOUNCEMENT_PACKAGE_ID:return"/Announcement";case i.a.LIVE_TRACK_PACKAGE_ID:return"/LiveTrack";case i.a.LIVE_SHARE_PACKAGE_ID:return"/ShareLive";case i.a.SUBMIT_BILL_PACKAGE_ID:return"/SubmitBill";case i.a.LOCATION_REQUEST_PACKAGE_ID:return"/LocationRequest";case i.a.SHARE_LOCATION_PACKAGE_ID:return"/ShareLocation";case i.a.SURVEY_PACKAGE_ID:return"/Survey";case i.a.OOB_JOB_PACKAGE_ID:return"/JobV2";case i.a.OOB_POLL_PACKAGE_ID:return"/Poll";case i.a.OOB_MEETING_PACKAGE_ID:return"/Meet";case i.a.TIC_TAC_TOE_PACKAGE_ID:return"/TicTacToe";case i.a.PAYMENTS_PACKAGE_ID:return"/Payments";case i.a.INVITE_TO_PAYMENTS_PACKAGE_ID:return"/InviteToPayment";case i.a.INFO_ACTION_DEFAULT_PACKAGE_ID:return"/InfoActionDefault";default:return""}}function a(e){return!!e&&-1!=r.findIndex(t=>t===e)}},function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),function(e){e[e.SURVEY_SUMMARY=0]="SURVEY_SUMMARY"}(i||(i={}));class r{constructor(){this.DURATION_CONSECUTIVE_CLIENT_FETCH=1e4,this.ongoingFetch=new Set,this.fetchStartTimeMap=new Map}fetchInitiated(e){this.ongoingFetch.add(e),this.fetchStartTimeMap.set(e,Date.now())}fetchCompleted(e){this.ongoingFetch.delete(e)}shouldInitiateFetch(e){return!this.isFetching(e)&&this.hasTimeElapsedSinceLastFetch(e)}isFetching(e){return this.ongoingFetch.has(e)}hasTimeElapsedSinceLastFetch(e){const t=Date.now();return!this.fetchStartTimeMap.has(e)||t-this.fetchStartTimeMap.get(e)>=this.DURATION_CONSECUTIVE_CLIENT_FETCH}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var i=n(60),r=n(33);const o=(e,t,n,o)=>(n&&clearTimeout(n),o>0?setTimeout(e.dispatch,o,i.c.updateNotification(t,r.b.OVERLAY)):(e.dispatch(i.c.addNotification(t,r.b.OVERLAY)),null)),a=(e,t,n)=>{const i=Object.assign({},r.h.loaderNotification,{id:t,title:n});o(e,i);const a=Object.assign({},r.h.errorNotification,{id:t});return o(e,a,null,r.g.LOADER_ACTIVE_TIMEOUT)};class s{constructor(e){this.viewId=e.notificationId+(new Date).getTime(),this.store=e.store}showLoader(e){this.notificationTimer=a(this.store,this.viewId,e)}showSuccess(e){const t=Object.assign({},r.h.successNotification,{id:this.viewId,title:e});o(this.store,t,this.notificationTimer)}showGenericError(){const e=Object.assign({},r.h.errorNotification,{id:this.viewId});o(this.store,e,this.notificationTimer)}showSpecificError(e){const t=Object.assign({},r.h.errorNotification,{id:this.viewId,title:e});o(this.store,t,this.notificationTimer)}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var i=n(99),r=n(53),o=n(12),a=n(62),s=n(1);class c{constructor(e,t,n,i=null){this.ac=e,this.spu=i,this.localFileObj=t,this.localFilePath=n,this.asb=t?t.size/1e3:null,this.afn=t?t.name:null,this.id=null}serialize(){return{ac:this.ac,spu:this.spu,asb:this.asb,afn:this.afn,id:this.id,localFileObj:this.localFileObj,localFilePath:this.localFilePath}}}class l extends i.a{constructor(e){super(e),this.getLocalPathsToUpload=()=>{const e=[];return this.imageItems.forEach(t=>{e.push(t.localFilePath)}),e},this.getLocalFileForPath=e=>{for(const t of this.imageItems)if(e===t.localFilePath)return t.localFileObj},this.onFileUploaded=(e,t)=>{for(const n of this.imageItems)if(e===n.localFilePath)return void(n.spu=t)}}static create(e,t,n,i,s){const c={content:s,conversationId:t,flags:255,from:n,id:e,isReceiveMimicked:!1,mp:"",srt:0,timestamp:r.a.getCurrentActualTime(),to:i,type:o.h.GENERIC_MESSAGE,version:3,messageState:a.a.UNSYNCED_TO_DEVICE,contentHeader:{msgSubType:o.g.SYSTEM_ALBUM_ATTACHMENT}};return new l(c)}getConversationId(){return this.getHostConversationId()}getReplyToContent(){const e=super.getReplyToContent(),t=this.getMessageTitleOrType();return Object.assign({},e,{mp:t,spu:this.imageItems[0].spu})}serializeMessageContentForServer(){const e=super.serializeMessageContentForServer(),t=[];return this.imageItems.forEach(e=>{t.push(e.serialize())}),Object.assign({},e,{il:t,t:this.coverThumbnail,ac:this.caption})}getCaption(){return this.caption}getMessageTitle(){return s.getString("AlbumCardTitle")}getMessageTitleOrType(){let e=this.getMessageTitle();return this.getCaption()&&(e=e+" - "+this.getCaption()),e}toRawContent(){const e=super.toRawContent(),t=[];return this.imageItems.forEach(e=>{t.push(e.serialize())}),Object.assign({},e,{il:t,t:this.coverThumbnail,ac:this.caption})}deSerializeMessageSpecificContent(e){this.imageItems=e.content.il?e.content.il:null,this.caption=e.content.ac?e.content.ac:null,this.coverThumbnail=e.content.t?e.content.t:null}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n(0),r=n(3),o=(n(310),n(1)),a=n(63),s=n(16),c=n(52),l=n(57),u=n(35),d=n(107);class p extends r.Component{constructor(e){super(e),this.MAX_SUPPORTED_FILE_SIZE_BYTES=5e7,this.attachmentSizeExceedDlgId="attachmentSizeExceedDlgId",this.isFileSelected=!1,this.onMiniAppFocusChanged=e=>{const t=e.payload;setTimeout(()=>{t.hasFocus&&this.isFileOpenDialogOpen&&this.props.onCancel&&this.props.onCancel()},500)},this.onViewClicked=()=>{!this.props.disabled&&this.inputRef&&this.inputRef.click()},this.getInnerImage=()=>{if(this.props.innerImageSourceUrl)return i.createElement(r.Image,{source:this.props.imgSource,style:[this.props.innerImageStyle],resizeMode:"contain"})},this.getAccessibilityPropsForInputControl=()=>this.props.disabled?{}:Object(s.f)(this.onViewClicked),this.setInputRef=e=>{this.inputRef=e},this.onFileSelected=e=>{this.isFileOpenDialogOpen=!1;const t=e.currentTarget.files,n=[];if(this.props.onFileSelected&&t&&t.length>0){if(this.props.allowMultiple&&this.props.maxNumberOfFiles&&this.props.maxNumberOfFiles<t.length)return void Object(a.c)({id:this.attachmentSizeExceedDlgId,title:Object(o.getString)("AttachmentCountExceededTitle"),message:u.a.format(Object(o.getString)("AttachmentCountExceededMessage"),this.props.maxNumberOfFiles.toString()),acceptButtonText:Object(o.getString)("OkButtonText")});for(let e=0;e<t.length;e++){const i=t[e];if(n.push(i.name),i.size>this.MAX_SUPPORTED_FILE_SIZE_BYTES)return void Object(a.c)({id:this.attachmentSizeExceedDlgId,title:Object(o.getString)("AttachmentSizeExceededTitle"),message:Object(o.getString)("AttachmentSizeExceededMessage"),acceptButtonText:Object(o.getString)("OkButtonText")})}this.props.onFileSelected(this.props.id,new h(t,n))}},this.onClick=e=>{this.isFileOpenDialogOpen||(this.isFileOpenDialogOpen=!0),this.props.onClick&&this.props.onClick()},this.isFileOpenDialogOpen=!1,this.onFileSelected=this.onFileSelected.bind(this),c.b.subscribe(l.b.IFRAME_FOCUS_CHANGED,this.onMiniAppFocusChanged)}shouldComponentUpdate(e){return!this.isFileOpenDialogOpen&&!Object(d.a)(this.props,e)}render(){const e=r.Styles.createImageStyle({width:this.props.width,height:this.props.height,opacity:this.props.disabled?.2:1,borderRadius:this.props.borderRadius?this.props.borderRadius:0}),t=r.Styles.createViewStyle({justifyContent:"center",flexDirection:this.props.shouldCaptionBeInline?"row":"column",alignItems:"center"}),n=r.Styles.createTextStyle({marginBottom:2,marginLeft:2,marginRight:2,marginTop:this.props.captionStyle&&this.props.captionStyle.marginTop?this.props.captionStyle.marginTop:2,textAlign:"center",color:this.props.color?this.props.color:"black",opacity:this.props.disabled?.2:1});let o=this.props.disabled?"":"tappable-icon webapp-box";o="groupPicture"===this.props.id?"group-photo-selector":o;const a=this.props.accessibilityLabel?this.props.accessibilityLabel:this.props.caption;return i.createElement(r.View,null,i.createElement("label",Object.assign({id:"File-Input-Control-Label",className:o,htmlFor:this.props.id,"aria-label":a},this.getAccessibilityPropsForInputControl()),i.createElement(r.View,{style:[t,this.props.ViewStyle]},i.createElement(r.Image,{source:this.props.imgSource,style:[e],resizeMode:"cover"}),this.getInnerImage(),i.createElement(r.Text,{style:[n,this.props.fontStyle,this.props.captionStyle],numberOfLines:this.props.maxNumOfLines?this.props.maxNumOfLines:0},this.props.caption))),i.createElement("input",{id:this.props.id,type:"file",accept:this.props.selectionType,onChange:this.onFileSelected,className:"display-none",ref:this.setInputRef,onClick:this.onClick,disabled:this.props.disabled,multiple:!!this.props.allowMultiple}))}componentDidMount(){this.props.autoOpenPickerDialog&&this.inputRef.click()}componentDidUpdate(){this.props.autoOpenPickerDialog&&this.inputRef.click()}}class h{constructor(e,t){this.files=e,this.selectedFilesLocalUri=t}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));class i{constructor(e,t){this.marker=e,this.markerPayload=t}}class r{constructor(e,t,n){this.metricName=e,this.metricValue=t,this.metricPayload=n}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var i=n(0),r=n(3),o=n(207),a=n.n(o),s=n(2),c=n(1),l=n(4),u=n(261),d=n(8),p=n(9),h=n(191),f=n(51),g=n(48),m=n(49),E=n(235),_=n(71),S=n(50),T=n(187),v=n(74),I=n(5);const b={segmentHeaderStyle:Object.assign({letterSpacing:2,color:Object(I.a)().textQuaternaryColor},d.a.SmallTextStyle,{maxHeight:18,overflow:"visible"}),paletteContainerStyle:r.Styles.createViewStyle({paddingTop:s.a.PADDING_24,backgroundColor:Object(I.a)().backgroundColor15}),managedPaletteIndicatorStyle:Object.assign({color:Object(I.a)().textQuaternaryColor,padding:"5px 5px 5px 0px",borderRadius:4,margin:"4px 4px 4px 0px"},d.a.SmallTextStyle),ActionSegmentStyle:r.Styles.createViewStyle({overflow:"visible",paddingLeft:s.a.PADDING_24,backgroundColor:Object(I.a)().backgroundColor15}),AttachmentSegmentStyle:r.Styles.createViewStyle({flex:1,overflow:"visible",paddingLeft:s.a.PADDING_24,backgroundColor:Object(I.a)().backgroundColor14}),separatorStyle:r.Styles.createViewStyle({height:s.a.SEPARATOR_HEIGHT,backgroundColor:Object(I.a)().separatorColor2}),pinnedActionSingleRowStyle:r.Styles.createViewStyle({width:s.a.PALETTE_ELEMENT_WIDTH,height:s.a.PALETTE_ACTION_ELEMENT_HEIGHT,marginLeft:s.a.MARGIN_6,marginRight:s.a.MARGIN_6}),actionsCaptionStyle:r.Styles.createTextStyle({color:Object(I.a)().textQuaternaryColor})};class y extends _.b{constructor(e){super(e),this.row1=new Array,this.row2=new Array,this.numOfRowInActionSegment=0,this.enabledAttachments=S.b.filter(e=>!e.isDisableInPalette),this.getContentView=()=>{if(this.initRows(this.props),!this.props.shouldShowActionsInPalette&&!this.props.shouldShowAttachmentInPalette)return null;const e=this.props.paletteHeight?{height:this.props.paletteHeight}:{};return i.createElement("div",{ref:this.getNodeRef},i.createElement(r.View,{style:b.separatorStyle}),i.createElement(r.View,{style:[b.paletteContainerStyle,e]},this.getActionViewSegment(),this.getAttachmentViewSegment()))},this.renderPinnedAction=e=>{let t;t=this.row1[e].miniAppIconB64String?this.getBase64ImageSource(this.row1[e].miniAppIconB64String):this.row1[e].miniAppPackagePath?this.row1[e].miniAppPackagePath+"/"+this.row1[e].miniAppIcon:this.getIconPath(this.row1[e].miniAppIcon);const n=Object.assign({},this.paletteElementProps,{source:t,paddingTop:2,paddingBottom:2,caption:this.row1[e].miniAppTitle,id:this.row1[e].id,captionStyle:b.actionsCaptionStyle,onClick:y.notifySubscribers(A.onActionDataReady)});if(this.row2){let t;t=this.row2[e].miniAppIconB64String?this.getBase64ImageSource(this.row2[e].miniAppIconB64String):this.row2[e].miniAppPackagePath?this.row2[e].miniAppPackagePath+"/"+this.row2[e].miniAppIcon:this.getIconPath(this.row2[e].miniAppIcon);const o=Object.assign({},this.paletteElementProps,{source:t,paddingTop:2,paddingBottom:2,caption:this.row2[e].miniAppTitle,id:this.row2[e].id,captionStyle:b.actionsCaptionStyle,onClick:y.notifySubscribers(A.onActionDataReady)});return i.createElement(r.View,{key:this.row1[e].id,style:{width:s.a.PALETTE_ELEMENT_WIDTH}},i.createElement(r.View,{style:{height:s.a.PALETTE_ACTION_ELEMENT_HEIGHT}},i.createElement(f.a,Object.assign({},n))),i.createElement(r.View,{style:{height:s.a.PALETTE_ACTION_ELEMENT_HEIGHT}},i.createElement(f.a,Object.assign({},o))))}return i.createElement(r.View,{key:this.row1[e].id,style:b.pinnedActionSingleRowStyle},i.createElement(f.a,Object.assign({},n)))},this.isAttachmentDisabled=e=>e===S.a.ContactCard,this.paletteElementProps={height:s.a.PALETTE_ELEMENT_ICON_SIZE,width:s.a.PALETTE_ELEMENT_ICON_SIZE,fontStyle:d.a.DescriptionTextStyle,color:Object(I.a)().textQuaternaryColor,distanceInCaptionAndIcon:s.a.MARGIN_4,maxNumOfLines:2,captionMaxLength:s.a.PALETTE_ELEMENT_CAPTION_MAX_WIDTH}}static getNumberOfRowsForInPaletteMiniApp(e,t){const n=e*s.a.PALETTE_ELEMENT_WIDTH+s.a.MARGIN_16;return l.b.infoWithNonPIIData("PaletteView","requiredWidth: ",n,"paletteWidth",t),t>=n?1:2}static subscribe(e){y.subscribers.push(e)}static unsubscribe(e){a()(y.subscribers,t=>t==e)}static getPaletteHeight(e,t,n,i,r){let o=0;if(i||n||(o=s.a.PALETTE_NO_ACTION_ROW_HEIGHT),o=s.a.PALETTE_SEGMENT_PADDING,n&&(o+=s.a.PALETTE_ATTACHMENT_ELEMENT_HEIGHT+s.a.PALETTE_SEGMENT_HEADER_HEIGHT+2*s.a.PALETTE_SEGMENT_PADDING),i)if(o+=s.a.PALETTE_SEGMENT_HEADER_HEIGHT,r&&(o+=s.a.MANAGAED_PALETTE_INDICATOR_HEIGHT),t>0){o+=y.getNumberOfRowsForInPaletteMiniApp(t,e)*s.a.PALETTE_ACTION_ELEMENT_HEIGHT+2*s.a.PALETTE_SEGMENT_PADDING}else o+=s.a.MANAGAED_PALETTE_INDICATOR_HEIGHT;return o}componentDidMount(){document.addEventListener("click",this.onClickOutside,!1),document.addEventListener("keydown",this.handleKeyDown,!1),this.props.pinnedPackageIdsCount===this.props.pinnedActions.length&&g.c.recordEnd(null,null,{MOUNT:!0,IS_SUCCESS:this.props.pinnedPackageIdsCount===this.props.pinnedActions.length})}componentDidUpdate(){this.props.pinnedPackageIdsCount===this.props.pinnedActions.length&&g.c.recordEnd(null,null,{IS_SUCCESS:this.props.pinnedPackageIdsCount===this.props.pinnedActions.length})}componentWillUnmount(){document.removeEventListener("click",this.onClickOutside,!1),document.removeEventListener("keydown",this.handleKeyDown,!1),g.c.recordEnd(null,null,{UN_MOUNT:!0,IS_SUCCESS:this.props.pinnedPackageIdsCount===this.props.pinnedActions.length})}getActionViewSegment(){if(!this.props.shouldShowActionsInPalette||!this.props.pinnedActions)return null;const e=this.numOfRowInActionSegment*s.a.PALETTE_ACTION_ELEMENT_HEIGHT+48,t={height:e,onScroll:()=>{},renderItem:this.renderPinnedAction.bind(this),itemCount:this.row1.length,onScrollHeightChange:()=>{},scrollDirection:"horizontal",paddingEnd:s.a.PALETTE_SEGMENT_PADDING,paddingStart:s.a.PALETTE_SEGMENT_PADDING};return i.createElement(r.View,{style:b.ActionSegmentStyle},i.createElement(p.a,{style:b.segmentHeaderStyle,text:c.getString("ActionSegmentTitle").toLocaleUpperCase()}),this.getManagedPaletteIndicator(),this.props.pinnedPackageIdsCount!==this.props.pinnedActions.length?this.getActionLoadingActivity(e):0!==this.props.pinnedActions.length?i.createElement(E.a,Object.assign({},t)):this.getNoSupportedActionsPaletteIndicator())}initRows(e){if(0==this.props.pinnedPackageIdsCount)return this.numOfRowInActionSegment=0,this.row1=this.props.pinnedActions,void(this.row2=null);if(this.numOfRowInActionSegment=y.getNumberOfRowsForInPaletteMiniApp(this.props.pinnedPackageIdsCount,e.paletteWidth),2===this.numOfRowInActionSegment){this.row1=new Array,this.row2=new Array;let e=!0;if(this.props.pinnedActions.forEach(t=>{e?(this.row1.push(t),e=!1):(this.row2.push(t),e=!0)}),this.row1.length>this.row2.length){const e={id:"",miniAppTitle:"",miniAppIcon:""};this.row2.push(e)}}else this.row1=this.props.pinnedActions,this.row2=null}renderAttachmentOption(e){const t=this.enabledAttachments[e];if(null!=t.selectionType){const n=Object.assign({},this.paletteElementProps,{imgSource:Object(S.g)(this.enabledAttachments[e].id),allowMultiple:!!this.props.enablePhotoMultiSelect&&this.enabledAttachments[e].allowMultiple,caption:c.getString(this.enabledAttachments[e].nameKey),id:this.enabledAttachments[e].id+y.PaletteActionSuffix,selectionType:this.enabledAttachments[e].selectionType,onFileSelected:y.notifySubscribers(A.onAttachmentDataReady),disabled:this.isAttachmentDisabled(this.enabledAttachments[e].type),maxNumberOfFiles:this.enabledAttachments[e].maxNumberOfFiles});return i.createElement(r.View,{id:t.nameKey,key:t.id+t.nameKey,style:{width:s.a.PALETTE_ELEMENT_WIDTH}},i.createElement(T.a,Object.assign({key:t.id+y.PaletteActionSuffix},n)))}{const n=Object.assign({},this.paletteElementProps,{source:Object(S.g)(this.enabledAttachments[e].id),caption:c.getString(this.enabledAttachments[e].nameKey),onClick:u.a,disabled:this.isAttachmentDisabled(this.enabledAttachments[e].type)});return i.createElement(r.View,{key:t.id+t.nameKey,style:{width:s.a.PALETTE_ELEMENT_WIDTH}},i.createElement(f.a,Object.assign({key:t.id},n)))}}getAttachmentViewSegment(){if(!this.props.shouldShowAttachmentInPalette)return null;const e={height:s.a.PALETTE_ATTACHMENT_ELEMENT_HEIGHT+2*s.a.PALETTE_SEGMENT_PADDING,onScroll:()=>{},renderItem:this.renderAttachmentOption.bind(this),itemCount:this.enabledAttachments.length,onScrollHeightChange:()=>{},scrollDirection:"horizontal",paddingEnd:s.a.PALETTE_SEGMENT_PADDING,paddingStart:s.a.PALETTE_SEGMENT_PADDING};return i.createElement(r.View,{style:b.AttachmentSegmentStyle},i.createElement(E.a,Object.assign({},e)))}getActionLoadingActivity(e){return i.createElement(r.View,{style:{height:e,paddingLeft:s.a.PALETTE_SEGMENT_PADDING,justifyContent:"center"}},v.a.getSmallLoadingUI())}getManagedPaletteIndicator(){return this.props.isPaletteManaged?i.createElement(p.a,{style:b.managedPaletteIndicatorStyle,text:this.props.pinnedActions&&1==this.props.pinnedActions.length&&this.props.pinnedActions[0].id==m.a.INFO_ACTION_DEFAULT_PACKAGE_ID?c.getString("NoActionsSetPaletteIndicatorText"):c.getString("ManagedPaletteIndicatorText")}):null}getNoSupportedActionsPaletteIndicator(){return i.createElement(p.a,{style:b.managedPaletteIndicatorStyle,text:c.getString("NoSupportedActionsIndicatorText")})}getBase64ImageSource(e){return"data:image/bmp;base64,"+e}getIconPath(e){return e?Object(h.a)()+"web-app-images/discover/"+e+".png":null}}y.PaletteActionSuffix="_palette",y.subscribers=[],y.notifySubscribers=e=>(t,n)=>{for(const i of y.subscribers)switch(e){case A.onAttachmentDataReady:i.onAttachmentDataReady(new C(t,n)),i.onOptionClick();break;case A.onActionDataReady:i.onActionDataReady(t),i.onOptionClick()}};class C{constructor(e,t){this.actionId=e,this.payload=t}}var A;!function(e){e.onOptionClick="onOptionClick",e.onActionDataReady="onActionDataReady",e.onAttachmentDataReady="onAttachmentDataReady"}(A||(A={}))},,function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));var i=n(20),r=n(4),o=n(25),a=n(11),s=n(43),c=n(138);const l=()=>{window.onerror=(e,t,n,i,o)=>{if(!o)return!1;e||(e=o.message);const a={MESSAGE:s.a.stringify(e),SOURCE:t,SUFFIX:s.a.stringify({line_number:n,column_number:i}),NAME:o.name,ERROR_MESSAGE:s.a.stringify(o.stack)};return r.b.errorWithNonPIIData("window.onerror",a),!1};const e=()=>{setTimeout(t,1e3)},t=()=>{window.performance&&window.performance.timing&&0===window.performance.timing.loadEventEnd&&e();const t={TAG:"recordPageLoadTelemetry",NAME:o.c.isUserAuthenticated()?"APP_VIEW_PAGE":"AUTH_VIEW_PAGE",ELAPSED_TIME:window.performance&&window.performance.timing?window.performance.timing.loadEventEnd-window.performance.timing.navigationStart:-1,SUFFIX:window.performance?s.a.stringify(window.performance.timing):"na",NAVIGATION:window.performance&&window.performance.navigation?window.performance.navigation.type:"na"};a.e.recordEvent(a.c.PAGE_LOAD,t)};window.onload=t=>{const n=c.b.exists(c.a);r.b.infoWithNonPIIData("window.onload event received, web app js available:",n),n||c.b.downloadScript(c.a),o.c.setBrowserSessionId(),e()}},u=()=>i.isDesktop?"./":"/"},function(e,t,n){var i=n(433),r=n(274),o=n(374),a=n(142),s=n(248),c=n(300),l=n(369),u=n(372),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||u(e)||o(e)))return!e.length;var t=r(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(l(e))return!i(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(108),r=n(99),o=n(199);class a extends r.a{constructor(e){super(e),this.getLocalPathsToUpload=()=>{const e=[];return e.push(this.localFilePath),e},this.getLocalFileForPath=e=>e===this.localFilePath?this.localFileObj:null,this.onFileUploaded=(e,t)=>{e===this.localFilePath&&(this.attachmentServerPath=t)},this.getConversationId=()=>Object(i.b)(this.rawMessage)}getReplyToContent(){const e=super.getReplyToContent();return Object.assign({},e,{mp:this.caption,spu:Object(o.b)(this.attachmentServerPath)?this.attachmentServerPath:null})}serializeMessageContentForServer(){return{spu:Object(o.b)(this.attachmentServerPath)?this.attachmentServerPath:null,filename:this.localFilePath,size:this.size/1e3,fileObj:this.localFileObj,caption:this.caption}}getCaption(){return this.caption}toRawContent(){return{ac:this.caption,spu:Object(o.b)(this.attachmentServerPath)?this.attachmentServerPath:null,asb:this.size,localFileObj:this.localFileObj,localFilePath:this.localFilePath}}deSerializeMessageSpecificContent(e){this.caption=e.content.ac?e.content.ac:null,this.attachmentServerPath=e.content.spu&&Object(o.b)(e.content.spu)?e.content.spu:e.content.image&&Object(o.b)(e.content.image)?e.content.image:null,this.localFileObj=e.content.localFileObj,this.localFilePath=e.content.localFilePath,this.size=e.content.asb?e.content.asb:null}}},function(e,t,n){e.exports=function(){"use strict";var e="millisecond",t="second",n="minute",i="hour",r="day",o="week",a="month",s="quarter",c="year",l="date",u=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d+)?$/,d=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,p=function(e,t,n){var i=String(e);return!i||i.length>=t?e:""+Array(t+1-i.length).join(n)+e},h={s:p,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),i=Math.floor(n/60),r=n%60;return(t<=0?"+":"-")+p(i,2,"0")+":"+p(r,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var i=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(i,a),o=n-r<0,s=t.clone().add(i+(o?-1:1),a);return+(-(i+(n-r)/(o?r-s:s-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(u){return{M:a,y:c,w:o,d:r,D:l,h:i,m:n,s:t,ms:e,Q:s}[u]||String(u||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},g="en",m={};m[g]=f;var E=function(e){return e instanceof v},_=function(e,t,n){var i;if(!e)return g;if("string"==typeof e)m[e]&&(i=e),t&&(m[e]=t,i=e);else{var r=e.name;m[r]=e,i=r}return!n&&i&&(g=i),i||!n&&g},S=function(e,t){if(E(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new v(n)},T=h;T.l=_,T.i=E,T.w=function(e,t){return S(e,{locale:t.$L,utc:t.$u,$offset:t.$offset})};var v=function(){function p(e){this.$L=this.$L||_(e.locale,null,!0),this.parse(e)}var h=p.prototype;return h.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(T.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var i=t.match(u);if(i){var r=i[2]-1||0,o=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)):new Date(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)}}return new Date(t)}(e),this.init()},h.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},h.$utils=function(){return T},h.isValid=function(){return!("Invalid Date"===this.$d.toString())},h.isSame=function(e,t){var n=S(e);return this.startOf(t)<=n&&n<=this.endOf(t)},h.isAfter=function(e,t){return S(e)<this.startOf(t)},h.isBefore=function(e,t){return this.endOf(t)<S(e)},h.$g=function(e,t,n){return T.u(e)?this[t]:this.set(n,e)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(e,s){var u=this,d=!!T.u(s)||s,p=T.p(e),h=function(e,t){var n=T.w(u.$u?Date.UTC(u.$y,t,e):new Date(u.$y,t,e),u);return d?n:n.endOf(r)},f=function(e,t){return T.w(u.toDate()[e].apply(u.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(t)),u)},g=this.$W,m=this.$M,E=this.$D,_="set"+(this.$u?"UTC":"");switch(p){case c:return d?h(1,0):h(31,11);case a:return d?h(1,m):h(0,m+1);case o:var S=this.$locale().weekStart||0,v=(g<S?g+7:g)-S;return h(d?E-v:E+(6-v),m);case r:case l:return f(_+"Hours",0);case i:return f(_+"Minutes",1);case n:return f(_+"Seconds",2);case t:return f(_+"Milliseconds",3);default:return this.clone()}},h.endOf=function(e){return this.startOf(e,!1)},h.$set=function(o,s){var u,d=T.p(o),p="set"+(this.$u?"UTC":""),h=(u={},u[r]=p+"Date",u[l]=p+"Date",u[a]=p+"Month",u[c]=p+"FullYear",u[i]=p+"Hours",u[n]=p+"Minutes",u[t]=p+"Seconds",u[e]=p+"Milliseconds",u)[d],f=d===r?this.$D+(s-this.$W):s;if(d===a||d===c){var g=this.clone().set(l,1);g.$d[h](f),g.init(),this.$d=g.set(l,Math.min(this.$D,g.daysInMonth())).$d}else h&&this.$d[h](f);return this.init(),this},h.set=function(e,t){return this.clone().$set(e,t)},h.get=function(e){return this[T.p(e)]()},h.add=function(e,s){var l,u=this;e=Number(e);var d=T.p(s),p=function(t){var n=S(u);return T.w(n.date(n.date()+Math.round(t*e)),u)};if(d===a)return this.set(a,this.$M+e);if(d===c)return this.set(c,this.$y+e);if(d===r)return p(1);if(d===o)return p(7);var h=(l={},l[n]=6e4,l[i]=36e5,l[t]=1e3,l)[d]||1,f=this.$d.getTime()+e*h;return T.w(f,this)},h.subtract=function(e,t){return this.add(-1*e,t)},h.format=function(e){var t=this;if(!this.isValid())return"Invalid Date";var n=e||"YYYY-MM-DDTHH:mm:ssZ",i=T.z(this),r=this.$locale(),o=this.$H,a=this.$m,s=this.$M,c=r.weekdays,l=r.months,u=function(e,i,r,o){return e&&(e[i]||e(t,n))||r[i].substr(0,o)},p=function(e){return T.s(o%12||12,e,"0")},h=r.meridiem||function(e,t,n){var i=e<12?"AM":"PM";return n?i.toLowerCase():i},f={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:T.s(s+1,2,"0"),MMM:u(r.monthsShort,s,l,3),MMMM:u(l,s),D:this.$D,DD:T.s(this.$D,2,"0"),d:String(this.$W),dd:u(r.weekdaysMin,this.$W,c,2),ddd:u(r.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(o),HH:T.s(o,2,"0"),h:p(1),hh:p(2),a:h(o,a,!0),A:h(o,a,!1),m:String(a),mm:T.s(a,2,"0"),s:String(this.$s),ss:T.s(this.$s,2,"0"),SSS:T.s(this.$ms,3,"0"),Z:i};return n.replace(d,(function(e,t){return t||f[e]||i.replace(":","")}))},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(e,l,u){var d,p=T.p(l),h=S(e),f=6e4*(h.utcOffset()-this.utcOffset()),g=this-h,m=T.m(this,h);return m=(d={},d[c]=m/12,d[a]=m,d[s]=m/3,d[o]=(g-f)/6048e5,d[r]=(g-f)/864e5,d[i]=g/36e5,d[n]=g/6e4,d[t]=g/1e3,d)[p]||g,u?m:T.a(m)},h.daysInMonth=function(){return this.endOf(a).$D},h.$locale=function(){return m[this.$L]},h.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),i=_(e,t,!0);return i&&(n.$L=i),n},h.clone=function(){return T.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},p}(),I=v.prototype;return S.prototype=I,[["$ms",e],["$s",t],["$m",n],["$H",i],["$W",r],["$M",a],["$y",c],["$D",l]].forEach((function(e){I[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),S.extend=function(e,t){return e(t,v,S),S},S.locale=_,S.isDayjs=E,S.unix=function(e){return S(1e3*e)},S.en=m[g],S.Ls=m,S}()},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"__DO_NOT_USE__ActionTypes",(function(){return o})),n.d(t,"applyMiddleware",(function(){return m})),n.d(t,"bindActionCreators",(function(){return d})),n.d(t,"combineReducers",(function(){return l})),n.d(t,"compose",(function(){return g})),n.d(t,"createStore",(function(){return s}));var i=n(402),r=function(){return Math.random().toString(36).substring(7).split("").join(".")},o={INIT:"@@redux/INIT"+r(),REPLACE:"@@redux/REPLACE"+r(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+r()}};function a(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(s)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var c=e,l=t,u=[],d=u,p=!1;function h(){d===u&&(d=u.slice())}function f(){if(p)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return l}function g(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(p)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return h(),d.push(e),function(){if(t){if(p)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,h();var n=d.indexOf(e);d.splice(n,1),u=null}}}function m(e){if(!a(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(p)throw new Error("Reducers may not dispatch actions.");try{p=!0,l=c(l,e)}finally{p=!1}for(var t=u=d,n=0;n<t.length;n++){(0,t[n])()}return e}function E(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");c=e,m({type:o.REPLACE})}function _(){var e,t=g;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(f())}return n(),{unsubscribe:t(n)}}})[i.a]=function(){return this},e}return m({type:o.INIT}),(r={dispatch:m,subscribe:g,getState:f,replaceReducer:E})[i.a]=_,r}function c(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function l(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var r=t[i];0,"function"==typeof e[r]&&(n[r]=e[r])}var a,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:o.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:o.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+o.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(e){a=e}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var i=!1,r={},o=0;o<s.length;o++){var l=s[o],u=n[l],d=e[l],p=u(d,t);if(void 0===p){var h=c(l,t);throw new Error(h)}r[l]=p,i=i||p!==d}return(i=i||s.length!==Object.keys(e).length)?r:e}}function u(e,t){return function(){return t(e.apply(this,arguments))}}function d(e,t){if("function"==typeof e)return u(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var i in e){var r=e[i];"function"==typeof r&&(n[i]=u(r,t))}return n}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),i=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},r={getState:n.getState,dispatch:function(){return i.apply(void 0,arguments)}},o=t.map((function(e){return e(r)}));return f({},n,{dispatch:i=g.apply(void 0,o)(n.dispatch)})}}}}.call(this,n(110))},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}();var r=n(284),o=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),a=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n,a=this._parentOrParents,c=this._ctorUnsubscribe,l=this._unsubscribe,u=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,a instanceof e)a.remove(this);else if(null!==a)for(var d=0;d<a.length;++d){a[d].remove(this)}if(Object(r.a)(l)){c&&(this._unsubscribe=void 0);try{l.call(this)}catch(e){t=e instanceof o?s(e.errors):[e]}}if(i(u)){d=-1;for(var p=u.length;++d<p;){var h=u[d];if(null!==(n=h)&&"object"==typeof n)try{h.unsubscribe()}catch(e){t=t||[],e instanceof o?t=t.concat(s(e.errors)):t.push(e)}}}if(t)throw new o(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var i=n;(n=new e)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var r=n._parentOrParents;if(null===r)n._parentOrParents=this;else if(r instanceof e){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function s(e){return e.reduce((function(e,t){return e.concat(t instanceof o?t.errors:t)}),[])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var i=n(58),r=n(11),o=n(20);function a(e,t){const n=e.data.paths;return!!(n&&n.length>0&&n[0].path[0].startsWith(t))}function s(e){let t=e&&e.startsWith("https://");if(t){const n=new URL(e);t=!n.pathname.endsWith(".js")&&Object(o.isValidKaizalaHost)(n.hostname)}return t||i.a.recordEvent(r.c.INVALID_ATTACHMENT_URL,{TAG:"isValidAttachmentPath",IS_SUCCESS:!1,ERROR_CODE:"INVALID_ATTACHMENT_URL",ERROR_MESSAGE:"Invalid attachment server path "+e}),t}},function(e,t){e.exports=function(e,t,n,i){var r=-1,o=null==e?0:e.length;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return h}));var i=n(7),r=n(33),o=n(21),a=n(8),s=n(2),c=n(1);const l=()=>({isCancellable:!0,titleColor:o.a.WHITE,titleTextStyle:a.a.BodyMediumTextStyle,descriptionTextColor:o.a.WHITE,descriptionTextStyle:a.a.SmallTextStyle,height:s.a.BATTERY_NOTIFICATION_HEIGHT,isClickable:!1,type:r.j.BATTERY}),u=e=>({id:e,isCancellable:!1,isClickable:!1,titleColor:o.a.WHITE,titleTextStyle:a.a.DescriptionTextStyle,descriptionTextColor:o.a.WHITE,descriptionTextStyle:a.a.SmallTextStyle,height:s.a.NETWORK_CONNECTED_NOTIFICATION_VIEW_HEIGHT}),d=e=>({id:e,isCancellable:!1,isClickable:!1,titleColor:o.a.BLACK,titleTextStyle:a.a.BodyMediumTextStyle,descriptionTextColor:o.a.BLACK,descriptionTextStyle:a.a.SmallTextStyle,height:s.a.NETWORK_DISCONNECTED_NOTIFICATION_VIEW_HEIGHT}),p=e=>({id:e,icon:"",title:"",titleColor:o.a.WHITE,titleTextStyle:null,description:"",descriptionTextColor:o.a.WHITE,descriptionTextStyle:null,notificationCategory:r.a.PRIMARY,priority:r.i.CONNECTIVITY_NOTIFICATION,isCancellable:!1,bgColor:o.a.ConnectivityInProgressBG,subText:"",linkText:"",onLinkClick:null,height:85,accessibilityText:"",autoFocus:!1}),h=e=>({id:e,icon:i.a.NewWebAppVersionAvailable,title:c.getString("NewWebAppVersionAvailableTitle"),titleTextStyle:a.a.BodyBoldTextStyle,titleColor:o.a.WHITE,description:"",descriptionTextColor:o.a.WHITE,notificationCategory:r.a.PRIMARY,priority:r.i.NEW_WEBAPP_VERSION_AVAILABLE_NOTIFICATION,isCancellable:!1,bgColor:o.a.GREEN,linkText:c.getString("NewWebAppVersionAvailableLink"),linkStyle:{marginLeft:0},onLinkClick:()=>{window.location.reload(!0)},height:s.a.HEIGHT_72,accessibilityText:c.getString("NewWebAppVersionAvailableTitle"),autoFocus:!1})},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.Poll=0]="Poll",e[e.Availability=1]="Availability",e[e.JobRequest=2]="JobRequest",e[e.LocationRequest=3]="LocationRequest",e[e.TrackPath=4]="TrackPath",e[e.Survey=20]="Survey"}(i||(i={}))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n(63),r=n(1),o=n(15),a=n(7),s=n(4),c=n(24),l=n(0),u=n(5),d=n(44),p=n(3),h=n(9),f=n(8),g=n(40),m=n(37),E=n(178);const _="_kz_radioInputModal",S=[g.b.bottomBorderOnly,p.Styles.createViewStyle({borderColor:Object(u.a)().separatorColor2})],T={containerShadowStyle:{boxShadow:"rgba(0, 0, 0, 0.2) 0px 6px 12px 0px"},optionItemStyle:{minHeight:36,display:"flex",flexDirection:"row"},itemStringStyle:Object(m.a)({display:"flex",fontFamily:"Roboto",fontSize:16,paddingLeft:20,justifyContent:"center",flexDirection:"column",flexGrow:1})};class v extends l.Component{constructor(e){super(e),this.state={selectedRadioOptionValue:this.props.radioInputs[0].value,checkedBoxKeys:[]}}render(){const e=this.props.radioInputs.map((e,t)=>this.getRadioSelectionItem(e.name,e.value,t)),t=this.props.checkboxInputs.map((e,t)=>this.getCheckboxItem(e.name,e.value,t));return l.createElement(p.View,{style:{flexDirection:"column",flex:1,width:this.props.width?this.props.width:480,maxHeight:this.props.height?this.props.height:360,justifyContent:"center",backgroundColor:Object(u.a)().backgroundColor2,padding:24}},l.createElement(h.a,{style:Object.assign({},f.a.LargeTitleTextStyle,{color:Object(u.a)().textPrimaryColor,paddingBottom:"12px"}),text:this.props.title}),e,l.createElement(p.View,{style:S}),t,l.createElement("div",{style:{marginLeft:"auto",marginTop:"30px",display:"flex"}},this.getRejectButton(_,this.props.onRejectFunction),this.getAcceptButton(_,this.props.onAcceptFunction)))}getRadioSelectionItem(e,t,n){const i=this.state.selectedRadioOptionValue==t,r=e+" "+(i?"selected":"unselected");return l.createElement("div",{key:n,style:{display:"flex",flexDirection:"row"}},l.createElement("label",{className:"radio-option",style:Object(m.a)(T.optionItemStyle),"aria-label":r},l.createElement("input",{type:"radio",id:"radioInput"+n,defaultChecked:i,key:n,tabIndex:0,name:"radioOption",value:t,style:{minHeight:36},onChange:this.handleRadioOptionChange.bind(this)}),l.createElement("div",{style:Object.assign({},T.itemStringStyle,{color:Object(u.a)().textQuaternaryColor})},e)))}getCheckboxItem(e,t,n){const i=-1!==this.state.checkedBoxKeys.indexOf(n),r=e+" "+(i?"checked":"unchecked");return l.createElement("div",{key:n,style:{display:"flex",flexDirection:"row"}},l.createElement("label",{className:"checkbox-option",style:Object(m.a)(T.optionItemStyle),"aria-label":r},l.createElement("input",{type:"checkbox",id:"checkboxInput"+n,defaultChecked:i,key:n,tabIndex:0,value:t,style:{minHeight:36},onChange:this.handleCheckboxChange.bind(this,n)}),l.createElement("div",{style:Object.assign({},T.itemStringStyle,{color:Object(u.a)().textQuaternaryColor})},e)))}getRejectButton(e,t){return l.createElement(E.a,{id:"AlertDialog.RejectButton.",onClick:this.onRejectHelper(e,t),buttonText:r.getString("CancelButtonText"),rectangularButton:!0})}getAcceptButton(e,t){return l.createElement(E.a,{id:"AlertDialog.AcceptButton.",onClick:this.onAcceptHelper(e,t,this.state.selectedRadioOptionValue,this.state.checkedBoxKeys),autoFocus:!0,buttonText:r.getString("mute"),rectangularButton:!0})}onAcceptHelper(e,t,n,i){return function(){d.a.hideFloatingView(e),t&&t(n,i)}}onRejectHelper(e,t){return function(){d.a.hideFloatingView(e),t&&t()}}handleRadioOptionChange(e){this.setState({selectedRadioOptionValue:e.target.value})}handleCheckboxChange(e,t){const n=this.state.checkedBoxKeys;t.target.checked?n.push(e):n.splice(n.indexOf(e),1),this.setState({checkedBoxKeys:n})}}var I=new class{constructor(){this.getRadioInputModal=e=>()=>l.createElement(v,Object.assign({},e))}show(e){const t={backgroundColor:Object(u.a)().backgroundColor10,opacity:.8};d.a.showFloatingView({floatingViewContent:this.getRadioInputModal(e),floatingViewId:_,isLightDismiss:!1,shouldDismissOnKeyESCPress:!0,isFocusOnFloatingView:!0,accessibilityText:r.getString("muteConversation"),style:t,boxShadowStyle:T.containerShadowStyle,delay:100})}};var b,y;!function(e){e[e.NONE=0]="NONE",e[e.PIN=1]="PIN",e[e.UNPIN=2]="UNPIN",e[e.MUTE=4]="MUTE",e[e.UNMUTE=8]="UNMUTE",e[e.MARK_AS_READ=16]="MARK_AS_READ",e[e.MARK_AS_UNREAD=32]="MARK_AS_UNREAD",e[e.CLEAR_CHAT_FOR_ME=64]="CLEAR_CHAT_FOR_ME"}(b||(b={})),function(e){e[e.EIGHT_HOURS=1]="EIGHT_HOURS",e[e.ONE_WEEK=2]="ONE_WEEK",e[e.ONE_YEAR=3]="ONE_YEAR"}(y||(y={}));t.b=class{constructor(){this.getId=()=>"conversationOptions",this.getOptionIcon=e=>{switch(e){case b.NONE:return"";case b.PIN:return a.a.CONVLIST_OPTIONS_PIN;case b.UNPIN:return a.a.CONVLIST_OPTIONS_UNPIN;case b.MUTE:return a.a.CONVLIST_OPTIONS_MUTE;case b.UNMUTE:return a.a.CONVLIST_OPTIONS_UNMUTE;case b.MARK_AS_READ:return a.a.CONVLIST_OPTIONS_MARK_READ;case b.MARK_AS_UNREAD:return a.a.CONVLIST_OPTIONS_MARK_UNREAD;case b.CLEAR_CHAT_FOR_ME:return a.a.CONVLIST_OPTIONS_CLEAR_CHAT_FOR_ME;default:return""}},this.getMenuId=e=>this.getId()+"-menu-"+e,this.showClearChatConfirmationAlert=(e,t)=>{const n={id:"clear-chat",title:r.getString("ClearChatAlertTitle"),message:r.getString("ClearChatAlertMessage"),acceptButtonText:r.getString("clearButtonText"),acceptButtonClassName:"alert-dialog-button-medium",rejectButtonText:r.getString("CancelButtonText"),onAccept:()=>{e(o.c.clearConversation(t.conversationId))}};Object(i.c)(n)}}getAllOptions(){const e=[];return e.push(b.NONE),e.push(b.PIN),e.push(b.UNPIN),e.push(b.MUTE),e.push(b.UNMUTE),e.push(b.MARK_AS_READ),e.push(b.MARK_AS_UNREAD),e.push(b.CLEAR_CHAT_FOR_ME),e}getEligibleOptions(e){const t=e;let n=b.NONE;const i=t.convId;return n|=b.CLEAR_CHAT_FOR_ME,0==t.state.conversationsState.allConversations[i].isPinned?n|=b.PIN:n|=b.UNPIN,1==t.state.conversationsState.allConversations[i].isMarkedAsUnread||t.state.conversationsState.allConversations[i].unSeenMsgCount>0?n|=b.MARK_AS_READ:n|=b.MARK_AS_UNREAD,Object(c.m)(t.state.conversationsState.allConversations[i].convState,c.e.MUTE)?n|=b.UNMUTE:n|=b.MUTE,n}getOptionLabel(e){switch(e){case b.NONE:return"";case b.PIN:return r.getString("pinConversation");case b.UNPIN:return r.getString("unpinConversation");case b.MUTE:return r.getString("muteConversation");case b.UNMUTE:return r.getString("unmuteConversation");case b.MARK_AS_READ:return r.getString("markAsRead");case b.MARK_AS_UNREAD:return r.getString("markAsUnread");case b.CLEAR_CHAT_FOR_ME:return r.getString("clearChatFromMe");default:return""}}getOptionTitle(e){switch(e){case b.NONE:return"";case b.PIN:return r.getString("pinConversation");case b.UNPIN:return r.getString("unpinConversation");case b.MUTE:return r.getString("muteConversation");case b.UNMUTE:return r.getString("unmuteConversation");case b.MARK_AS_READ:return r.getString("markAsRead");case b.MARK_AS_UNREAD:return r.getString("markAsUnread");case b.CLEAR_CHAT_FOR_ME:return r.getString("clearChatFromMe");default:return""}}onPress(e,t){const n=t;switch(t.id){case b.PIN:this.logInfoWithNonPIIData(t,"on PIN pressed"),e(o.c.pinOrUnpinConversation(n.conversationId,b.PIN));break;case b.UNPIN:this.logInfoWithNonPIIData(t,"on UNPIN pressed"),e(o.c.pinOrUnpinConversation(n.conversationId,b.UNPIN));break;case b.MUTE:this.logInfoWithNonPIIData(t,"on MUTE pressed");const i=[r.getString("eightHours"),r.getString("oneWeek"),r.getString("oneYear")],a=(t,i)=>{const r=parseInt(y[t]),a=-1!==i.indexOf(0);e(o.c.muteConversation(n.conversationId,b.MUTE,r,a))},s={title:r.getString("MuteNotificationTitle"),width:360,height:480,radioInputs:i.map((e,t)=>({name:e,value:y[t+1]})),checkboxInputs:[{name:r.getString("showNotifications")}],onAcceptFunction:a};I.show(s);break;case b.UNMUTE:this.logInfoWithNonPIIData(t,"on UNMUTE pressed"),e(o.c.unmuteConversation(n.conversationId,b.UNMUTE));break;case b.MARK_AS_READ:this.logInfoWithNonPIIData(t,"on MARK_AS_READ pressed"),e(o.c.markReadOrMarkUnreadConversation(n.conversationId,b.MARK_AS_READ));break;case b.MARK_AS_UNREAD:this.logInfoWithNonPIIData(t,"on MARK_AS_UNREAD pressed"),e(o.c.markReadOrMarkUnreadConversation(n.conversationId,b.MARK_AS_UNREAD));break;case b.CLEAR_CHAT_FOR_ME:this.logInfoWithNonPIIData(t,"on CLEAR_CHAT_FOR_ME pressed"),this.showClearChatConfirmationAlert(e,n)}}logInfoWithNonPIIData(e,t){const n=e;s.b.infoWithNonPIIData("ConversationOptions",t," for conversationId : ",n.conversationId)}}},,function(e,t,n){"use strict";n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return y})),n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return A}));var i=n(11),r=n(4),o=n(66),a=n(14),s=n(38),c=n(70),l=n(182),u=n(56),d=n(17),p=n(26),h=n(73),f=n.n(h),g=n(131),m=n.n(g),E=n(260),_=n.n(E),S=n(6),T=n(41),v=n(15);const I="miniappsSelector",b={getlocaleUpdatedMiniAppPkgIds:e=>e.miniappState.localeUpdatedMiniAppPkgIds,getView:(e,t)=>e.miniappState.viewStack[t],getViewById(e,t){if(e.miniappState.viewStack.find(e=>e.viewId===t))return e.miniappState.viewStack.filter(e=>e.viewId===t)[0];r.b.warnWithNonPIIData(I,"getViewByID","view not found")},getMiniAppData(e,t){const n=t.miniappState.miniAppDataMap[e];if(Object(s.c)(n)){p.b.dispatch(o.b.fetchMiniAppData(e));const t=a.u.get(e);if(t)return t}else if(n.fetchState===s.a.Success)return n.data;return null},getMiniAppName(e,t){return this.getMiniAppData(e,t).miniAppTitle},getPackagesNotInState(e,t){const n=[];return t&&t.forEach(t=>{t&&(!(t in e.miniappState.miniAppDataMap)||t in e.miniappState.miniAppDataMap&&e.miniappState.miniAppDataMap[t].fetchState==s.a.RetryableFailure)&&n.push(t)}),_()(n)},getMiniAppsData(e,t){const n=b.getPackagesNotInState(e,t),i=[];return n.forEach(e=>{const t=a.u.get(e);t&&i.push(t)}),r.b.debugWithNonPIIData(I,"No of packages to fetchMiniAppsData : ",n.length),n.length>0&&(p.b.dispatch(o.b.fetchMiniAppsData(n)),t=m()(t,f()(n))),t.forEach(t=>{const n=e.miniappState.miniAppDataMap[t];n&&n.fetchState===s.a.Success&&i.push(n.data)}),r.b.debugWithNonPIIData(I,"No of miniapp packages already in state : ",i.length),i},getSrcFileForView:(e,t)=>e.miniappState.miniappImmersiveInfoMap[t.packageId]&&e.miniappState.miniappImmersiveInfoMap[t.packageId].find(e=>e.viewType===t.viewType)&&e.miniappState.miniappImmersiveInfoMap[t.packageId].find(e=>e.viewType===t.viewType).srcFile,getTemplateTypeForMiniapp:(e,t)=>e.miniappState.miniappImmersiveInfoMap[t.packageId]&&e.miniappState.miniappImmersiveInfoMap[t.packageId].find(e=>e.viewType===t.viewType)&&e.miniappState.miniappImmersiveInfoMap[t.packageId].find(e=>e.viewType===t.viewType).templateType,getActionCustomStrings(e,t,n,r){if(Object(l.c)(e))return"{}";if(!t.miniappState.miniAppDataMap[e])return"{}";const a=t.miniappState.customStrings[n];return Object(s.c)(a)&&t.miniappState.moduleVersion>1?(t.miniappState.moduleVersion>1&&i.e.recordEvent(i.c.CUSTOM_STRINGS_NOT_FOUND,{SURVEY_ID:n}),void p.b.dispatch(o.b.fetchActionCustomStrings(e,n,r))):a.fetchState===s.a.Success&&""===a.data?"{}":a.data},getViewStack:e=>e.miniappState.viewStack,getProgressBarString:e=>e.miniappState.progressBar,getTopView(e){if(0!==e.miniappState.viewStack.length)return this.getView(e,e.miniappState.viewStack.length-1)},isAsyncStateChanged(e,t){if(e)return e.miniappState.asyncActivityResult!==t.miniappState.asyncActivityResult||e.miniappState.kasClientPrefetchResult!==t.miniappState.kasClientPrefetchResult},isMiniappActive:e=>e.miniappState.viewStack.length>0,getPrefetchFunctionResult(e,t,n){if(e.miniappState.kasClientPrefetchResult[t])return e.miniappState.kasClientPrefetchResult[t][n]},isPrefetchFunctionsResultAvailable:(e,t)=>e.miniappState.kasClientPrefetchResult[t.viewId],getActivityResult:(e,t)=>e.miniappState.asyncActivityResult[t],isResponseOrCreationViewActive:e=>0!==e.miniappState.viewStack.filter(e=>e.viewType===a.s.CREATE||e.viewType===a.s.RESPONSE).length,getFirstAssigneeName(e,t,n){if("out_of_box_job"===e.packageId){const i=n.getHostConversationId(),r=JSON.parse(e.getSurveyProperty(d.a.KAS_ASSIGNED_TO).getValue());return u.f.getUserInfoForConversation(t,r[0],i).name}return null},getCustomActionCreatorName(e,t){const n=v.f.getTenantId(t,e),i=T.e.getTenantName(t,n);return Object(S.g)(i)?v.f.getConversationName(t,e):i}},y=Object(c.a)([e=>e,b.getFirstAssigneeName,(e,t,n)=>n],(e,t,n)=>{if("out_of_box_job"===e.packageId)return JSON.stringify({firstAssigneeName:t});if("out_of_box_meeting"===e.packageId){const e=n;return JSON.stringify({meetingDate:e.meetingDate,meetingTitle:e.meetingTitle,meetingDetails:e.meetingDetails,meetingDuration:e.meetingDuration})}return JSON.stringify("{}")}),C=Object(c.a)([l.c,b.getMiniAppData,b.getActionCustomStrings],(e,t,n)=>{if(!e){if(!t)return;return n?Object.assign({},t,{viewOperators:n}):Object.assign({},t)}return null}),A=Object(c.a)([b.getlocaleUpdatedMiniAppPkgIds],e=>{if(e)return new Set(e)})},function(e,t,n){var i=n(227),r=n(602);e.exports=function(e,t){var n=[];if(!e||!e.length)return n;var o=-1,a=[],s=e.length;for(t=i(t,3);++o<s;){var c=e[o];t(c,o,e)&&(n.push(c),a.push(o))}return r(e,a),n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(139),r=n(11);const o=new class{constructor(){this.initialize=e=>{this.chatLoadEvent=new i.a,this.chatLoadEvent.initialize(e,!1)},this.recordConnectionChange=e=>{this.chatLoadEvent&&this.chatLoadEvent.isAlive()&&this.chatLoadEvent.recordInternalEvent(e)},this.recordInternalEvent=(e,t,n)=>{this.chatLoadEvent&&this.chatLoadEvent.isAlive()&&this.chatLoadEvent.equals(e)&&this.chatLoadEvent.recordInternalEvent(t,n)},this.recordInternalEventStart=(e,t,n)=>{this.chatLoadEvent&&this.chatLoadEvent.isAlive()&&this.chatLoadEvent.equals(e)&&this.chatLoadEvent.recordInternalEventStart(t,n)},this.recordInternalEventEnd=(e,t)=>{this.chatLoadEvent&&this.chatLoadEvent.isAlive()&&this.chatLoadEvent.equals(e)&&this.chatLoadEvent.recordInternalEventEnd(t)},this.recordChatLoadComplete=(e,t,n)=>{if(!this.chatLoadEvent||!this.chatLoadEvent.isAlive()||!this.chatLoadEvent.equals(e))return;const i=this.chatLoadEvent.getEndTimeForEvent(r.b.DATA_FETCH);i&&this.chatLoadEvent.recordInternalEvent(r.b.CHAT_RENDER_TIME,this.chatLoadEvent.getElapsedTime()-i),this.chatLoadEvent.recordEnd(r.c.CHAT_LOAD,t,n)},this.isAlive=()=>this.chatLoadEvent&&this.chatLoadEvent.isAlive(),this.reset=()=>{this.chatLoadEvent&&this.chatLoadEvent.isAlive()&&this.chatLoadEvent.reset()},this.hasRecord=e=>!(!this.chatLoadEvent||!this.chatLoadEvent.isAlive())&&this.chatLoadEvent.hasRecord(e)}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=function*(){let e=0;for(;;)yield e++}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{}i.APP_LOCALE="locale",i.IS_24_HOUR_FORMAT="is24HourFormat",i.IS_DARK_THEME="isDarkTheme",i.CREATE_KEY="c",i.RESPONSE_KEY="r",i.SUMMARY_KEY="s"},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i,r=n(26),o=n(11),a=n(57),s=n(4),c=n(32),l=n(52),u=n(53),d=n(6);!function(e){e.VISIBILITY_CHANGE="visibilitychange",e.FOCUS_CHANGE="focus",e.BLUR_CHANGE="blur",e.UNLOAD="unload"}(i||(i={}));class p{static initialize(){if(!p.sInitialized){const e=!document.hidden;p.sIsVisible=e,p.sIsIAppVisible=e,p.updateAppStateChangeTime(),o.e.recordEvent(o.c.APPLICATION,{TAG:p.LOG_TAG,SUB_TAG:"AppForeGroundStateChanged",NEW_STATE:e,REASON:"initialize"}),this.subscribeToDocumentAndWindowEvents(),l.b.subscribe(a.b.IFRAME_FOCUS_CHANGED,this.onIframeFocusChanged),window.addEventListener(i.UNLOAD,p.addAppTerminateListener,!1),p.sInitialized=!0}}static subscribeToDocumentAndWindowEvents(){const e=!document.hidden;r.a.getStore().dispatch(c.c.onAppForegroundChanged(e)),s.b.infoWithNonPIIData("subscribeToDocumentAndWindowEvents called, isForeground:",e),void 0===document.addEventListener||void 0===document.hidden?s.b.warnWithNonPIIData("The browser does not support either addEventListener or hidden or both document props."):document.addEventListener(i.VISIBILITY_CHANGE,p.handleVisibilityChange,!1),document.addEventListener(i.FOCUS_CHANGE,p.onWindowFocus,!1),document.addEventListener(i.BLUR_CHANGE,p.onWindowBlur,!1),window.addEventListener(i.FOCUS_CHANGE,p.onWindowFocus,!1),window.addEventListener(i.BLUR_CHANGE,p.onWindowBlur,!1)}static unsubscribeToDocumentAndWindowEvents(){s.b.infoWithNonPIIData("unsubscribeToDocumentAndWindowEvents called"),void 0===document.addEventListener||void 0===document.hidden?s.b.warnWithNonPIIData("The browser does not support either addEventListener or hidden or both document props."):document.removeEventListener(i.VISIBILITY_CHANGE,p.handleVisibilityChange,!1),document.removeEventListener(i.FOCUS_CHANGE,p.onWindowFocus,!1),document.removeEventListener(i.BLUR_CHANGE,p.onWindowBlur,!1),window.removeEventListener(i.FOCUS_CHANGE,p.onWindowFocus,!1),window.removeEventListener(i.BLUR_CHANGE,p.onWindowBlur,!1)}static isAppInForeground(){return p.sIsVisible}static getAppLastForegroundTime(){return p.sLastForegroundTime}static getAppLastBackgroundTime(){return p.sLastBackgroundTime}static onVisible(){p.sIsVisible||(p.sIsVisible=!0,p.updateAppStateChangeTime(),r.a.getStore().getState().appState.isAppForeground||(s.b.infoWithNonPIIData(p.LOG_TAG,"app foreground"),clearTimeout(p.sTimerId),p.sTimerId=void 0,o.e.recordEvent(o.c.APPLICATION,{TAG:p.LOG_TAG,SUB_TAG:"AppForeGroundStateChanged",NEW_STATE:p.sIsVisible,REASON:"onVisible"}),r.a.getStore().dispatch(c.c.onAppForegroundChanged(p.sIsVisible))))}static addAppTerminateListener(e){r.a.getStore().dispatch(c.c.onAppTerminated())}static onHidden(){p.sIsVisible&&(Object(d.g)(p.sTimerId)&&(p.sTimerId=setTimeout(p.onAppStateChanged(!0),2e3)),p.sIsVisible=!1)}static onIframeFocusChanged(e){const t=e.payload;p.sIsIframeVisible=t.hasFocus,t.hasFocus?p.onVisible():p.sIsIAppVisible||p.onHidden()}static onWindowFocus(){return p.sIsIAppVisible=!0,p.handleVisibilityChange(!0)}static onWindowBlur(){if(p.sIsIAppVisible=!1,!p.sIsIframeVisible)return p.handleVisibilityChange(!1)}static handleVisibilityChange(e){return"boolean"==typeof e?e?p.onVisible():p.onHidden():(p.sIsIAppVisible=!document.hidden,document.hidden&&!p.sIsIframeVisible?p.onHidden():p.onVisible())}static updateAppStateChangeTime(){1==p.sIsVisible?p.sLastForegroundTime=u.a.getCurrentActualTime():p.sLastBackgroundTime=u.a.getCurrentActualTime()}}p.sInitialized=!1,p.sIsVisible=!1,p.sIsIframeVisible=!1,p.sIsIAppVisible=!1,p.sTimerId=void 0,p.sLastForegroundTime=0,p.sLastBackgroundTime=0,p.LOG_TAG="AppStateTracker",p.onAppStateChanged=e=>()=>{e!==p.sIsVisible&&(s.b.infoWithNonPIIData(p.LOG_TAG,"app foreground,",p.sIsVisible),o.e.recordEvent(o.c.APPLICATION,{TAG:p.LOG_TAG,SUB_TAG:"AppForeGroundStateChanged",NEW_STATE:p.sIsVisible,REASON:"onAppStateChanged"}),p.updateAppStateChangeTime(),r.a.getStore().dispatch(c.c.onAppForegroundChanged(p.sIsVisible))),p.sTimerId=void 0}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));var i,r=n(0),o=n(15),a=n(11),s=n(128);!function(e){e.UNKNOWN="UNKNOWN",e.CONVERSATION="CONVERSATION_OPEN_LINK",e.MESSAGE="MESSAGE_OPEN_LINK",e.USER="USER_OPEN_LINK",e.O365="O365_AUTH_LINK",e.JOIN_GROUP="JOIN_GROUP_LINK"}(i||(i={}));class c extends r.Component{constructor(e){super(e),this.finishedDeepLinking=!1,this.setDeepLinkData=()=>{const e={deepLinkType:this.props.deepLinkType,convId:this.props.conversationId,messageId:this.props.messageId};this.props.setDeepLinkData(e)}}componentDidUpdate(){if(!1===this.finishedDeepLinking&&this.props.isConversationIdPresent){switch(this.props.deepLinkType){case s.a.CONVERSATION:case s.a.MESSAGE:this.props.dispatch(o.c.selectConversation(this.props.conversationId,void 0,this.props.messageId,this.props.messageId))}this.finishedDeepLinking=!0,window.history.replaceState({},document.title,this.props.newURL)}}componentDidMount(){switch(this.props.deepLinkType){case s.a.JOIN_GROUP:this.setDeepLinkData(),this.props.onJoinGroupDeepLink(),a.e.recordEvent(a.c.JOIN_GROUP_EXTERNAL_REDIRECT,{DATA:this.props.groupInviteKey}),window.history.replaceState({},document.title,this.props.newURL);break;case s.a.O365:this.setDeepLinkData(),window.history.replaceState({},document.title,this.props.newURL)}}render(){return r.Children.only(this.props.children)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this._isDebug=!1,this._isDevelopment=!1}return e.prototype.setAppConfig=function(e,t){this._isDebug=e,this._isDevelopment=t},e.prototype.isDebugMode=function(){return this._isDebug},e.prototype.isDevelopmentMode=function(){return this._isDevelopment},e}();t.AppConfig=i,t.default=new i},function(e,t,n){var i=n(365),r=n(247);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var l=t[s],u=o?o(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),a?r(n,l,u):i(n,l,u)}return n}},function(e,t,n){var i=n(270),r=n(409),o=n(410);e.exports=function(e,t){return o(r(e,t,i),e+"")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(309),r=n(172),o=/[xy]/g;t.EventNameAndTypeRegex=/^[a-zA-Z]([a-zA-Z0-9]|_){2,98}[a-zA-Z0-9]$/,t.EventNameDotRegex=/\./g,t.PropertyNameRegex=/^[a-zA-Z](([a-zA-Z0-9|_|\.]){0,98}[a-zA-Z0-9])?$/,t.StatsApiKey="a387cfcf60114a43a7699f9fbb49289e-9bceb9fe-1c06-460f-96c5-6a0b247358bc-7238";var a=null,s=null,c=null;function l(e){return"string"==typeof e}function u(e){return"number"==typeof e}function d(e){return"boolean"==typeof e}function p(e){return e instanceof Date}function h(e){return 1e4*(e+621355968e5)}function f(){return!("undefined"==typeof navigator||!navigator.product)&&"ReactNative"===navigator.product}function g(){return"object"==typeof self&&"ServiceWorkerGlobalScope"===self.constructor.name}function m(e){return e<10?"0"+e:e.toString()}function E(e){return null==e||""===e}t.numberToBondInt64=function(e){var t=new i.Int64("0");return t.low=4294967295&e,t.high=Math.floor(e/4294967296),t},t.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(o,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},t.isString=l,t.isNumber=u,t.isBoolean=d,t.isDate=p,t.msToTicks=h,t.getTenantId=function(e){var t=e.indexOf("-");return t>-1?e.substring(0,t):""},t.isBeaconsSupported=function(){return null===a&&(a="undefined"!=typeof navigator&&Boolean(navigator.sendBeacon)),a},t.isUint8ArrayAvailable=function(){return null===s&&(s="undefined"!=typeof Uint8Array&&!function(){if("undefined"!=typeof navigator&&navigator.userAgent){var e=navigator.userAgent.toLowerCase();if((e.indexOf("safari")>=0||e.indexOf("firefox")>=0)&&e.indexOf("chrome")<0)return!0}return!1}()&&!f()),s},t.isPriority=function(e){return!(!u(e)||!(e>=1&&e<=3||5===e))},t.sanitizeProperty=function(e,n){return!t.PropertyNameRegex.test(e)||E(n)?null:(E(n.value)&&(n={value:n,type:r.AWTPropertyType.Unspecified}),n.type=function(e,t){switch(t=function(e){if(u(e)&&e>=0&&e<=4)return!0;return!1}(t)?t:r.AWTPropertyType.Unspecified){case r.AWTPropertyType.Unspecified:return function(e){switch(typeof e){case"string":return r.AWTPropertyType.String;case"boolean":return r.AWTPropertyType.Boolean;case"number":return r.AWTPropertyType.Double;case"object":return p(e)?r.AWTPropertyType.Date:null}return null}(e);case r.AWTPropertyType.String:return l(e)?t:null;case r.AWTPropertyType.Boolean:return d(e)?t:null;case r.AWTPropertyType.Date:return p(e)&&NaN!==e.getTime()?t:null;case r.AWTPropertyType.Int64:return u(e)&&e%1==0?t:null;case r.AWTPropertyType.Double:return u(e)?t:null}return null}(n.value,n.type),n.type?(p(n.value)&&(n.value=h(n.value.getTime())),n.pii>0&&n.cc>0?null:n.pii?function(e){if(u(e)&&e>=0&&e<=13)return!0;return!1}(n.pii)?n:null:n.cc?function(e){if(u(e)&&e>=0&&e<=1)return!0;return!1}(n.cc)?n:null:n):null)},t.getISOString=function(e){return e.getUTCFullYear()+"-"+m(e.getUTCMonth()+1)+"-"+m(e.getUTCDate())+"T"+m(e.getUTCHours())+":"+m(e.getUTCMinutes())+":"+m(e.getUTCSeconds())+"."+function(e){if(e<10)return"00"+e;if(e<100)return"0"+e;return e.toString()}(e.getUTCMilliseconds())+"Z"},t.useXDomainRequest=function(){if(null===c){var e=new XMLHttpRequest;c=void 0===e.withCredentials&&"undefined"!=typeof XDomainRequest}return c},t.useFetchRequest=function(){return f()||g()},t.isReactNative=f,t.isServiceWorkerGlobalScope=g},function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(e[i]=n[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),r);else for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){var t,n,i,r,o,a;for(i=0,t=0,n=e.length;t<n;t++)i+=e[t].length;for(a=new Uint8Array(i),r=0,t=0,n=e.length;t<n;t++)o=e[t],a.set(o,r),r+=o.length;return a}},a={arraySet:function(e,t,n,i,r){for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(i)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(61);class r{}r.clearAllData=()=>{i.a.clearStorage(),i.b.clearStorage()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(139),r=n(11);class o extends i.a{constructor(){super(...arguments),this.recordBootEnd=(e,t)=>{const n=this.getEndTimeForEvent(r.b.ENSURE_SESSION);n&&this.recordInternalEvent(r.b.WEB_BOOT_RENDER_TIME,this.getElapsedTime()-n);const i=this.eventName===r.b.WARM_BOOT?r.c.WARM_BOOT_TIME:r.c.COLD_BOOT_TIME;this.recordEnd(i,e,t?{CONV_COUNT:t}:void 0)}}}const a=new o},function(e,t,n){"use strict";n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return T})),n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return v}));var i,r=n(77),o=n(13),a=n(4),s=n(29);!function(e){e[e.ACT_CHAT_DATA_PRE_FETCH=3]="ACT_CHAT_DATA_PRE_FETCH"}(i||(i={}));class c{static fromProps(e){const t=e.hasOwnProperty("acIP")?e.acIP:null,n=e.hasOwnProperty("atInP")?e.atInP:null,i=e.pM,r=e.hasOwnProperty("pPIds")?e.pPIds:null;return new c(t,n,i,r)}constructor(e,t,n,i){this.isPaletteManaged=n,this.pinnedPackageIds=i,this.shouldShowActionsInPalette=e,this.shouldShowAttachmentInPalette=t}}var l=n(10),u=n(28),d=n(45),p=n(32),h=n(246);const f=u.a,g=e=>t=>n=>{switch(n.type){case o.a.ON_UPDATE_RECEIVED:case o.a.ON_RESPONSE_RECEIVED:{const t=Object(r.b)(n.responseData,f,"palette");if(!t)break;if(Object(s.k)(t))a.b.errorWithNonPIIData(f,"error response received at palette:",t.errors);else{const n=c.fromProps(t.value);if(n.pinnedPackageIds){const t=l.q.getPackagesNotInState(e.getState(),n.pinnedPackageIds);a.b.debugWithNonPIIData(f,"No of packages to fetch on_response_received :",t.length),t.length>0&&e.dispatch(l.o.fetchMiniAppsData(t))}}break}case d.a.PRE_FETCH_CHAT_DATA:if(e.getState().actMappingState.moduleVersion>=i.ACT_CHAT_DATA_PRE_FETCH){const e=n.conversationIds;a.b.infoWithNonPIIData(f,"pre fetching actions for conversations",e),n.asyncPathList.push({rt:s.f.QUERY,path:[u.a,"preFetch_actions",e.join(),"#pr[0].$.*"]})}break;case p.a.ON_APP_FG_CHANGED:h.a.onAppForegroundStateChanged(n.isAppForeground)}return t(n)};function m(){return{conversationIdToPalletActionsMap:{},moduleVersion:0}}var E=n(73),_=n.n(E);const S=u.a,T=(e={conversationIdToPalletActionsMap:{},moduleVersion:0},t)=>{switch(t.type){case o.a.ON_UPDATE_RECEIVED:case o.a.ON_RESPONSE_RECEIVED:{const n=Object(r.b)(t.responseData,S,"palette");if(n)if(Object(s.k)(n))a.b.errorWithNonPIIData(S,"error response received at pallete:",n.errors);else{const t=n.path[2],i=c.fromProps(n.value);e.conversationIdToPalletActionsMap[t]=i,e=Object.assign({},e)}const i=Object(r.b)(t.responseData,S,"preFetch_actions");if(!i)break;if(Object(s.k)(i))a.b.errorWithNonPIIData(S,"error response received at preFetchActionsResponse:",i.errors);else if(i.value){a.b.infoWithNonPIIData(S,"response received for pre fetching actions");const t=i.value;_()(t).forEach(n=>{e.conversationIdToPalletActionsMap[n]=c.fromProps(t[n])}),e=Object.assign({},e)}break}case p.a.SET_MODULE_VERSION:e=Object.assign({},e,{moduleVersion:t.moduleVersionMap[S]})}return e};var v=new class{constructor(){this.getPaletteData=(e,t)=>{const n=e.actMappingState.conversationIdToPalletActionsMap[t];if(n){if(n.pinnedPackageIds){let t;l.q.getMiniAppsData(e,n.pinnedPackageIds).forEach(n=>{n&&!l.h.isMiniappDisabled(n,e.miniappState.moduleVersion)&&(t||(t=[]),t.push(n))}),n.enabledPackages=t}return n}return null}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i.b})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return o.b}));var i=n(153),r=n(28),o=n(169),a=n(32);const s=r.q,c=(e=Object(i.b)(),t)=>{switch(t.type){case o.a.UPDATE_SESSION_PARAMS:e=Object.assign({},t.newSessionParams);break;case a.a.SET_MODULE_VERSION:e=Object.assign({},e,{moduleVersion:t.moduleVersionMap[s]});break;case o.a.ON_IOS_DIAGNOSTIC_DATA_RECEIVED:e=Object.assign({},e,{diagnosticData:t.diagnosticData})}return e};new class{},n(327)},function(e,t,n){var i=n(435),r=n(724);e.exports=function(e,t){return e&&i(e,r(t))}},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.UNKNOWN=-1]="UNKNOWN",e[e.None=0]="None",e[e.MOBILE_2G=1]="MOBILE_2G",e[e.MOBILE_3G=2]="MOBILE_3G",e[e.MOBILE_4G=3]="MOBILE_4G",e[e.WIFI=4]="WIFI"}(i||(i={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r,o,a,s=n(143),c=0;!function(e){e[e.Focus=1]="Focus",e[e.FocusFirst=2]="FocusFirst"}(a=t.FocusCandidateType||(t.FocusCandidateType={})),t.setSortAndFilterFunc=function(e){i=e};var l=function(){function e(e,t){this._candidates=[],this._pendingChildren={},this._id=++c,this._parentArbitratorProvider=e?e.context&&e.context.focusArbitrator||o:void 0,this._arbitratorCallback=t}return e.prototype._notifyParent=function(){this._parentArbitratorProvider&&(this._parentArbitratorProvider._pendingChildren["fa-"+this._id.toString()]=this,this._parentArbitratorProvider._notifyParent())},e.prototype._arbitrate=function(){var t=this,n=this._candidates;return Object.keys(this._pendingChildren).forEach((function(e){var i=t._pendingChildren[e]._arbitrate();i&&n.push(i)})),this._candidates=[],this._pendingChildren={},e._arbitrate(n,this._arbitratorCallback)},e.prototype._requestFocus=function(e,t,n,i){var r=e.props&&e.props.accessibilityId;this._candidates.push({component:e,focus:t,isAvailable:n,type:i,accessibilityId:r}),this._notifyParent()},e._arbitrate=function(e,t){e=e.filter((function(e){return e.isAvailable()})),i&&(e=i(e));for(var n=0;n<e.length;n++)if(e[n].type===a.FocusFirst)return e[n];if(t){var r=[];if(e.forEach((function(e){var t=e.component;t.focus&&t.blur&&t.requestFocus&&(t.__focusCandidateInternal=e,r.push({component:t,accessibilityId:e.accessibilityId}))})),r.length){var o=t(r),s=void 0;return o&&o.component&&o.component.__focusCandidateInternal&&(s=o.component.__focusCandidateInternal),r.forEach((function(e){delete e.component.__focusCandidateInternal})),s}}return e[e.length-1]},e.prototype.setCallback=function(e){this._arbitratorCallback=e},e.requestFocus=function(t,n,i,c){r&&s.default.clearTimeout(r),(t._focusArbitratorProvider instanceof e&&t._focusArbitratorProvider||t.context&&t.context.focusArbitrator||o)._requestFocus(t,n,i,c||a.Focus),r=s.default.setTimeout((function(){r=void 0;var e=o._arbitrate();e&&e.focus()}),0)},e}();t.FocusArbitratorProvider=l,o=new l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){if(!e)throw new Error(t||"Assertion Failed")}},function(e,t,n){var i=n(563),r=n(571),o=n(270),a=n(142),s=n(574);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?r(e[0],e[1]):i(e):s(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}},function(e,t,n){var i=n(365),r=n(215),o=n(367),a=n(248),s=n(369),c=n(73),l=Object.prototype.hasOwnProperty,u=o((function(e,t){if(s(t)||a(t))r(t,c(t),e);else for(var n in t)l.call(t,n)&&i(e,n,t[n])}));e.exports=u},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},function(e,t,n){e.exports=n(685)},function(e,t,n){"use strict";var i={};(0,n(218).assign)(i,n(707),n(710),n(480)),e.exports=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(139),r=n(11);const o=new class{constructor(){this.initialize=e=>{this.miniappLoadEvent=new i.a,this.miniappLoadEvent.initialize(e,!1)},this.recordConnectionChange=e=>{this.miniappLoadEvent&&this.miniappLoadEvent.isAlive()&&this.miniappLoadEvent.recordInternalEvent(e)},this.recordInternalEvent=(e,t,n)=>{this.miniappLoadEvent&&this.miniappLoadEvent.isAlive()&&this.miniappLoadEvent.equals(e)&&this.miniappLoadEvent.recordInternalEvent(t,n)},this.recordInternalEventStart=(e,t,n)=>{this.miniappLoadEvent&&this.miniappLoadEvent.isAlive()&&this.miniappLoadEvent.equals(e)&&this.miniappLoadEvent.recordInternalEventStart(t,n)},this.recordInternalEventEnd=(e,t)=>{this.miniappLoadEvent&&this.miniappLoadEvent.isAlive()&&this.miniappLoadEvent.equals(e)&&this.miniappLoadEvent.recordInternalEventEnd(t)},this.recordMiniappLoadComplete=(e,t,n)=>{if(!this.miniappLoadEvent||!this.miniappLoadEvent.isAlive()||!this.miniappLoadEvent.equals(e))return;const i=this.miniappLoadEvent.getEndTimeForEvent(r.b.DATA_FETCH);i&&this.miniappLoadEvent.recordInternalEvent(r.b.ACTION_MINIAPP_RENDER_TIME,this.miniappLoadEvent.getElapsedTime()-i),this.miniappLoadEvent.recordEnd(r.c.ACTION_LOAD,t,n)},this.isAlive=()=>this.miniappLoadEvent&&this.miniappLoadEvent.isAlive(),this.reset=()=>{this.miniappLoadEvent&&this.miniappLoadEvent.isAlive()&&this.miniappLoadEvent.reset()},this.hasRecord=e=>!(!this.miniappLoadEvent||!this.miniappLoadEvent.isAlive())&&this.miniappLoadEvent.hasRecord(e)}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var i,r,o=n(6);class a{static getRemainingTimeFromResponse(e){let t;if(!Object(o.g)(e[i.REMAINING_WAITING_TIME])){t=e[i.REMAINING_WAITING_TIME].substr(0,5)}return t}}!function(e){e.REMAINING_WAITING_TIME="rTime",e.INFO="info"}(i||(i={})),function(e){e.PIN_INVALID="Sorry, the pin is invalid.",e.PIN_EXPIRED="Sorry, the pin has expired."}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(350),r=n.n(i),o=n(0);class a extends o.Component{constructor(e){super(e),this.handleScroll=e=>{const t=this.getScrollableNodeOffset();"function"==typeof this.props.onScroll&&this.props.onScroll(t,e)},this.getFixedSizeNodeRef=e=>{this.fixedSizeNode=e},this.getScrollableNodeRef=e=>{this.scrollableNode=e},this.state={scrollableNodeSize:0},this.handleScroll=this.handleScroll.bind(this)}componentDidUpdate(e,t){const n=0|e.offset;this.scrollTo(n),this.props.itemCount!=e.itemCount&&this.adjustOffsetAndAnnounce()}render(){const{height:e,itemCount:t,renderItem:n}=this.props,i="horizontal"===this.props.scrollDirection?"row":"column",a=r()(0,t).map(e=>n(e)),s=this.props.paddingFlexStart?this.props.paddingFlexStart:0,c=this.props.paddingFlexEnd?this.props.paddingFlexEnd:0,l="horizontal"===this.props.scrollDirection?this.props.paddingStart:0,u="horizontal"===this.props.scrollDirection?this.props.paddingEnd:0,d="horizontal"!==this.props.scrollDirection?this.props.paddingStart:0,p="horizontal"!==this.props.scrollDirection?this.props.paddingEnd:0,h={position:"relative",flex:s},f={position:"relative",flex:c},g="horizontal"===this.props.scrollDirection?{position:"relative",overflowY:"hidden",overflowX:"auto",display:"flex",flexDirection:"column",flex:1}:{position:"relative",overflowY:"auto",overflowX:"hidden",display:"flex",flexDirection:"row",flex:1},m={overflow:"auto",willChange:"transform",WebkitOverflowScrolling:"touch",display:"flex",flex:1,height:e},E={position:"relative",flex:1,display:"flex",flexDirection:i,paddingBottom:u,paddingLeft:d,paddingRight:p,paddingTop:l},_={position:"relative",flex:1,display:"flex",flexDirection:i,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0};if(null!=this.props.numberOfColumns){const e=[];for(let t=0;t<this.props.itemCount;t+=this.props.numberOfColumns){let n=t+this.props.numberOfColumns;n>this.props.itemCount&&(n=this.props.itemCount),e.push(o.createElement("div",{key:t,style:Object.assign({},_)},a.slice(t,n)))}return o.createElement("div",{ref:this.getFixedSizeNodeRef,onScroll:this.handleScroll,style:Object.assign({},m)},o.createElement("div",{ref:this.getScrollableNodeRef,style:Object.assign({},g)},o.createElement("div",{style:Object.assign({},h)}),e,o.createElement("div",{style:Object.assign({},f)})))}return o.createElement("div",{ref:this.getFixedSizeNodeRef,onScroll:this.handleScroll,style:Object.assign({},m)},o.createElement("div",{ref:this.getScrollableNodeRef,style:Object.assign({},g)},o.createElement("div",{style:Object.assign({},h)}),o.createElement("div",{style:Object.assign({},E)},a),o.createElement("div",{style:Object.assign({},f)})))}getScrollSize(){return this.state.scrollableNodeSize}adjustOffsetAndAnnounce(){const e=this.state.scrollableNodeSize,t=this.scrollableNode.scrollHeight;e!=t&&(this.scrollTo(t-e),this.setState(Object.assign({},this.state,{scrollableNodeSize:t})),this.props.onScrollHeightChange(t))}scrollTo(e){this.scrollableNode.scrollTop=e}getScrollableNodeOffset(){return this.scrollableNode?this.scrollableNode.scrollTop:0}}},function(e,t,n){var i=n(247),r=n(484)((function(e,t,n){i(e,n,t)}));e.exports=r},,function(e,t,n){"use strict";function i(){return{qrCode:{qrCodeString:"^t1B)cfw@t'0U:pK~7H~Gk=MswJ]Wiz{_w}M;RIN$^R|#qT]0<qXR&/_ex_|K>MZ[JTM8]r0b?xRrE00zV3Rp'w)1DSA#?@@1:<o{[8sHhQgZ6(hek7<[Uih*J~9pD:r9yuU#lx1)9h3s_vIu#`y<N}sD?^F%]UHX;>:POYbei8a*LMRP~<9$#NdZN(bNk7#_bP+z)CbNz)#?1*[6NW2-p1s&%jwD/\"3XXJf0T|[<C:T8b&Ax,'$t0D2+7END"}}}n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return o}));var r=n(13);const o=new class{constructor(){this.insertQRCodeString=e=>new s(e)}};var a;!function(e){e.QRCODE_STRING_INSERT="qrcode/qrcode_string_insert"}(a||(a={}));class s extends r.c{constructor(e){super(a.QRCODE_STRING_INSERT),this.qrCodeString=e}}const c=(e={qrCode:{qrCodeString:"^t1B)cfw@t'0U:pK~7H~Gk=MswJ]Wiz{_w}M;RIN$^R|#qT]0<qXR&/_ex_|K>MZ[JTM8]r0b?xRrE00zV3Rp'w)1DSA#?@@1:<o{[8sHhQgZ6(hek7<[Uih*J~9pD:r9yuU#lx1)9h3s_vIu#`y<N}sD?^F%]UHX;>:POYbei8a*LMRP~<9$#NdZN(bNk7#_bP+z)CbNz)#?1*[6NW2-p1s&%jwD/\"3XXJf0T|[<C:T8b&Ax,'$t0D2+7END"}},t)=>{switch(t.type){case a.QRCODE_STRING_INSERT:{const n={qrCodeString:t.qrCodeString};e=Object.assign({},e,{qrCode:n});break}}return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i,r=n(290),o=n(65),a=n(68),s=n(17);class c{constructor(e,t){}getText(){return this.Text}setText(e){a.a.isEmptyString(e)||(this.Text=e)}getId(){return this.Id}setId(e){e>0&&(this.Id=e)}getPicUrl(){return this.PicUrl}setPicUrl(e){a.a.isEmptyString(e)||(this.PicUrl=e)}static fromJSON(e){const t=new c;return t.Id=e[s.a.ID],t.Text=e[s.a.ANS_TEXT],t.PicUrl=e[s.a.ANS_PIC],t}toJSON(){const e=JSON.parse("{}");return e[s.a.ID]=this.Id,e[s.a.ANS_TEXT]=this.Text,null!=this.PicUrl&&(e[s.a.ANS_PIC]=this.PicUrl),e}}!function(e){e[e.TEXT_ONLY=0]="TEXT_ONLY",e[e.TEXT_WITH_PIC=1]="TEXT_WITH_PIC"}(i||(i={}));class l extends r.a{constructor(){super(),this.mOptionDisplayMode=i.TEXT_ONLY,this.mOptions=[]}setOptionsCondition(e){this.mOptionsCondition=e}getOptionsCondition(){return this.mOptionsCondition}getOptionDisplayMode(){return this.mOptionDisplayMode}setOptionDisplayMode(e){this.mOptionDisplayMode=e}addOption(e){if(a.a.isEmptyString(e.PicUrl)&&this.mOptionDisplayMode==i.TEXT_WITH_PIC)throw new Error("The picture is not set for the question with Pic mode.");-1==this.mOptions.indexOf(e)&&this.mOptions.push(e)}getOptions(){return this.mOptions}getOption(e){return this.mOptions[e]}getOptionById(e){for(const t of this.mOptions)if(t.getId()===e)return t;return null}getOptionCount(){return this.mOptions.length}isMultiSelect(){return this.getQuestionType()==o.a.MultiSelect}addQuestionSpecificFields(e){if(null!=this.mOptions&&this.mOptions.length>0){const t=[];for(const e of this.mOptions)t.push(e.toJSON());e[s.a.ANS_OPTIONS]=t}else null!=this.mOptionsCondition&&(e[s.a.ANS_OPTIONS_CONDITION]=this.mOptionsCondition)}static fromJSON(e){const t=new l;r.a.fillQuestionFields(t,e);let n=i.TEXT_WITH_PIC;t.mOptions=[];const o=e[s.a.ANS_OPTIONS];if(null!=o&&o.length>0)for(const e of o){const r=c.fromJSON(e);a.a.isEmptyString(r.getPicUrl())&&(n=i.TEXT_ONLY),t.mOptions.push(r)}else e.hasOwnProperty(s.a.ANS_OPTIONS_CONDITION)&&(t.mOptionsCondition=e[s.a.ANS_OPTIONS_CONDITION],n=i.TEXT_ONLY);return t.setOptionDisplayMode(n),t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(172);t.AWTPropertyType=i.AWTPropertyType,t.AWTPiiKind=i.AWTPiiKind,t.AWTEventPriority=i.AWTEventPriority,t.AWTEventsDroppedReason=i.AWTEventsDroppedReason,t.AWTEventsRejectedReason=i.AWTEventsRejectedReason,t.AWTCustomerContentKind=i.AWTCustomerContentKind;var r=n(307);t.AWTUserIdType=r.AWTUserIdType,t.AWTSessionState=r.AWTSessionState;var o=n(460);t.AWT_BEST_EFFORT=o.AWT_BEST_EFFORT,t.AWT_NEAR_REAL_TIME=o.AWT_NEAR_REAL_TIME,t.AWT_REAL_TIME=o.AWT_REAL_TIME;var a=n(308);t.AWTEventProperties=a.default;var s=n(461);t.AWTLogger=s.default;var c=n(465);t.AWTLogManager=c.default;var l=n(669);t.AWTTransmissionManager=l.default;var u=n(463);t.AWTSerializer=u.default;var d=n(382);t.AWTSemanticContext=d.default,t.AWT_COLLECTOR_URL_UNITED_STATES="https://us.pipe.aria.microsoft.com/Collector/3.0/",t.AWT_COLLECTOR_URL_GERMANY="https://de.pipe.aria.microsoft.com/Collector/3.0/",t.AWT_COLLECTOR_URL_JAPAN="https://jp.pipe.aria.microsoft.com/Collector/3.0/",t.AWT_COLLECTOR_URL_AUSTRALIA="https://au.pipe.aria.microsoft.com/Collector/3.0/",t.AWT_COLLECTOR_URL_EUROPE="https://eu.pipe.aria.microsoft.com/Collector/3.0/",t.AWT_COLLECTOR_URL_USGOV_DOD="https://pf.pipe.aria.microsoft.com/Collector/3.0",t.AWT_COLLECTOR_URL_USGOV_DOJ="https://tb.pipe.aria.microsoft.com/Collector/3.0"},function(e,t,n){"use strict";function i(e){setTimeout((function(){throw e}),0)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(170),r=n(151);const o=new class{constructor(){this.handlers=[],this.has=(e,t)=>{for(const n of this.handlers)if(n.has(e,t))return!0;return i.a.has(e,t)}}handle(e){let t=!1;for(const n of this.handlers)n.handleMessage(e)&&(t=!0);t||i.a.send(e)}attachHandler(e){this.handlers.push(e)}cancel(e){let t=!1,n=!0;for(const i of this.handlers)n=i.cancelMessage(e),t=t||n;return n=i.a.remove(e,r.a.SEND_CANCELLED),t||n}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var i=n(4);function r(e,t){let n;const i=new Promise((t,i)=>{n=setTimeout(()=>{clearTimeout(n),i("Timed out in "+e+"ms.")},e)});return Promise.race([t,i]).then(e=>(clearTimeout(n),e))}function o(e,t,n){const r=(new Date).getTime();return i.b.infoWithNonPIIData(t,n+" started executing"),new Promise((o,a)=>{e.then(e=>{i.b.infoWithNonPIIData(t,n+" successfully completed in "+((new Date).getTime()-r)+" millis"),o(e)}).catch(e=>{i.b.errorWithNonPIIData(t,n+" failed in "+((new Date).getTime()-r)+" millis"),a(e)})})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var i=n(26),r=n(12),o=n(122),a=n(85),s=n(120),c=n(133);function l(e){const t=[];for(const n of e)if(Object(o.b)(n)==r.g.SYSTEM_ALBUM_ATTACHMENT&&n.content&&n.content.il){const e=n.content.il;for(const n of e)n.id&&t.push(n.id)}else t.push(n.id);return t}function u(){const e=s.e.getReactionsModuleVersion(i.a.getState());return e&&e>=c.b.REACTIONS_FULL_SUPPORT&&a.b.isFeatureEnabled(a.a.REACTIONS_SUPPORT)}},,function(e,t,n){"use strict";var i=n(183),r=n(4),o=n(103),a=n(75);class s extends o.a{constructor(e,t=!0){super(a.a.GET_SURVEY_SUMMARY),this.surveyId=e,this.isShortSummary=t}getCommandPayload(){return{id:this.surveyId,iss:this.isShortSummary}}getCommandType(){return a.c.GET_SURVEY_SUMMARY}getResponseErrorDetails(e){return"Unable to get survey summay. ErrorCode: "+e}getTimeout(){return 15e3}extractResult(e){}}var c=n(130),l=n(31),u=n(90),d=n(17),p=n(192),h=n.n(p);class f extends i.a{constructor(){super(),this.fetch=this.fetch.bind(this)}getDataFetchType(){return i.b.SURVEY_SUMMARY}onUpdate(e){const t={};e.forEach((e,n)=>{this.fetchCompleted(n);const i=this.getSummaryFromCommandResult(e),o=JSON.stringify(i);u.f.getSurveySummary(l.a.getState(),n)!==o&&(t[n]=i,r.b.infoWithPIIData(f.LOG_TAG,"summary updated for survey "+n,"old summary ",u.f.getSurveySummary(l.a.getState(),n),"updatedSummary",o))}),h()(t)||l.a.dispatch(u.c.storeSurveySummaries(t))}onError(e,t){r.b.errorWithNonPIIData(f.LOG_TAG,"error result received for",e,t.errorCode,t.message)}fetch(e){const t=new Map;return e.forEach(e=>{t.set(e,c.a.invokeAsync(new s(e,!1))),this.fetchInitiated(e)}),t}getSummaryFromCommandResult(e){const t=Object.assign({},e.getRespMessage(),{timestamp:e.getRespMessage().ts});return delete t.ts,null===t[d.a.SURVEY_AGGREGATED_SUMMARY_RESULT]&&null!==t[d.a.SURVEY_AGGREGATED_SUMMARY_RESULT_OLD]&&delete t[d.a.SURVEY_AGGREGATED_SUMMARY_RESULT],null!==t[d.a.SURVEY_AGGREGATED_SUMMARY_RESULT]&&null===t[d.a.SURVEY_AGGREGATED_SUMMARY_RESULT_OLD]&&delete t[d.a.SURVEY_AGGREGATED_SUMMARY_RESULT_OLD],t}}f.LOG_TAG="SummaryFetchClient";var g=n(76),m=n(152),E=n.n(m);t.a=new class{constructor(){this.LOG_TAG="DataFetchManager",this.registeredClientIds=new Map,this.dataFetchClients=new Map,this.dataFetchResults=new Map,this.onConnectionUpdate=e=>{r.b.debugWithNonPIIData(this.LOG_TAG,"onConnectionUpdate received",e),g.b.isConnected()?this.checkAndStartPeriodicFetch(!0):this.checkAndCancelScheduler(!1)},this.checkAndStartPeriodicFetch=e=>{let t=0;this.registeredClientIds.forEach((e,n)=>{t+=e.size}),e&&!this.schedulerId&&0!=t&&(r.b.infoWithNonPIIData(this.LOG_TAG,"fetch scheduled"),this.schedulerId=window.setInterval(this.fetchDataAndPropagateResults,5e3))},this.checkAndCancelScheduler=e=>{let t=0;this.registeredClientIds.forEach((e,n)=>{t+=e.size}),!this.schedulerId||e&&0!==t||(r.b.infoWithNonPIIData(this.LOG_TAG,"cancelled fetch scheduler"),clearInterval(this.schedulerId),this.schedulerId=null)},this.fetchDataAndPropagateResults=()=>{this.fetchDataForClients(),this.UpdateClientsWithResults()},this.dataFetchClients.set(i.b.SURVEY_SUMMARY,new f),this.dataFetchResults.set(i.b.SURVEY_SUMMARY,new Map),this.registeredClientIds.set(i.b.SURVEY_SUMMARY,new Set),g.b.registerOnConnectionEvent(this.onConnectionUpdate)}addDataFetchClient(e,t){r.b.debugWithNonPIIData(this.LOG_TAG,"registering client for",e,t),this.registeredClientIds.get(e).add(t),this.checkAndStartPeriodicFetch(g.b.isConnected())}removeDataFetchClient(e,t){r.b.debugWithNonPIIData(this.LOG_TAG,"unregistering client for",e,t),this.registeredClientIds.get(e).delete(t),0===this.registeredClientIds.get(e).size&&this.checkAndCancelScheduler(g.b.isConnected())}onAppForegroundStateChanged(e){r.b.debugWithNonPIIData(this.LOG_TAG,"onAppForegroundStateChanged received",e),e?this.checkAndStartPeriodicFetch(!0):this.checkAndCancelScheduler(!1)}UpdateClientsWithResults(){this.dataFetchResults.forEach((e,t)=>{0!==e.size&&(r.b.debugWithNonPIIData(this.LOG_TAG,"propagating results for clients ",E()(e.keys())),this.dataFetchClients.get(t).onUpdate(e),e.clear())})}fetchDataForClients(){this.registeredClientIds.forEach((e,t)=>{const n=this.dataFetchClients.get(t),i=new Set;if(e.forEach(e=>{n.shouldInitiateFetch(e)&&i.add(e)}),0===i.size)return void r.b.debugWithNonPIIData(this.LOG_TAG,"clientIdsForFetch size 0");r.b.debugWithNonPIIData(this.LOG_TAG,"summary being fetched for ",Array.from(i));n.fetch(i).forEach((e,i)=>{e.then(e=>{r.b.debugWithNonPIIData(this.LOG_TAG,"received fetch result for ",i),this.dataFetchResults.get(t).set(i,e)}).catch(e=>n.onError(i,e))})})}}},function(e,t,n){var i=n(538);e.exports=function(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var i=n(411),r=n(541);e.exports=function(e){return null!=e&&r(e.length)&&!i(e)}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var i=n(431),r=n(577);e.exports=function e(t,n,o,a,s){var c=-1,l=t.length;for(o||(o=r),s||(s=[]);++c<l;){var u=t[c];n>0&&o(u)?n>1?e(u,n-1,o,a,s):i(s,u):a||(s[s.length]=u)}return s}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(127),s=n(225),c=n(450),l=n(143),u=n(306),d=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.initListeners=function(){var e;window.addEventListener("keydown",(function(e){o=e.shiftKey})),window.addEventListener("keyup",(function(e){o=e.shiftKey})),document.body.addEventListener("focusout",(function(n){u.default.isNavigatingWithKeyboard()&&n.target!==document.body&&(e&&l.default.clearTimeout(e),t._skipFocusCheck?t._skipFocusCheck=!1:e=l.default.setTimeout((function(){e=void 0,!u.default.isNavigatingWithKeyboard()||t._currentFocusedComponent&&t._currentFocusedComponent.removed||document.activeElement&&document.activeElement!==document.body||t.focusFirst(o)}),100))}))},t.prototype.addFocusListenerOnComponent=function(e,t){try{var n=a.findDOMNode(e);n&&n.addEventListener("focus",t)}catch(e){}},t.prototype.removeFocusListenerFromComponent=function(e,t){try{var n=a.findDOMNode(e);n&&n.removeEventListener("focus",t)}catch(e){}},t.prototype.focusComponent=function(e){try{var n=a.findDOMNode(e);if(n&&n.focus)return t.setLastFocusedProgrammatically(n),n.focus(),!0}catch(e){}return!1},t.setLastFocusedProgrammatically=function(e){this._lastFocusedProgrammatically=e},t.getLastFocusedProgrammatically=function(e){var n=t._lastFocusedProgrammatically;return n&&e&&(t._lastFocusedProgrammatically=void 0),n},t._isComponentAvailable=function(e){return!e.accessibleOnly&&!e.removed&&!e.restricted&&0===e.limitedCount&&0===e.limitedCountAccessible},t._getFirstFocusable=function(e,n){var i=Object.keys(t._allFocusableComponents).filter((function(e){return!n||e in n._myFocusableComponentIds})).map((function(e){return t._allFocusableComponents[e]})).filter(t._isComponentAvailable).map((function(e){return{storedComponent:e,el:a.findDOMNode(e.component)}})).filter((function(e){return e.el&&e.el.focus&&(e.el.tabIndex||0)>=0&&!e.el.disabled}));if(i.length)return i.sort((function(e,t){return e===t?0:e.el.compareDocumentPosition(t.el)&document.DOCUMENT_POSITION_PRECEDING?1:-1})),i[e?i.length-1:0]},t.focusFirst=function(e){var n=t._getFirstFocusable(e);if(n){var i=n.storedComponent;s.FocusArbitratorProvider.requestFocus(i.component,(function(){t.setLastFocusedProgrammatically(n.el),n.el.focus()}),(function(){return t._isComponentAvailable(i)}),s.FocusCandidateType.FocusFirst)}},t.prototype.resetFocus=function(e){if(t._resetFocusTimer&&(l.default.clearTimeout(t._resetFocusTimer),t._resetFocusTimer=void 0),u.default.isNavigatingWithKeyboard()&&e){var n=t._getFirstFocusable(!1,t._currentRestrictionOwner);if(n){var i=n.storedComponent;s.FocusArbitratorProvider.requestFocus(i.component,(function(){t.setLastFocusedProgrammatically(n.el),n.el.focus()}),(function(){return t._isComponentAvailable(i)}),s.FocusCandidateType.FocusFirst)}}else"undefined"!=typeof document&&document.body&&document.body.focus&&document.body.blur&&(t._resetFocusTimer=l.default.setTimeout((function(){t._resetFocusTimer=void 0;var e=t._currentFocusedComponent;if(!e||e.removed||e.restricted){var n=t._setTabIndex(document.body,-1);t.setLastFocusedProgrammatically(document.body),document.body.focus(),document.body.blur(),t._setTabIndex(document.body,n)}}),100))},t.prototype._updateComponentFocusRestriction=function(e){var n=!!(e.restricted||e.limitedCount>0)||void 0,i=n||e.limitedCountAccessible>0?-1:void 0,r=void 0===i;if(e.curTabIndex!==i||e.curAriaHidden!==n){var o=a.findDOMNode(e.component);if(o){if(e.curTabIndex!==i)if(e.curTabIndex=i,r)t._setTabIndex(o,e.origTabIndex);else{var s=t._setTabIndex(o,i);"origTabIndex"in e||(e.origTabIndex=s)}if(e.curAriaHidden!==n)if(e.curAriaHidden=n,r)t._setAriaHidden(o,e.origAriaHidden);else{var c=t._setAriaHidden(o,n?"true":void 0);"origAriaHidden"in e||(e.origAriaHidden=c)}r&&(delete e.origTabIndex,delete e.origAriaHidden)}t._callFocusableComponentStateChangeCallbacks(e,!r)}},t._setTabIndex=function(e,n){t._setTabIndexTimer&&e===t._setTabIndexElement&&(l.default.clearTimeout(t._setTabIndexTimer),t._setTabIndexTimer=void 0,t._setTabIndexElement=void 0);var i=e.hasAttribute("tabindex")?e.tabIndex:void 0;return void 0===n?void 0!==i&&e.removeAttribute("tabindex"):n!==i&&(-1===n&&e===document.activeElement?(t._setTabIndexTimer&&(t._setTabIndexElement.tabIndex=-1,l.default.clearTimeout(t._setTabIndexTimer),t._setTabIndexTimer=void 0,t._setTabIndexElement=void 0),t._setTabIndexElement=e,t._setTabIndexTimer=l.default.setTimeout((function(){e.tabIndex=n,e===t._setTabIndexElement&&(t._setTabIndexTimer=void 0,t._setTabIndexElement=void 0)}),0)):e.tabIndex=n),i},t._setAriaHidden=function(e,t){var n=e.hasAttribute("aria-hidden")&&e.getAttribute("aria-hidden")||void 0;return void 0===t?void 0!==n&&e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",t),n},t.sortAndFilterAutoFocusCandidates=function(e){return e.filter((function(e){var n=e.component.focusableComponentId;if(n){var i=t._allFocusableComponents[n];if(i&&(i.removed||i.limitedCount>0||i.limitedCountAccessible>0))return!1}return!0})).map((function(e){return{candidate:e,el:a.findDOMNode(e.component)}})).sort((function(e,t){return e===t?0:e.el.compareDocumentPosition(t.el)&document.DOCUMENT_POSITION_PRECEDING?1:-1})).map((function(e){return e.candidate}))},t}(c.FocusManager);t.FocusManager=d,t.applyFocusableComponentMixin=function(e,t){c.applyFocusableComponentMixin(e,t);var n=e.prototype.focus;n&&(e.prototype.focus=function(){try{var e=a.findDOMNode(this);e&&d.setLastFocusedProgrammatically(e)}catch(e){}n.apply(this,arguments)})},"undefined"!=typeof document&&"undefined"!=typeof window&&d.initListeners(),t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.addNotificationListener=function(e){this.listeners.push(e)},e.removeNotificationListener=function(e){for(var t=this.listeners.indexOf(e);t>-1;)this.listeners.splice(t,1),t=this.listeners.indexOf(e)},e.eventsSent=function(e){for(var t=this,n=function(n){i.listeners[n].eventsSent&&setTimeout((function(){return t.listeners[n].eventsSent(e)}),0)},i=this,r=0;r<this.listeners.length;++r)n(r)},e.eventsDropped=function(e,t){for(var n=this,i=function(i){r.listeners[i].eventsDropped&&setTimeout((function(){return n.listeners[i].eventsDropped(e,t)}),0)},r=this,o=0;o<this.listeners.length;++o)i(o)},e.eventsRetrying=function(e){for(var t=this,n=function(n){i.listeners[n].eventsRetrying&&setTimeout((function(){return t.listeners[n].eventsRetrying(e)}),0)},i=this,r=0;r<this.listeners.length;++r)n(r)},e.eventsRejected=function(e,t){for(var n=this,i=function(i){r.listeners[i].eventsRejected&&setTimeout((function(){return n.listeners[i].eventsRejected(e,t)}),0)},r=this,o=0;o<this.listeners.length;++o)i(o)},e.listeners=[],e}();t.default=i},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s}));var i=n(11),r=n(139);const o=new r.a(i.c.CHAT_PALETTE_LOAD,"LOAD"),a=new r.a(i.c.PEOPLE_LIST_LOAD,"LOAD"),s=new r.a(i.c.WA_NEW_GROUP_LIST_LOAD,"LOAD")},function(e,t,n){var i=n(424),r=n(227),o=n(249),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var c=null==n?0:o(n);return c<0&&(c=a(s+c,0)),i(e,r(t,3),c)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var i=n(13);const r=new class{constructor(){this.uploadDeviceLogs=e=>new a(e),this.updateIssueState=(e,t)=>new s(e,t)}};var o;!function(e){e.UPLOAD_DEVICE_LOGS="reportAnIssue/upload_device_logs",e.UPDATE_ISSUE_STATE="reportAnIssue/update_issue_state"}(o||(o={}));class a extends i.c{constructor(e){super(o.UPLOAD_DEVICE_LOGS),this.incidenceId=e}}class s extends i.c{constructor(e,t){super(o.UPDATE_ISSUE_STATE),this.uuid=e,this.issueState=t}}},function(e,t,n){"use strict";e.exports=n(678)},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(0),r=n(3),o=n(7),a=n(8),s=n(21),c=n(1),l=n(9);class u extends i.PureComponent{render(){const e=c.getString("JSDownloadFailedText");return i.createElement(r.View,{style:{flexDirection:"row",flex:1,backgroundColor:s.a.ChatCanvasBg,alignItems:"center"}},i.createElement(r.View,{style:{flexDirection:"column",flex:1,alignItems:"center"}},i.createElement(r.Image,{source:o.a.UnCompatibleDeviceViewIcon,style:{height:204,width:268,flex:.4}}),i.createElement(l.a,{style:Object.assign({},a.a.ExtraLargeTextStyle,{color:s.a.MIDNIGHT_BLUE,letterSpacing:1}),text:e})))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(108);class r{constructor(e){this.id=e.id,this.conversationId=e.conversationId,this.sender=e.from,this.type=e.type,this.timestamp=e.timestamp,this.serverTimestamp=e.ts?(e.ts-r.TICKS_AT_EPOCH)/1e4:this.timestamp,this.subType=null,this.hostConversationId=Object(i.b)(e),this.webMessageSequenceNumber=e.wsn,this.deSerialize(e)}getHostConversationId(){return this.hostConversationId}deSerialize(e){this.deSerializeMessageSpecificContent(e)}deSerializeMessageSpecificContent(e){}}r.TICKS_AT_EPOCH=621355968e9},function(e,t,n){var i=n(445);e.exports=function(e){return e&&e.length?i(e):[]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(63),r=n(1);function o(){return i.c({message:Object(r.getString)("ComingSoonMessage"),title:Object(r.getString)("ComingSoonTitle"),acceptButtonText:Object(r.getString)("OkButtonText"),isLightDismiss:!0})}},,,,function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return m})),function(e){e[e.LOCAL_STORAGE=1]="LOCAL_STORAGE",e[e.SESSION_STORAGE=2]="SESSION_STORAGE",e[e.IN_MEMORY=3]="IN_MEMORY"}(i||(i={}));var r=n(34),o=n(43),a=n(58),s=n(61);class c{constructor(e,t,n,r){this.nameSpace=e,this.baseKey=t,this.maxSize=n,this.storage=r,r===i.LOCAL_STORAGE?this.storageHelper=s.a:r===i.SESSION_STORAGE&&(this.storageHelper=s.b);const o=this.storageHelper.getData(this.getFrontCursorKey(),this.nameSpace),a=this.storageHelper.getData(this.getRearCursorKey(),this.nameSpace);this.rearCursor=o?Number(o):0,this.frontCursor=a?Number(a):0}storeData(e){try{this.storageHelper.setData(this.getFrontDataKey(),e,this.nameSpace)&&(this.rearCursor=(this.rearCursor+1)%this.maxSize,this.storageHelper.setData(this.getFrontCursorKey(),this.rearCursor,this.nameSpace),this.rearCursor===this.frontCursor&&(this.frontCursor=(this.frontCursor+1)%this.maxSize,this.storageHelper.setData(this.getRearCursorKey(),this.frontCursor,this.nameSpace)))}catch(e){a.a.recordEvent(r.b.ERROR,{TAG:"CyclicBufferStorageImpl",SUFFIX:o.a.stringify(e)})}}getData(e=-1,t=!1){const n=[],i=this.getEndCursor(e);for(let e=this.frontCursor;e!=i&&e!=this.rearCursor;e=(e+1)%this.maxSize){const i=this.getKey(e),r=this.storageHelper.getData(i,this.nameSpace);t&&(this.storageHelper.removeData(i,this.nameSpace),this.frontCursor=(e+1)%this.maxSize,this.storageHelper.setData(this.getRearCursorKey(),this.frontCursor,this.nameSpace)),r&&n.push(r)}return n}flushData(e=-1){const t=this.getEndCursor(e);for(let e=this.frontCursor;e<t;e=(e+1)%this.maxSize){const t=this.getKey(e);this.storageHelper.removeData(t,this.nameSpace),this.storageHelper.setData(this.getRearCursorKey(),this.frontCursor,this.nameSpace)}}getEndCursor(e){return e<0?this.rearCursor:(this.frontCursor+e)%this.maxSize}getFrontCursorKey(){return this.getKey(c.REAR_CURSOR_KEY)}getRearCursorKey(){return this.getKey(c.FRONT_CURSOR_KEY)}getFrontDataKey(){return this.getKey(String(this.rearCursor))}getRearDataKey(){return this.getKey(String(this.frontCursor))}getKey(e){return this.baseKey+"_"+e}}c.FRONT_CURSOR_KEY="front_cursor",c.REAR_CURSOR_KEY="rear_cursor",c.LOG_TAG="CyclicBufferStorageImpl";var l=n(194),u=n.n(l),d=n(232),p=n(20),h=n(25),f=n(81),g=n(4);class m{static initialize(){s.a.checkLocalStorageSupported()?(m.logsStorage=new c(m.NAME_SPACE,m.LOGS_BASE_KEY,p.isProdMode?m.LOGS_LIMIT:m.DEV_MODE_LOGS_LIMIT,i.SESSION_STORAGE),p.isProdMode?g.b.registerOnLog(m.storeLog,m.LOGS_LEVEL):g.b.registerOnLog(m.storeLog,m.DEV_MODE_LOGS_LEVEL)):g.b.errorWithNonPIIData(this.LOG_TAG,"localStorage is not supported")}static getLogs(){let e="Time Stamp \t LogLevel \t Tag \t Payload (rest all columns) \n";e+="Log File generation time: \t"+u()().format("YYYY-MM-DD_HH:mm:ss:sss_Z")+"\n",e+="Browser Details: \t"+o.a.stringify(Object(f.a)())+"\n",e+="Device App version: \t"+h.c.getDeviceAppClientVersion()+"\n",e+="Device network type: \t"+h.c.getValue(h.a.DEVICE_NETWORK_TYPE)+"\n",e+="DeviceId: \t"+h.c.getDeviceId()+"\n",e+="DeviceModel: \t"+h.c.getDeviceModel()+"\n",e+="DeviceOS: \t"+h.c.getDeviceOs()+"\n",e+="DeviceOSVersion: \t"+h.c.getDeviceOsVersion()+"\n",e+="ServerEnv: \t"+p.serverEnv+"\n",e+="SiteHostUrl: \t"+p.siteHostUrl+"\n",e+="UId: \t"+h.c.getUserId()+"\n",e+="User Agent: \t"+o.a.stringify(Object(f.b)())+"\n",e+="WebId: \t"+h.c.getWebId()+"\n",e+="WebVersion: \t"+p.webAppVersion+"\n",e+="Connectivity Statistics: \t"+o.a.stringify(h.c.getConnectionStatistics())+"\n",e+="\n";return m.logsStorage.getData().forEach(t=>{if("string"==typeof t&&"$"===t.charAt(0)){const n=atob(t.slice(1));e+=Object(d.inflate)(n,{to:"string"})+"\n"}else e+=o.a.stringify(t)+"\n"}),e}static storeLog(e,t,n,...i){const r=o.a.stringify(i);p.isProdMode&&r.length>m.MAX_LOG_MESSAGE_SIZE&&r.substring(0,m.MAX_LOG_MESSAGE_SIZE);const a=o.a.stringify(e)+"\t"+o.a.stringify(g.a[t])+"\t"+o.a.stringify(n)+"\t"+r;if(p.isProdMode)m.logsStorage.storeData(a);else{const e="$"+btoa(Object(d.gzip)(a,{to:"string"}));e.length<a.length?m.logsStorage.storeData(e):m.logsStorage.storeData(a)}}}m.LOG_TAG="ReportAnIssueTracker",m.NAME_SPACE="logs",m.LOGS_BASE_KEY="report_an_issue",m.LOGS_LIMIT=3e3,m.DEV_MODE_LOGS_LIMIT=3e3,m.LOGS_LEVEL=g.a.INFO,m.DEV_MODE_LOGS_LEVEL=g.a.DEBUG,m.MAX_LOG_MESSAGE_SIZE=5e3},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(160),r=n(241),o={closed:!0,next:function(e){},error:function(e){if(i.a.useDeprecatedSynchronousErrorHandling)throw e;Object(r.a)(e)},complete:function(){}}},function(e,t,n){"use strict";var i=n(257),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return i.isMemo(e)?a:s[e.$$typeof]||r}s[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[i.Memo]=a;var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,i){if("string"!=typeof n){if(f){var r=h(n);r&&r!==f&&e(t,r,i)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=c(t),g=c(n),m=0;m<a.length;++m){var E=a[m];if(!(o[E]||i&&i[E]||g&&g[E]||s&&s[E])){var _=p(n,E);try{l(t,E,_)}catch(e){}}}}return t}},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.UNDEFINED=0]="UNDEFINED",e[e.SERVER_PERSISTENT=1]="SERVER_PERSISTENT",e[e.RELIABLE=2]="RELIABLE",e[e.SENT_ACK_NEEDED=4]="SENT_ACK_NEEDED",e[e.DELIVERY_ACK_NEEDED=8]="DELIVERY_ACK_NEEDED",e[e.READ_ACK_NEEDED=16]="READ_ACK_NEEDED",e[e.VISIBLE=32]="VISIBLE",e[e.CLIENT_PERSISTENT=64]="CLIENT_PERSISTENT",e[e.SEND_PUSH_NOTIFICATION=128]="SEND_PUSH_NOTIFICATION",e[e.SEND_MESSAGE_SUBGROUPS=256]="SEND_MESSAGE_SUBGROUPS",e[e.AGGREGATE_RESPONSE=512]="AGGREGATE_RESPONSE",e[e.SYSTEM_GENERATED_MESSAGE=1024]="SYSTEM_GENERATED_MESSAGE",e[e.SEND_MESSAGE_TO_ALL_SUBSCRIBERS=2048]="SEND_MESSAGE_TO_ALL_SUBSCRIBERS",e[e.SET_DELETED=4096]="SET_DELETED"}(i||(i={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(127),o=n(143),a=n(408),s=n(609),c=function(){function e(){var e=this;this._modalStack=[],this._activePopupAutoDismiss=!1,this._activePopupAutoDismissDelay=0,this._activePopupShowDelay=0,this._cachedPopups=[],this._isRtlDefault="undefined"!=typeof document&&void 0!==document.documentElement&&"rtl"===document.documentElement.dir,this._isRtlAllowed=!0,this._isRtlForced=!1,this._shouldPopupBeDismissed=function(t){return!!e._activePopupOptions&&e._activePopupOptions.getAnchor()===t.getAnchor()}}return e.prototype.setMainView=function(e){this._mainView=e,this._renderRootView()},e.prototype.isModalDisplayed=function(e){return e?this._modalStack.some((function(t){return t.id===e})):this._modalStack.length>0},e.prototype.showModal=function(e,t,n){this._activePopupOptions&&this.dismissPopup(this._activePopupId),this._modalStack.push({modal:e,id:t}),this._renderRootView()},e.prototype.dismissModal=function(e){this._modalStack=this._modalStack.filter((function(t){return t.id!==e})),this._renderRootView()},e.prototype.dismissAllModals=function(){this._modalStack.length>0&&(this._modalStack=[],this._renderRootView())},e.prototype._updateModalDisplayedState=function(){a.default.setModalIsDisplayed(this.isModalDisplayed())},e.prototype.showPopup=function(e,t,n){return e.dismissIfShown&&this._shouldPopupBeDismissed(e)?(this.dismissPopup(t),!1):(this._showPopup(e,t,n),!0)},e.prototype._showPopup=function(e,t,n){var i=this;this._cachedPopups=this._cachedPopups.filter((function(e){return e.popupId!==t})),this._activePopupOptions&&this._activePopupOptions.cacheable&&this._activePopupId!==t&&(this._cachedPopups.push({popupOptions:this._activePopupOptions,popupId:this._activePopupId}),this._cachedPopups=this._cachedPopups.slice(-4));var r=this._activePopupOptions;this._activePopupOptions=e,this._activePopupId=t,this._activePopupAutoDismiss=!1,this._activePopupAutoDismissDelay=0,this._activePopupShowDelay=n||0,this._popupShowDelayTimer&&(o.default.clearTimeout(this._popupShowDelayTimer),this._popupShowDelayTimer=void 0),this._activePopupShowDelay>0&&(this._popupShowDelayTimer=o.default.setTimeout((function(){i._activePopupShowDelay=0,i._popupShowDelayTimer=void 0,i._renderRootView()}),this._activePopupShowDelay)),r&&r.onDismiss&&r.onDismiss(),this._renderRootView()},e.prototype.autoDismissPopup=function(e,t){e===this._activePopupId&&this._activePopupOptions&&(this._popupShowDelayTimer&&(o.default.clearTimeout(this._popupShowDelayTimer),this._popupShowDelayTimer=void 0),this._activePopupAutoDismiss=!0,this._activePopupAutoDismissDelay=t||0,this._renderRootView())},e.prototype.dismissPopup=function(e){if(e===this._activePopupId&&this._activePopupOptions){this._popupShowDelayTimer&&(o.default.clearTimeout(this._popupShowDelayTimer),this._popupShowDelayTimer=void 0),this._activePopupOptions.cacheable&&(this._cachedPopups.push({popupOptions:this._activePopupOptions,popupId:this._activePopupId}),this._cachedPopups=this._cachedPopups.slice(-4));var t=this._activePopupOptions;this._activePopupOptions=void 0,this._activePopupId=void 0,t.onDismiss&&t.onDismiss(),this._renderRootView()}},e.prototype.dismissAllPopups=function(){this._activePopupId&&this.dismissPopup(this._activePopupId)},e.prototype._renderRootView=function(){var e=this,t=this._modalStack.length>0?this._modalStack[this._modalStack.length-1].modal:void 0,n=!this._activePopupOptions||this._activePopupShowDelay>0?void 0:{popupOptions:this._activePopupOptions,popupId:this._activePopupId};this._updateModalDisplayedState();var o=i.createElement(s.RootView,{mainView:this._mainView,keyBoardFocusOutline:this._mainView.props.keyBoardFocusOutline,mouseFocusOutline:this._mainView.props.mouseFocusOutline,modal:t,activePopup:n,cachedPopup:this._cachedPopups,autoDismiss:this._activePopupAutoDismiss,autoDismissDelay:this._activePopupAutoDismissDelay,onDismissPopup:function(){return e.dismissPopup(e._activePopupId)},writingDirection:this._isRtlForced?"rtl":this._isRtlAllowed?"auto":"ltr"}),a=document.getElementsByClassName("app-container")[0];r.render(o,a)},e.prototype.isPopupDisplayed=function(e){return e?e===this._activePopupId:!!this._activePopupId},e.prototype.allowRTL=function(e){this._isRtlAllowed!==e&&(this._isRtlAllowed=e,this._renderRootView())},e.prototype.forceRTL=function(e){this._isRtlForced!==e&&(this._isRtlForced=e,this._renderRootView())},e.prototype.isRTL=function(){return this._isRtlForced||this._isRtlDefault&&this._isRtlAllowed},e}();t.FrontLayerViewManager=c,t.default=new c},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var i=n(546),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();e.exports=o},function(e,t){e.exports=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var i=n(248),r=n(275);e.exports=function(e){return r(e)&&i(e)}},function(e,t,n){"use strict";var i,r,o,a=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var s=n(614),c=n(109),l=n(141),u=((r={})[c.Types.AccessibilityTrait.None]="presentation",r[c.Types.AccessibilityTrait.Button]="button",r[c.Types.AccessibilityTrait.Link]="link",r[c.Types.AccessibilityTrait.Header]="heading",r[c.Types.AccessibilityTrait.Search]="search",r[c.Types.AccessibilityTrait.Image]="img",r[c.Types.AccessibilityTrait.Summary]="region",r[c.Types.AccessibilityTrait.Adjustable]="slider",r[c.Types.AccessibilityTrait.Menu]="menu",r[c.Types.AccessibilityTrait.MenuItem]="menuitem",r[c.Types.AccessibilityTrait.MenuBar]="menubar",r[c.Types.AccessibilityTrait.Tab]="tab",r[c.Types.AccessibilityTrait.TabList]="tablist",r[c.Types.AccessibilityTrait.List]="list",r[c.Types.AccessibilityTrait.ListItem]="listitem",r[c.Types.AccessibilityTrait.ListBox]="listbox",r[c.Types.AccessibilityTrait.Group]="group",r[c.Types.AccessibilityTrait.CheckBox]="checkbox",r[c.Types.AccessibilityTrait.ComboBox]="combobox",r[c.Types.AccessibilityTrait.Log]="log",r[c.Types.AccessibilityTrait.Status]="status",r[c.Types.AccessibilityTrait.Dialog]="dialog",r[c.Types.AccessibilityTrait.Switch]="switch",r),d=((o={})[c.Types.AccessibilityLiveRegion.None]="off",o[c.Types.AccessibilityLiveRegion.Assertive]="assertive",o[c.Types.AccessibilityLiveRegion.Polite]="polite",o),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.accessibilityLiveRegionToString=function(e){if(e)return d[e]},t.prototype.accessibilityTraitToString=function(e,t){var n=t?[t]:[];return e&&(n=l.union(n,Array.isArray(e)?e:[e])),n.length>0?u[l.max(l.filter(n,(function(e){return u.hasOwnProperty(e)})))]:void 0},t.prototype.accessibilityTraitToAriaSelected=function(e){if(e&&Array.isArray(e)&&-1!==e.indexOf(c.Types.AccessibilityTrait.Tab))return-1!==e.indexOf(c.Types.AccessibilityTrait.Selected)},t.prototype.accessibilityTraitToAriaChecked=function(e){if(e&&Array.isArray(e)&&-1!==e.indexOf(c.Types.AccessibilityTrait.CheckBox))return-1!==e.indexOf(c.Types.AccessibilityTrait.Checked)},t.prototype.accessibilityTraitToAriaHasPopup=function(e){if(e&&Array.isArray(e)&&-1!==e.indexOf(c.Types.AccessibilityTrait.HasPopup))return-1!==e.indexOf(c.Types.AccessibilityTrait.HasPopup)},t}(s.AccessibilityUtil);t.AccessibilityUtil=p,t.default=new p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(460),r=n(172),o=n(657),a=n(462),s=n(308),c=n(465),l=n(217),u=function(){function e(){}return e.setEventsHandler=function(e){this._eventHandler=e},e.getEventsHandler=function(){return this._eventHandler},e.scheduleTimer=function(){var e=this,t=this._profiles[this._currentProfile][2];this._timeout<0&&t>=0&&!this._paused&&(this._eventHandler.hasEvents()?(0===t&&this._currentBackoffCount>0&&(t=1),this._timeout=setTimeout((function(){return e._batchAndSendEvents()}),t*(1<<this._currentBackoffCount)*1e3)):this._timerCount=0)},e.initialize=function(e){var t=this;this._newEventsAllowed=!0,this._config=e,this._eventHandler=new o.default(e.collectorUri,e.cacheMemorySizeLimitInNumberOfEvents,e.httpXHROverride,e.clockSkewRefreshDurationInMins),this._initializeProfiles(),a.default.initialize((function(e,n){if(t._config.canSendStatEvent("awt_stats")){var i=new s.default("awt_stats");for(var o in i.setEventPriority(r.AWTEventPriority.High),i.setProperty("TenantId",n),e)e.hasOwnProperty(o)&&i.setProperty(o,e[o].toString());c.default.getLogger(l.StatsApiKey).logEvent(i)}}))},e.setTransmitProfile=function(e){this._currentProfile!==e&&void 0!==this._profiles[e]&&(this.clearTimeout(),this._currentProfile=e,this.scheduleTimer())},e.loadTransmitProfiles=function(e){for(var t in this._resetTransmitProfiles(),e)if(e.hasOwnProperty(t)){if(3!==e[t].length)continue;for(var n=2;n>=0;--n)if(e[t][n]<0){for(var i=n;i>=0;--i)e[t][i]=-1;break}for(n=2;n>0;--n)if(e[t][n]>0&&e[t][n-1]>0){var r=e[t][n-1]/e[t][n];e[t][n-1]=Math.ceil(r)*e[t][n]}this._profiles[t]=e[t]}},e.sendEvent=function(e){this._newEventsAllowed&&(this._currentBackoffCount>0&&e.priority===r.AWTEventPriority.Immediate_sync&&(e.priority=r.AWTEventPriority.High),this._eventHandler.addEvent(e),this.scheduleTimer())},e.flush=function(e){var t=(new Date).getTime();!this._paused&&this._lastUploadNowCall+3e4<t&&(this._lastUploadNowCall=t,this._timeout>-1&&(clearTimeout(this._timeout),this._timeout=-1),this._eventHandler.uploadNow(e))},e.pauseTransmission=function(){this._paused||(this.clearTimeout(),this._eventHandler.pauseTransmission(),this._paused=!0)},e.resumeTransmision=function(){this._paused&&(this._paused=!1,this._eventHandler.resumeTransmission(),this.scheduleTimer())},e.flushAndTeardown=function(){a.default.teardown(),this._newEventsAllowed=!1,this.clearTimeout(),this._eventHandler.teardown()},e.backOffTransmission=function(){this._currentBackoffCount<4&&(this._currentBackoffCount++,this.clearTimeout(),this.scheduleTimer())},e.clearBackOff=function(){this._currentBackoffCount>0&&(this._currentBackoffCount=0,this.clearTimeout(),this.scheduleTimer())},e._resetTransmitProfiles=function(){this.clearTimeout(),this._initializeProfiles(),this._currentProfile=i.AWT_REAL_TIME,this.scheduleTimer()},e.clearTimeout=function(){this._timeout>0&&(clearTimeout(this._timeout),this._timeout=-1,this._timerCount=0)},e._batchAndSendEvents=function(){var e=r.AWTEventPriority.High;this._timerCount++,this._timerCount*this._profiles[this._currentProfile][2]===this._profiles[this._currentProfile][0]?(e=r.AWTEventPriority.Low,this._timerCount=0):this._timerCount*this._profiles[this._currentProfile][2]===this._profiles[this._currentProfile][1]&&(e=r.AWTEventPriority.Normal),this._eventHandler.sendEventsForPriorityAndAbove(e),this._timeout=-1,this.scheduleTimer()},e._initializeProfiles=function(){this._profiles={},this._profiles[i.AWT_REAL_TIME]=[4,2,1],this._profiles[i.AWT_NEAR_REAL_TIME]=[12,6,3],this._profiles[i.AWT_BEST_EFFORT]=[36,18,9]},e._newEventsAllowed=!1,e._currentProfile=i.AWT_REAL_TIME,e._timeout=-1,e._currentBackoffCount=0,e._paused=!1,e._timerCount=0,e._lastUploadNowCall=0,e}();t.default=u},function(e,t,n){var i=n(114),r=n(736);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};i(r,o);e.exports=r.locals||{}},,,,,function(e,t,n){"use strict";function i(e){return"function"==typeof e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(53),r=n(99),o=n(126),a=n(12),s=n(62),c=n(164),l=n.n(c);class u extends r.a{static create(e,t,n,r,o,c){const l=i.a.getCurrentActualTime(),d={content:{text:o,cmtdt:u.serializeContentMetadata(c)},conversationId:t,flags:255,from:n,id:e,isReceiveMimicked:!1,mp:"",srt:0,timestamp:l,to:r,type:a.h.GENERIC_MESSAGE,version:3,messageState:s.a.UNSYNCED_TO_DEVICE,contentHeader:{msgSubType:a.g.ENHANCED_TEXT}};return new u(d)}static serializeContentMetadata(e){return l()(e).map(e=>e.serialize())}constructor(e){super(e)}serializeMessageContentForServer(){return{text:this.text,cmtdt:u.serializeContentMetadata(this.messageContentMetadata)}}getReplyToContent(){const e=super.getReplyToContent();return Object.assign({},e,{mp:this.text})}getReplyToMetadata(){return this.messageContentMetadata[o.b.REPLY_TO]}getPreviewURL(){return this.messageContentMetadata[o.b.URL_PREVIEW]}getAtMentionData(){return this.messageContentMetadata[o.b.AT_MENTION]}toRawContent(){return{text:this.text,cmtdt:u.serializeContentMetadata(this.messageContentMetadata)}}deSerializeMessageSpecificContent(e){this.text=e.content.text,this.messageContentMetadata={};e.content.cmtdt.forEach(e=>{switch(e.type){case o.b.URL_PREVIEW:this.messageContentMetadata[e.type]=o.d.fromProps(e);break;case o.b.AT_MENTION:this.messageContentMetadata[e.type]=o.a.fromProps(e);break;case o.b.REPLY_TO:this.messageContentMetadata[e.type]=o.c.fromProps(e)}})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(12),r=n(62),o=n(53),a=n(1),s=n(193);class c extends s.a{static create(e,t,n,a,s){const l={content:s,conversationId:t,flags:255,from:n,id:e,isReceiveMimicked:!1,mp:"",srt:0,timestamp:o.a.getCurrentActualTime(),to:a,type:i.h.IMAGE_ATTACHMENT,version:3,messageState:r.a.UNSYNCED_TO_DEVICE,contentHeader:{msgSubType:null}};return new c(l)}constructor(e){super(e)}serializeMessageContentForServer(){const e=super.serializeMessageContentForServer();return Object.assign({},e,{h:this.imgHeight,w:this.imgWidth,t:this.thumbnail,afn:this.localFileObj.name})}getReplyToContent(){const e=super.getReplyToContent(),t=this.getMessageTitleOrType();return Object.assign({},e,{mp:t,tib:this.thumbnail})}getCaption(){return super.getCaption()}getMessageTitle(){return a.getString("ImageAttachmentCaption")}getMessageTitleOrType(){let e=this.getMessageTitle();return this.getCaption()&&(e=e+" - "+this.getCaption()),e}toRawContent(){const e=super.toRawContent();return Object.assign({},e,{iw:this.imgWidth,ih:this.imgHeight,t:this.thumbnail,afn:this.localFileObj.name})}deSerializeMessageSpecificContent(e){super.deSerializeMessageSpecificContent(e),this.imgHeight=e.content.ih?e.content.ih:null,this.imgWidth=e.content.iw?e.content.iw:null,this.thumbnail=e.content.tib?e.content.tib:null}}},function(e,t){var n=Array.prototype.join;e.exports=function(e,t){return null==e?"":n.call(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p}));var i=n(52),r=n(31),o=n(98),a=n(80),s=n(4);class c{static uploadUrl(e,t){c.mUploadingUrl[e]=t;const n=c.updateProgress.bind(e);return new Promise((i,r)=>{const o=new FileReader;o.onload=o=>{const a=new XMLHttpRequest;a.upload.addEventListener("progress",n,!1),a.open("PUT",t,!0),a.setRequestHeader("x-ms-blob-type","BlockBlob"),a.setRequestHeader("Content-Type","application/octet-stream"),a.onreadystatechange=()=>{a.readyState===XMLHttpRequest.DONE&&(200===a.status||201===a.status?(i(new l(t,!0)),delete c.mUploadingUrl[e]):(s.b.errorWithNonPIIData(c.LOG_TAG,"could not upload file to the blob, request status:",a.status),r({error:this}),delete c.mUploadingUrl[e]))},a.onerror=t=>{s.b.errorWithNonPIIData(c.LOG_TAG,"onerror: upload file to the blob failed, request status:",a.status),r({error:t}),delete c.mUploadingUrl[e]},a.onabort=t=>{s.b.errorWithNonPIIData(c.LOG_TAG,"onabort: upload file to the blob aborted, request status:",a.status),r({error:t}),delete c.mUploadingUrl[e]},a.send(o.currentTarget.result)},o.readAsArrayBuffer(e)})}static uploadFileToServer(e){const t=e.data;c.fileUploadUnsubscribeMap[t.filePath]=r.a.subscribe(this.serverURLResolved.bind(this,e)),r.a.dispatch(o.c.resolveServerUrl(t.fileName,t.filePath,t.fileSize,a.a(t.filePath,!1),""))}static updateProgress(e){if(e.lengthComputable){const t=e.loaded/e.total*100,n=new u(t,this);i.b.post(new i.a(i.c.MEDIA_UPLOAD_PROGRESS,n))}}}c.LOG_TAG="MediaHelper",c.fileUploadUnsubscribeMap={},c.mUploadingUrl={},c.serverURLResolved=e=>{let t=o.a.UNKNOWN;const n=r.a.getState().mediaState.allMediaMap[e.data.filePath];if(n&&n.mediaUploadStatus===o.a.PATH_RESOLVED){const i=c.uploadUrl(e.data.fileObject,n.uploadUrl);c.fileUploadUnsubscribeMap[e.data.filePath](),delete c.fileUploadUnsubscribeMap[e.data.filePath],i.then(i=>{i.isSuccessful?(t=o.a.UPLOAD_SUCCESS,r.a.dispatch(o.c.updateMediaUploadStatus(e.data.filePath,o.a.UPLOAD_SUCCESS))):(t=o.a.UPLOAD_FAILED,r.a.dispatch(o.c.updateMediaUploadStatus(e.data.filePath,o.a.UPLOAD_FAILED))),e.serverUploadCompletion(n.downloadUrl,t,e.data)}).catch(t=>{e.serverUploadCompletion(n.downloadUrl,o.a.UPLOAD_FAILED,e.data),r.a.dispatch(o.c.updateMediaUploadStatus(e.data.filePath,o.a.UPLOAD_FAILED))})}};class l{constructor(e,t){this.uploadUrl=e,this.isSuccessful=t}}class u{constructor(e,t){this.percentCompleted=e,this.localFilePath=t}}class d{constructor(e,t,n,i){this.fileName=e,this.filePath=t,this.fileObject=n,this.fileSize=i}}class p{constructor(e,t){this.data=e,this.serverUploadCompletion=t}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var i,r,o=n(20);!function(e){e.PRODUCTION="join.kaiza.la",e.PREPROD="join-preprod.kaiza.la",e.ALPHA="join-alpha.kaiza.la"}(i||(i={})),function(e){e.PRODUCTION_SHORT="kaiza.la",e.PRODUCTION="www.kaiza.la",e.PREPROD="www-preprod.kaiza.la",e.ALPHA="www-alpha.kaiza.la"}(r||(r={}));const a=e=>{if(!s(e))return!1;const t=e.pathname.split("/");return 3===t.length&&-1!==["g","p","public"].indexOf(t[1])},s=e=>{switch(o.serverEnv){case o.ServerEnv.PRODUCTION:return e.hostname===i.PRODUCTION||e.hostname===r.PRODUCTION||e.hostname===r.PRODUCTION_SHORT;case o.ServerEnv.PREPROD:return e.hostname===i.PREPROD||e.hostname===r.PREPROD;case o.ServerEnv.ALPHA:return e.hostname===i.ALPHA||e.hostname==r.ALPHA}},c=(e,t,n)=>e.origin+"/"+t+"/"+n},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(65),r=n(17);class o{getServerPath(){return this.mServerPath}setServerPath(e){this.mServerPath=e}getLocalPath(){return this.mLocalPath}setLocalPath(e){this.mLocalPath=e}getFileName(){return this.mFileName}setFileName(e){this.mFileName=e}getSizeInBytes(){return this.mSizeInBytes}setSizeInBytes(e){this.mSizeInBytes=e}getGenerateThumbnailServerUrl(){return this.mGenerateThumbnailServerUrl}setGenerateThumbnailServerUrl(e){this.mGenerateThumbnailServerUrl=e}getId(){return this.mId}setId(e){this.mId=e}getImageHeighth(){return this.mImageHeight}setImageHeight(e){this.mImageHeight=e}getImageWidth(){return this.mImageWidth}setImageWidth(e){this.mImageWidth=e}getRequireHighResThumbnail(){return this.mRequireHighResThumbnail}setRequireHighResThumbnail(e){this.mRequireHighResThumbnail=e}getTh(){return this.mTh}setTh(e){this.mTh=e}getThumbnail(){return this.mThumbnail}setThumbnail(e){this.mThumbnail=e}getThumbnailServerUrl(){return this.mThumbnailServerUrl}setThumbnailServerUrl(e){this.mThumbnailServerUrl=e}getType(){return this.mType}setType(e){this.mType=e}static fromJSON(e){const t=new o;return e.hasOwnProperty(r.a.QUE_ATTACHMENTS_SERVER_PATH)&&t.setServerPath(e[r.a.QUE_ATTACHMENTS_SERVER_PATH]),e.hasOwnProperty(r.a.QUE_ATTACHMENTS_LOCAL_PATH)&&t.setLocalPath(e[r.a.QUE_ATTACHMENTS_LOCAL_PATH]),e.hasOwnProperty(r.a.QUE_ATTACHMENTS_FILE_NAME)&&t.setFileName(e[r.a.QUE_ATTACHMENTS_FILE_NAME]),e.hasOwnProperty(r.a.QUE_ATTACHMENTS_SIZE_IN_BYTES)&&t.setSizeInBytes(e[r.a.QUE_ATTACHMENTS_SIZE_IN_BYTES]),e.hasOwnProperty(r.a.QUE_ATTACHMENTS_GEN_THUMBNAIL_SERVER_URL)&&t.setGenerateThumbnailServerUrl(e[r.a.QUE_ATTACHMENTS_GEN_THUMBNAIL_SERVER_URL]),e.hasOwnProperty(r.a.QUE_ATTACHMENTS_ID)&&t.setId(e[r.a.QUE_ATTACHMENTS_ID]),e.hasOwnProperty(r.a.QUE_ATTACHMENTS_IMAGE_HEIGHT)&&t.setImageHeight(e[r.a.QUE_ATTACHMENTS_IMAGE_HEIGHT]),e.hasOwnProperty(r.a.QUE_ATTACHMENTS_IMAGE_WIDTH)&&t.setImageWidth(e[r.a.QUE_ATTACHMENTS_IMAGE_WIDTH]),e.hasOwnProperty(r.a.QUE_ATTACHMENTS_REQ_HI_RES_THUMBNAIL)&&t.setRequireHighResThumbnail(e[r.a.QUE_ATTACHMENTS_REQ_HI_RES_THUMBNAIL]),e.hasOwnProperty(r.a.QUE_ATTACHMENTS_TH)&&t.setTh(e[r.a.QUE_ATTACHMENTS_TH]),e.hasOwnProperty(r.a.QUE_ATTACHMENTS_THUMBNAIL)&&t.setThumbnail(e[r.a.QUE_ATTACHMENTS_THUMBNAIL]),e.hasOwnProperty(r.a.QUE_ATTACHMENTS_THUUMBNAIL_SERVER_URL)&&t.setThumbnailServerUrl(e[r.a.QUE_ATTACHMENTS_THUUMBNAIL_SERVER_URL]),e.hasOwnProperty(r.a.QUE_ATTACHMENTS_TYPE)&&t.setType(e[r.a.QUE_ATTACHMENTS_TYPE]),t}toJSON(){const e=JSON.parse("{}");return null!=this.getServerPath()&&(e[r.a.QUE_ATTACHMENTS_SERVER_PATH]=this.getServerPath()),null!=this.getLocalPath()&&(e[r.a.QUE_ATTACHMENTS_LOCAL_PATH]=this.getLocalPath()),null!=this.getFileName()&&(e[r.a.QUE_ATTACHMENTS_FILE_NAME]=this.getFileName()),null!=this.getSizeInBytes()&&(e[r.a.QUE_ATTACHMENTS_SIZE_IN_BYTES]=this.getSizeInBytes()),null!=this.getGenerateThumbnailServerUrl()&&(e[r.a.QUE_ATTACHMENTS_GEN_THUMBNAIL_SERVER_URL]=this.getGenerateThumbnailServerUrl()),null!=this.getId()&&(e[r.a.QUE_ATTACHMENTS_ID]=this.getId()),null!=this.getImageHeighth()&&(e[r.a.QUE_ATTACHMENTS_IMAGE_HEIGHT]=this.getImageHeighth()),null!=this.getImageWidth()&&(e[r.a.QUE_ATTACHMENTS_IMAGE_WIDTH]=this.getImageWidth()),null!=this.getRequireHighResThumbnail()&&(e[r.a.QUE_ATTACHMENTS_REQ_HI_RES_THUMBNAIL]=this.getRequireHighResThumbnail()),null!=this.getTh()&&(e[r.a.QUE_ATTACHMENTS_TH]=this.getTh()),null!=this.getThumbnail()&&(e[r.a.QUE_ATTACHMENTS_THUMBNAIL]=this.getThumbnail()),null!=this.getThumbnailServerUrl()&&(e[r.a.QUE_ATTACHMENTS_THUUMBNAIL_SERVER_URL]=this.getThumbnailServerUrl()),null!=this.getType()&&(e[r.a.QUE_ATTACHMENTS_TYPE]=this.getType()),e}}class a{constructor(){this.mQuestionType=i.a.None,this.mIsInvisible=!1,this.mIsEditable=!0}getId(){return this.mId}setId(e){this.mId=e}isInvisible(){return this.mIsInvisible}setInvisible(e){this.mIsInvisible=e}isEditable(){return this.mIsEditable}setEditable(e){this.mIsEditable=e}setOptional(e){this.mIsOptional=e}isOptional(){return this.mIsOptional}setVisibilityRule(e){this.mVisibilityRule=e}getVisibilityRule(){return this.mVisibilityRule}setValidationRule(e){this.mValidationRule=e}getValidationRule(){return this.mValidationRule}setExcludeFromReporting(e){this.mExcludeFromReporting=e}getExcludeFromReporting(){return this.mExcludeFromReporting}setDisplayType(e){this.mDisplayType=e}getDisplayType(){return this.mDisplayType}getQuestionType(){return this.mQuestionType}setQuestionType(e){this.mQuestionType=e}getTitle(){return this.mTitle}setTitle(e){this.mTitle=e}getVisibilityExpression(){return this.mVisibilityExpression}setVisibilityExpression(e){this.mVisibilityExpression=e}getQuestionAttachments(){return this.mQuestionAttachments}setQuestionAttachments(e){this.mQuestionAttachments=e}toJSON(){const e=JSON.parse("{}");if(e[r.a.ID]=this.getId(),e[r.a.TITLE]=this.getTitle(),e[r.a.TYPE]=null!=this.getQuestionType()?this.getQuestionType():i.a.SingleSelect,e[r.a.INVISIBLE]=this.isInvisible(),e[r.a.IS_EDITABLE]=this.isEditable(),e[r.a.VISIBILITY_EXPRESSION]=this.getVisibilityExpression(),e[r.a.IS_QUESTION_OPTIONAL]=this.isOptional(),e[r.a.QUESTION_VISIBLITY_RULE]=this.getVisibilityRule(),e[r.a.QUESTION_VALIDATION_RULE]=this.getValidationRule(),e[r.a.QUESTION_EXCLUDE_FROM_REPORTING]=this.getExcludeFromReporting(),e[r.a.QUESTION_DISPLAY_TYPE]=this.getDisplayType(),this.addQuestionSpecificFields(e),this.mConfig&&(e[r.a.QUESTION_CONFIG]=this.mConfig),null!=this.getQuestionAttachments()&&this.getQuestionAttachments().length>0){const t=[];for(const e of this.getQuestionAttachments())t.push(e.toJSON());e[r.a.QUE_ATTACHMENTS]=t}return e}addQuestionSpecificFields(e){}static fromJSON(e){const t=e[r.a.TYPE];let n=null;return n=new a,a.fillQuestionFields(n,e),n.setQuestionType(t),n}static fillQuestionFields(e,t){if(e.setId(parseInt(t[r.a.ID])),e.setTitle(t[r.a.TITLE]),e.setQuestionType(t[r.a.TYPE]),t.hasOwnProperty(r.a.INVISIBLE)?e.setInvisible(t[r.a.INVISIBLE]):e.setInvisible(!1),t[r.a.QUESTION_CONFIG]&&(e.mConfig=t[r.a.QUESTION_CONFIG]),e.setEditable(!0),t.hasOwnProperty(r.a.IS_EDITABLE)&&e.setEditable(t[r.a.IS_EDITABLE]),e.setOptional(!1),t.hasOwnProperty(r.a.IS_QUESTION_OPTIONAL)&&e.setOptional(t[r.a.IS_QUESTION_OPTIONAL]),t.hasOwnProperty(r.a.QUESTION_VISIBLITY_RULE)&&e.setVisibilityRule(t[r.a.QUESTION_VISIBLITY_RULE]),t.hasOwnProperty(r.a.QUESTION_VALIDATION_RULE)&&e.setValidationRule(t[r.a.QUESTION_VALIDATION_RULE]),t.hasOwnProperty(r.a.QUESTION_DISPLAY_TYPE)&&e.setDisplayType(t[r.a.QUESTION_DISPLAY_TYPE]),e.setExcludeFromReporting(!1),t.hasOwnProperty(r.a.QUESTION_EXCLUDE_FROM_REPORTING)&&e.setExcludeFromReporting(t[r.a.QUESTION_EXCLUDE_FROM_REPORTING]),e.setVisibilityExpression(null),t.hasOwnProperty(r.a.VISIBILITY_EXPRESSION)&&e.setVisibilityExpression(t[r.a.VISIBILITY_EXPRESSION]),t.hasOwnProperty(r.a.QUE_ATTACHMENTS)){e.mQuestionAttachments=[];const n=t[r.a.QUE_ATTACHMENTS];if(null!=n&&n.length>0)for(const t of n){const n=o.fromJSON(t);e.mQuestionAttachments.push(n)}}}}},,,function(e,t,n){"use strict";n.r(t),n.d(t,"SubscriptionToken",(function(){return i}));var i=function(){function e(e,t){this._event=e,this._callback=t}return e.prototype.unsubscribe=function(){this._event.unsubscribe(this._callback)},e}(),r=function(){function e(e){void 0===e&&(e=!1);var t=this;this._allowStopPropagation=e,this.fire=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var i=t._subscribers,r=i.length-1;r>=0;r--){var o=i[r].apply(null,e);if(t._allowStopPropagation&&o)return!0}return!1},this._subscribers=[]}return e.prototype.dispose=function(){this._subscribers=[]},e.prototype.subscribe=function(e){return this._subscribers=this._subscribers.concat(e),new i(this,e)},e.prototype.unsubscribe=function(e){this._subscribers=this._subscribers.filter((function(t){return t!==e}))},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(143),r=function(){function e(){var e=this;this._promise=new Promise((function(t,n){e._resolver=t,e._rejector=n}))}return e.prototype.resolve=function(e){var t=this;this._resolver?this._resolver(e):i.default.setTimeout((function(){t.resolve(e)}),10)},e.prototype.reject=function(e){var t=this;this._rejector?this._rejector(e):i.default.setTimeout((function(){t.reject(e)}),10)},e.prototype.promise=function(){return this._promise},e}();t.Defer=r},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var c,l=[],u=!1,d=-1;function p(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&h())}function h(){if(!u){var e=s(p);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new f(e,t)),1!==l.length||u||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var i=n(412),r=n(413),o=n(414),a=n(415),s=n(416);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t,n){var i=n(366);e.exports=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var i=n(142);e.exports=function(){if(!arguments.length)return[];var e=arguments[0];return i(e)?e:[e]}},function(e,t,n){var i=n(304);e.exports=function(e,t){return!!(null==e?0:e.length)&&i(e,t,0)>-1}},function(e,t){e.exports=function(e,t,n){for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(127),a=n(109),s=n(294),c=n(269),l=n(451),u=function(e){function t(){var t=e.call(this)||this;return t._isNavigatingWithKeyboard=!1,t._keyboardNavigationStateChanged=function(e){t._isNavigatingWithKeyboard=e},t.keyboardNavigationEvent.subscribe(t._keyboardNavigationStateChanged),t}return r(t,e),t.prototype.measureLayoutRelativeToWindow=function(e){var t=new s.Defer,n=null;try{n=o.findDOMNode(e)}catch(e){}if(n){var i=n.getBoundingClientRect();t.resolve({x:i.left,y:i.top,width:i.width,height:i.height})}else t.reject("measureLayoutRelativeToWindow failed");return t.promise()},t.prototype.measureLayoutRelativeToAncestor=function(e,t){var n=new s.Defer,i=null,r=null;try{i=o.findDOMNode(e),r=o.findDOMNode(t)}catch(e){}if(i&&r){var a=i.getBoundingClientRect(),c=r.getBoundingClientRect();n.resolve({x:a.left-c.left,y:a.top-c.top,width:a.width,height:a.height})}else n.reject("measureLayoutRelativeToAncestor failed");return n.promise()},t.prototype.measureWindow=function(e){return{x:0,y:0,width:window.innerWidth,height:window.innerHeight}},t.prototype.getContentSizeMultiplier=function(){return Promise.resolve(1)},t.prototype.isHighPixelDensityScreen=function(){return this.getPixelRatio()>1},t.prototype.getPixelRatio=function(){var e=0;return window.devicePixelRatio&&(e=window.devicePixelRatio),e},t.prototype.setMainView=function(e){c.default.setMainView(e)},t.prototype.registerRootView=function(e,t){},t.prototype.useCustomScrollbars=function(e){void 0===e&&(e=!0),l.default.setUseCustomScrollbars(e)},t.prototype.dismissKeyboard=function(){},t.prototype.enableTouchLatencyEvents=function(e){},t.prototype.evaluateTouchLatency=function(e){},t.prototype.isNavigatingWithKeyboard=function(){return this._isNavigatingWithKeyboard},t}(a.UserInterface);t.UserInterface=u,t.default=new u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Unknown=0]="Unknown",e[e.MSACID=1]="MSACID",e[e.MSAPUID=2]="MSAPUID",e[e.ANID=3]="ANID",e[e.OrgIdCID=4]="OrgIdCID",e[e.OrgIdPUID=5]="OrgIdPUID",e[e.UserObjectId=6]="UserObjectId",e[e.Skype=7]="Skype",e[e.Yammer=8]="Yammer",e[e.EmailAddress=9]="EmailAddress",e[e.PhoneNumber=10]="PhoneNumber",e[e.SipAddress=11]="SipAddress",e[e.MUID=12]="MUID"}(t.AWTUserIdType||(t.AWTUserIdType={})),function(e){e[e.Started=0]="Started",e[e.Ended=1]="Ended"}(t.AWTSessionState||(t.AWTSessionState={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(217),r=n(172),o=function(){function e(e){this._event={name:"",properties:{}},e&&this.setName(e)}return e.prototype.setName=function(e){this._event.name=e},e.prototype.getName=function(){return this._event.name},e.prototype.setType=function(e){this._event.type=e},e.prototype.getType=function(){return this._event.type},e.prototype.setTimestamp=function(e){this._event.timestamp=e},e.prototype.getTimestamp=function(){return this._event.timestamp},e.prototype.setEventPriority=function(e){this._event.priority=e},e.prototype.getEventPriority=function(){return this._event.priority},e.prototype.setProperty=function(e,t,n){void 0===n&&(n=r.AWTPropertyType.Unspecified);var o={value:t,type:n,pii:r.AWTPiiKind.NotSet,cc:r.AWTCustomerContentKind.NotSet};null!==(o=i.sanitizeProperty(e,o))?this._event.properties[e]=o:delete this._event.properties[e]},e.prototype.setPropertyWithPii=function(e,t,n,o){void 0===o&&(o=r.AWTPropertyType.Unspecified);var a={value:t,type:o,pii:n,cc:r.AWTCustomerContentKind.NotSet};null!==(a=i.sanitizeProperty(e,a))?this._event.properties[e]=a:delete this._event.properties[e]},e.prototype.setPropertyWithCustomerContent=function(e,t,n,o){void 0===o&&(o=r.AWTPropertyType.Unspecified);var a={value:t,type:o,pii:r.AWTPiiKind.NotSet,cc:n};null!==(a=i.sanitizeProperty(e,a))?this._event.properties[e]=a:delete this._event.properties[e]},e.prototype.getPropertyMap=function(){return this._event.properties},e.prototype.getEvent=function(){return this._event},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.low=0,this.high=0,this.low=parseInt(e,10),this.low<0&&(this.high=-1)}return e.prototype._Equals=function(t){var n=new e(t);return this.low===n.low&&this.high===n.high},e}();t.Int64=i;var r=function(){function e(e){this.low=0,this.high=0,this.low=parseInt(e,10)}return e.prototype._Equals=function(t){var n=new e(t);return this.low===n.low&&this.high===n.high},e}();t.UInt64=r;var o=function(){function e(){}return e._ToByte=function(e){return this._ToUInt8(e)},e._ToUInt8=function(e){return 255&e},e._ToInt32=function(e){return 2147483647&e|2147483648&e},e._ToUInt32=function(e){return 4294967295&e},e}();t.Number=o},function(e,t,n){var i=n(114),r=n(703);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};i(r,o);e.exports=r.locals||{}},,function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}},function(e,t,n){var i=n(606),r=n(174),o=n(375),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=s.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):a.test(e)?NaN:+e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(6),r=n(43),o=n(333);class a extends o.a{aggregatePayload(e,t,n){const o=this.getAggregatedPayloadForMarker(e);let s={};null!=o&&(s=r.a.safeParse(o));const c=s[a.COUNT]?s[a.COUNT]:0,l=s[a.AVG]?s[a.AVG]:0;s[a.AVG]=(l*c+t)/(c+1),s[a.COUNT]=c+1;let u=0;Object(i.g)(s[a.MIN])?s[a.MIN]=t:u=s[a.MIN];let d=0;if(Object(i.g)(s[a.MAX])?s[a.MAX]=t:d=s[a.MAX],t<u?s[a.MIN]=t:t>d&&(s[a.MAX]=t),!Object(i.g)(n))for(const e of Object.keys(n)){const r=n[e];if(null!=r)if(Object(i.g)(s[e])){const n={},i={count:1};i.avg=t,i.min=t,i.max=t,n[r]=i,s[e]=n}else{const n=s[e];if(Object(i.g)(n[r])){const e={count:1};e.avg=t,e.min=t,e.max=t,n[r]=e}else{const e=n[r],i=e.count?e.count:0,o=e.avg?e.avg:0;e.count=i+1,e.avg=(o*i+t)/(i+1);const a=e.min?e.min:0,s=e.max?e.max:0;t<a?e.min=t:t>s&&(e.max=t)}}}this.setAggregatedPayloadForMarker(e,JSON.stringify(s))}}a.COUNT="Metric_Count",a.AVG="Metric_Avg",a.MIN="Metric_Min",a.MAX="Metric_Max"},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(94);const r=new class{registerOnMessage(e){i.a.registerOnMessage(e)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(11);const r=new(n(139).a)(i.c.CONVERSATION_LIST_LOAD_TIME,"LOAD")},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(85),r=n(25),o=n(103),a=n(75);class s extends o.a{constructor(e){super(a.a.AUTHORIZE_COMMAND_ID),this.mSessionMessage=e}getCommandPayload(){const e=r.c.getAuthToken(),t=r.c.getWebId(),n={wId:t,uId:r.c.getUserId(),at:e};return i.b.isFeatureEnabled(i.a.NEW_COLD_BOOT_FLOW)&&(n.c={p:{d:JSON.stringify(this.mSessionMessage)},wId:t}),n}getCommandType(){return a.c.AUTHORIZE}getResponseErrorDetails(e,t){return t}getTimeout(){return 1e4}extractResult(e){}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(234),r=n(54),o=n(103),a=n(75);class s extends o.a{constructor(e){super(a.a.CONNECT_COMMAND_ID),this.phoneNumber=e,this.isResponseSuccess=e=>e==r.b.Success||e==r.b.RedirectToDeviceSU,this.phoneNumber=e}getCommandPayload(){return{lt:1,pn:this.phoneNumber}}getCommandType(){return a.c.CONNECT}getTimeout(){return 1e4}getResponseErrorDetails(e,t){switch(e){case r.b.TooManyRequests:return i.b.getRemainingTimeFromResponse(t);default:return"Unable to connect with server. Server error code = "+e+" Server response = "+JSON.stringify(t)}}extractResult(e){}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(25),r=n(54),o=n(103),a=n(75);class s extends o.a{constructor(){super(a.a.LOGOUT_COMMAND_ID),this.isResponseSuccess=e=>e==r.b.Success||e==r.b.RedirectToDeviceSU}getCommandPayload(){return{wId:[i.c.getWebId()],al:!1}}getCommandType(){return a.c.CONNECT}getTimeout(){return 5e3}getResponseErrorDetails(e,t){return"Unable to connect with server. Server error code = "+e+" Server response = "+JSON.stringify(t)}extractResult(e){}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(54),r=n(103),o=n(75);class a extends r.a{constructor(e,t){super(o.a.SEND_COMMAND_ID),this.message=e,this.header=t}getCommandPayload(){return{h:this.header,c:this.message}}getCommandType(){return o.c.SEND}getResponseErrorDetails(e,t){let n;switch(e){case i.b.InValidUser:n="Unable to send message. No Kaizala provisioned user exists. Server error code = "+e;break;case i.b.ClientDisconnected:n="Unable to send message. Device is disconnected. Server error code = "+e;break;case i.b.WebclientDisconnected:n="Unable to send message. Web browser is disconnected. Server error code = "+e;break;default:n="Unable to send message to device. Server error code = "+e+" Server response = "+JSON.stringify(t)}return n}extractResult(e){}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n(25),r=n(54),o=n(58),a=n(81),s=n(43),c=n(103),l=n(75),u=n(234);class d extends c.a{constructor(e,t){super(l.a.VERIFY_OTP_COMMAND_ID),this.phoneNumber=e,this.pin=t}getCommandPayload(){const e=Object(a.a)();return{p:this.pin,pn:this.phoneNumber,m:s.a.stringify(e)}}getCommandType(){return l.c.VERIFY_OTP}getResponseErrorDetails(e,t){switch(e){case r.b.WebclientOTPMisMatch:return t;case r.b.TooManyRequests:return u.b.getRemainingTimeFromResponse(t);default:return"Unable to verify pin. Server error code = "+e+" Server response = "+JSON.stringify(t)}}getTimeout(){return 1e4}extractResult(e){const t=e.at,n=e.wId,r=e.uId;i.c.setAuthToken(t),i.c.setWebId(n),i.c.setUserId(r),o.a.updateContext()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(103),r=n(75);class o extends i.a{constructor(e,t){super(r.a.WAKEUP_DEVICE_COMMAND_ID),this.payload=e,this.wId=t}getCommandPayload(){return{p:{d:JSON.stringify(this.payload)},wId:this.wId}}getCommandType(){return r.c.WAKE_UP_DEVICE}getResponseErrorDetails(e,t){return"Unable to wake up device Server error code = "+e+" Server response = "+JSON.stringify(t)}extractResult(e){}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return ue}));var i=n(33),r=n(28),o=n(77),a=n(20),s=n(29),c=n(4),l=n(19),u=n(66),d=n(90),p=n(10),h=n(63),f=n(1),g=n(14),m=n(41),E=n(15),_=n(46),S=n(13),T=n(111),v=n(182),I=n(243),b=n(145),y=n(38),C=n(211),A=n(175),O=n(6),N=n(99),R=n(122),P=n(81),w=n(26),M=n(60),D=n(181),L=n.n(D),x=n(132),k=n.n(x),U=n(73),G=n.n(U),F=n(154),B=n.n(F),V=n(121),W=n.n(V),j=n(164),H=n.n(j),z=n(131),Y=n.n(z),K=n(148),q=n.n(K),Q=n(229),J=n.n(Q),X=n(260),$=n.n(X),Z=n(287),ee=n.n(Z),te=n(5),ne=n(48),ie=n(34);const re=r.m,oe="miniappsMiddleware",ae=[re,"openMiniapp"],se=[re,"closeMiniapp"],ce=[re,"executeFunction"];const le=new class{constructor(){this.cancelledRequestMap={}}addCancelledAction(e){e.isMutate&&(this.cancelledRequestMap[e.requestTag]=e)}clear(){this.cancelledRequestMap={}}wasCancelled(e){return void 0!==this.cancelledRequestMap[e.requestTag]}getCancelledAction(e){if(this.wasCancelled(e))return c.b.infoWithPIIData(oe,"earlier cancelled action being returned",e),this.cancelledRequestMap[e.requestTag]}},ue=e=>t=>n=>{switch(n.type){case _.a.MESSAGES_DELETE:de(e,n.messages);break;case _.a.MESSAGE_INSERT:{const t=R.a(n.rawMessage);if(t instanceof N.a){const n=t;n.isDeleted()&&de(e,[n])}break}case E.b.SELECT_CONVERSATION_V2:if(n.conversationId!==E.f.getSelectedConversationId(e.getState())){if(p.q.isResponseOrCreationViewActive(e.getState()))return void Object(b.b)({onAccept:()=>{e.dispatch(u.b.closeMiniapp()),t(n)}});p.q.isMiniappActive(e.getState())&&e.dispatch(u.b.closeMiniapp())}break;case u.a.OPEN_MINIAPP:le.clear(),ne.f.initialize(n.view.surveyId);case u.a.OPEN_MINIAPP_SCREEN:if(ye(n.view)&&!a.isDevAudienceGroup){if(P.d.isInspectOpen())return void be();P.d.setUpInspectorShortcutDetector(()=>{w.b.dispatch(M.c.addNotification({id:"_kz_MiniApp_action_restricted",title:"RestrictedActionMessage",isCancellable:!0,dismissTimeOut:1e4},i.b.OVERLAY))})}me(n.view,e);break;case u.a.FORCE_REFRESH_FOR_VIEW:me(n.viewId?p.q.getViewById(e.getState(),n.viewId):p.q.getTopView(e.getState()),e),le.clear();break;case u.a.CLOSE_MINIAPP:p.q.getViewStack(e.getState()).forEach(t=>{fe(t.viewType)&&ge(t,e.getState()),le.clear()});break;case u.a.CLOSE_MINIAPP_SCREEN:{const t=n.viewId?p.q.getViewById(e.getState(),n.viewId):p.q.getTopView(e.getState());t&&fe(t.viewType)&&(ge(t,e.getState()),P.d.removeInspectorShortcutDetector());break}case u.a.EXECUTE_CARDWRAPPER_FUNCTION:{const t=n.view.viewId;le.wasCancelled(n)&&(n=le.getCancelledAction(n));const i=e=>{c.b.errorWithPIIData(re,[" (",n.type,"): ",e.stack||e.stacktrace,"error code: ",e.errorCode],e)},r=[];r.push({rt:n.isMutate?l.a.MUTATE:l.a.QUERY,path:ce,variables:{cardWrapperFunction:n.func,propertiesJson:n.view.buildPropertyJson(),viewType:n.view.viewType,message:n.attachmentUpload,requestId:n.requestId,isDarkTheme:te.b}});const o=l.c.sendCancellableMessage({paths:r},{onResponse:e=>s(e),onError:i}),a=new g.l({onAccept:()=>{"createRequest"===n.func.mName||"createRequestV2"===n.func.mName||"createRequestWithResponses"===n.func.mName?h.c({title:f.getString("ImmersiveViewActiveWhenConversationSwitchText"),id:"MiniappDiscardViewId",isLightDismiss:!0,acceptButtonText:f.getString("AlertDialogYesText"),rejectButtonText:f.getString("AlertDialogNoText"),onAccept:()=>{e.dispatch(p.o.closeMiniapp())},onReject:()=>{h.b("MiniappDiscardViewId")}}):(o.second(),le.addCancelledAction(n),e.dispatch(p.o.closeMiniappScreen(a.viewId)))}});e.dispatch(u.b.openMiniappScreen(a));const s=i=>{e.dispatch(u.b.closeMiniappScreen(a.viewId));const r=i.paths[0].value,o=JSON.parse(r);G()(o).forEach(i=>{"prefetchResult"===i?e.dispatch(u.b.setPrefetchFunctionResult(t,o[i])):"exception"===i?e.dispatch(u.b.setActivityResult(n.exceptionCb,o[i])):e.dispatch(u.b.setActivityResult(i,o[i]))})},d="executeCardWrapperFunction: "+T.getLogStringForView(n.view)+" functionName: "+n.func.mName;I.a(o.first,oe,d).then(e=>s(e)).catch(e=>i(e));break}case d.a.INSERT_SURVEY_BUNDLE:{const t=e.getState();if(t.miniappState.moduleVersion<2){const i={};let r=!1;const o=t.surveyState;Object.keys(n.survey.definition).forEach(e=>{const t=n.survey.definition[e];Object(v.c)(t.pid)||Object(O.g)(o.surveyToMessageIdArrayMap[t.id])||(i[t.id]=o.surveyToMessageIdArrayMap[t.id][0],r=!0)}),r&&e.dispatch(u.b.fetchCustomStringsBatch(i))}const i=$()(B()(H()(n.survey.definition),e=>e.pid)),r=p.q.getPackagesNotInState(t,i);r.length>0&&(c.b.debugWithNonPIIData(oe,"Calling fetchMiniAppsData for  packages ",r),e.dispatch(u.b.fetchMiniAppsData(r)));break}case d.a.STORE_SURVEY_SUMMARIES:G()(n.summaryMap).forEach(t=>{const n=d.f.getSurveyObject(e.getState(),t),i=n?n.packageId:null;Object(v.c)(i)||Ee(e,t).then(()=>pe(e,t)).catch(()=>c.b.errorWithNonPIIData(oe,"summary fetch failed, custom strings wont be updated "))});break;case d.a.STORE_SURVEY_SUMMARY:if(n.summary){const t=n.surveyId;pe(e,t)}break;case u.a.FETCH_ACTION_CUSTOM_STRINGS:{const t={};t[n.actionId]=n.messageId,_e(e,t);break}case u.a.FETCH_MINI_APPS_DATA:he(n.packageIds,e);break;case S.a.ACTION_COLLECTION:switch(n.subType){case u.a.FETCH_MINI_APP_DATA:const t=[];n.actionList.forEach(e=>{t.push(e.packageId)}),he(t,e)}break;case d.a.APPLY_SURVEY_BUNDLE_DELTA:{const t=n.surveyBundleDelta.smd;if(t&&!1===t.IsSupportedSchema)break;const i=n.surveyBundleDelta;if(i.resSt)break;const r={},o=e.getState().surveyState,a=i.survey?i.survey:i.id in o.surveyMap?JSON.parse(o.surveyMap[i.id]):null;!a||Object(v.c)(a.pid)||Object(O.g)(o.surveyToMessageIdArrayMap[a.id])||(r[a.id]=o.surveyToMessageIdArrayMap[a.id][0],e.dispatch(u.b.fetchCustomStringsBatch(r)));break}case u.a.FETCH_CUSTOM_STRINGS_BATCH:_e(e,n.surveyMessageIdMap);break;case S.a.ON_RESPONSE_RECEIVED:{const t=Object(o.b)(n.responseData,re,"customStrings");if(!t)break;if(Object(s.k)(t))c.b.errorWithNonPIIData(re,"error response at customStrings",t.errors);else{Object.keys(t.value).length&&e.dispatch(u.b.storeCustomStringsBatch(t.value))}break}}return t(n)};function de(e,t){const n=p.q.getViewStack(e.getState());let i=!1;n.some(n=>{if(n.viewType==g.s.SUMMARY||n.viewType==g.s.RESPONSE){const r=n;t.some(t=>{if(r.msgId===t.id)return e.dispatch(u.b.closeMiniapp()),i=!0,!0})}return i}),i&&h.c({title:f.getString("ActionMessageDeleted"),id:"MiniappClosedOnMessageDeleteViewId",isLightDismiss:!0,acceptButtonText:f.getString("ImmersiveMiniappNotSupportedOkButtonText")})}function pe(e,t){const n=e.getState().surveyState,i=e.getState().miniappState;if(n.surveyToMessageIdArrayMap[t]&&(t in i.customStrings&&i.customStrings[t].fetchState!==y.a.PermanentFailure||!(t in i.customStrings))){const i=n.surveyToMessageIdArrayMap[t][0],r={};if(r[t]=i,t&&i){const i=JSON.parse(n.surveyMap[t]);Object(v.c)(i.pid)||_e(e,r)}}}function he(e,t){if(0===e.length)return void c.b.infoWithNonPIIData(oe,"skipping fetchMiniAppData as packageIds is empty");const n=t.getState().miniappState.moduleVersion>=2,i={};k()(e,e=>{const t=g.u.get(e);t&&(i[e]=t,T.ImmersiveViewSupportCache.initializeCache(e,t.miniAppPackagePath))}),n&&(e=Y()(e,G()(i)));const r=[];q()(e)>0&&(t.dispatch(u.b.setFetchStatusMiniAppsData(e,y.a.Fetching)),r.push({rt:l.a.QUERY,path:0===t.getState().sessionState.maVer.search("1.104.")&&Object(a.isiOS)(t.getState().sessionState.maOS)?["actionMapping","miniAppsData"]:[re],variables:{action:"miniAppsData",pIds:e.join(),isDarkTheme:te.b}})),n&&q()(i)>0&&r.push({rt:l.a.QUERY,path:[re],variables:{action:"miniAppsDiffData",pIdMvs:ee()(B()(H()(i),e=>e.id+"@"+e.minVer),","),isDarkTheme:te.b}});l.c.sendMessage({paths:r}).then(e=>{const n={};k()(e.paths,e=>{const i=e.value;Object.keys(i).forEach(e=>{g.u.put(e,i[e]),n[e]=T.stripZipPath(i[e].miniAppPackagePath),T.ImmersiveViewSupportCache.initializeCache(e,i[e].miniAppPackagePath)}),t.dispatch(u.b.storeMiniAppsData(i))});const r=Y()(G()(i),G()(n));k()(r,e=>{g.u.get(e)&&(n[e]=T.stripZipPath(g.u.get(e).miniAppPackagePath))}),Object(f.setLocaleData)(n).then(()=>{t.dispatch(u.b.miniAppsLocaleDataUpdated(G()(n)))}).catch(e=>{c.b.errorWithPIIData(re,["Error setting the Locale data",e.msg||e],e)})}).catch(n=>{const i=n.errorCode===s.c.NETWORK_ERROR;t.dispatch(u.b.storeMiniAppsData(null,e,i))})}function fe(e){return e===g.s.CREATE||e===g.s.RESPONSE||e===g.s.SUMMARY||e===g.s.EDIT_SURVEY}function ge(e,t){if(fe(e.viewType)){const t=[];t.push({path:se,rt:l.a.QUERY,variables:{propertiesJson:e.buildPropertyJson(),viewType:e.viewType,isDarkTheme:te.b}});const n="closeMiniappRequest, "+T.getLogStringForView(e);I.a(l.c.sendMessage({paths:t}),oe,n)}}function me(e,t){if(fe(e.viewType)){if(t.getState().miniappState.moduleVersion>=3)!function(e,t){if(fe(e.viewType)){const n=Ie(e,t),i=p.q.getMiniAppData(e.packageId,t.getState()),r=i&&i.miniAppPackagePath;if(n.viewUrlFragment&&n.templateType&&0==q()(n.skippedFuncs))return t.dispatch(u.b.setPrefetchFunctionResult(e.viewId,n.prefetch)),void t.dispatch(u.b.storeImmersiveInfoForMiniapp(e,{viewType:e.viewType,srcFile:T.getSrcUrl(e,n.viewUrlFragment,n.templateType,r),templateType:n.templateType}));const o=[];o.push({path:ae,rt:l.a.QUERY,variables:{propertiesJson:e.buildPropertyJson(),viewType:e.viewType,pfmds:ee()(n.skippedFuncs),isDarkTheme:te.b}});const a="openMiniappRequest,"+T.getLogStringForView(e);ne.f.recordInternalEventStart(e.surveyId,ie.a.DATA_FETCH),I.a(l.c.sendMessage({paths:o}),oe,a).then(i=>{const o=JSON.parse(i.paths[0].value);ne.f.recordInternalEvent(e.surveyId,ie.b.PEER_PROCESSING_TIME,i.ppt),ne.f.recordInternalEventEnd(e.surveyId,ie.a.DATA_FETCH);const a=o.prefetch;ve(a);const s=J()(n.prefetch,a),c=n.viewUrlFragment||o.viewUrl,l=n.templateType||o.templateType;t.dispatch(u.b.setPrefetchFunctionResult(e.viewId,s)),t.dispatch(u.b.storeImmersiveInfoForMiniapp(e,{viewType:e.viewType,srcFile:T.getSrcUrl(e,c,l,r),templateType:l}))}).catch(e=>{c.b.errorWithPIIData(re,[" ( open mini app): ",e.stack||e.stacktrace,"error code: ",e.errorCode],e)})}}(e,t);else{const n=[];n.push({path:ae,rt:l.a.QUERY,variables:{propertiesJson:e.buildPropertyJson(),viewType:e.viewType,isDarkTheme:te.b}});const i="openMiniappRequest,"+T.getLogStringForView(e);ne.f.recordInternalEventStart(e.surveyId,ie.a.DATA_FETCH),I.a(l.c.sendMessage({paths:n}),oe,i).then(n=>{const i=JSON.parse(n.paths[0].value);ne.f.recordInternalEvent(e.surveyId,ie.b.PEER_PROCESSING_TIME,n.ppt),ne.f.recordInternalEventEnd(e.surveyId,ie.a.DATA_FETCH);const r=i.prefetch,o=i.viewUrl,a=i.templateType,s=p.q.getMiniAppData(e.packageId,t.getState()),c=s&&s.miniAppPackagePath;t.dispatch(u.b.setPrefetchFunctionResult(e.viewId,r)),t.dispatch(u.b.storeImmersiveInfoForMiniapp(e,{viewType:e.viewType,srcFile:T.getSrcUrl(e,o,a,c),templateType:a}))}).catch(e=>{c.b.errorWithPIIData(re,[" ( open mini app): ",e.stack||e.stacktrace,"error code: ",e.errorCode],e)})}}}const Ee=(e,t)=>{const n=[];return n.push({path:["surveys","summary",t],rt:l.a.QUERY}),new Promise((t,i)=>{if(n.length>0&&e.getState().surveyState.moduleVersion>0){const e=l.c.sendMessage({paths:n},{onResponse:e=>{t(e.paths[0].value)},onError:e=>{i(e)}});e.then(()=>{c.b.debugWithNonPIIData(oe,"summary fetch ack received")}),e.catch(e=>{c.b.errorWithNonPIIData(oe,e.errorCode,e.message)})}else c.b.debugWithNonPIIData(oe,"summary fetch not supported in mobile client"),t({})})},_e=(e,t)=>{const n=H()(t),i=[];i.push({rt:l.a.QUERY,path:[re,"customStrings",n.join()],variables:{isDarkTheme:te.b}});l.c.sendMessage({paths:i}).then(t=>{e.dispatch(u.b.storeCustomStringsBatch(t.paths[0].value))}).catch(t=>{const n=t.errorCode===s.c.NETWORK_ERROR;e.dispatch(u.b.storeCustomStringsBatch(null,n)),c.b.errorWithPIIData(re,["error in fetching customStrings",t.stack||t.stacktrace,"error code: ",t.errorCode],t)})},Se=new A.a("cwf",200);let Te=[];const ve=e=>{Te.forEach(t=>t(e)),Te=[]},Ie=(e,t)=>{const n=e.viewType,i=e.convId,r=e.packageId;e.viewId;let o,s,c;e instanceof g.q&&(o=e.msgId,s=e.surveyId),(e instanceof g.o||e instanceof g.j)&&(o=e.msgId,s=e.surveyId,c=e.parentId);const l=t.getState(),u=()=>l.usersState.myProfile.id,p=(t,n=!1)=>{const i=n?t:e.packageId+" "+t;if(Se.has(i))return Se.get(i);Te.push(e=>{L()(e,[t,"success","0"])&&Se.put(i,e[t].success[0])})},h={canRespondToSurvey:{md:()=>s&&l.surveyState.surveyMetadataMap[s]?l.surveyState.surveyMetadataMap[s].canResPondToSurvey:null,vt:[g.s.RESPONSE,g.s.SUMMARY]},getAppInfoAsync:{md:()=>{const e={};return e[C.a.APP_LOCALE]=l.sessionState.maLocale,e[C.a.IS_24_HOUR_FORMAT]=l.sessionState.is24HourFormat,e[C.a.IS_DARK_THEME]=te.b,JSON.stringify(e)},vt:[g.s.RESPONSE,g.s.SUMMARY,g.s.CREATE,g.s.EDIT_SURVEY]},getAssetPathsAsync:{md:()=>{const e=p("getAssetPathsAsync",!0);return Object(O.g)(e)?null:e},vt:e.isForwardContext()?[g.s.RESPONSE,g.s.SUMMARY]:[g.s.CREATE,g.s.RESPONSE,g.s.SUMMARY]},getClientDetails:{md:()=>{const e=p("getClientDetails",!0);return Object(O.g)(e)?null:e},vt:[g.s.RESPONSE,g.s.SUMMARY]},getConversationNameAsync:{md:()=>{const e=document.createElement("div");e.innerText=l.conversationsState.allConversations[i].title;return e.innerHTML},vt:[g.s.SUMMARY,g.s.RESPONSE,g.s.CREATE]},getConversationParticipantsCountAsync:{md:()=>l.groupManagerState.groupInfoList.data&&l.groupManagerState.groupInfoList.data[i]&&l.groupManagerState.groupInfoList.data[i].membersCount?l.groupManagerState.groupInfoList.data[i].membersCount:null,vt:[g.s.SUMMARY,g.s.RESPONSE,g.s.CREATE]},getConversationTypeAsync:{md:()=>l.conversationsState.allConversations[i].convType,vt:[g.s.SUMMARY,g.s.RESPONSE,g.s.CREATE]},getCurrentAppVersion:{md:()=>Object(a.isiOS)(l.sessionState.maOS)?"":l.sessionState.maVC,vt:[g.s.CREATE,g.s.RESPONSE,g.s.SUMMARY]},getCurrentUserAsync:{md:()=>{const e=l.usersState.myProfile;return JSON.stringify(e)},vt:[g.s.SUMMARY,g.s.RESPONSE,g.s.CREATE]},getExpiryTimeAsync:{md:()=>null,vt:[g.s.RESPONSE,g.s.SUMMARY]},getFormUserCapabilitiesAsync:{md:()=>null,vt:[g.s.SUMMARY,g.s.RESPONSE]},getLikesAndCommentsAsync:{md:()=>null,vt:[g.s.RESPONSE,g.s.SUMMARY]},getLocalActionPropertiesAsync:{md:()=>{const e=p("getLocalActionPropertiesAsync");return Object(O.g)(e)?null:e},vt:[g.s.RESPONSE,g.s.SUMMARY]},getLocalizedMiniAppStrings:{md:()=>{const e=Object(f.getMiniAppStringMap)(r);return e?JSON.stringify(e):null},vt:[g.s.SUMMARY,g.s.RESPONSE,g.s.CREATE,g.s.EDIT_SURVEY]},getLocalizedStringsAsync:{md:()=>JSON.stringify(function(){const e={};return e.SingleSelect=Object(f.getString)("SingleSelect"),e.MultiSelect=Object(f.getString)("MultiSelect"),e.SurveyIdentifier=Object(f.getString)("SurveyIdentifier"),e.HintText=Object(f.getString)("HintText"),e.TextSubtitle=Object(f.getString)("TextSubtitle"),e.ImageSubtitle=Object(f.getString)("ImageSubtitle"),e.DateSubtitle=Object(f.getString)("DateSubtitle"),e.LocationSubtitle=Object(f.getString)("LocationSubtitle"),e.LocationQuestion=Object(f.getString)("LocationQuestion"),e.Next=Object(f.getString)("Next"),e.NextQuestion=Object(f.getString)("NextQuestion"),e.Submit=Object(f.getString)("Submit"),e.ResponseSummaryTitle=Object(f.getString)("ResponseSummaryTitle"),e.ResponseQuestionHeader=Object(f.getString)("ResponseQuestionHeader"),e.UniqueQuestion=Object(f.getString)("UniqueQuestion"),e.identifierPrefix=Object(f.getString)("identifierPrefix"),e.LocationStatutory=Object(f.getString)("LocationStatutory"),e.emptyWarning=Object(f.getString)("emptyWarning"),e.locationWarning=Object(f.getString)("locationWarning"),e.limitWarning=Object(f.getString)("limitWarning"),e.NextQuesIndicator=Object(f.getString)("NextQuesIndicator"),e.checkedRadioButton=Object(f.getString)("checkedRadioButton"),e.notCheckedRadioButton=Object(f.getString)("notCheckedRadioButton"),e.checkedCheckBox=Object(f.getString)("checkedCheckBox"),e.notCheckedCheckbox=Object(f.getString)("notCheckedCheckbox"),e}()),vt:[g.s.RESPONSE,g.s.SUMMARY,g.s.CREATE,g.s.EDIT_SURVEY]},getMessagePropertiesAsync:{md:()=>{const e=p("getMessagePropertiesAsync");return Object(O.g)(e)?null:e},vt:[g.s.RESPONSE,g.s.SUMMARY]},getMyResponseAsync:{md:()=>null,vt:[g.s.RESPONSE,g.s.SUMMARY]},getPackageCustomProperties:{md:()=>{const e=p("getPackageCustomProperties");return Object(O.g)(e)?null:e},vt:[g.s.SUMMARY,g.s.RESPONSE,g.s.CREATE]},getPackageCustomSettings:{md:()=>{if(L()(l.miniappState.miniAppDataMap,r)&&l.miniappState.miniAppDataMap[r].fetchState==y.a.Success){const e=l.miniappState.miniAppDataMap[r].data;if(!Object(O.g)(e.ps))return e.ps}return null},vt:[g.s.SUMMARY,g.s.RESPONSE,g.s.CREATE]},getPackagePropertiesAsync:{md:()=>{if(Object(a.isiOS)(l.sessionState.maOS)){const e=p("getPackagePropertiesAsync");return Object(O.g)(e)?null:e}if(L()(l.miniappState.miniAppDataMap,r)&&l.miniappState.miniAppDataMap[r].fetchState==y.a.Success){const e=l.miniappState.miniAppDataMap[r].data;if(!Object(O.g)(e.pp))return e.pp}return null},vt:[g.s.SUMMARY,g.s.RESPONSE,g.s.CREATE]},getPollStatusAsync:{md:()=>null,vt:[g.s.RESPONSE,g.s.SUMMARY]},getSurveyAggregatedSummaryAsync:{md:()=>s&&l.surveyState.summaryMap[s]?l.surveyState.summaryMap[s]:null,vt:[g.s.RESPONSE,g.s.SUMMARY]},getSurveyJson:{md:()=>{if(s&&l.surveyState.surveyMap[s])return l.surveyState.surveyMap[s];if(e.viewType===g.s.CREATE){const t=p("getSurveyJson"),n=e.isForwardContext()?d.f.getSurveyJson(l,e.getClonedFromSurveyId()):t;if(!Object(O.g)(n)){const t=JSON.parse(n);return t.id=E.f.isTenantMapped(l,e.convId)?Object(O.a)(E.f.getTenantId(l,e.convId)):Object(O.a)(e.convId),t.gid=e.convId,JSON.stringify(t)}return null}return null},vt:[g.s.SUMMARY,g.s.RESPONSE,g.s.CREATE,g.s.EDIT_SURVEY]},getSurveySummaryJson:{md:()=>null,vt:[g.s.RESPONSE,g.s.SUMMARY]},getSurveySummaryResultAsync:{md:()=>null,vt:[g.s.RESPONSE,g.s.SUMMARY]},getUserId:{md:u,vt:[g.s.RESPONSE,g.s.SUMMARY]},getUserIdAsync:{md:()=>u(),vt:[g.s.SUMMARY,g.s.RESPONSE,g.s.CREATE]},isRequester:{md:()=>null,vt:[g.s.RESPONSE,g.s.SUMMARY]},isResponseAppended:{md:()=>null,vt:[g.s.RESPONSE,g.s.SUMMARY]},isSubscriber:{md:()=>m.e.isCurrentUserSubscriber(l,i),vt:[g.s.RESPONSE,g.s.SUMMARY,g.s.CREATE]},populateKASClientStrings:{md:()=>JSON.stringify(Object(f.getMiniAppStringMap)("miniapps")),vt:[g.s.SUMMARY,g.s.RESPONSE,g.s.CREATE,g.s.EDIT_SURVEY]},shouldSeeSurveyDetailedSummary:{md:()=>null,vt:[g.s.RESPONSE,g.s.SUMMARY]},shouldSeeSurveySummary:{md:()=>s&&l.surveyState.surveyMetadataMap[s]?l.surveyState.surveyMetadataMap[s].shouldSeeSurveySummary:null,vt:[g.s.RESPONSE,g.s.SUMMARY]}},_={skippedFuncs:[],prefetch:{}};if(k()(G()(h),e=>{const t=h[e];if(W()(t.vt,n)){const n=t.md();null!=n?_.prefetch[e]={success:[n]}:_.skippedFuncs.push(e)}}),L()(l.miniappState.miniAppDataMap,r)&&l.miniappState.miniAppDataMap[r].fetchState==y.a.Success){const e=l.miniappState.miniAppDataMap[r].data;if(_.templateType=e.templateType,e.vm){let t=null;switch(n){case g.s.CREATE:t=e.vm[C.a.CREATE_KEY];break;case g.s.RESPONSE:t=e.vm[C.a.RESPONSE_KEY];break;case g.s.SUMMARY:case g.s.EDIT_SURVEY:t=e.vm[C.a.SUMMARY_KEY]}_.viewUrlFragment=t}}return _.templateType||_.skippedFuncs.push("_getTT"),_.viewUrlFragment||_.skippedFuncs.push("_getVU"),_};const be=()=>{h.c({id:"_kz_MiniApp_inspectionAlert",title:Object(f.getString)("MiniAppInspectionAlertTitle"),message:Object(f.getString)("MiniAppInspectionAlertMessage"),acceptButtonText:Object(f.getString)("OkButtonText"),isLightDismiss:!0})},ye=e=>e.viewType!==g.s.USER_PROFILE_IMMERSIVE_VIEW&&e.viewType!==g.s.GROUPVIEW},function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var i=n(42),r=n(34),o=n(58),a=n(41),s=n(19),c=n(29),l=n(4),u=n(15),d=n(12),p=n(60),h=n(33),f=n(43),g=n(28),m=n(96),E=n(115),_=n(95),S=n(123),T=n(129),v=n(118),I=n(6),b=n(45),y=n(77),C=n(13),A=n(159);const O=g.i,N="GroupManagerMiddleware",R=e=>t=>n=>{switch(n.type){case m.a.FETCH_GROUP_INFO_AND_TENANT_DATA:{const t=n.conversationIds.filter(e=>e);if(null==t||0==t.length)return void l.b.errorWithPIIData(N,[" (",n.type,"): ","Empty ConversationIds passed. ",n.conversationIds,"Total conversations count in state:",e.getState().conversationsState.allConversations.length]);const i=[];i.push({rt:s.a.QUERY,path:[O],variables:{action:"info",cIds:t.join()}});const r=e.getState(),o=r.conversationsState.allConversations,a=r.groupManagerState.tenantData;let c,u;const d=[];t.forEach(e=>{if(o[e]){const t=o[e].tenantId;t&&!(t in a)&&-1===d.indexOf(t)&&d.push(t)}});r.groupManagerState.moduleVersion>=E.c.GROUP_INFO_SUPPORT&&d.length>0&&(i.push({rt:s.a.QUERY,path:[O],variables:{action:"tenantInfo",tIds:d}}),c=i.length-1);n.shouldFetchMembers&&(i.push({rt:s.a.QUERY,path:[O],variables:{action:"members",cId:t[0]}}),u=i.length-1);s.c.sendMessage({paths:i}).then(t=>{l.b.debugWithNonPIIData(O,"groupManager data received",f.a.stringify(t.paths[0].value));const n=[],i=[];let o;if(t.paths[0].value.forEach(e=>{null!=e.sc?n.push(new E.d(e)):n.push(new E.a(e))}),c&&t.paths[c].value&&t.paths[c].value.forEach(e=>{i.push(E.f.FromJSON(e))}),u&&t.paths[u].value){o=[],t.paths[u].value.forEach(e=>{o.push(E.b.FromJSON(e))});const n=r.groupManagerState.groupInfoList.data;w(o,n,e)}e.dispatch(m.b.storeGroupInfoWithTenantData(n,i,o))}).catch(e=>{l.b.errorWithPIIData(N,[" (",n.type,"): ","error code: ",e.errorCode,e.stack||e.stacktrace],e)});break}case m.a.FETCH_GROUP_USER_MEMBERS:{const t=e.getState(),i=[];i.push({rt:s.a.QUERY,path:[O],variables:{action:"members",cId:n.groupId}});s.c.sendMessage({paths:i}).then(i=>{const r=[];i.paths[0].value.forEach(e=>{r.push(E.b.FromJSON(e))}),e.dispatch(m.b.storeGroupUserMembers(n.groupId,r));const o=t.groupManagerState.groupInfoList.data;w(r,o,e)}).catch(e=>{l.b.errorWithPIIData(N,[" (",n.type,"): ",e.stack||e.stacktrace,"error code: ",e.errorCode],e)});break}case m.a.CREATE_GROUP:{const t="kz_grpCrtSt"+(new Date).getTime(),i=n.groupData.groupIds,d=n.groupData.userIds,f=n.groupData.name,g={url:""},m=n.groupData.pictureData;e.dispatch(p.c.addNotification({id:t,title:"CreatingGroup",icon:h.c.LOADER,isCancellable:!1},h.b.OVERLAY));const E=n=>{e.dispatch(p.c.updateNotification({id:t,title:"CreatedGroup",isCancellable:!1,dismissTimeOut:5e3},h.b.OVERLAY)),e.dispatch(u.c.addConversation(n)),e.dispatch(u.c.selectConversation(n.convId,"")),e.dispatch(a.c.fetchGroupInfoWithTenantData([n.convId]));const i={CONVERSATION_ID:n.convId};o.a.recordEvent(r.b.WA_NEW_GROUP_CREATE_SUCCESS,i)},_=i=>{if(e.dispatch(p.c.updateNotification({id:t,title:"UnableToCreateAGroup",isCancellable:!1,dismissTimeOut:5e3},h.b.OVERLAY)),i){const e={ERROR_CODE:i.ErrorCode};o.a.recordEvent(r.b.WA_NEW_GROUP_CREATE_FAIL,e),l.b.errorWithPIIData(N,[" (",n.type,"): ",i.stack||i.stacktrace,"error code: ",i.errorCode],i)}},S={title:f,uIds:d,gIds:i,urlObj:g,corId:Object(I.b)(),message:null==m?null:P(g,m.selectedFilesLocalUri[0],m.files[0])},T=[];T.push({rt:s.a.MUTATE,path:[O,"create_group"],variables:S});s.c.sendMessage({paths:T}).then(e=>{s.c.addPathHandlerSubscription(e.paths[0].path[0],{handleRequest:t=>{const i=Object(c.k)(t.data.paths[0]);if(!i||t.data.paths[0].errors[0].errorCode!=c.c.DUPLICATE_REQUEST)if(s.c.removePathHandlerSubscription(e.paths[0].path[0]),i)_(t.data.paths[0].errors[0]);else{const e=t.data.paths[0].value;e?E(e):l.b.errorWithPIIData(N,[" (",n.type,"): ","error code: ","receiving empty conversation data while creating group"])}}})}).catch(e=>{_(e)});break}case m.a.FETCH_GROUP_INFO_FROM_INVITE_TOKEN:{const t=n.groupInviteToken,i=n=>{s.c.addPathHandlerSubscription(n.paths[0].path[0],{handleRequest:i=>{s.c.removePathHandlerSubscription(n.paths[0].path[0]),Object(I.g)(i.data.paths[0].errors)||0===i.data.paths[0].errors.length?(e.dispatch(m.b.storeGroupInfoOfInviteToken(i.data.paths[0].value)),e.dispatch(m.b.updateStateJoinGroupViaInviteToken(_.a.FetchSuccess))):(e.dispatch(m.b.updateStateJoinGroupViaInviteToken(_.a.InvalidInput)),o.a.recordEvent(r.b.JOIN_GROUP_INVALID_INVITE_LINK,{DATA:t}))}})},a=[];a.push({rt:s.a.QUERY,path:[O],variables:{action:"infoFromInviteToken",inviteToken:t}});s.c.sendMessage({paths:a}).then(e=>{l.b.debugWithNonPIIData(O,"groupManager data received",f.a.stringify(e.paths[0].value)),i(e)}).catch(t=>{e.dispatch(m.b.updateStateJoinGroupViaInviteToken(_.a.FetchFailed)),l.b.errorWithPIIData(N,[" (",n.type,"): ","error code: ",t.errorCode,t.stack||t.stacktrace],t)});break}case m.a.JOIN_PRIVATE_GROUP:{const t=t=>{s.c.addPathHandlerSubscription(t.paths[0].path[0],{handleRequest:n=>{s.c.removePathHandlerSubscription(t.paths[0].path[0]),Object(I.g)(n.data.paths[0].errors)||0===n.data.paths[0].errors.length?e.dispatch(m.b.updateStateJoinGroupViaInviteToken(_.a.JoinSuccessful)):e.dispatch(m.b.updateStateJoinGroupViaInviteToken(_.a.JoinFailed))}})},i=[];i.push({rt:s.a.MUTATE,path:[O],variables:{action:"joinPrivateGroup",inviteToken:n.groupInviteToken,cId:n.groupId}});s.c.sendMessage({paths:i}).then(e=>{l.b.debugWithNonPIIData(O,"groupManager data received",f.a.stringify(e.paths[0].value)),t(e)}).catch(t=>{e.dispatch(m.b.updateStateJoinGroupViaInviteToken(_.a.JoinFailed)),l.b.errorWithPIIData(N,[" (",n.type,"): ","error code: ",t.errorCode,t.stack||t.stacktrace],t)});break}case m.a.JOIN_PUBLIC_GROUP:{const t=[];t.push({rt:s.a.MUTATE,path:[O],variables:{action:"joinPublicGroup",groupId:n.groupId}});s.c.sendMessage({paths:t}).then(t=>{l.b.debugWithNonPIIData(O,"groupManager data received",f.a.stringify(t.paths[0].value)),e.dispatch(m.b.updateStateJoinGroupViaInviteToken(_.a.JoinSuccessful))}).catch(t=>{e.dispatch(m.b.updateStateJoinGroupViaInviteToken(_.a.JoinFailed)),l.b.errorWithPIIData(N,[" (",n.type,"): ","error code: ",t.errorCode,t.stack||t.stacktrace],t)});break}case m.a.REMOVE_PUBLIC_GROUP_INFO:{const e=[];e.push({rt:s.a.MUTATE,path:[O],variables:{action:"removePublicGroupInfo",groupId:n.groupId}});s.c.sendMessage({paths:e}).then(e=>{l.b.debugWithNonPIIData(O,"groupManager data received",f.a.stringify(e.paths[0].value))}).catch(e=>{l.b.errorWithPIIData(N,[" (",n.type,"): ","error code: ",e.errorCode,e.stack||e.stacktrace],e)});break}case m.a.ADD_PARTICIPANTS_TO_GROUP:{const t="kz_addParSt"+(new Date).getTime(),c=n.participants,u=[],d=[];if(c.forEach(e=>{e.type===i.b.GROUP?d.push(e.id):u.push(e.id)}),d.length+u.length===0)return void l.b.errorWithNonPIIData("No participant selected");const f=[{rt:s.a.MUTATE,path:[O,"add_members"],variables:{gIds:d,uIds:u,cId:n.conversationId}}];e.dispatch(p.c.addNotification({id:t,title:T.a.getNotificationStringForGroupOperationInitiate(v.a.ADD_PARTICIPANTS,n.participants),icon:h.c.LOADER,isCancellable:!1,isLocalized:!0},h.b.OVERLAY));const g=()=>{e.dispatch(p.c.updateNotification({id:t,title:T.a.getNotificationStringForGroupOperationSuccess(v.a.ADD_PARTICIPANTS,n.participants),isCancellable:!1,dismissTimeOut:5e3,isLocalized:!0},h.b.OVERLAY));const s=e.getState().groupManagerState.groupInfoList.data[n.conversationId].groupMembers;c.forEach(e=>{s.push(new E.b(e.id,e.name,e.type,i.a.MEMBER))}),e.dispatch(a.c.storeGroupUserMembers(n.conversationId,s)),o.a.recordEvent(r.b.ADD_PARTICIPANTS_SUCCESS,{ID:n.conversationId,COUNT:u.length+d.length})},m=i=>{i&&l.b.errorWithPIIData(O,[" (",n.type,"): ",i.stack||i.stacktrace,"error code: ",i.errorCode],i),e.dispatch(p.c.updateNotification({id:t,title:T.a.getNotificationStringForGroupOperationFailure(v.a.ADD_PARTICIPANTS,n.participants),isCancellable:!1,dismissTimeOut:5e3,isLocalized:!0},h.b.OVERLAY)),o.a.recordEvent(r.b.ADD_PARTICIPANTS_FAIL,{ID:n.conversationId,COUNT:u.length+d.length}),e.dispatch(a.c.fetchGroupInfoWithTenantData([n.conversationId],!0))};s.c.sendMessage({paths:f}).then(e=>{s.c.addPathHandlerSubscription(e.paths[0].path[0],{handleRequest:t=>{if(s.c.removePathHandlerSubscription(e.paths[0].path[0]),!0===t.data.paths[0].value)g();else{const e=t.data.paths[0].errors&&t.data.paths[0].errors.length>0?t.data.paths[0].errors[0]:void 0;m(e)}}})}).catch(e=>{m(e)});break}case m.a.REMOVE_PARTICIPANT_FROM_GROUP:{const t="kz_remParSt"+(new Date).getTime();e.dispatch(p.c.addNotification({id:t,title:T.a.getNotificationStringForGroupOperationInitiate(v.a.REMOVE_FROM_GROUP,[n.participant]),icon:h.c.LOADER,isCancellable:!1,isLocalized:!0},h.b.OVERLAY));const c=n.participant,u=[],d=[];c.type===i.b.GROUP?d.push(c.id):u.push(c.id);const f=[{rt:s.a.MUTATE,path:[O,"remove_members"],variables:{gIds:d,uIds:u,cId:n.conversationId}}],g=()=>{e.dispatch(p.c.updateNotification({id:t,title:T.a.getNotificationStringForGroupOperationSuccess(v.a.REMOVE_FROM_GROUP,[n.participant]),isCancellable:!1,dismissTimeOut:5e3,isLocalized:!0},h.b.OVERLAY));const i=e.getState().groupManagerState.groupInfoList.data[n.conversationId].groupMembers;i.splice(i.findIndex(e=>e.id===c.id),1),e.dispatch(a.c.storeGroupUserMembers(n.conversationId,i)),o.a.recordEvent(r.b.REMOVE_PARTICIPANTS_SUCCESS,{ID:n.conversationId})},m=i=>{l.b.errorWithPIIData(O,[" (",n.type,"): ",i.stack||i.stacktrace,"error code: ",i.errorCode],i),e.dispatch(p.c.updateNotification({id:t,title:T.a.getNotificationStringForGroupOperationFailure(v.a.REMOVE_FROM_GROUP,[n.participant]),isCancellable:!1,dismissTimeOut:5e3,isLocalized:!0},h.b.OVERLAY)),e.dispatch(a.c.fetchGroupInfoWithTenantData([n.conversationId],!0)),o.a.recordEvent(r.b.REMOVE_PARTICIPANTS_FAIL,{ID:n.conversationId})};s.c.sendMessage({paths:f}).then(e=>{s.c.addPathHandlerSubscription(e.paths[0].path[0],{handleRequest:t=>{if(s.c.removePathHandlerSubscription(e.paths[0].path[0]),!0===t.data.paths[0].value)g();else{const e=t.data.paths[0].errors&&t.data.paths[0].errors.length>0?t.data.paths[0].errors[0]:void 0;m(e)}}})}).catch(e=>{m(e)});break}case m.a.CHANGE_PARTICIPANT_ROLE_IN_GROUP:{const t="kz_chgRoleSt"+(new Date).getTime(),c=n.newRole===i.a.ADMIN?v.a.MAKE_ADMIN:v.a.REMOVE_ADMIN;e.dispatch(p.c.addNotification({id:t,title:T.a.getNotificationStringForGroupOperationInitiate(c,[n.participant]),icon:h.c.LOADER,isCancellable:!1,isLocalized:!0},h.b.OVERLAY));const u=n.participant,d=[{rt:s.a.MUTATE,path:[O,"change_role"],variables:{uId:u.id,cId:n.conversationId,role:n.newRole.toString()}}],f=()=>{e.dispatch(p.c.updateNotification({id:t,title:T.a.getNotificationStringForGroupOperationSuccess(c,[n.participant]),isCancellable:!1,dismissTimeOut:5e3,isLocalized:!0},h.b.OVERLAY));const i=e.getState().groupManagerState.groupInfoList.data[n.conversationId].groupMembers;for(const e of i)if(e.id===u.id){e.role=n.newRole;break}e.dispatch(a.c.storeGroupUserMembers(n.conversationId,i)),o.a.recordEvent(r.b.CHANGE_PARTICIPANT_ROLE_SUCCESS,{ID:n.conversationId})},g=i=>{l.b.errorWithPIIData(O,[" (",n.type,"): ",i.stack||i.stacktrace,"error code: ",i.errorCode],i),e.dispatch(p.c.updateNotification({id:t,title:T.a.getNotificationStringForGroupOperationFailure(c,[n.participant]),isCancellable:!1,dismissTimeOut:5e3,isLocalized:!0},h.b.OVERLAY)),e.dispatch(a.c.fetchGroupInfoWithTenantData([n.conversationId],!0)),o.a.recordEvent(r.b.CHANGE_PARTICIPANT_ROLE_FAIL,{ID:n.conversationId})};s.c.sendMessage({paths:d}).then(e=>{s.c.addPathHandlerSubscription(e.paths[0].path[0],{handleRequest:t=>{if(s.c.removePathHandlerSubscription(e.paths[0].path[0]),!0===t.data.paths[0].value)f();else{const e=t.data.paths[0].errors&&t.data.paths[0].errors.length>0?t.data.paths[0].errors[0]:void 0;g(e)}}})}).catch(e=>{g(e)});break}case m.a.GET_CONNECT_GROUP_META_INFO:{const t=n.groupIds;S.a.getConnectGroupMetaInfo(t).then(t=>{const n=t.response.mis;e.dispatch(a.c.storeConnectGroupMetaInfo(n))}).catch(e=>{l.b.errorWithPIIData(O,["Error in calling GetConnectGroupMetaInfoResponse: "+JSON.stringify(e.getRespMessage())],e)});break}case b.a.PRE_FETCH_CHAT_DATA:if(e.getState().groupManagerState.moduleVersion>=E.c.GROUP_CHAT_DATA_PRE_FETCH){const e=n.conversationIds;l.b.infoWithNonPIIData(O,"pre fetching send widget states for conversations",e),n.asyncPathList.push({rt:s.a.QUERY,path:[g.i,"sendWidgets",e.join()]})}break;case C.a.ON_RESPONSE_RECEIVED:{const t=Object(y.b)(n.responseData,O,"sendWidgets");if(t&&!Object(c.k)(t)){const t=e.getState().conversationsState.allConversationsIds;t&&t.length&&e.dispatch(b.b.preFetchChatMessages(t.slice(0,A.a())))}break}}return t(n)};function P(e,t,n){return{type:d.h.START_CONVERSATION,getLocalPathsToUpload:()=>[t],getLocalFileForPath:e=>n,onFileUploaded:(t,n)=>{t&&(e.url=n)},getConversationId:()=>""}}function w(e,t,n){const r=[];e.forEach(e=>{e.type!==i.b.GROUP||e.id in t||r.push(e.id)}),r.length>0&&n.dispatch(a.c.fetchGroupInfoWithTenantData(r))}},function(e,t,n){"use strict";t.a=new class{constructor(){this.getConnectionState=e=>e.connectivityState.connectionState,this.isActivelyConnect=e=>e.connectivityState.isActivelyConnect}}},function(e,t,n){"use strict";var i=n(115),r=n(70),o=n(155),a=n(15),s=n(84),c=n(42),l=n(38),u=n(140),d=n(129),p=n(208),h=n(34),f=n(6);const g=(e,t)=>e.groupManagerState.groupInfoList.data[t],m=e=>e.conversationsState.allConversations,E=e=>e,_=(e,t)=>t,S=(e,t)=>t,T=(e,t,n)=>n;t.a=new class{constructor(){this.emptyList=[],this.getGroupInfo=Object(r.a)([g,_],(e,t)=>t&&!e?null:e),this.getNewGroupParticipantsGroupsAsParticipants=Object(r.a)([m,E,S,T],(e,t,n,i)=>((e,t,n,i)=>{const r=[];if(n&&-1!=n.indexOf(c.b.GROUP))return r;for(const n in t)if(n){const l=t[n];if(l.convType===a.a.FORUM||l.convType===a.a.FLAT_GROUP){let t="";if(i&&l.tenantId)continue;const n=g(e,l.convId);n&&n.currentUserRole===c.a.ADMIN&&(t=d.a.getParticipantsCountString(n.groupsCount,n.membersCount),r.push(new o.a(l.convId,l.title,c.b.GROUP,l.photoServerUrl,"",t,s.a.getGlyphText(l.title),s.a.getGlyphBackground(l.convId),l.tenantId,null,null,null,l.groupAudienceType)))}}return r})(t,e,n,i)),this.getGroupCreationParticipantsList=Object(r.a)([o.b.getAllContactsAsParticipants,this.getNewGroupParticipantsGroupsAsParticipants,u.d.getContactsFetchState],(e,t,n)=>{let i=null;const r=n===l.a.Success;return t&&r&&(i=this.emptyList,i=i.concat(e),i=i.concat(t),i.sort((e,t)=>e.name.toLocaleLowerCase().localeCompare(t.name.toLocaleLowerCase()))),i}),this.isGroupInfoSupported=e=>e.groupManagerState.moduleVersion>=i.c.GROUP_INFO_SUPPORT,this.getGroupInfoFetchState=e=>e.groupManagerState.groupInfoList.fetchState,this.getTotalGroupParticipantsCount=(e,t)=>{const n=g(e,t);return n?n.membersCount+n.unprovisionedUsersCount+n.groupsCount:0}}isCurrentUserMember(e,t){const n=e.groupManagerState.groupInfoList.data[t];return!!n&&n.currentUserRole===c.a.MEMBER}isCurrentUserAdmin(e,t){const n=e.groupManagerState.groupInfoList.data[t];return!!n&&n.currentUserRole===c.a.ADMIN}isReadOnlyGroup(e,t){const n=e.groupManagerState.groupInfoList.data[t];return!n||n.isReadonly}isReachableGroup(e,t){const n=e.groupManagerState.groupInfoList.data[t];return!!n&&n.currentUserRole!=c.a.NONE}isCurrentUserSubscriber(e,t){const n=e.groupManagerState.groupInfoList.data[t];return!!n&&n.currentUserRole===c.a.SUBSCRIBER}isCurrentUserIndirectMember(e,t){const n=e.groupManagerState.groupInfoList.data[t];return!!n&&n.currentUserRole===c.a.INDIRECT_MEMBER}isUserPrivateMemberInGroup(e,t,n){const i=e.groupManagerState.groupInfoList.data[n];if(i&&i.groupMembers){return-1!=i.groupMembers.findIndex(e=>e.id===t&&1==e.isPrivateMember)}return!1}getSendWidgetState(e,t){const n=e.groupManagerState.sendWidgetStateMap[t];return Object(f.g)(n)?i.e.Unknown:(p.a.hasRecord(h.a.SEND_WIDGET_RENDER)||p.a.recordInternalEvent(t,h.a.SEND_WIDGET_RENDER),n)}getGroupParticipantList(e,t){return e.groupManagerState.groupInfoList.data[t].groupMembers}getTenantName(e,t){return e.groupManagerState.tenantData[t]?e.groupManagerState.tenantData[t].tenantName:null}getTenantData(e,t){return e.groupManagerState.tenantData[t]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var i=n(150),r=n(48),o=n(28),a=n(25),s=n(13),c=n(117),l=n(61),u=n(81),d=n(20),p=n(1),h=n(6),f=n(32),g=n(29),m=n(100),E=n(4),_=n(119),S=n(169),T=n(153),v=n(159),I=n(11),b=n(26),y=n(22);const C="SESSION MIDDLEWARE";o.q;let A,O=!1;const N=e=>t=>n=>{switch(n.type){case S.a.ENSURE_SESSION:k(e.getState());break;case _.a.LOGOUT:{const t=e.getState().sessionState;if(t){const e=[];e.push({rt:g.f.MUTATE,path:["session","terminate"],variables:{waId:a.c.getWebId()}});m.b.sendMessage({paths:e,sessionId:t.id})}break}case s.a.START_APP:R(e)&&r.a.initialize(I.b.COLD_BOOT),l.a.registerOnStorageChange(B(e),"sessionId"),c.a.setSessionDataProvider({getSessionMsgPayload:U}),m.b.addPathHandlerSubscription("session",{handleRequest:P});break;case f.a.ON_APP_FG_CHANGED:if(n.isAppForeground)if(c.a.isServerConnected()){if(c.a.isDeviceConnecting())return;!r.a.isAlive()&&R(e)&&r.a.initialize(I.b.WARM_BOOT),c.a.isConnected()?c.a.initiatePing():c.a.forceReconnect(y.b.AppForeGround)}else{e.getState().usersState.myProfile&&(r.a.clear(),R(e)&&r.a.initialize(I.b.WARM_BOOT))}}return t(n)},R=e=>_.g.isUserAuthenticated(e.getState()),P=e=>{const t=b.a.getStore().getState();if(!t.connectivityState.isActivelyConnect)return I.e.recordEvent(I.c.TERMINATE_HANDLE_SESSION_REQUEST,{MESSAGE:"handleSessionRequest: not handling session update request, as the app is in actively disconnect mode",NAME:e.data.paths[0].path[1]}),void E.b.infoWithNonPIIData(C,"handleSessionRequest: not handling session update request, as the app is in actively disconnect mode");const n=m.a.isUpdateTypeMessage(e);if(n||E.b.infoWithNonPIIData(C,"received broadcast for ",e.data.paths[0].path[1]),"invalidate"===e.data.paths[0].path[1]){if(r.a.reset(),O)return;O=!0,a.c.updateConnectionStatistics(a.a.INVALID_SESSION,"i"),V(I.c.INVALID_SESSION,"invalid"),k(t)}else if("ensure"===e.data.paths[0].path[1]){O=!1,W(e);const i=m.a.extractResponse(e);i.paths[0].value.result===T.a.RESET&&c.a.isDeviceDisconnected()&&r.a.isAlive()&&(E.b.infoWithNonPIIData(C,"Reset the boot Perf tracker as RESET request is received"),r.a.reset()),c.a.setDeviceConnected(!0),m.a.isErrorResponse(e)?(V(I.c.ENSURE_SESSION_RECEIVED,"ensure",!1),w(t,m.a.extractErrorResponse(e))):(r.a.recordInternalEvent(I.c.PEER_PROCESSING_TIME,i.ppt),M(t,i.paths[0].value,n))}else if("ping"===e.data.paths[0].path[1]){V(I.c.PING_FROM_DEVICE,"ping");const e=[];e.push({rt:g.f.QUERY,path:["session","ping"],variables:{waId:a.c.getWebId()}});m.b.sendMessage({paths:e})}},w=(e,t)=>{a.c.updateConnectionStatistics(a.a.INVALID_SESSION,"e"),E.b.errorWithNonPIIData(C,"ensureSession error:",t)},M=(e,t,n)=>{const o=t.result;if(n){let n;E.b.infoWithNonPIIData(C,"ensureSession Update Response result:",o);const i=e.sessionState&&e.sessionState.id,r=t.id;return o===T.a.RESET?n=T.a.RESET:o===T.a.RESUME&&(n=T.a.RESUME),void(i===r&&b.a.getStore().dispatch(f.c.onSessionUpdate(t,n)))}if(E.b.infoWithNonPIIData(C,"ensureSession Response result:",o),r.a.recordInternalEventEnd(I.b.ENSURE_SESSION),!n&&t.pL&&t.pL.FeatureGateValues&&(E.b.infoWithNonPIIData(C,JSON.stringify(t.pL.FeatureGateValues)),b.a.getStore().dispatch(f.c.updatePeerFeatureStatus(t.pL.FeatureGateValues))),o===T.a.RESET){a.c.updateConnectionStatistics(a.a.INVALID_SESSION,"r"),D();const e=t;p.showAlertForAlignmentChange(e.maLocale)||p.setLocale(e.maLocale,!1,!0,()=>{b.a.dispatch(f.c.onStringsLoaded())}),Object(h.g)(e.NT)||i.a.setAppNetworkType(e.NT),Object(h.g)(e.BT)||a.c.setDeviceBuildType(e.BT),V(I.c.ENSURE_SESSION_RECEIVED,T.a.RESET,!0,e.id),E.b.infoWithNonPIIData(C,"ensureSession reset, session id:",e.id),t.modVerMap&&b.a.getStore().dispatch(f.c.setModuleVersion(t.modVerMap)),b.a.getStore().dispatch(S.b.updateSessionParams(e)),l.a.setData("sessionId",e.id),m.b.onSessionReset(e.protocol),b.a.getStore().dispatch(f.c.onSessionReset(t))}else if(o===T.a.RESUME){A||D();const n=t.id,i=e.sessionState&&e.sessionState.id;V(I.c.ENSURE_SESSION_RECEIVED,T.a.RESUME,!0,n,i),n===i?b.a.getStore().dispatch(f.c.onSessionResumed(t,e.sessionState.protocol)):(b.a.getStore().dispatch(S.b.updateSessionParams(null)),b.a.getStore().dispatch(S.b.ensureSession()))}else V(I.c.ENSURE_SESSION_RECEIVED,T.a.REJECT,!0,t.rejectReason),b.a.getStore().dispatch(S.b.updateSessionParams(null)),b.a.getStore().dispatch(f.c.onSessionRejected(t.rejectReason)),E.b.errorWithNonPIIData("session rejected due to ",t.rejectReason)},D=()=>{A&&clearTimeout(A),A=setTimeout(L,12e5)},L=()=>{const e=b.a.getStore().getState();if(!e.connectivityState.isActivelyConnect)return E.b.infoWithNonPIIData(C,"Not extending session as mode is set to actively disconnect"),void(A=null);A=null,E.b.infoWithNonPIIData(C,"will send extend session request"),V(I.c.EXTEND_SESSION_INITIATED,"extend");m.b.sendMessage(x(e)).then(e=>{V(I.c.EXTEND_SESSION_RESPONSE_RECEIVED,"extend",!0),D(),b.a.getStore().dispatch(f.c.onSessionExtended(e.paths[0].value))}).catch(e=>{V(I.c.EXTEND_SESSION_RESPONSE_RECEIVED,"extend",!1,g.c[e.errorCode]),e.errorCode===g.c.INVALID_SESSION_ID?b.a.getStore().dispatch(S.b.ensureSession()):E.b.errorWithPIIData(C,["Error while executing extendSession, we need to re-ensure session","errorCode: ",e.errorCode],e)})},x=e=>{const t=[];t.push({rt:g.f.MUTATE,path:["session","extend"],variables:{waId:a.c.getWebId(),session:F(e)}});return{paths:t}},k=e=>{r.a.recordInternalEventStart(I.b.ENSURE_SESSION),r.e.initialize(I.b.CONV_LIST_LOADED),E.b.infoWithNonPIIData(C,"calling ensure session"),V(I.c.ENSURE_SESSION_INITIATED,"ensure"),c.a.wakeupDeviceWithPayload(y.b.EnsureSessionInitiated,U())},U=()=>{const e=b.a.getStore().getState();return G(e)},G=e=>{const t=[];t.push({rt:g.f.MUTATE,path:["session","ensure"],variables:{waId:a.c.getWebId(),agent:u.a(),majV:d.getWebAppVersion()[0],minV:d.getWebAppVersion()[1],maxPV:d.getMaxSupportedProtocolVersion(),minPV:d.getMinSupportedProtocolVersion(),session:F(e),ICF:v.a(),WSAR:v.c(),maxConvCount:v.b()}});return{paths:t}},F=e=>{const t={},n=e.sessionState;if(n){const i=n.id;t.id=i;const r=e.conversationsState&&e.conversationsState.selectedConversation||null;if(!Object(h.d)(r)){t.activeConversationId=r;const n=e.chatState;if(n&&n.chatConversationsMap&&n.chatConversationsMap[r]){const e=n.chatConversationsMap[r];t.latestBucketId=e.currentLatestBucket,t.latestMsgId=e.messageIds&&e.messageIds[e.messageIds.length-1]}}}return t},B=e=>t=>{const n=e.getState();n.sessionState&&t!==n.sessionState.id&&(E.b.infoWithNonPIIData(C,"marking web instance as inactive: session id in local store",t,"state id",n.sessionState.id),b.a.getStore().dispatch(f.c.handleActiveWebClientChanged(!1)))},V=(e,t,n,i=null,r=null)=>{const o={TAG:C,ACTION:t,IS_SUCCESS:n};void 0!==n&&(o.IS_SUCCESS=n),i&&(o.NEW_STATE=i),r&&(o.OLD_STATE=r),I.e.recordEvent(e,o)},W=e=>{const t=m.a.extractResponse(e);if(!Object(h.g)(t)&&!Object(h.g)(t.paths[0].value)){const e=t.paths[0].value;Object(h.g)(e.appDeviceId)||a.c.setDeviceId(e.appDeviceId),Object(h.g)(e.maOS)||a.c.setDeviceOs(e.maOS),Object(h.g)(e.maOSVer)||a.c.setDeviceOsVersion(e.maOSVer),Object(h.g)(e.maVer)||a.c.setDeviceAppClientVersion(e.maVer),Object(h.g)(e.mdModel)||a.c.setDeviceModel(e.mdModel)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n(4),r=n(125),o=n(177),a=n(28),s=n(256),c=n(29),l=n(76),u=n(19);const d=a.p,p="ReportAnIssueMiddleware",h=e=>e=>t=>{switch(t.type){case s.a.UPLOAD_DEVICE_LOGS:{const e=t.incidenceId;let n;const a=[{rt:c.f.MUTATE,path:[d,"upload_device_logs"],variables:{incidenceId:e}}];if(l.b.isConnected())n=u.c.sendMessage({paths:a}),n.then(t=>{i.b.infoWithNonPIIData(p,"device call was successful for incidence id",e)}).catch(t=>{i.b.errorWithNonPIIData(p,"device call failed for incidence id",e)});else{const t=o.a.build({paths:a});n=r.a.wakeUpDevice(t),n.then(t=>{i.b.infoWithNonPIIData(p,"device call was successful for incidence id",e)}).catch(t=>{i.b.errorWithNonPIIData(p,"device call failed for incidence id",e)})}}}return e(t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return U}));var i=n(166),r=n(34),o=n(58),a=n(28),s=n(77),c=n(25),l=n(240),u=n(13),d=n(1),p=n(57),h=n(52),f=n(19),g=n(29),m=n(6),E=n(45),_=n(60),S=n(33),T=n(201),v=n(100),I=n(4),b=n(91);class y{constructor(e){this.IsCharging=e.c,this.IsLowBattery=e.lb,this.IsPowerSaveMode=e.ps,e.o&&(this.IsOptimized=e.o)}}var C,A=n(21);!function(e){e[e.UNKNOWN=-1]="UNKNOWN",e[e.LAUNCHED=0]="LAUNCHED",e[e.RESUME=1]="RESUME",e[e.SUSPEND=2]="SUSPEND",e[e.KILLED=3]="KILLED"}(C||(C={}));var O=n(20),N=n(78),R=n(7),P=n(8),w=n(2),M=n(138);const D=a.b,L=a.m,x=e=>t=>n=>{switch(n.type){case u.a.START_APP:localStorage.setItem(N.b,document.title),f.d.registerOnSDNMessageReceived(B(e),i.a.SDN_LOGOUT_MESSAGE_TYPE),window.onbeforeunload=V(e),h.b.subscribe(p.b.APP_JS_DOWNLOAD_STATE_CHANGE,W(e)),c.c.isUserAuthenticated()&&!M.b.exists(M.a)&&M.b.downloadScript(M.a);break;case b.a.ON_APP_FG_CHANGED:{const t=n.isAppForeground?C.RESUME:C.SUSPEND;h.b.post(new p.a(p.b.APP_FG_CHANGED,n.isAppForeground)),k(t,e.getState());break}case b.a.ON_APP_TERMINATED:k(C.KILLED,e.getState());break;case b.a.ON_SESSION_RESET:{n.asyncPathList.push({rt:f.a.SUBSCRIBE,path:[D,"battery"]});const t=U(),i=e.getState();!Object(O.IsSupportedProtocolVersion)("5",i.sessionState.protocol)||t&&"default"!==t||setTimeout(()=>{const t={id:"enableBrowserNotification",title:Object(d.getString)("EnableBrowserNotitifcationTitle"),titleColor:A.a.BrowserNotificationTextColor,titleTextStyle:P.a.BodyMediumTextStyle,description:"",descriptionTextColor:A.a.BrowserNotificationTextColor,linkText:Object(d.getString)("EnableBrowserNotitifcationDescription"),notificationCategory:S.a.PRIMARY,priority:S.i.BROWSER_NOTIFICATION,icon:R.a.TurnOnNotificationIcon,height:w.a.BROWSER_NOTIFICATION_HEIGHT,bgColor:A.a.EnableNotificationBgColor,isCancellable:!1,isClickable:!0,type:S.j.PUSH};e.dispatch(_.c.addNotification(t,S.b.STICKY))},5e3),e.dispatch(_.c.updateNotificationBadge());const r=e.getState().appState.isAppForeground?C.RESUME:C.SUSPEND;k(r,e.getState());break}case u.a.ON_RESPONSE_RECEIVED:case u.a.ON_UPDATE_RECEIVED:{const t=Object(s.b)(n.responseData,D,"battery");if(!t)break;if(Object(g.k)(t))I.b.warnWithNonPIIData(D,t.errors);else{const n=t.value,i=new y(n);e.dispatch(b.c.updatePeerBatteryState(i))}break}case b.a.UPDATE_PEER_BATTERY_STATE:{const t=n.batteryState;if(t.IsCharging)e.dispatch(_.c.removeNotification("lowBatteryNotification",S.b.STICKY)),e.dispatch(_.c.removeNotification("powerSaveModeNotification",S.b.STICKY));else if(t.IsLowBattery){const t=Object(T.a)(),n=Object.assign({},t,{id:"lowBatteryNotification",title:Object(d.getString)("LowBatteryNotitifcationTitle"),description:Object(d.getString)("LowBatteryNotitifcationDescription"),notificationCategory:S.a.SECONDARY,priority:S.i.LOW_BATTERY_NOTIFICATION,icon:R.a.BatteryLowNotificationIcon,bgColor:A.a.PhoneBatteryLowColor});e.dispatch(_.c.addNotification(n,S.b.STICKY))}else if(t.IsPowerSaveMode){const t=Object(T.a)(),n=Object.assign({},t,{id:"powerSaveModeNotification",title:Object(d.getString)("PowerSaveModeNotificationTitle"),description:Object(d.getString)("PowerSaveModeNotificationDescription"),notificationCategory:S.a.SECONDARY,priority:S.i.POWER_SAVE_MODE_NOTIFICATION,icon:R.a.PowerSaveModeNotificationIcon,bgColor:A.a.PowerSaveModeNotificationColor});e.dispatch(_.c.addNotification(n,S.b.STICKY))}if(t.IsOptimized){const t=Object(T.a)(),n=Object.assign({},t,{id:"optimizeBatteryNotification",title:Object(d.getString)("OptimizeBatteryNotitifcationTitle"),description:Object(d.getString)("OptimizeBatteryNotitifcationDescription"),notificationCategory:S.a.SECONDARY,priority:S.i.OPTIMIZE_BATTERY_NOTIFICATION,icon:R.a.OptimizeBatteryNotificationIcon,bgColor:A.a.OptimizeBatteryNotificationColor,subText:Object(d.getString)("OptimizeBatteryNotitifcationSubText")});e.dispatch(_.c.addNotification(n,S.b.STICKY))}else 0==t.IsOptimized&&e.dispatch(_.c.removeNotification("optimizeBatteryNotification",S.b.STICKY));break}case _.a.REMOVE_NOTIFICATION:if("optimizeBatteryNotification"===n.notificationId){const e=[];e.push({rt:f.a.MUTATE,path:[D,"battery","optimized"],variables:{cancel:!0}}),v.b.sendMessage({paths:e})}}return t(n)},k=(e,t)=>{if(I.b.infoWithNonPIIData("APP MIDDLEWARE","notifyAppStateChanged:",e,": sessionId:",t.sessionState?t.sessionState.id:""),G(e,t)){const n=F(e),i=t.sessionState.id?t.sessionState.id:"";v.b.sendMessage({paths:n,sessionId:i})}else if(t.sessionState&&!Object(m.d)(t.sessionState.id)){const n=F(e);v.b.sendMessage({paths:n,sessionId:t.sessionState.id})}},U=()=>{try{return Notification.permission}catch(e){return}},G=(e,t)=>{const n=U();return e===C.KILLED&&t.appState.isWebInstanceActive&&!Object(m.g)(t.sessionState)&&Object(O.IsSupportedProtocolVersion)("5",t.sessionState.protocol)&&n&&"granted"===n},F=e=>{const t=[];return t.push({rt:f.a.MUTATE,path:[D,"stateChange"],variables:{state:e}}),t},B=e=>t=>{t.logOut||c.c.getWebId()===t.webclientId||(I.b.infoWithNonPIIData("APP MIDDLEWARE","marking web instance as inactive: another web instance is active"),e.dispatch(b.c.handleActiveWebClientChanged(!1)))},V=e=>t=>{const n=E.e.hasUnsentMessage(e.getState()),i=v.b.has(f.a.MUTATE,L);if(n||i)return!0;o.a.recordEvent(r.b.PAGE_UNLOAD,{BROWSER_SESSION_ID:c.c.getBrowserSessionId()}),l.AWTLogManager.flushAndTeardown()},W=e=>t=>{e.dispatch(b.c.onAppJsDownloadStatusChanged(t.payload))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var i=n(16),r=n(34),o=n(58),a=n(115);class s{constructor(e,t,n,i){this.guid=e,this.respCode=t,this.response=n,this.error=i}getGuid(){return this.guid}getRespCode(){return this.respCode}getRespMessage(){return this.response}getError(){return this.error}}var c=n(123),l=n(28),u=n(77),d=n(13),p=n(29),h=n(100),f=n(4),g=n(46),m=n(122),E=n(12),_=n(147),S=n(47),T=n(41),v=n(45),I=n(15),b=n(92),y=n(112),C=n(62),A=n(6),O=n(11),N=n(48),R=n(1),P=n(164),w=n.n(P),M=n(236),D=n.n(M);const L=l.k,x=e=>t=>n=>{switch(n.type){case _.a.FETCH_CONTENT_FOR_NON_IM_MESSAGES:h.b.sendQuery([L,"message_ids",n.messageIdList.join()]).then(t=>{const n=t.paths[0].value;B(e,n)}).catch(e=>{f.b.errorWithPIIData(L,["error at",_.a.FETCH_CONTENT_FOR_NON_IM_MESSAGES,e.stack||e.stacktrace,"error code: ",e.errorCode],e)});break;case g.a.MESSAGE_INSERT:{const t=n.rawMessage,i=Object(m.b)(t);if(Object(E.c)(t.type,i)){const n=[];n.push({rt:p.f.QUERY,path:[L,"message_ids",t.id]}),n.push({rt:p.f.QUERY,path:[l.i,"sendWidget",t.conversationId]}),n.push({rt:p.f.QUERY,path:[l.i],variables:{action:"info",cIds:t.conversationId}});h.b.sendMessage({paths:n}).then(t=>{t.paths.forEach(t=>{switch(t.path[0]){case L:if(Object(p.k)(t))f.b.errorWithNonPIIData(L,"error response at message_ids",t.errors);else{const n=t.value;e.dispatch(_.b.storeContentForNonImMessages(n))}break;case l.i:if("sendWidget"===t.path[1])Object(p.k)(t)?f.b.errorWithNonPIIData(L,"error response at sendWidget",t.errors):e.dispatch(T.c.storeSendWidgetState(t.path[2],t.value));else if(Object(p.k)(t))f.b.errorWithNonPIIData(L,"error response at groupinfo",t.errors);else{const n=[];t.value.sc?n.push(new a.d(t.value)):n.push(new a.a(t.value)),e.dispatch(T.c.storeGroupInfoWithTenantData(n,[]))}}})})}break}case d.a.ON_RESPONSE_RECEIVED:{const t=Object(u.b)(n.responseData,L,"message_ids");if(t)if(Object(p.k)(t))f.b.errorWithNonPIIData(L,"error response at message_ids",t.errors);else{const n=t.value;0!==n.length&&B(e,n)}break}case d.a.ON_UPDATE_RECEIVED:{const t=Object(u.b)(n.responseData,L,"stateForConv");if(t&&!Object(p.k)(t)&&t.value){const n=t.value,i=e.getState(),r=t.path[2];if(r&&n&&n.id===v.e.getLatestMessageId(i,r)){const t=I.f.getConversationInfo(i,r),o=Object(S.f)(n.md);H(o),t&&o>t.latestMsgState&&(O.a.recordMessageStateUpdateTelemetry(r,n.id,o),e.dispatch(b.b.updateLatestMessageState(r,o)))}}break}case g.a.MESSAGE_PLAY:C.e.shouldUpdateMessagePLayedStatus(e.getState())&&V(e)(n.messageId);break;case _.a.GET_READ_RECEIPTS:{const t=e.getState();let i=null;n.messageId&&n.readReceiptType&&t.messageMetadataState.readReceiptsMap[n.messageId]&&(i=t.messageMetadataState.readReceiptsMap[n.messageId][n.readReceiptType]),N.i.recordInternalEventStart(n.messageId,r.a.DATA_FETCH+"_"+n.readReceiptType,{PREV_START_TOKEN:i?i.startToken:""});const o=g.g.getMessage(t,n.messageId);k(t,o,n.readReceiptType,i).then(t=>{N.i.recordInternalEventEnd(n.messageId,r.a.DATA_FETCH+"_"+n.readReceiptType),e.dispatch(_.b.setReadReceiptInfo(n.messageId,n.readReceiptType,t.getRespMessage()))}).catch(e=>{f.b.errorWithPIIData(L,[" (",n.type,") | ",n.readReceiptType," : ",e.stack||e.stacktrace,"error code: ",e.errorCode],e)});break}}return t(n)};const k=(e,t,n,i)=>{const r=Object(A.b)(),o=(new Date).getTime();W(e,r,t,n,i);const a=(a,c,l)=>{const u=new s(a.getGuid(),a.getRespCode(),c,null);j(e,r,o,t,n,i,!0),l(u)},l=(a,s)=>{j(e,r,o,t,n,i,!1,a),s(a)},u=c.a.getReceiptDetails(t.getHostConversationId(),t.id,i?i.startToken:null,n);return new Promise((r,o)=>{u.then(s=>{const c=(e=>{const t=e.rsps||[],n=e.red||[],i=e.st,r=e.et,o=[];t.forEach(e=>{const t={userId:e.uid,deliveryTimestamp:e.dts,readTimestamp:e.rts};o.push(t)}),n.forEach(e=>{const t={userId:e.u,playedTimestamp:e.rd};o.push(t)});return{receiptDetails:o,startToken:i,endToken:r}})(s.getRespMessage()),u=i?U(c,i):c;if(F(c,i)){k(e,t,n,u).then(e=>{a(s,e.getRespMessage(),r)}).catch(e=>{l(e,o)})}else a(s,u,r)}).catch(e=>{l(e,o)})})},U=(e,t)=>{if(e.startToken===t.startToken&&e.endToken===t.endToken)return t;const n=G(t.receiptDetails),i=G(e.receiptDetails),r=Object.assign({},n,i);return{receiptDetails:w()(r),startToken:e.startToken,endToken:e.endToken}},G=e=>D()(e,"userId"),F=(e,t)=>!(Object(A.g)(e.endToken)||""===e.endToken||e.startToken===e.endToken||t&&e.startToken===t.startToken&&e.endToken===t.endToken),B=(e,t)=>{const n=[],i=[];f.b.debugWithNonPIIData(L,"Got ",t.length," non-im message strings"),t.forEach(t=>{if(t.md)i.push(t);else{const i=g.g.getMessage(e.getState(),t.id);i&&n.push(i)}}),n.length>0&&(f.b.infoWithNonPIIData(L,"Deleting empty non-im messages with ids : ",JSON.stringify(n.map(e=>e.id))),e.dispatch(y.b.deleteMessages(n,!1))),f.b.infoWithNonPIIData(L,"Inserting ",i.length," non-empty non-im message strings"),i.length>0&&e.dispatch(_.b.storeContentForNonImMessages(i))},V=e=>e=>{const t=[];t.push({rt:p.f.MUTATE,path:[L,"update_message_played_status"],variables:{messageId:e}});h.b.sendMessage({paths:t}).catch(e=>{f.b.errorWithNonPIIData(L,"error received at ","updateMessagePlayedStatus",e)})},W=(e,t,n,i,r)=>{f.b.debugWithNonPIIData(L,t," : fetching read receipt info for message : ",n.id," - ",n.type," - ",n.subType," and receipt type ",i," with prevReceipt token ",r?r.startToken:"");const a=n.getRawMessage().conversationId,s=I.f.getConversationType(e,a),c={SOURCE_ID:t,MESSAGE_ID:n.id,CONVERSATION_ID:a,CONVERSATION_TYPE:s.toString(),HOST_CONVERSATION_ID:n.getHostConversationId(),TYPE:n.type,SUB_TYPE:n.subType,READ_RECEIPT_TYPE:i,TOKEN:r?r.startToken:""};o.a.recordEvent(O.c.READ_RECEIPT_INFO_REQUESTED,c)},j=(e,t,n,i,r,a,s,c)=>{f.b.debugWithNonPIIData(L,t," : read receipt response for message : ",i.id," - ",i.type," - ",i.subType," and receipt type ",r," with prevReceipt token ",a?a.startToken:""," and isSuccess ",s);const l=i.getRawMessage().conversationId,u=I.f.getConversationType(e,l),d=(new Date).getTime(),p={SOURCE_ID:t,MESSAGE_ID:i.id,CONVERSATION_ID:l,CONVERSATION_TYPE:u.toString(),HOST_CONVERSATION_ID:i.getHostConversationId(),TYPE:i.type,SUB_TYPE:i.subType,READ_RECEIPT_TYPE:r,TOKEN:a?a.startToken:"",IS_SUCCESS:s,ERROR_CODE:c?c.getRespCode():null,ERROR_MESSAGE:c?c.getRespMessage():null,GUID:c?c.getGuid():null,METRIC_VALUE:d-n};o.a.recordEvent(O.c.READ_RECEIPT_INFO_RESP_RECEIVED,p)},H=e=>{switch(e){case S.e.SENT_SUCCESS:Object(i.c)(Object(R.getString)("MessageSentText"));break;case S.e.READ_BY_ALL:Object(i.c)(Object(R.getString)("MessageReadText"));break;case S.e.PLAYED_BY_ALL:Object(i.c)(Object(R.getString)("MessagePlayedText"));break;case S.e.RECEIVED_BY_ALL:Object(i.c)(Object(R.getString)("MessageDeliveredText"));break;case S.e.CANCELLED:case S.e.SENT_FAILURE:Object(i.c)(Object(R.getString)("SendingFailed"))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return z}));var i=n(156),r=n(34),o=n(58),a=n(26),s=n(220),c=n(1),l=n(21),u=n(60),d=n(25),p=n(76),h=n(22),f=n(4),g=n(7),m=n(33),E=n(325),_=n(32),S=n(201),T=n(52);const v="ConnectionNotificationManager";class I{}I.initialize=()=>{p.b.registerOnConnectionEvent(I.updateConnectionNotification),T.b.subscribe(T.c.ON_APP_ACTIVELY_CONNECT,I.silentNotificationOnActivelyConnect)},I.updateConnectionNotification=(e,t)=>{if(t===h.b.ActivelyDisconnected||t===h.b.ActiveWebClientChange)return f.b.infoWithNonPIIData(v,"Removing notification. ActivelyConnect: ",E.a.isActivelyConnect(a.a.getStore().getState()),_.f.isWebInstanceActive(a.a.getStore().getState())),d.c.setValue(d.a.SHOW_ALL_CONNECTIVITY_STATUS,!1),void I.removeNotification();I.prevConnectionState!==e?(I.prevConnectionState=e,I.connectionStateNotificationModel=I.getConnectionStateNotificationModel(e),I.connectionStateNotificationModel?(I.handleExistingConnectionNotification(e),I.showOrScheduleCurrentNotification(e)):f.b.infoWithNonPIIData(v,"connectionStateNotificationModel is: ",I.connectionStateNotificationModel)):f.b.infoWithNonPIIData(v,"Not updating state as same state received. State: ",h.a[e])},I.connectionStateNotificationId="ConnectionStateNotification",I.connectionStateNotificationModel=null,I.prevConnectionState=h.a.UNKNOWN,I.showNotificationTimer=null,I.removeNotificationTimer=null,I.timeToShowNotification=0,I.timeToRemoveNotification=-1,I.silentNotificationTimer=null,I.silentNotificationStartTime=0,I.getConnectionStateNotificationModel=e=>{const t=I.connectionStateNotificationId;let n=Object(S.d)(t);const i=Object(S.c)(t),a=Object(S.b)(t);switch(e){case h.a.NETWORK_DISCONNECTED:{const e=Object(c.getString)("NetworkUnavailableTitle"),t=Object(c.getString)("NetworkUnavailableText"),r=Object(c.getString)("ReconnectText");n=Object.assign({},n,i,{title:e,description:t,linkText:r,bgColor:l.a.ConnectivityFailedBG,icon:g.a.NETWORK_UNAVAILABLE_ICON,onLinkClick:I.forceReconnect,autoFocus:!0,accessibilityText:e+","+t+","+r}),I.timeToShowNotification=1,I.timeToRemoveNotification=-1;break}case h.a.SERVER_DISCONNECTED:{const e=Object(c.getString)("ServerDisconnectedNotificationTitle"),t=Object(c.getString)("ServerDisconnectedNotificationText"),r=Object(c.getString)("ServerDisconnectedCTA");n=Object.assign({},n,i,{title:e,description:t,linkText:r,bgColor:l.a.ConnectivityFailedBG,icon:g.a.UNABLE_TO_REACH,onLinkClick:I.reloadApp,autoFocus:!0,accessibilityText:e+","+t+","+r}),I.timeToShowNotification=5,I.timeToRemoveNotification=-1;break}case h.a.DEVICE_DISCONNECTED:{const e=Object(c.getString)("DeviceDisconnectedNotificationTitle"),t=Object(c.getString)("DeviceDisconnectedNotificationText"),r=Object(c.getString)("ReconnectText");n=Object.assign({},n,i,{title:e,description:t,bgColor:l.a.ConnectivityFailedBG,icon:g.a.PHONE_NOT_CONNECTED,linkText:r,onLinkClick:I.forceReconnect,autoFocus:!0,accessibilityText:e+","+t+","+r}),I.timeToShowNotification=0,I.timeToRemoveNotification=-1;break}case h.a.NETWORK_CONNECTED:n=Object.assign({},n,a,{title:Object(c.getString)("NetworkAvailableTitle"),bgColor:l.a.ConnectivitySuccessBG}),I.timeToShowNotification=30,I.timeToRemoveNotification=0;break;case h.a.SERVER_CONNECTING:n=Object.assign({},n,a,{title:Object(c.getString)("ServerConnectingTitle"),titleColor:l.a.WHITE,bgColor:l.a.ConnectivityInProgressBG}),I.timeToShowNotification=5,I.timeToRemoveNotification=-1;break;case h.a.SERVER_CONNECTED:case h.a.DEVICE_CONNECTING:n=Object.assign({},n,a,{title:Object(c.getString)("DeviceConnectingTitle"),titleColor:l.a.WHITE,bgColor:l.a.ConnectivityInProgressBG}),I.timeToShowNotification=7.5,I.timeToRemoveNotification=-1;break;case h.a.SERVER_DEVICE_CONNECTED:n=Object.assign({},n,a,{title:Object(c.getString)("DeviceConnectedNotificationTitle"),bgColor:l.a.ConnectivitySuccessBG}),I.timeToShowNotification=0,I.timeToRemoveNotification=1.5,d.c.setValue(d.a.SHOW_ALL_CONNECTIVITY_STATUS,!1),Date.now()-I.silentNotificationStartTime<=10500&&o.a.recordEvent(r.b.CONNECTION_NOTIFICATION_SILENCED_AND_WEBAPP_CONNECTED,{})}return n},I.showNotification=()=>{a.a.getStore().dispatch(u.c.addNotification(I.connectionStateNotificationModel,m.b.STICKY))},I.updateNotification=()=>{a.a.getStore().dispatch(u.c.updateNotification(I.connectionStateNotificationModel,m.b.STICKY))},I.removeNotification=()=>{a.a.getStore().dispatch(u.c.removeNotification(I.connectionStateNotificationId,m.b.STICKY))},I.forceReconnect=()=>{I.resetWarmBoot(),d.c.setValue(d.a.SHOW_ALL_CONNECTIVITY_STATUS,!0),p.b.forceReconnect(h.b.ForceReconnectFromNotification)},I.reloadApp=()=>{window.location.reload()},I.resetWarmBoot=()=>{s.a.clear(),s.a.initialize(r.a.WARM_BOOT),s.a.recordInternalEvent(r.a.RESET)},I.handleExistingConnectionNotification=e=>{I.showNotificationTimer&&(clearTimeout(I.showNotificationTimer),I.showNotificationTimer=null),I.removeNotificationTimer&&(clearTimeout(I.removeNotificationTimer),I.removeNotificationTimer=null),e!==h.a.SERVER_CONNECTING&&e!==h.a.SERVER_CONNECTED&&e!==h.a.DEVICE_CONNECTING&&e!==h.a.NETWORK_CONNECTED||I.removeNotification()},I.showOrScheduleCurrentNotification=e=>{let t=I.showNotification;e!==h.a.NETWORK_CONNECTED&&e!==h.a.SERVER_DEVICE_CONNECTED||(t=I.updateNotification),d.c.getValue(d.a.SHOW_ALL_CONNECTIVITY_STATUS)?t():I.showNotificationTimer=setTimeout(t,1e3*I.timeToShowNotification),-1!==I.timeToRemoveNotification&&(I.removeNotificationTimer=setTimeout(I.removeNotification,1e3*I.timeToShowNotification+1e3*I.timeToRemoveNotification))},I.silentNotificationOnActivelyConnect=()=>{null==I.silentNotificationTimer&&d.c.getValue(d.a.SHOW_ALL_CONNECTIVITY_STATUS)&&(I.silentNotificationStartTime=Date.now(),f.b.infoWithNonPIIData(v,"Connectivity notification banner silenced"),o.a.recordEvent(r.b.CONNECTION_NOTIFICATION_SILENCED,{}),d.c.setValue(d.a.SHOW_ALL_CONNECTIVITY_STATUS,!1),I.silentNotificationTimer=setTimeout(()=>{I.silentNotificationTimer=null,d.c.setValue(d.a.SHOW_ALL_CONNECTIVITY_STATUS,!0),f.b.infoWithNonPIIData(v,"Connectivity notification banner enabled")},3e3))};var b=n(13),y=n(57),C=n(19),A=n(117),O=n(11),N=n(150),R=n(53),P=n(29),w=n(170),M=n(28),D=n(136),L=n(224),x=n(212),k=n(351),U=n(20),G=n(144),F=n(6);const B=M.f;let V=15e4;let W,j,H;const z=e=>t=>n=>{switch(n.type){case b.a.START_APP:w.a.registerOnQueueEmpty(Y.bind(void 0,e)),I.initialize();break;case _.a.ON_SESSION_RESET:X();break;case D.a.ACTIVELY_CONNECT:T.b.post(new y.a(y.b.ON_APP_ACTIVELY_CONNECT)),O.e.recordEvent(r.b.ACTIVE_CONNECT,null);break;case D.a.ACTIVELY_DISCONNECT:k.b.clear(),O.e.recordEvent(r.b.ACTIVE_DISCONNECT,null);break;case D.a.ON_CONNECTION_STATE_CHANGED:if(J(e,n.connectionState,n.stateChangeReason))if(n.connectionState===h.a.DEVICE_DISCONNECTED){if(!e.getState().connectivityState.isActivelyConnect)return void f.b.infoWithNonPIIData(B,"DEVICE_DISCONNECTED received in actively disconnect mode, do not connect to device");A.a.ensureDeviceConnected()}else A.a.ensureConnection();n.connectionState===h.a.SERVER_DEVICE_CONNECTED?(ee(d.c.getDeviceOs()),te(G.d.isActivelyConnect(e.getState()))):ne(),T.b.post(new y.a(y.b.CONNECTION_STATE_CHANGED,n.connectionState));break;case _.a.ON_APP_FG_CHANGED:{const t=e.getState().connectivityState;f.b.infoWithNonPIIData("CONNECTIVITY MIDDLEWARE","On app foreground changed, isAppForeground: ",n.isAppForeground," isActivelyConnect:",t.isActivelyConnect," queue Size:",w.a.getQueueSize()),n.isAppForeground&&!t.isActivelyConnect&&e.dispatch(D.b.onAppActivelyConnect()),n.isAppForeground&&!Object(F.g)(W)?q():n.isAppForeground||0!==w.a.getQueueSize()||K(e),J(e,t.connectionState)&&n.isAppForeground&&A.a.ensureConnection(!1,h.b.AppForeGround);break}case D.a.FORCE_RECONNECT:A.a.forceReconnect(h.b.ForceReconnectFromLogin);break;case D.a.FORCE_RECONNECT_SERVER:A.a.ensureServerConnected(!0,h.b.ForceReconnectFromLogin);break;case _.a.HANDLE_ACTIVE_WEB_CLIENT_CHANGED:if(!n.isCurrentlyActive)return ne(),e.dispatch(D.b.onAppActivelyDisconnect()),q(),x.a.unsubscribeToDocumentAndWindowEvents(),A.a.closeConnection("Active instance changed"),void t(n);e.dispatch(D.b.onAppActivelyConnect()),x.a.subscribeToDocumentAndWindowEvents(),A.a.forceReconnect(h.b.ActiveWebClientChange)}return t(n)},Y=e=>{const t=e.getState(),n=t.appState.isAppForeground,i=t.connectivityState.isActivelyConnect;!n&&i&&K(e)},K=e=>{W||(f.b.infoWithNonPIIData(B,"setup activelyDisconnect Timer"),j=R.a.getCurrentActualTime(),W=setTimeout(Q.bind(void 0,e),3e5))},q=()=>{f.b.infoWithNonPIIData(B,"cancel activelyDisconnect Timer"),clearTimeout(W),W=null},Q=e=>{const t=e.getState(),n=R.a.getCurrentActualTime()-w.a.getLastOutgoingMsgTime()>=3e5;!t.appState.isAppForeground&&(n||R.a.getCurrentActualTime()-j>=6e5)?(f.b.infoWithNonPIIData(B,"actively disconnecting connection and stopping wake up with ping"),e.dispatch(D.b.onAppActivelyDisconnect()),clearTimeout(W),W=null,ne()):t.appState.isAppForeground||(f.b.infoWithNonPIIData(B,"extending timer,",n),clearTimeout(W),W=setTimeout(Q.bind(void 0,e),12e4))},J=(e,t,n=h.b.ConnectivityChange)=>{const i=e.getState(),r=i.authState.auth.isAuthenticated,o=i.appState.isWebInstanceActive,a=n!=h.b.ActiveWebClientChange&&n!=h.b.ActivelyDisconnected;return r&&o&&a&&t>=h.a.NETWORK_CONNECTED},X=()=>{const e=[];e.push({rt:P.f.SUBSCRIBE,path:["app","network"]}),N.a.setAppNetworkType(L.a.MOBILE_2G);C.c.sendMessage({paths:e},{onResponse:$,onError:Z}).then(e=>{$(e)}).catch(e=>{f.b.errorWithNonPIIData(B,e)})},$=e=>{const t=e.paths[0].value;N.a.setAppNetworkType(t)},Z=e=>{f.b.errorWithNonPIIData(B,e)},ee=e=>{if(Object(U.isiOS)(e)){const t=d.c.getDeviceOsVersion(),n=d.c.getDeviceAppClientVersion();f.b.infoWithNonPIIData(B,"OS Version: "+t+" Client App version: "+n),i.a.isNSEEnabled(t,n,e)?(V=25e3,f.b.infoWithNonPIIData(B,"NSE approach is enabled, hence changing the wake-up interval to 25 sec")):!Object(F.g)(t)&&Object(U.getOSMajorVersion)(t)>12&&(V=5e4,f.b.infoWithNonPIIData(B,"NSE approach is not enabled, but OS version is > 12, hence changing the wake-up interval to 50 sec"))}},te=e=>{if(!H){if(!e)return f.b.infoWithNonPIIData(B,"not starting wake up timer, as it is in actively disconnected mode"),void O.e.recordEvent(r.b.WAKE_UP_TIMER_NOT_STARTING_ON_ACTIVELY_DISCONNECTED,{});f.b.infoWithNonPIIData(B,"starting wake up Timer"),H=setInterval(()=>{ie()},V)}},ne=()=>{H&&(f.b.infoWithNonPIIData(B,"stopping wake up Timer"),clearInterval(H),H=null)},ie=()=>{re()?(f.b.infoWithNonPIIData(B,"app in background or foreground for more than threshold time, stop wakeUp"),ne()):A.a.wakeUpWithPing()},re=()=>oe()||ae(),oe=()=>x.a.isAppInForeground()&&R.a.getCurrentActualTime()-x.a.getAppLastForegroundTime()>18e5,ae=()=>!x.a.isAppInForeground()&&R.a.getCurrentActualTime()-x.a.getAppLastBackgroundTime()>6e5},function(e,t,n){var i=n(593),r=n(367)((function(e,t,n){i(e,t,n)}));e.exports=r},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(61);class r{constructor(){this.namespace="TL_"}getAggregatedPayloadForMarker(e){return i.a.getDataAsString(this.namespace+e)}clearAggregatedPayloadForMarker(e){i.a.removeData(this.namespace+e)}setAggregatedPayloadForMarker(e,t){i.a.setData(this.namespace+e,t)}}},function(e,t,n){"use strict";(function(e){function i(t){void 0!==e&&"function"==typeof e.error&&e.error(t);try{throw new Error(t)}catch(e){}}n.d(t,"a",(function(){return i}))}).call(this,n(110))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(0),r=n(1),o=n(22),a=n(165);class s extends i.PureComponent{constructor(){super(...arguments),this.LOG_TAG="AuthConnectionStateView",this.getNetworkStatus=()=>{switch(this.props.connectionState){case o.a.NETWORK_DISCONNECTED:return r.getString("NetworkUnavailableText");case o.a.SERVER_DISCONNECTED:return this.props.forceReconnect?r.getString("ServerDisconnectedText"):"";default:return""}},this.getReconnectButton=()=>this.props.forceReconnect?i.createElement(a.a,{id:"AuthConnectionStateView.Reconnect",className:"reconnect-button",onClick:this.onReconnectPressed},i.createElement("u",null,r.getString("ReconnectText"))):null,this.onReconnectPressed=()=>{this.props.reconnectServer()}}render(){const e=this.getNetworkStatus();return e?i.createElement("div",{className:"network-status",role:"alert"},i.createElement("span",null,e,this.getReconnectButton())):null}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return E}));var i=n(0),r=n(1),o=n(89),a=n(22),s=n(54),c=n(35),l=n(335),u=n(7),d=n(16),p=n(165),h=n(97),f=n(37);const g={marginRight:"8px",marginLeft:"0px"},m={marginLeft:"23px",textAlign:"left"};class E extends i.PureComponent{constructor(e){super(e),this.LOG_TAG="AuthCodeVerificationView",this.validKeys=["0","1","2","3","4","5","6","7","8","9"],this.MILLIS_IN_ONE_SEC=1e3,this.WAITING_TIME_TO_RESEND_PAIRING_CODE=15,this.countDownTimer=void 0,this.addOutline=e=>{e&&(e.style.border="solid 1px #00508d")},this.removeOutline=e=>{e&&(e.style.border="solid 1px #e5e5e5")},this.getPairingCodeInputWrapperRef=e=>{this.pairingCodeInputWrapperRef=e},this.getPairingCodeInputRef=e=>{this.pairingCodeInputRef=e},this.getPairingCodeResponseSpanRef=e=>{this.pairingCodeErrorSpanRef=e},this.getCountDownSpanRef=e=>{this.countDownSpanRef=e},this.setAgreementCheckboxRef=e=>{this.agreementCheckboxRef=e},this.setAgreementDeclarationTextRef=e=>{this.agreementDeclarationTextRef=e},this.setAgreementDeclarationTextErrorRef=e=>{this.agreementDeclarationTextErrorRef=e},this.handlePairingCodeInput=e=>{"Enter"===e.key&&4===this.pairingCodeInputRef.value.length?this.onVerifyPairingCodeButtonClicked(null):this.validKeys.indexOf(e.key)<0&&e.preventDefault()},this.onVerifyPairingCodeButtonClicked=e=>{this.props.preAuthConnectionState===a.a.SERVER_CONNECTED&&(this.agreementCheckboxRef.checked||(this.displayAgreementDeclarationTextError(),this.agreementCheckboxRef.focus()),!this.pairingCodeInputRef.value||this.pairingCodeInputRef.value.length<4?this.showError(r.getString("EnterPairingCode")):this.agreementCheckboxRef.checked&&4===this.pairingCodeInputRef.value.length&&this.props.onVerifyPairingCodeRequest(this.props.countryPhoneCode,this.props.mobileNumber,this.pairingCodeInputRef.value))},this.onAgreementCheckboxChangeSelection=e=>{this.agreementCheckboxRef.checked?this.agreementDeclarationTextErrorRef.innerText="":this.displayAgreementDeclarationTextError()},this.displayAgreementDeclarationTextError=()=>{this.agreementDeclarationTextErrorRef.innerText=r.getString("PleaseAgreeToTnC")},this.reInitCountDown=()=>{this.clearCountDownTimer(),this.countDownToResendPairingCode=this.WAITING_TIME_TO_RESEND_PAIRING_CODE,this.setState(Object.assign({},this.state,{isResendEnabled:!1}))},this.clearCountDownTimer=()=>{this.countDownTimer&&(clearInterval(this.countDownTimer),this.countDownTimer=void 0)},this.onResendPairingCodeClicked=e=>{this.props.onReGenerateCodeRequest(this.props.countryCode,this.props.countryPhoneCode,this.props.mobileNumber)},this.onEnterItAgainClicked=e=>{e.stopPropagation(),this.props.onEnterItAgainRequest()},this.isPairingCodeVerificationErrorPresent=()=>{switch(this.props.responseCode){case s.b.ServerError:case s.b.TooManyRequests:case s.b.WebclientOTPMisMatch:return this.props.signInState===o.a.SIGN_IN_FAILED;default:return!1}},this.showPairingCodeVerificationError=()=>{this.isPairingCodeVerificationErrorPresent()?this.showError(this.props.responseMessage):(this.showResponse(this.props.responseMessage),!this.props.isLoadingUIShown&&this.pairingCodeInputRef&&""===this.pairingCodeInputRef.value&&(this.pairingCodeInputRef.blur(),this.pairingCodeInputRef.focus()))},this.showError=e=>{this.pairingCodeInputWrapperRef&&(this.pairingCodeInputWrapperRef.classList.add("error-wrapper"),Object(d.d)(this.pairingCodeInputRef)),this.pairingCodeErrorSpanRef&&(this.pairingCodeErrorSpanRef.classList.add("error-text"),this.pairingCodeErrorSpanRef.style.display="block",this.pairingCodeErrorSpanRef.innerText=e)},this.removeError=()=>{this.pairingCodeInputWrapperRef&&this.pairingCodeInputWrapperRef.classList.remove("error-wrapper"),this.pairingCodeErrorSpanRef&&(this.pairingCodeErrorSpanRef.style.display="none")},this.showResponse=e=>{this.pairingCodeInputWrapperRef&&this.pairingCodeInputWrapperRef.classList.remove("error-wrapper"),this.pairingCodeErrorSpanRef&&(this.pairingCodeErrorSpanRef.classList.remove("error-text"),this.pairingCodeErrorSpanRef.style.display="block",this.pairingCodeErrorSpanRef.innerText=e)},this.isPairingCodeRegenerationErrorPresent=()=>s.b.ServerError==this.props.responseCode&&this.props.signInState===o.a.PAIRING_CODE_RE_GENERATION_FAILED,this.getResendResponseMessage=()=>this.isPairingCodeRegenerationErrorPresent()?i.createElement("span",{className:"error-text align-center",style:Object(f.a)(Object.assign({},m)),id:"pairing-code-regeneration-error",role:"alert"},this.props.responseMessage):null,this.counter=()=>{this.countDownSpanRef&&(this.countDownToResendPairingCode<=1&&(this.countDownToResendPairingCode=this.WAITING_TIME_TO_RESEND_PAIRING_CODE,this.clearCountDownTimer(),this.setState(Object.assign({},this.state,{isResendEnabled:!0}))),this.countDownToResendPairingCode--,this.countDownSpanRef&&(this.countDownSpanRef.innerText=this.countDownToResendPairingCode.toString()))},this.getResendLink=()=>this.state.isResendEnabled?i.createElement(p.a,{id:"AuthCodeVerificationView.ResendPairingCode",accessibilityLabel:r.getString("ResendCodeLabel"),onClick:this.onResendPairingCodeClicked},r.getString("ResendCodeLabel")):(this.countDownTimer||(this.countDownTimer=setInterval(this.counter,this.MILLIS_IN_ONE_SEC)),i.createElement("span",null,r.getString("TryAgainResendCodeText")," ",i.createElement("span",{className:"midnight-blue-text"},"in"," ",i.createElement("span",{ref:this.getCountDownSpanRef,className:"midnight-blue-text"},this.countDownToResendPairingCode)," ","sec"))),this.clearCountDownTimer(),this.countDownToResendPairingCode=this.WAITING_TIME_TO_RESEND_PAIRING_CODE,this.state={isResendEnabled:!1}}componentDidMount(){!this.props.isLoadingUIShown&&this.pairingCodeInputRef&&this.pairingCodeInputRef.focus()}componentDidUpdate(e,t){this.showPairingCodeVerificationError(),(e.signInState!==o.a.PAIRING_CODE_RE_GENERATION_SUCCESS&&this.props.signInState===o.a.PAIRING_CODE_RE_GENERATION_SUCCESS||e.signInState!==o.a.PAIRING_CODE_RE_GENERATION_FAILED&&this.props.signInState===o.a.PAIRING_CODE_RE_GENERATION_FAILED)&&this.state.isResendEnabled&&this.reInitCountDown()}componentWillUnmount(){this.clearCountDownTimer()}render(){const e=r.getString("CheckKaizalaApp"),t=c.a.format(r.getString("AgreementDeclarationText"),'<a href="',h.AssetsSource.getAssetPath(h.AssetType.WEBAPP_AGREEMENT),'" target="_blank">',"</a>",'<a href="',r.getString("PrivacyStatementLink"),'" target="_blank">',"</a>");return i.createElement("div",{className:"auth-code-verification-wrapper",id:"AuthCodeVerificationWrapper"},i.createElement(l.a,Object.assign({},{connectionState:this.props.preAuthConnectionState,forceReconnect:this.props.forceReconnect,reconnectServer:this.props.reconnectServer})),i.createElement("div",{className:"auth-code-verification-div"},i.createElement("div",{className:"auth-code-verification-form-wrapper"},i.createElement("div",{className:"kaizala-logo-wrapper"},i.createElement("div",{className:"kaizala-icons-wrapper"},i.createElement("img",{className:"kaizala-logo webapp-logo-high-contrast",src:u.a.KaizalaIcon,alt:""}),i.createElement("h1",{className:"kaizala-title"},r.getString("MainTitle")))),i.createElement("div",{className:"auth-code-verification-text",id:"SignInHelpText"},e),i.createElement("div",{className:"pairing-code-text"},r.getString("PairingCode")),i.createElement("div",{className:"inputs-wrapper",ref:this.getPairingCodeInputWrapperRef},i.createElement("input",{type:"text",name:"Pairing Code",maxLength:4,onFocus:e=>this.addOutline(this.pairingCodeInputWrapperRef),onBlur:e=>this.removeOutline(this.pairingCodeInputWrapperRef),placeholder:r.getString("PairingCodeText"),ref:this.getPairingCodeInputRef,onKeyPress:this.handlePairingCodeInput,onClick:this.removeError,"aria-label":r.getString("PairingCodeLabel"),value:this.props.tOTP?this.props.tOTP:void 0,autoComplete:"off"})),i.createElement("span",{id:"pairing-code-response",className:"normal-text",ref:this.getPairingCodeResponseSpanRef,role:"alert"}),i.createElement("div",{className:"agreement-container"},i.createElement("input",{type:"checkbox",name:"agreement-checkbox",value:"",className:"agreement-checkbox",style:Object(f.a)(Object.assign({},g)),onChange:this.onAgreementCheckboxChangeSelection,ref:this.setAgreementCheckboxRef,"aria-label":r.getString("AgreementDeclarationLabel"),alt:r.getString("AgreementDeclarationLabel"),checked:!!this.props.tOTP||null}),i.createElement("span",{className:"agreement-declaration-text sign-in-flow-link",ref:this.setAgreementDeclarationTextRef,dangerouslySetInnerHTML:{__html:t}})),i.createElement("div",{className:"error-text",style:Object(f.a)(Object.assign({},m)),role:"alert",ref:this.setAgreementDeclarationTextErrorRef}),i.createElement("button",{id:"AuthCodeVerificationVerifyCodeButton",className:this.props.preAuthConnectionState!==a.a.SERVER_DISCONNECTED&&this.props.preAuthConnectionState!==a.a.NETWORK_DISCONNECTED?"auth-code-verification-sign-in-button webapp-button":"auth-code-verification-sign-in-button sign-in-button-disable",onClick:this.onVerifyPairingCodeButtonClicked},i.createElement("span",{className:"sign-in-button-text"},r.getString("VerifyAndSignInText"))),i.createElement("div",{className:"fallback-options"},r.getString("NotYourPhoneText")," ",i.createElement(p.a,{id:"AuthCodeVerificationView.EnterPhoneNumberAgain",accessibilityLabel:r.getString("EnterPhoneNoAgainLabel"),onClick:this.onEnterItAgainClicked},r.getString("EnterPhoneNoAgainText"))),i.createElement("div",{className:"fallback-options align-left"},r.getString("DidNotReceiveCodeText")," ",this.getResendLink()),this.getResendResponseMessage()),i.createElement("div",{className:"auth-code-verification-empty-div"}),i.createElement("div",{className:"auth-code-verification-image-div"},i.createElement("img",{src:u.a.VERIFY_PAIRING_CODE_GRAPHIC,alt:r.getString("VerifyCodeGraphic")}))))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var i=n(28),r=n(29),o=n(34),a=n(188),s=n(53),c=n(52),l=n(57);const u=(e,t)=>{const n=s.a.getCurrentActualTime()-e.ts,r=e.sit?e.sit-e.ts:0,u=e.ppt?e.ppt:0,d=n-r-u,h=e.data.paths[0].path[0],f=p(e);let g=o.b.PEER_PROCESSING_TIME;t&&(g=o.b.PEER_PROCESSING_TIME_FOR_UPDATE),h===i.n&&(g=o.b.PEER_PROCESSING_TIME_NOTIFICATIONS),c.b.post(new l.a(l.b.TELEMETRY_METRIC,new a.b(g,u,f))),t||(c.b.post(new l.a(l.b.TELEMETRY_METRIC,new a.b(o.b.PEER_MESSAGE_ROUND_TRIP_TIME,n,f))),c.b.post(new l.a(l.b.TELEMETRY_METRIC,new a.b(o.b.PEER_MESSAGE_SEND_DELAY,r,f))),c.b.post(new l.a(l.b.TELEMETRY_METRIC,new a.b(o.b.PEER_MESSAGE_NETWORK_TIME,d,f))))},d=(e,t)=>{p(t),p(t);const n={rc:e};c.b.post(new l.a(l.b.TELEMETRY_EVENT,new a.a(o.b.PEER_MESSAGE_RETRY_COUNT,n)))},p=e=>{const t=e.data.paths,n=t[0].path[0];let i;try{i="miniapps"===n?t[0].path[1]?{path:n+"/"+t[0].path[1]+"/"+e.mt}:{path:n+"/"+t[0].variables.action+"/"+e.mt}:e.mt!==r.f.QUERY&&t[0].path[1]?{path:n+"/"+t[0].path[1]+"/"+e.mt}:{path:n+"/"+e.mt}}catch(t){i={path:n+"/"+e.mt}}return i}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(4),r=n(315);const o=new class{constructor(){this.listeners=[],this.processMessage=this.processMessage.bind(this),r.a.registerOnMessage(this.processMessage)}addListener(e){this.listeners.push(e)}addListenerAtStart(e){this.listeners.unshift(e)}removeListener(e){const t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}processMessage(e){try{const t=JSON.parse(e);this.listeners.forEach(e=>{e(t)})}catch(e){i.b.errorWithNonPIIData("MessagingService","IncomingMessageHandler: parse error",e.stack||e.stacktrace||e)}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{static guidToBytes(e){const t=[];return e.split("-").map((e,n)=>{(n<3?e.match(/.{1,2}/g).reverse():e.match(/.{1,2}/g)).map(e=>{t.push(parseInt(e,16))})}),t}static guidUtility(){return(65536*(1+Math.random())|0).toString(16).substring(1)}static generateGuid(){return(this.guidUtility()+this.guidUtility()+"-"+this.guidUtility()+"-4"+this.guidUtility().substr(0,3)+"-"+this.guidUtility()+"-"+this.guidUtility()+this.guidUtility()+this.guidUtility()).toLowerCase()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));class i{constructor(e,t){this.first=e,this.second=t}}class r extends i{constructor(e,t){super(e,t)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(53),r=n(99),o=n(268),a=n(12),s=n(62);class c extends r.a{static create(e){const t=i.a.getCurrentActualTime(),n={conversationId:e,flags:255^o.a.RELIABLE,id:"",srt:0,from:"",timestamp:t,type:a.h.GENERIC_MESSAGE,version:3,messageState:s.a.UNSYNCED_TO_DEVICE,contentHeader:{msgSubType:a.g.SYSTEM_START_TYPING}};return new c(n)}constructor(e){super(e)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(53),r=n(12),o=n(62),a=n(1),s=n(193);class c extends s.a{static create(e,t,n,a,s){const l={content:s,conversationId:t,flags:255,from:n,id:e,isReceiveMimicked:!1,mp:"",srt:0,timestamp:i.a.getCurrentActualTime(),to:a,type:r.h.GENERIC_MESSAGE,version:3,messageState:o.a.UNSYNCED_TO_DEVICE,contentHeader:{msgSubType:r.g.SYSTEM_DOCUMENT_ATTACHMENT}};return new c(l)}constructor(e){super(e)}serializeMessageContentForServer(){const e=super.serializeMessageContentForServer();return Object.assign({},e,{afn:this.documentName})}getReplyToContent(){const e=super.getReplyToContent(),t=this.getMessageTitleOrType();return Object.assign({},e,{mp:t,spu:null})}getCaption(){return super.getCaption()}getMessageTitle(){return a.getString("DocumentAttachmentCaption")}getMessageTitleOrType(){let e=this.getMessageTitle();return this.getCaption()&&(e=e+" - "+this.getCaption()),e}toRawContent(){const e=super.toRawContent();return Object.assign({},e,{afn:this.documentName})}deSerializeMessageSpecificContent(e){super.deSerializeMessageSpecificContent(e),this.documentName=e.content.afn?e.content.afn:null}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(53),r=n(99),o=n(12),a=n(62);class s extends r.a{static create(e,t,n,r,c){const l={content:c,conversationId:t,flags:255,from:n,id:e,isReceiveMimicked:!1,mp:"",srt:0,timestamp:i.a.getCurrentActualTime(),to:r,type:o.h.TEXT_MESSAGE,version:3,messageState:a.a.UNSYNCED_TO_DEVICE,contentHeader:{msgSubType:null}};return new s(l)}constructor(e){super(e)}serializeMessageContentForServer(){return this.content}getReplyToContent(){const e=super.getReplyToContent();return Object.assign({},e,{mp:this.content})}toRawContent(){return this.content}deSerializeMessageSpecificContent(e){this.content=e.content}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(53),r=n(47),o=n(99),a=n(12);class s extends o.a{static create(e,t,n,o,c){const l={content:c,conversationId:t,flags:255,from:n,id:e,isReceiveMimicked:!1,mp:"",srt:0,timestamp:i.a.getCurrentActualTime(),to:o,type:a.h.GENERIC_MESSAGE,version:3,messageState:r.e.UNSYNCED_TO_DEVICE,contentHeader:{msgSubType:a.g.TRM}};return new s(l)}constructor(e){super(e)}serializeMessageContentForServer(){const e=super.serializeMessageContentForServer();return Object.assign({},e,this.rawMessage.content)}getReplyToContent(){const e=super.getReplyToContent();return Object.assign({},e,{mp:this.Text})}deSerializeMessageSpecificContent(e){const t=e.content;this.Text=t.text,this.deserializeReplyToMessageContent(t)}toRawContent(){const e=super.toRawContent();return Object.assign({},e,this.rawMessage.content)}deserializeReplyToMessageContent(e){const t=e.replyTo;if(!t)throw new Error("replyToJson not found");if(this.ReplyToMessageId=t.msgId,!this.ReplyToMessageId)throw new Error("replyToJson.msgId not found");this.ReplyToMsgSenderId=t.uId?t.uId:"",this.ReplyToMsgPreview=t.mp?t.mp:"",this.ReplyToMsgType=t.type?t.type:a.h.CLIENT_UNSUPPORTED_MESSAGE,this.ReplyToMsgSubType=t.msgSubType?t.msgSubType:null,this.ThumbnailInBase64=t.tib?t.tib:null,this.AttachmentUrl=t.spu?t.spu:null,this.ReplyToMsgPackageId=t.pid?t.pid:null,this.ReplyToMsgPreviewDescription=t.mpd?t.mpd:null}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(53),r=n(12),o=n(62),a=n(1),s=n(346);class c extends s.a{static create(e,t,n,a,s){const l={content:s,conversationId:t,flags:255,from:n,id:e,isReceiveMimicked:!1,mp:"",srt:0,timestamp:i.a.getCurrentActualTime(),to:a,type:r.h.GENERIC_MESSAGE,version:3,messageState:o.a.UNSYNCED_TO_DEVICE,contentHeader:{msgSubType:r.g.SYSTEM_VIDEO_ATTACHMENT}};return new c(l)}constructor(e){super(e)}getMessageTitle(){return a.getString("VideoAttachmentCaption")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(1),r=n(193);class o extends r.a{constructor(e){super(e)}serializeMessageContentForServer(){const e=super.serializeMessageContentForServer();return Object.assign({},e,{t:this.thumbnail,adr:this.duration,afn:this.localFileObj.name})}getReplyToContent(){const e=super.getReplyToContent(),t=this.getMessageTitleOrType();return Object.assign({},e,{tib:this.thumbnail,spu:null,mp:t})}getCaption(){return super.getCaption()}getMessageTitleOrType(){let e=this.getMessageTitle();return this.getCaption()&&(e=e+" - "+this.getCaption()),e}getMessageTitle(){return i.getString("MediaAttachmentCaption")}toRawContent(){const e=super.toRawContent();return Object.assign({},e,{tib:this.thumbnail,adr:this.duration,afn:this.localFileObj.name})}deSerializeMessageSpecificContent(e){super.deSerializeMessageSpecificContent(e),this.thumbnail=e.content.tib?e.content.tib:null,this.duration=e.content.adr?e.content.adr:null}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(53),r=n(12),o=n(62),a=n(1),s=n(346);class c extends s.a{static create(e,t,n,a,s){const l={content:s,conversationId:t,flags:255,from:n,id:e,isReceiveMimicked:!1,mp:"",srt:0,timestamp:i.a.getCurrentActualTime(),to:a,type:r.h.GENERIC_MESSAGE,version:3,messageState:o.a.UNSYNCED_TO_DEVICE,contentHeader:{msgSubType:r.g.SYSTEM_AUDIO_ATTACHMENT}};return new c(l)}constructor(e){super(e)}getMessageTitle(){return a.getString("AudioAttachmentCaption")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var i,r=n(99);class o extends r.a{constructor(e){super(e)}serializeMessageContentForServer(){const e=super.serializeMessageContentForServer();return Object.assign({},e,{category:this.Category,data:this.Data})}deSerializeMessageSpecificContent(e){const t=e.content;this.Category=i[t.Category],this.Data=t.Data}}!function(e){e.TEAMS="TEAMS",e.UNKNOWN="UNKNOWN"}(i||(i={}))},function(e,t,n){var i=n(431),r=n(250),o=n(273),a=n(142);e.exports=function(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),n=arguments[0],s=e;s--;)t[s-1]=arguments[s];return i(a(n)?o(n):[n],r(t,1))}},function(e,t,n){var i=n(721)();e.exports=i},function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return f}));var i=n(26),r=n(4),o=n(117),a=n(22),s=n(136),c=n(20),l=n(34),u=n(25),d=n(139),p=n(7);const h=new d.a(l.b.CONNECTION_TIME);class f{static initialize(){f.sInitialized||(window.addEventListener("online",f.updateOnlineStatus),window.addEventListener("offline",f.updateOnlineStatus),f.sInitialized=!0,o.a.registerOnConnectionEvent(f.onConnectionChanged),o.a.setNetworkConnectionState(navigator.onLine),f.updateInternetConnectionState())}static updateOnlineStatus(e){f.notifyOnlineStatus(g.NAVIGATOR)}static notifyOnlineStatus(e,t){const n=e===g.NAVIGATOR?navigator.onLine:t;o.a.setNetworkConnectionState(n)}static recordConnectivityEvent(e,t){let n=!1,i=!1;if(!h.isAlive()){if(e<=a.a.NETWORK_CONNECTED)return;h.initialize(l.b.CONNECTION,!0)}switch(h.recordInternalEvent(a.a[e]),e){case a.a.SERVER_DEVICE_CONNECTED:n=!0;case a.a.NETWORK_DISCONNECTED:case a.a.SERVER_DISCONNECTED:case a.a.DEVICE_DISCONNECTED:i=!0}i&&h.recordEnd(l.b.CONNECTION_TIME,l.b.CONNECTION,{NETWORK_TYPE:u.c.getValue(u.a.DEVICE_NETWORK_TYPE),CONNECTED_STATE:a.a[e],REASON:a.b[t],IS_CONNECTED:n})}}var g;f.sInitialized=!1,f.TIME_INTERVAL_TO_CHECK_CONNECTIVITY=5e3,f.connectivityCheckTimer=null,f.checkAndSetInterval=()=>{f.updateInternetConnectionState(),f.connectivityCheckTimer=setInterval(f.updateInternetConnectionState,f.TIME_INTERVAL_TO_CHECK_CONNECTIVITY)},f.stopConnectivityCheckTimer=()=>{f.connectivityCheckTimer&&(clearInterval(f.connectivityCheckTimer),f.connectivityCheckTimer=null)},f.onConnectionChanged=(e,t)=>{f.recordConnectivityEvent(e,t),i.a.dispatch(s.b.onConnectionStateChanged(e,t)),e===a.a.SERVER_DISCONNECTED||e===a.a.NETWORK_DISCONNECTED?f.checkAndSetInterval():e===a.a.SERVER_CONNECTED&&f.stopConnectivityCheckTimer()},f.updateInternetConnectionState=()=>{try{const e=new Image;e.onload=e=>{f.notifyOnlineStatus(g.IMAGE_DOWNLOAD,!0)},e.onerror=e=>{f.notifyOnlineStatus(g.IMAGE_DOWNLOAD,!1)};let t=p.a.BackPressIconBlue;c.isDesktop&&(t=t.substring(1));const n=(c.isDevAudienceGroup?c.webAppProdAudienceGroupUrl+t:p.a.ConnectivityCheckResource)+"?v="+(new Date).getTime();e.src=n}catch(e){r.b.errorWithNonPIIData("ConnectivityTracker","Exception in loading image to check internet connectivity: Exception is",e.stack||e.stacktrace||e)}},function(e){e[e.NAVIGATOR=0]="NAVIGATOR",e[e.IMAGE_DOWNLOAD=1]="IMAGE_DOWNLOAD"}(g||(g={}))},function(e,t,n){var i=n(429)(n(255));e.exports=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(17);class r{constructor(){}toJSON(){const e=JSON.parse("{}");return e[i.a.SURVEY_PROP_NAME]=this.mName,e[i.a.SURVEY_PROP_TYPE]=this.mType,e[i.a.SURVEY_PROP_VAL]=this.mValue,e}static fromJSON(e){const t=new r;return t.mName=e[i.a.SURVEY_PROP_NAME],t.mType=e[i.a.SURVEY_PROP_TYPE],t.mValue=e[i.a.SURVEY_PROP_VAL],t}getName(){return this.mName}getType(){return this.mType}getValue(){return this.mValue}setName(e){this.mName=e}setType(e){this.mType=e}setValue(e){this.mValue=e}}},,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return Y}));var i=n(39),r=n(4),o=(n(467),n(0)),a=n(3),s=n(1),c=n(89),l=n(54),u=n(22),d=n(80),p=n(6),h=n(97),f=n(101),g=n(7),m=n(2);const E=()=>o.createElement("div",{style:{flexDirection:"row",display:"flex"}},o.createElement("div",{style:{width:m.a.GET_FROM_APP_STORE_BUTTON_WIDTH,height:m.a.GET_FROM_APP_STORE_BUTTON_HEIGHT,marginRight:m.a.MARGIN_24}},o.createElement("a",{href:"https://aka.ms/kaizala-android",target:"_blank",className:"webapp-box"},o.createElement("img",{src:g.a.GET_ON_GOOGLE_PLAY,alt:s.getString("DownloadFromPlayStore")}))),o.createElement("div",{style:{width:m.a.GET_FROM_APP_STORE_BUTTON_WIDTH,height:m.a.GET_FROM_APP_STORE_BUTTON_HEIGHT}},o.createElement("a",{href:"https://itunes.apple.com/in/app/kaizala-get-work-done-on-chat/id1112208399",target:"_blank",className:"webapp-box"},o.createElement("img",{src:g.a.GET_ON_APP_STORE,alt:s.getString("DownloadFromAppStore")})))),_=e=>o.createElement("button",{id:"OkButton",className:"ok-button webapp-button",onClick:e,ref:e=>{e&&e.focus()}},o.createElement("span",{className:"ok-button-text"},s.getString("NewUserOkButtonText")));var S=n(9),T=n(128),v=n(21),I=n(8),b=n(16),y=n(335),C=n(37);const A=Object.assign({},I.a.DescriptionTextStyle,{color:v.a.WHITE,position:"absolute",width:m.a.REDIRECT_TOOLTIP_WIDTH,height:m.a.REDIRECT_TOOLTIP_HEIGHT,justifyContent:"center",textAlign:"center",backgroundSize:"cover"});class O extends o.PureComponent{constructor(e){super(e),this.LOG_TAG="AuthCodeGenerationView",this.validKeys=["0","1","2","3","4","5","6","7","8","9"],this.hasUserChangedCountry=!1,this.hasResponseText=!1,this.addOutline=e=>{e&&(e.style.border="solid 1px #00508d")},this.removeOutline=e=>{e&&(e.style.border="solid 1px #e5e5e5")},this.getMobileNumberInputWrapperRef=e=>{this.mobileNumberInputWrapperRef=e},this.getMobileNumberInputRef=e=>{this.mobileNumberInputRef=e},this.getStaticCountryCodeRef=e=>{this.staticCountryCodeRef=e},this.getMobileNumberCountryCodeInputRef=e=>{this.mobileNumberCountryCodeInputRef=e},this.getPhoneNumberErrorSpanRef=e=>{this.phoneNumberErrorSpanRef=e},this.getMobileNumberCountryErrorSpanRef=e=>{this.mobileNumberCountryErrorSpanRef=e},this.onCountryCodeChange=e=>{this.removeResponseView(),this.setState({currentCountryCode:this.mobileNumberCountryCodeInputRef.value.toString()}),this.hasUserChangedCountry=!0},this.getCountryCodeList=()=>{const e=o.createElement("option",{value:"",key:""},s.getString("chooseCountryOption")),t=this.state.countries.countryPhoneCode?this.state.countries.countryPhoneCode.map(e=>o.createElement("option",{value:e.countryCode,key:"+"+e.phoneCode+s.getString("CountryNames."+e.nameStringId)},s.getString("CountryNames."+e.nameStringId))):null;return o.createElement("select",{className:"phone-number-input",key:s.getString("SelectCountryCode"),ref:this.getMobileNumberCountryCodeInputRef,onChange:this.onCountryCodeChange,"aria-required":"true","aria-label":s.getString("SelectCountryCode"),value:this.state.currentCountryCode,style:{marginTop:m.a.MARGIN_24,borderRadius:m.a.RADIUS_30}},e,t)},this.onGenerateCodeButtonClicked=e=>{if(this.props.preAuthConnectionState===u.a.SERVER_CONNECTED)return Object(p.d)(this.state.currentCountryCode)?(this.showError(s.getString("chooseCountryError"),this.mobileNumberCountryCodeInputRef,this.mobileNumberCountryErrorSpanRef),void this.mobileNumberCountryCodeInputRef.focus()):void(this.mobileNumberInputRef.value?this.mobileNumberInputRef.value.length<4||isNaN(+this.mobileNumberInputRef.value)?this.showError(s.getString("EnterValidPhoneNumber")):this.props.onGenerateCodeRequest(this.state.currentCountryCode,this.staticCountryCodeRef.textContent,this.mobileNumberInputRef.value):this.showError(s.getString("EnterPhoneNumber")))},this.handleKeyPress=e=>{"Enter"===e.key?this.onGenerateCodeButtonClicked(null):this.validKeys.indexOf(e.key)<0&&e.preventDefault()},this.handlePaste=e=>{const t=e.clipboardData.getData("text/plain");isNaN(+t)&&e.preventDefault()},this.handleDrop=e=>{const t=e.dataTransfer.getData("Text");isNaN(+t)&&e.preventDefault()},this.isPairingCodeGenerationErrorPresent=()=>{switch(this.props.responseCode){case l.b.InValidUser:case l.b.ServerError:case l.b.TooManyRequests:return this.props.signInState===c.a.PAIRING_CODE_GENERATION_FAILED;default:return!1}},this.showPairingCodeGenerationError=()=>{this.isPairingCodeGenerationErrorPresent()?this.showError(this.props.responseMessage):this.showResponse(this.props.responseMessage)},this.showError=(e,t=this.mobileNumberInputWrapperRef,n=this.phoneNumberErrorSpanRef)=>{t&&(t.classList.add("error-wrapper"),Object(b.d)(this.mobileNumberInputRef)),n&&(n.classList.add("error-text"),n.style.display="block",n.innerText=e),this.hasResponseText=!0},this.showResponse=(e,t=this.phoneNumberErrorSpanRef)=>{t&&(t.classList.remove("error-text"),t.style.display="block",t.innerText=e),this.hasResponseText=!0},this.removeResponseView=()=>{this.hasResponseText&&(this.mobileNumberCountryCodeInputRef&&this.mobileNumberCountryCodeInputRef.classList.remove("error-wrapper"),this.mobileNumberCountryErrorSpanRef&&(this.mobileNumberCountryErrorSpanRef.style.display="none"),this.mobileNumberInputWrapperRef&&this.mobileNumberInputWrapperRef.classList.remove("error-wrapper"),this.phoneNumberErrorSpanRef&&(this.phoneNumberErrorSpanRef.style.display="none"),this.hasResponseText=!1)},this.getCountryPhoneCode=e=>{let t="";return e&&this.state.countries.countryPhoneCode&&this.state.countries.countryPhoneCode.some(n=>n.countryCode===e&&(t="+"+n.phoneCode,!0)),t},this.state={countries:{},currentCountryCode:""}}componentDidMount(){this.loadCountries(),Object(p.d)(this.props.countryCode)?(this.fetchCountryCodeWithPrimaryProvider(),this.mobileNumberCountryCodeInputRef.focus()):this.setState({currentCountryCode:this.props.countryCode})}componentDidUpdate(e,t){this.state.currentCountryCode!==t.currentCountryCode||this.state.countries!==t.countries?(Object(p.d)(this.state.currentCountryCode)?this.mobileNumberCountryCodeInputRef.focus():this.mobileNumberInputRef.focus(),this.staticCountryCodeRef.textContent=this.getCountryPhoneCode(this.state.currentCountryCode)):this.showPairingCodeGenerationError()}render(){return o.createElement("div",{className:"sign-in-wrapper",id:"AuthCodeGenerationWrapper"},o.createElement(y.a,Object.assign({},{connectionState:this.props.preAuthConnectionState,forceReconnect:this.props.forceReconnect,reconnectServer:this.props.reconnectServer})),o.createElement("div",{className:"sign-in-div"},o.createElement("div",{className:"sign-in-form-wrapper"},o.createElement("div",{className:"kaizala-logo-wrapper"},o.createElement("div",{className:"kaizala-icons-wrapper"},o.createElement("img",{className:"kaizala-logo webapp-logo-high-contrast",src:g.a.KaizalaIcon,alt:""}),o.createElement("h1",{className:"kaizala-title"},s.getString("MainTitle")))),o.createElement("div",{role:"alert"},o.createElement("div",{className:"sign-in-text"},s.getString("SignInText")),o.createElement("div",{className:"phone-number-text"},s.getString("PhoneNumber"))),this.getCountryCodeList(),o.createElement("span",{className:"error-text",id:"choose-country-error",style:Object(C.a)(Object.assign({},{display:"none",marginLeft:"23px",textAlign:"left"})),role:"alert",ref:this.getMobileNumberCountryErrorSpanRef}),o.createElement("div",{className:"phone-number-input",ref:this.getMobileNumberInputWrapperRef,style:{marginTop:m.a.MARGIN_20,alignItems:"center",borderRadius:m.a.RADIUS_30}},o.createElement("span",{id:"static-country-code",ref:this.getStaticCountryCodeRef}),o.createElement("input",{type:"text",name:"Phone Number",id:"PhoneNumber",autoComplete:"on",maxLength:15,placeholder:s.getString("PhoneNumberInputPlaceholder"),ref:this.getMobileNumberInputRef,onKeyPress:this.handleKeyPress,onPaste:this.handlePaste,onDrop:this.handleDrop,onClick:this.removeResponseView,onFocus:e=>this.addOutline(this.mobileNumberInputWrapperRef),onBlur:e=>this.removeOutline(this.mobileNumberInputWrapperRef),"aria-required":"true","aria-label":s.getString("PhoneNumberLabel")}),this.getReDirectToolTip()),this.props.responseCode!==l.b.InValidUser?o.createElement("span",{className:"normal-text",id:"phone-number-error",style:{display:"none"},role:"alert",ref:this.getPhoneNumberErrorSpanRef}):null,o.createElement("button",{id:"AuthCodeGenerationGenerateCodeButton",className:this.props.preAuthConnectionState!==u.a.SERVER_DISCONNECTED&&this.props.preAuthConnectionState!==u.a.NETWORK_DISCONNECTED?"sign-in-button webapp-box webapp-button":"sign-in-button webapp-box sign-in-button-disable",onClick:this.onGenerateCodeButtonClicked,style:{marginBottom:m.a.MARGIN_30,marginTop:m.a.MARGIN_20}},o.createElement("span",{className:"sign-in-button-text"},s.getString("ContinueText"))),o.createElement("div",{className:"sign-in-help-text",style:{fontFamily:"Roboto"}},s.getString("DontHaveKaizalaText")),E()),o.createElement("div",{className:"empty-div"}),o.createElement("div",{className:"image-div"},o.createElement("img",{src:g.a.SIGN_IN_GRAPHIC,alt:s.getString("SignInGraphic")}))))}fetchCountryCodeWithPrimaryProvider(){Object(f.d)(!0).then(e=>{Object(p.d)(e)||this.hasUserChangedCountry?Object(p.d)(e)&&this.fetchCountryCodeWithSecondaryProvider():this.setState({currentCountryCode:e})}).catch(e=>{this.fetchCountryCodeWithSecondaryProvider()})}fetchCountryCodeWithSecondaryProvider(){Object(f.d)(!1).then(e=>{Object(p.d)(e)||this.hasUserChangedCountry||this.setState({currentCountryCode:e})}).catch(e=>{r.b.errorWithNonPIIData(this.LOG_TAG,"IP location failed to load",e.stack||e.stacktrace||e)})}loadCountries(){Object(d.i)(h.AssetsSource.getAssetPath(h.AssetType.COUNTRIES_LIST)).then(e=>{this.setState({countries:e})})}getReDirectToolTip(){let e;switch(this.props.deepLinkType){case T.a.JOIN_GROUP:e=s.getString("JoinGroupInviteSignInToolTipText");break;case T.a.O365:e=s.getString("OneOnOneChatInviteSignInToolTipText");break;default:return null}return o.createElement("div",{className:"sign-in-tooltip"},o.createElement(S.a,{id:"Login-Screen-Tool-Tip",key:"ReDirectTooltipView",text:e,style:Object.assign({},A,{backgroundImage:`url(${g.a.LoginPageToolTip})`}),accessibilityProps:{"aria-label":e}}))}}var N=n(336),R=n(74),P=n(44);const w={newUserGuideParentStyle:a.Styles.createViewStyle({flexDirection:"row",justifyContent:"center",backgroundColor:v.a.TRANSPARENT}),newUserGuideContainerStyle:a.Styles.createViewStyle({flexDirection:"column",height:m.a.NEW_USER_GUIDE_HEIGHT,width:m.a.NEW_USER_GUIDE_WIDTH,backgroundColor:v.a.WHITE,borderRadius:m.a.RADIUS_8}),illustrationImageContainerStyle:a.Styles.createViewStyle({flexDirection:"column",alignSelf:"center",marginTop:m.a.MARGIN_28}),illustrationImageStyle:a.Styles.createViewStyle({width:m.a.NEW_USER_ILLUSTRATION_ICON_WIDTH,height:m.a.NEW_USER_ILLUSTRATION_ICON_HEIGHT}),kaizalaDownloadButtonContainerStyle:a.Styles.createViewStyle({flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:v.a.DownloadKaizalaButtonBackgroundColor,height:m.a.DOWNLOAD_KAIZALA_BUTTON_CONTAINER_HEIGHT}),oKButtonContainerStyle:a.Styles.createViewStyle({flexDirection:"row",justifyContent:"center",alignItems:"center",height:m.a.NEW_USER_GUIDE_OK_BUTTON_CONTAINER_HEIGHT}),InstallKaizalaTextStyle:Object.assign({},I.a.BodyTextStyle,{color:v.a.InstallKaizalaTextColor,alignItems:"center",marginTop:m.a.MARGIN_14,marginBottom:m.a.MARGIN_47}),firstTimeHereTextStyle:Object.assign({},I.a.ExtraLargeMediumTextStyle,{color:v.a.BLACK,alignItems:"center",marginTop:m.a.MARGIN_28})};class M{constructor(){this.newUserGuideView=e=>()=>{const t=s.getString("FirstTimeHere"),n=s.getString("InstallKaizalaText");return o.createElement(a.View,{style:w.newUserGuideParentStyle},o.createElement(a.View,{style:w.newUserGuideContainerStyle},o.createElement(a.View,{style:w.illustrationImageContainerStyle},o.createElement(a.Image,{source:g.a.NEW_USER_UI_ICON,style:w.illustrationImageStyle})),o.createElement(a.View,null,o.createElement(S.a,{text:t,numberOfLines:1,style:w.firstTimeHereTextStyle,accessibilityProps:{"aria-label":t}}),o.createElement(S.a,{text:n,numberOfLines:2,style:w.InstallKaizalaTextStyle,accessibilityProps:{"aria-label":n}})),o.createElement(a.View,{style:w.kaizalaDownloadButtonContainerStyle},E()),o.createElement(a.View,{style:w.oKButtonContainerStyle},_(e.onCloseButtonClicked))))}}static getInstance(){return null==M.newUserGuideInstance&&(M.newUserGuideInstance=new M),M.newUserGuideInstance}show(e){P.a.showFloatingView({floatingViewContent:this.newUserGuideView(e),floatingViewId:e.id,isLightDismiss:!1,shouldDismissOnKeyESCPress:!0,modalViewColor:v.a.FloatingViewBackgroundColor,isFocusOnFloatingView:!0})}hide(e){P.a.hideFloatingView(e)}}M.newUserGuideInstance=null;n(310);var D=n(403);class L extends o.Component{constructor(){super(...arguments),this.getQRCodeContainerRef=e=>{this.qrCodeContainerRef=e}}componentDidMount(){this.qrCode=new D(this.qrCodeContainerRef,{text:this.props.qrCodeString,width:this.props.qrCodeWidth,height:this.props.qrCodeHeight,colorDark:this.props.qrCodeColorDark,colorLight:this.props.qrCodeColorLight,correctLevel:D.CorrectLevel.L})}componentDidUpdate(){this.qrCode.makeCode(this.props.qrCodeString)}render(){return o.createElement("div",null,o.createElement("div",{ref:this.getQRCodeContainerRef,className:"qrcode-container"}))}}const x=Object(i.b)((e,t)=>({qrCodeString:e.qrCodeState.qrCode.qrCodeString,qrCodeHeight:t.qrCodeHeight,qrCodeWidth:t.qrCodeWidth,qrCodeColorDark:t.qrCodeColorDark,qrCodeColorLight:t.qrCodeColorLight}),(e,t)=>({onMount:()=>{r.b.infoWithNonPIIData("QRCodeView mounted")}}))(L);var k=n(31);const U={JoinGroupUIParentStyle:a.Styles.createViewStyle({flexDirection:"row",justifyContent:"center",backgroundColor:v.a.TRANSPARENT}),JoinGroupUIContainerStyle:a.Styles.createViewStyle({flexDirection:"column",height:m.a.JOIN_GROUP_UI_HEIGHT,width:m.a.JOIN_GROUP_UI_WIDTH,backgroundColor:v.a.WHITE,borderRadius:m.a.RADIUS_8}),JoinGroupViewInstructionContainerStyle:a.Styles.createViewStyle({flexDirection:"row",justifyContent:"center",marginBottom:m.a.MARGIN_20}),downloadButtonsParentContainerStyle:a.Styles.createViewStyle({flexDirection:"column",alignItems:"center",backgroundColor:v.a.JoinGroupUIBackgroundColor}),downloadButtonsContainerStyle:a.Styles.createViewStyle({flexDirection:"row",justifyContent:"center",marginTop:m.a.MARGIN_20,marginBottom:m.a.MARGIN_20}),oKButtonContainerStyle:a.Styles.createViewStyle({flexDirection:"row",justifyContent:"center",alignItems:"center",height:m.a.JOIN_GROUP_OK_BUTTON_CONTAINER_HEIGHT}),qrCodeContainerStyle:a.Styles.createViewStyle({flexDirection:"row",justifyContent:"center",marginTop:m.a.MARGIN_10}),firstTimeHereTextStyle:Object.assign({},I.a.ExtraLargeMediumTextStyle,{color:v.a.BLACK,alignItems:"center",marginTop:m.a.MARGIN_28}),joinGroupTextStyle:Object.assign({},I.a.BodyTextStyle,{color:v.a.SubTextColor,alignItems:"center",marginTop:m.a.MARGIN_8,marginBottom:m.a.MARGIN_8})};class G{constructor(){this.joinGroupView=e=>()=>{const t=s.getString("FirstTimeHere"),n=s.getString("JoinGroupText");return o.createElement(a.View,{style:U.JoinGroupUIParentStyle},o.createElement(a.View,{style:U.JoinGroupUIContainerStyle},o.createElement(a.View,{style:{flexDirection:"column"}},o.createElement(S.a,{text:t,numberOfLines:1,style:U.firstTimeHereTextStyle,accessibilityProps:{"aria-label":t}}),o.createElement(S.a,{text:n,numberOfLines:2,style:U.joinGroupTextStyle,accessibilityProps:{"aria-label":n}})),o.createElement(a.View,{style:U.downloadButtonsParentContainerStyle},o.createElement(a.View,{style:U.downloadButtonsContainerStyle},E()),o.createElement(a.View,{style:U.JoinGroupViewInstructionContainerStyle},this.getJoinGroupInstructionView())),o.createElement(a.View,{style:U.qrCodeContainerStyle},o.createElement(i.a,{store:k.a},o.createElement(x,{qrCodeHeight:m.a.JOIN_GROUP_UI_QR_CODE_HEIGHT,qrCodeWidth:m.a.JOIN_GROUP_UI_QR_CODE_WIDTH,qrCodeColorDark:v.a.BLACK,qrCodeColorLight:v.a.WHITE}))),o.createElement(a.View,{style:U.oKButtonContainerStyle},_(e.onCloseButtonClicked))))},this.getJoinGroupInstructionView=()=>{const e=s.getString("GoTo"),t=s.getString("ChatsTab"),n=s.getString("TapOn"),i=s.getString("Choose"),r=s.getString("JoinGroupWithQRCode"),c=s.getString("ScanQRCode");return o.createElement(a.View,{style:{flexDirection:"column"}},o.createElement(a.View,{style:{flexDirection:"row"}},o.createElement(S.a,{text:"1. "+e,accessibilityProps:{"aria-label":e},style:{marginRight:5}}),o.createElement(S.a,{text:t,style:Object.assign({},I.a.BodyBoldTextStyle,{color:v.a.BLACK,marginRight:5}),accessibilityProps:{"aria-label":t}}),o.createElement(S.a,{text:n,accessibilityProps:{"aria-label":n},style:{marginRight:5}}),o.createElement("img",{src:g.a.JOIN_GROUP_ICON})),o.createElement(a.View,{style:{flexDirection:"row"}},o.createElement(S.a,{text:"2. "+i,accessibilityProps:{"aria-label":i},style:{marginRight:5}}),o.createElement(S.a,{text:r,style:Object.assign({},I.a.BodyBoldTextStyle,{color:v.a.BLACK}),accessibilityProps:{"aria-label":r}})),o.createElement(S.a,{text:"3. "+c,accessibilityProps:{"aria-label":c}}))}}static getInstance(){return null==G.joinGroupUIInstance&&(G.joinGroupUIInstance=new G),G.joinGroupUIInstance}show(e){P.a.showFloatingView({floatingViewContent:this.joinGroupView(e),floatingViewId:e.id,isLightDismiss:!1,shouldDismissOnKeyESCPress:!0,modalViewColor:v.a.FloatingViewBackgroundColor,isFocusOnFloatingView:!0})}hide(e){P.a.hideFloatingView(e)}}G.joinGroupUIInstance=null;var F=n(258),B=n(11),V=n(156),W=n(361);class j extends o.PureComponent{constructor(e){super(e),this.authLoadingViewId="authLoadingView",this.newUserGuideViewId="newUserGuideViewId",this.joinGroupUIViewId="joinGroupUIViewId",this.onNewUserGuideViewCloseEvent=()=>{M.getInstance().hide(this.newUserGuideViewId)},this.onJoinGroupUIViewCloseEvent=()=>{G.getInstance().hide(this.joinGroupUIViewId),this.props.resetQRCode()},this.showLoadingUI=()=>{let e,t;this.props.signInState===c.a.PAIRING_CODE_REQUESTED?(e=Object(s.getString)("GeneratingPairingCodeText"),t=Object(s.getString)("GeneratingPairingCodeSubText")):this.props.signInState===c.a.PAIRING_CODE_RE_REQUESTED?(e=Object(s.getString)("ReGeneratingPairingCodeText"),t=Object(s.getString)("GeneratingPairingCodeSubText")):this.props.signInState===c.a.PAIRING_CODE_SUBMITTED&&(e=Object(s.getString)("VerifyingPairingCodeText"),t=Object(s.getString)("VerifyingPairingCodeSubText")),R.a.show({id:this.authLoadingViewId,dialogText:e,dialogSubText:t}),this.setState(Object.assign({},this.state,{isLoadingUIShown:!0}))},this.hideLoadingUI=()=>{R.a.hide(this.authLoadingViewId),this.props.isAuthenticated||a.Modal.dismissAll(),this.setState(Object.assign({},this.state,{isLoadingUIShown:!1}))},this.getAuthView=()=>o.createElement("div",{className:"auth-container"},o.createElement("div",{className:"content-wrapper"},this.getContentPage()),o.createElement(W.a,null)),this.getContentPage=()=>{switch(this.props.signInState){case c.a.START_SIGN_IN:case c.a.PAIRING_CODE_REQUESTED:case c.a.PAIRING_CODE_GENERATION_FAILED:return o.createElement(O,Object.assign({},this.props));case c.a.PAIRING_CODE_GENERATION_SUCCESS:case c.a.PAIRING_CODE_RE_REQUESTED:case c.a.PAIRING_CODE_RE_GENERATION_SUCCESS:case c.a.PAIRING_CODE_RE_GENERATION_FAILED:case c.a.PAIRING_CODE_SUBMITTED:case c.a.SIGN_IN_FAILED:const e=Object.assign({},this.props,{isLoadingUIShown:this.state.isLoadingUIShown});return o.createElement(N.a,Object.assign({},e))}},this.state={isResendEnabled:!1,isLoadingUIShown:!1}}render(){return this.props.isAuthenticated?this.props.appJsDownloadStatus&&!0===this.props.appJsDownloadStatus.isSuccessful?window.setupApp(null):this.props.appJsDownloadStatus&&!1===this.props.appJsDownloadStatus.isSuccessful?o.createElement(F.a,null):null:this.getAuthView()}componentDidUpdate(){if(this.props.signInState===c.a.PAIRING_CODE_REQUESTED||this.props.signInState===c.a.PAIRING_CODE_RE_REQUESTED||this.props.signInState===c.a.PAIRING_CODE_SUBMITTED?this.showLoadingUI():this.hideLoadingUI(),this.props.signInState===c.a.PAIRING_CODE_GENERATION_FAILED&&this.props.responseCode===l.b.InValidUser)if(this.props.deepLinkType===T.a.JOIN_GROUP)this.props.setQRCodeForJoinGroupViaInviteLink(),G.getInstance().show({id:this.joinGroupUIViewId,onCloseButtonClicked:this.onJoinGroupUIViewCloseEvent});else{const e=V.a.getMaskedMobileNumber(this.props.countryPhoneCode,this.props.mobileNumber);B.e.recordEvent(B.c.NEW_USER,{MASKED_PHONE:e}),M.getInstance().show({id:this.newUserGuideViewId,onCloseButtonClicked:this.onNewUserGuideViewCloseEvent})}}}var H=n(119),z=n(238);const Y=Object(i.b)((e,t)=>{const n=e.authState.auth,i=e.authState.preAuthConnectionModel,r=t.deepLinkType,o=t.serverUrl;return Object.assign({},n,i,{appJsDownloadStatus:e.appState.appJsDownloadStatus,deepLinkType:r,serverUrl:o})},(e,t)=>({onGenerateCodeRequest:(t,n,i)=>{t&&n&&i&&(r.b.debugWithPIIData("AUTH CONTAINER","country code, country phone code & mobile number: ",t,n,i),e(H.c.sendPairingCodeRequest(t,n,i)))},onReGenerateCodeRequest:(t,n,i)=>{t&&n&&i&&(r.b.debugWithPIIData("AUTH CONTAINER","country code, country phone code & mobile number: ",t,n,i),e(H.c.resendPairingCodeRequest(t,n,i)))},onVerifyPairingCodeRequest:(t,n,i)=>{t&&n&&i&&(r.b.debugWithPIIData("AUTH CONTAINER","country code, mobile number & pairingCode: ",t,n,i),e(H.c.sendConnectionRequest(t,n,i)))},onEnterItAgainRequest:()=>{e(H.c.enterPairingCodeAgain())},reconnectServer:()=>{e(H.c.reconnectServer())},setQRCodeForJoinGroupViaInviteLink:()=>{e(z.b.insertQRCodeString(t.serverUrl))},resetQRCode:()=>{e(z.b.insertQRCodeString(""))}}))(j)},function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var i=n(39),r=(n(310),n(734),n(507)),o=n.n(r),a=n(194),s=n.n(a),c=n(0),l=n(22),u=n(20),d=n(85),p=n(265),h=n(51),f=n(7),g=n(180),m=n(25),E=n(5);class _ extends c.Component{constructor(){super(...arguments),this.connectionStatisticsNode=null,this.showConnectionState=()=>{let e=Object(E.a)().backgroundColor3;switch(this.props.connectionState){case l.a.NETWORK_DISCONNECTED:case l.a.SERVER_DISCONNECTED:case l.a.DEVICE_DISCONNECTED:e=Object(E.a)().separatorColor1;break;case l.a.NETWORK_CONNECTED:case l.a.SERVER_CONNECTING:case l.a.SERVER_CONNECTED:case l.a.DEVICE_CONNECTING:e=Object(E.a)().indicatorColor3;break;case l.a.SERVER_DEVICE_CONNECTED:e=Object(E.a)().indicatorColor2}return c.createElement("span",{className:"circular-background",style:{backgroundColor:e,cursor:"pointer",marginLeft:10,marginRight:10},onClick:this.loadConnectionStatistics,ref:this.setConnectionStatisticsNode},this.props.connectionState)},this.setConnectionStatisticsNode=e=>{this.connectionStatisticsNode=e},this.loadConnectionStatistics=()=>{const e={id:"ConnectionStatistics",height:700,width:700,dialogPosition:"left",getAnchoredRef:this.getAnchor.bind(this),getDialogContent:this.getConnectionStatistics,marginRight:2};g.a.show(e)},this.getConnectionStatistics=()=>{const e=m.c.getConnectionStatistics();return c.createElement("div",{className:"shadow-left-top",style:{padding:10,border:Object(E.a)().textQuaternaryColor+" 1px solid",backgroundColor:Object(E.a)().backgroundColor1,color:Object(E.a)().textPrimaryColor}},c.createElement("table",null,c.createElement("tbody",null,c.createElement("tr",null,c.createElement("td",null,"Current State"),c.createElement("td",null,l.a[this.props.connectionState])),c.createElement("tr",null,c.createElement("td",null,"Socket Closed"),c.createElement("td",null,e.ON_SOCKET_CLOSE_CALLBACK?e.ON_SOCKET_CLOSE_CALLBACK.length:0)),c.createElement("tr",null,c.createElement("td",null,"Socket Error"),c.createElement("td",null,e.ON_SOCKET_ERROR_CALLBACK?e.ON_SOCKET_ERROR_CALLBACK.length:0)),c.createElement("tr",null,c.createElement("td",null,"PING Device Result"),c.createElement("td",null,e.PING)),c.createElement("tr",null,c.createElement("td",null,"ENSURE SERVER CONNECTION Result"),c.createElement("td",null,e.ENSURE_SERVER_CONNECTION)),c.createElement("tr",null,c.createElement("td",null,"ENSURE WAKE UP DEVICE result"),c.createElement("td",null,e.ENSURE_WAKE_UP_DEVICE)),c.createElement("tr",null,c.createElement("td",null,"PING WAKE UP DEVICE result"),c.createElement("td",null,e.PING_WAKE_UP_DEVICE)),c.createElement("tr",null,c.createElement("td",null,"KQUERY MESSAGE TIMED OUT result"),c.createElement("td",null,e.KQUERY_MESSAGE_TIMED_OUT?e.KQUERY_MESSAGE_TIMED_OUT.length:0)),c.createElement("tr",null,c.createElement("td",null,"CONNECTION STATE CHANGE result"),c.createElement("td",null,e.CONNECTION_STATE_CHANGE)),c.createElement("tr",null,c.createElement("td",null,"INVALID SESSION result"),c.createElement("td",null,e.INVALID_SESSION)))))},this.getDarkFeatureEnableList=()=>{let e=null;const t=[],n=d.b.getDarkFeatureList();for(const i of n){switch(i){case d.a.EMOTICON_SUPPORT:e="EMT";break;case d.a.PRE_FETCH_CHAT_MESSAGES:e="CHAT";break;case d.a.AT_MENTION_SUPPORT:e="ATM";break;case d.a.REACTIONS_SUPPORT:e="REACTIONS";break;case d.a.NEW_COLD_BOOT_FLOW:e="NCB";break;case d.a.CONVERSATION_OPTIONS:e="CONV_OPTIONS"}t.push(c.createElement("div",{key:e,style:{display:"flex",margin:15,color:Object(E.a)().textPrimaryColor}},e,c.createElement("label",{className:"switch",style:{marginLeft:"15px"}},c.createElement("input",{type:"checkbox",id:i,onChange:this.onOptionChanged,defaultChecked:d.b.isFeatureEnabled(i)}),c.createElement("span",{className:"slider"}))))}return t},this.onOptionChanged=e=>{const t=e.target.id;!d.b.isFeatureEnabled(t)&&e.target.checked?d.b.enableDarkFeature(t):d.b.isFeatureEnabled(t)&&!e.target.checked&&d.b.disableDarkFeature(t),document.location.reload()}}render(){return u.isProdConfig?null:c.createElement("div",{key:"DeveloperOptionsView",style:{display:"flex",flexDirection:"column",margin:30,zIndex:1,maxWidth:200}},c.createElement("div",{style:{display:"flex",flexDirection:"row",margin:15}},c.createElement(h.a,{id:"downloadlogs",height:16,width:16,marginRight:15,source:f.a.BlueDownloadButton,onClick:()=>{const e=p.a.getLogs();o()(e,"webapp_logs_"+s()().format("YYYY-MM-DD_HH:mm:ss:sss_Z")+".tsv")}}),this.showConnectionState()),this.getDarkFeatureEnableList(),c.createElement("div",{style:{width:"10px"}}))}getAnchor(){return this.connectionStatisticsNode}}const S=Object(i.b)(e=>({connectionState:e.connectivityState.connectionState}))(_)},,,function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,c=a(e),l=1;l<arguments.length;l++){for(var u in n=Object(arguments[l]))r.call(n,u)&&(c[u]=n[u]);if(i){s=i(n);for(var d=0;d<s.length;d++)o.call(n,s[d])&&(c[s[d]]=n[s[d]])}}return c}},function(e,t,n){var i=n(247),r=n(366),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&r(a,n)&&(void 0!==n||t in e)||i(e,t,n)}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var i=n(216),r=n(368);e.exports=function(e){return i((function(t,n){var i=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&r(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++i<o;){var c=n[i];c&&e(t,c,i,a)}return t}))}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var i=n(298),r=n(542),o=n(365),a=n(543),s=n(544),c=n(417),l=n(273),u=n(547),d=n(549),p=n(418),h=n(419),f=n(274),g=n(551),m=n(552),E=n(420),_=n(142),S=n(300),T=n(554),v=n(174),I=n(555),b=n(73),y=n(271),C={};C["[object Arguments]"]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C["[object Object]"]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C["[object Function]"]=C["[object WeakMap]"]=!1,e.exports=function e(t,n,A,O,N,R){var P,w=1&n,M=2&n,D=4&n;if(A&&(P=N?A(t,O,N,R):A(t)),void 0!==P)return P;if(!v(t))return t;var L=_(t);if(L){if(P=g(t),!w)return l(t,P)}else{var x=f(t),k="[object Function]"==x||"[object GeneratorFunction]"==x;if(S(t))return c(t,w);if("[object Object]"==x||"[object Arguments]"==x||k&&!N){if(P=M||k?{}:E(t),!w)return M?d(t,s(P,t)):u(t,a(P,t))}else{if(!C[x])return N?t:{};P=m(t,x,w)}}R||(R=new i);var U=R.get(t);if(U)return U;R.set(t,P),I(t)?t.forEach((function(i){P.add(e(i,n,A,i,t,R))})):T(t)&&t.forEach((function(i,r){P.set(r,e(i,n,A,r,t,R))}));var G=L?void 0:(D?M?h:p:M?y:b)(t);return r(G||t,(function(i,r){G&&(i=t[r=i]),o(P,r,e(i,n,A,r,t,R))})),P}},function(e,t,n){var i=n(565),r=n(275);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!r(t)&&!r(n)?t!=t&&n!=n:i(t,n,o,a,e,s))}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var i=n(427);e.exports=function(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var i=n(304);e.exports=function(e,t){return!!(null==e?0:e.length)&&i(e,t,0)>-1}},function(e,t){e.exports=function(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(226),a=n(109),s=n(269),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.isDisplayed=function(e){return s.default.isModalDisplayed(e)},t.prototype.show=function(e,t,n){o.default(e,"modal must be valid. Actual "+e),o.default(t,"modalId must be a non-empty string. Actual: "+t),s.default.showModal(e,t,n)},t.prototype.dismiss=function(e){o.default(e,"modalId must be a non-empty string. Actual: "+e),s.default.dismissModal(e)},t.prototype.dismissAll=function(){s.default.dismissAllModals()},t}(a.Modal);t.Modal=c,t.default=new c},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(86),a=n(0),s=n(225),c=n(109),l=n(277),u=n(161);if("undefined"!=typeof document){var d=document.createElement("style");d.type="text/css",d.appendChild(document.createTextNode("[data-text-as-pseudo-element]::before { content: attr(data-text-as-pseudo-element); }")),document.head.appendChild(d)}var p={defaultStyle:{position:"relative",display:"inline",flexGrow:0,flexShrink:0,overflow:"hidden",whiteSpace:"pre-wrap",overflowWrap:"break-word"},ellipsis:{position:"relative",display:"inline",flexGrow:0,flexShrink:0,overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"}},h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._mountedText=null,t._onMount=function(e){t._mountedText=e},t}return r(t,e),t.prototype.getChildContext=function(){return{isRxParentAText:!0}},t.prototype.render=function(){if("string"==typeof this.props.children&&"\n"===this.props.children)return a.createElement("br",null);var e=l.default.isHidden(this.props.importantForAccessibility);return this.props.selectable||"string"!=typeof this.props.children?a.createElement("div",{ref:this._onMount,style:this._getStyles(),"aria-hidden":e,onClick:this.props.onPress,id:this.props.id,onContextMenu:this.props.onContextMenu,"data-test-id":this.props.testId},this.props.children):a.createElement("div",{ref:this._onMount,style:this._getStyles(),"aria-hidden":e,onClick:this.props.onPress,onContextMenu:this.props.onContextMenu,"data-text-as-pseudo-element":this.props.children,id:this.props.id,"data-test-id":this.props.testId})},t.prototype.componentDidMount=function(){this.props.autoFocus&&this.requestFocus()},t.prototype._getStyles=function(){var e=u.default.combine([1===this.props.numberOfLines?p.ellipsis:p.defaultStyle,this.props.style]);return this.props.selectable&&(e.userSelect="text",e.WebkitUserSelect="text",e.MozUserSelect="text",e.msUserSelect="text"),e.cursor||(this.props.selectable?e.cursor="text":e.cursor="inherit",this.props.onPress&&(e.cursor="pointer")),e},t.prototype.blur=function(){this._mountedText&&this._mountedText.blur()},t.prototype.requestFocus=function(){var e=this;s.FocusArbitratorProvider.requestFocus(this,(function(){return e.focus()}),(function(){return null!==e._mountedText}))},t.prototype.focus=function(){this._mountedText&&this._mountedText.focus()},t.prototype.getSelectedText=function(){return""},t.contextTypes={focusArbitrator:o.object},t.childContextTypes={isRxParentAText:o.bool.isRequired},t}(c.Text);t.Text=h,t.default=h},function(e,t,n){"use strict";(function(e){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(86),s=n(0),c=n(127),l=n(214),u=n(225),d=n(450),p=n(109),h=n(277),f=n(631),g=n(251),m=n(455),E=n(161),_=n(381),S={defaultStyle:{position:"relative",display:"flex",flexDirection:"column",flexGrow:0,flexShrink:0,overflow:"hidden",alignItems:"stretch"},resizeDetectorContainerStyles:{position:"absolute",left:"0",top:"0",right:"0",bottom:"0",overflow:"scroll",zIndex:"-1",visibility:"hidden"},resizeGrowDetectorStyles:{position:"absolute",left:"100500px",top:"100500px",width:"1px",height:"1px"},resizeShrinkDetectorStyles:{position:"absolute",width:"150%",height:"150%"}};if("undefined"!=typeof document){var T=document.head,v=document.createElement("style");v.type="text/css",v.appendChild(document.createTextNode(".reactxp-ignore-pointer-events  * { pointer-events: auto; }")),v.appendChild(document.createTextNode(".reactxp-block-pointer-events * { pointer-events: none !important; }")),T.appendChild(v)}var I=function(t){function n(e,n){var i=t.call(this,e,n)||this;return i._limitFocusWithin=!1,i._isFocusLimited=!1,i._resizeDetectorNodes={},i._onResizeDetectorGrowRef=function(e){i._resizeDetectorNodes.grow=e||void 0,i._resizeDetectorOnScroll()},i._onResizeDetectorShrinkRef=function(e){i._resizeDetectorNodes.shrink=e||void 0,i._resizeDetectorOnScroll()},i._resizeDetectorOnScroll=function(){i._resizeDetectorAnimationFrame||(i._resizeDetectorAnimationFrame=window.requestAnimationFrame((function(){i._isMounted&&(i._resizeDetectorReset(),i._resizeDetectorAnimationFrame=void 0,_.default._checkViews())})))},i._limitFocusWithin=e.limitFocusWithin===p.Types.LimitFocusType.Limited||e.limitFocusWithin===p.Types.LimitFocusType.Accessible,(i.props.restrictFocusWithin||i._limitFocusWithin)&&(i._focusManager=new g.FocusManager(n&&n.focusManager),i._limitFocusWithin&&i.setFocusLimited(!0)),i._popupContainer=n&&n.popupContainer,e.arbitrateFocus&&i._updateFocusArbitratorProvider(e),i}return r(n,t),n.prototype._renderResizeDetectorIfNeeded=function(t){return this.props.importantForLayout?"relative"!==t.position?(l.default.isDevelopmentMode()&&e.error("View: importantForLayout property is applicable only for a view with relative position"),null):[s.createElement("div",{key:"grow",style:S.resizeDetectorContainerStyles,ref:this._onResizeDetectorGrowRef,onScroll:this._resizeDetectorOnScroll},s.createElement("div",{style:S.resizeGrowDetectorStyles})),s.createElement("div",{key:"shrink",style:S.resizeDetectorContainerStyles,ref:this._onResizeDetectorShrinkRef,onScroll:this._resizeDetectorOnScroll},s.createElement("div",{style:S.resizeShrinkDetectorStyles}))]:null},n.prototype._resizeDetectorReset=function(){var e=this._resizeDetectorNodes.grow;e&&(e.scrollLeft=100500,e.scrollTop=100500),(e=this._resizeDetectorNodes.shrink)&&(e.scrollLeft=100500,e.scrollTop=100500)},n.prototype.getChildContext=function(){var e={isRxParentAText:!1};return this._focusManager&&(e.focusManager=this._focusManager),this._popupContainer&&(e.popupContainer=this._popupContainer),this._focusArbitratorProvider&&(e.focusArbitrator=this._focusArbitratorProvider),e},n.prototype._getContainer=function(){if(!this._isMounted)return null;try{return c.findDOMNode(this)}catch(e){return null}},n.prototype._isHidden=function(){return!!this._popupContainer&&this._popupContainer.isHidden()},n.prototype._updateFocusArbitratorProvider=function(e){e.arbitrateFocus?this._focusArbitratorProvider?this._focusArbitratorProvider.setCallback(e.arbitrateFocus):this._focusArbitratorProvider=new u.FocusArbitratorProvider(this,e.arbitrateFocus):this._focusArbitratorProvider&&delete this._focusArbitratorProvider},n.prototype.setFocusRestricted=function(t){this._focusManager&&this.props.restrictFocusWithin?(this._isHidden()||(t?this._focusManager.restrictFocusWithin(d.RestrictFocusType.RestrictedFocusFirst):this._focusManager.removeFocusRestriction()),this._isFocusRestricted=t):l.default.isDevelopmentMode()&&e.error("View: setFocusRestricted method requires restrictFocusWithin property to be set")},n.prototype.setFocusLimited=function(t){this._focusManager&&this._limitFocusWithin?(this._isHidden()||(t&&!this._isFocusLimited?this._focusManager.limitFocusWithin(this.props.limitFocusWithin):!t&&this._isFocusLimited&&this._focusManager.removeFocusLimitation()),this._isFocusLimited=t):l.default.isDevelopmentMode()&&e.error("View: setFocusLimited method requires limitFocusWithin property to be set")},n.prototype.render=function(){var e=E.default.combine([S.defaultStyle,this.props.style]),t=h.default.accessibilityTraitToString(this.props.accessibilityTraits),n=this.props.tabIndex,i=h.default.accessibilityTraitToAriaSelected(this.props.accessibilityTraits),r=h.default.isHidden(this.props.importantForAccessibility),a=this.props.accessibilityLabel,c=this.props.ariaLabelledBy,l=this.props.ariaRoleDescription,u=this.props.accessibilityLiveRegion?h.default.accessibilityLiveRegionToString(this.props.accessibilityLiveRegion):void 0,d=this.props.ariaValueNow;t||a||c||l||u||void 0!==i||void 0!==d||void 0!==n||(t="none");var p,g={role:t,tabIndex:n,style:e,title:this.props.title,"aria-label":a,"aria-hidden":r,"aria-selected":i,"aria-labelledby":c,"aria-roledescription":l,"aria-live":u,"aria-valuenow":d,onContextMenu:this.props.onContextMenu,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,onMouseOver:this.props.onMouseOver,onMouseMove:this.props.onMouseMove,onTouchStart:this.props.onResponderStart,onTouchStartCapture:this.props.onTouchStartCapture,onTouchMove:this.props.onResponderMove,onTouchMoveCapture:this.props.onTouchMoveCapture,onTouchEnd:this.props.onResponderRelease,onTouchCancel:this.props.onResponderTerminate,draggable:!!this.props.onDragStart||void 0,onDragStart:this.props.onDragStart,onDrag:this.props.onDrag,onDragEnd:this.props.onDragEnd,onDragEnter:this.props.onDragEnter,onDragOver:this.props.onDragOver,onDragLeave:this.props.onDragLeave,onDrop:this.props.onDrop,onClick:this.props.onPress,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onKeyDown:this.props.onKeyPress,id:this.props.id};return this.props.blockPointerEvents?(g.className="reactxp-block-pointer-events",e.pointerEvents="none"):this.props.ignorePointerEvents&&(g.className="reactxp-ignore-pointer-events",e.pointerEvents="none"),p=this.props.animateChildEnter||this.props.animateChildMove||this.props.animateChildLeave?s.createElement(f.default,o({},g,{"data-test-id":this.props.testId,animateChildEnter:this.props.animateChildEnter,animateChildMove:this.props.animateChildMove,animateChildLeave:this.props.animateChildLeave}),this.props.children):s.createElement("div",o({},g,{"data-test-id":this.props.testId}),this._renderResizeDetectorIfNeeded(e),this.props.children),this.context.isRxParentAText?m.default(p):p},n.prototype.UNSAFE_componentWillReceiveProps=function(n){t.prototype.UNSAFE_componentWillReceiveProps.call(this,n),l.default.isDevelopmentMode()&&(this.props.restrictFocusWithin!==n.restrictFocusWithin&&e.error("View: restrictFocusWithin is readonly and changing it during the component life cycle has no effect"),this.props.limitFocusWithin!==n.limitFocusWithin&&e.error("View: limitFocusWithin is readonly and changing it during the component life cycle has no effect")),"arbitrateFocus"in n&&this.props.arbitrateFocus!==n.arbitrateFocus&&this._updateFocusArbitratorProvider(n)},n.prototype.enableFocusManager=function(){this._focusManager&&(this.props.restrictFocusWithin&&!1!==this._isFocusRestricted&&this._focusManager.restrictFocusWithin(d.RestrictFocusType.RestrictedFocusFirst),this._limitFocusWithin&&this._isFocusLimited&&this._focusManager.limitFocusWithin(this.props.limitFocusWithin))},n.prototype.disableFocusManager=function(){this._focusManager&&this._focusManager.release()},n.prototype.componentDidMount=function(){var e=this;t.prototype.componentDidMount.call(this),this.props.autoFocus&&this.requestFocus(),this._isHidden()||this.enableFocusManager(),this._focusManager&&this._popupContainer&&(this._popupToken=this._popupContainer.registerPopupComponent((function(){return e.enableFocusManager()}),(function(){return e.disableFocusManager()})))},n.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.disableFocusManager(),this._popupToken&&this._popupContainer.unregisterPopupComponent(this._popupToken)},n.prototype.blur=function(){var e=this._getContainer();e&&e.blur()},n.prototype.requestFocus=function(){var e=this;u.FocusArbitratorProvider.requestFocus(this,(function(){return e.focus()}),(function(){return e._isMounted}))},n.prototype.focus=function(){var e=this._getContainer();e&&e.focus()},n.contextTypes={isRxParentAText:a.bool,focusManager:a.object,popupContainer:a.object,focusArbitrator:a.object},n.childContextTypes={isRxParentAText:a.bool.isRequired,focusManager:a.object,popupContainer:a.object,focusArbitrator:a.object},n}(_.default);t.View=I,g.applyFocusableComponentMixin(I,(function(e){return void 0!==(e&&"tabIndex"in e?e.tabIndex:this.props.tabIndex)})),t.default=I}).call(this,n(110))},function(e,t,n){"use strict";(function(e){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(214),a=n(109),s=n(294),c=n(143),l=n(269),u=n(141),d=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e._isMounted=!1,e._isPopupDisplayed=!1,e._lastX=0,e._lastY=0,e._lastWidth=0,e._lastHeight=0,e}return r(n,t),n.setActivationState=function(e){n._appActivationState!==e&&(n._appActivationState=e,n._viewCheckingTimer&&(c.default.clearInterval(n._viewCheckingTimer),n._viewCheckingTimer=void 0),n._viewCheckingList.length>0&&(e===a.Types.AppActivationState.Active&&n._checkViews(),n._viewCheckingTimer=c.default.setInterval(n._checkViews,e===a.Types.AppActivationState.Active?1e3:1e4)))},n.prototype.UNSAFE_componentWillReceiveProps=function(e){!!this.props.onLayout!=!!e.onLayout&&(this.props.onLayout&&this._checkViewCheckerUnbuild(),e.onLayout&&this._checkViewCheckerBuild())},n._checkViews=function(){u.each(n._viewCheckingList,(function(t){t._checkAndReportLayout().catch((function(t){e.warn("ScrollView onLayout exception: "+JSON.stringify(t))}))}))},n._reportLayoutChange=function(e){this._layoutReportList.push(e),n._layoutReportingTimer||(n._layoutReportingTimer=c.default.setTimeout((function(){n._layoutReportingTimer=void 0,n._reportDeferredLayoutChanges()}),0))},n._reportDeferredLayoutChanges=function(){var t=this._layoutReportList;this._layoutReportList=[],u.each(t,(function(t){try{t()}catch(t){o.default.isDevelopmentMode()&&e.error("Caught exception on onLayout response: ",t)}}))},n.prototype._checkAndReportLayout=function(){var e=this;if(!this._isMounted)return Promise.resolve(void 0);var t=this._getContainer();if(!t)return Promise.resolve(void 0);var i=t.offsetLeft,r=t.offsetTop,o=t.style.marginTop&&parseInt(t.style.marginTop,10)||0,a=t.style.marginBottom&&parseInt(t.style.marginBottom,10)||0,c=t.style.marginRight&&parseInt(t.style.marginRight,10)||0,l=t.style.marginLeft&&parseInt(t.style.marginLeft,10)||0,u=t.offsetWidth+c+l,d=t.offsetHeight+o+a;if(this._lastX!==i||this._lastY!==r||this._lastWidth!==u||this._lastHeight!==d){this._lastX=i,this._lastY=r,this._lastWidth=u,this._lastHeight=d;var p=new s.Defer;return n._reportLayoutChange((function(){e._isMounted&&e.props.onLayout?(e.props.onLayout({x:i,y:r,width:e._lastWidth,height:e._lastHeight}),p.resolve(void 0)):p.resolve(void 0)})),p.promise()}return Promise.resolve(void 0)},n.prototype._checkViewCheckerBuild=function(){n._viewCheckingTimer||(n._viewCheckingTimer=c.default.setInterval(n._checkViews,n._appActivationState===a.Types.AppActivationState.Active?1e3:1e4)),n._isResizeHandlerInstalled||(window.addEventListener("resize",n._onResize),n._isResizeHandlerInstalled=!0),n._viewCheckingList.push(this)},n.prototype._checkViewCheckerUnbuild=function(){var e=this;n._viewCheckingList=u.filter(n._viewCheckingList,(function(t){return t!==e})),0===n._viewCheckingList.length&&(n._viewCheckingTimer&&(c.default.clearInterval(n._viewCheckingTimer),n._viewCheckingTimer=void 0),n._isResizeHandlerInstalled&&(window.removeEventListener("resize",n._onResize),n._isResizeHandlerInstalled=!1))},n.prototype.componentDidMount=function(){this._isMounted=!0,this.props.onLayout&&this._checkViewCheckerBuild(),this.componentDidUpdate()},n.prototype.componentDidUpdate=function(){var t=this,n=l.default.isPopupDisplayed();this.props.onLayout&&(n&&!this._isPopupDisplayed?setTimeout((function(){t._checkAndReportLayout().catch((function(t){e.warn("ScrollView onLayout exception: "+JSON.stringify(t))}))}),0):this._checkAndReportLayout().catch((function(t){e.warn("ScrollView onLayout exception: "+JSON.stringify(t))}))),this._isPopupDisplayed=n},n._onResize=function(){n._checkViews()},n.prototype.componentWillUnmount=function(){this._isMounted=!1,this.props.onLayout&&this._checkViewCheckerUnbuild()},n._isResizeHandlerInstalled=!1,n._viewCheckingList=[],n._appActivationState=a.Types.AppActivationState.Active,n._layoutReportList=[],n}(a.ViewBase);t.ViewBase=d,t.default=d}).call(this,n(110))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(383),r=n(172),o=n(307),a=function(){function e(e,t){this._allowDeviceFields=e,this._properties=t}return e.prototype.setAppId=function(e){this._addContext("AppInfo.Id",e)},e.prototype.setAppVersion=function(e){this._addContext("AppInfo.Version",e)},e.prototype.setAppLanguage=function(e){this._addContext("AppInfo.Language",e)},e.prototype.setDeviceId=function(e){this._allowDeviceFields&&(i.default.checkAndSaveDeviceId(e),this._addContext("DeviceInfo.Id",e))},e.prototype.setDeviceOsName=function(e){this._allowDeviceFields&&this._addContext("DeviceInfo.OsName",e)},e.prototype.setDeviceOsVersion=function(e){this._allowDeviceFields&&this._addContext("DeviceInfo.OsVersion",e)},e.prototype.setDeviceBrowserName=function(e){this._allowDeviceFields&&this._addContext("DeviceInfo.BrowserName",e)},e.prototype.setDeviceBrowserVersion=function(e){this._allowDeviceFields&&this._addContext("DeviceInfo.BrowserVersion",e)},e.prototype.setDeviceMake=function(e){this._allowDeviceFields&&this._addContext("DeviceInfo.Make",e)},e.prototype.setDeviceModel=function(e){this._allowDeviceFields&&this._addContext("DeviceInfo.Model",e)},e.prototype.setUserId=function(e,t,n){if(!isNaN(n)&&null!==n&&n>=0&&n<=12)this._addContext("UserInfo.IdType",n.toString());else{var i=void 0;switch(t){case r.AWTPiiKind.SipAddress:i=o.AWTUserIdType.SipAddress;break;case r.AWTPiiKind.PhoneNumber:i=o.AWTUserIdType.PhoneNumber;break;case r.AWTPiiKind.SmtpAddress:i=o.AWTUserIdType.EmailAddress;break;default:i=o.AWTUserIdType.Unknown}this._addContext("UserInfo.IdType",i.toString())}if(isNaN(t)||null===t||t===r.AWTPiiKind.NotSet||t>13)switch(n){case o.AWTUserIdType.Skype:t=r.AWTPiiKind.Identity;break;case o.AWTUserIdType.EmailAddress:t=r.AWTPiiKind.SmtpAddress;break;case o.AWTUserIdType.PhoneNumber:t=r.AWTPiiKind.PhoneNumber;break;case o.AWTUserIdType.SipAddress:t=r.AWTPiiKind.SipAddress;break;default:t=r.AWTPiiKind.NotSet}this._addContextWithPii("UserInfo.Id",e,t)},e.prototype.setUserAdvertisingId=function(e){this._addContext("UserInfo.AdvertisingId",e)},e.prototype.setUserTimeZone=function(e){this._addContext("UserInfo.TimeZone",e)},e.prototype.setUserLanguage=function(e){this._addContext("UserInfo.Language",e)},e.prototype._addContext=function(e,t){"string"==typeof t&&this._properties.setProperty(e,t)},e.prototype._addContextWithPii=function(e,t,n){"string"==typeof t&&this._properties.setPropertyWithPii(e,t,n)},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(217),r="MicrosoftApplicationsTelemetryDeviceId",o="MicrosoftApplicationsTelemetryFirstLaunchTime",a="MSIE",s="Chrome",c="Firefox",l="Safari",u="Edge",d="Electron",p="SkypeShell",h="PhantomJS",f="Opera",g="Windows",m="Mac OS X",E="Windows Phone",_="Windows RT",S="iOS",T="Android",v="Linux",I="Chrome OS",b=/(windows|win32)/i,y=/ arm;/i,C=/windows\sphone\s\d+\.\d+/i,A=/(macintosh|mac os x)/i,O=/(iPad|iPhone|iPod)(?=.*like Mac OS X)/i,N=/(linux|joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)/i,R=/android/i,P=/CrOS/i,w={5.1:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1","10.0":"10"},M=function(){function e(){}return e.addPropertyStorageOverride=function(e){return!!e&&(this._propertyStorage=e,!0)},e.autoCollect=function(e,t,n){if(this._semanticContext=e,this._disableCookies=t,this._autoCollect(),n||"undefined"==typeof navigator||(n=navigator.userAgent||""),this._autoCollectFromUserAgent(n),this._disableCookies&&!this._propertyStorage)return this._deleteCookie(r),void this._deleteCookie(o);(this._propertyStorage||this._areCookiesAvailable&&!this._disableCookies)&&this._autoCollectDeviceId()},e.checkAndSaveDeviceId=function(e){if(e){var t=this._getData(r),n=this._getData(o);t!==e&&(n=i.getISOString(new Date)),this._saveData(r,e),this._saveData(o,n),this._setFirstLaunchTime(n)}},e._autoCollectDeviceId=function(){var e=this._getData(r);e||(e=i.newGuid()),this._semanticContext.setDeviceId(e)},e._autoCollect=function(){"undefined"!=typeof document&&document.documentElement&&this._semanticContext.setAppLanguage(document.documentElement.lang),"undefined"!=typeof navigator&&this._semanticContext.setUserLanguage(navigator.userLanguage||navigator.language);var e=(new Date).getTimezoneOffset(),t=e%60,n=(e-t)/60,i="+";n>0&&(i="-"),n=Math.abs(n),t=Math.abs(t),this._semanticContext.setUserTimeZone(i+(n<10?"0"+n:n.toString())+":"+(t<10?"0"+t:t.toString()))},e._autoCollectFromUserAgent=function(e){if(e){var t=this._getBrowserName(e);this._semanticContext.setDeviceBrowserName(t),this._semanticContext.setDeviceBrowserVersion(this._getBrowserVersion(e,t));var n=this._getOsName(e);this._semanticContext.setDeviceOsName(n),this._semanticContext.setDeviceOsVersion(this._getOsVersion(e,n))}},e._getBrowserName=function(e){return this._userAgentContainsString("OPR/",e)?f:this._userAgentContainsString(h,e)?h:this._userAgentContainsString(u,e)||this._userAgentContainsString("Edg",e)?u:this._userAgentContainsString(d,e)?d:this._userAgentContainsString(s,e)?s:this._userAgentContainsString("Trident",e)?a:this._userAgentContainsString(c,e)?c:this._userAgentContainsString(l,e)?l:this._userAgentContainsString(p,e)?p:"Unknown"},e._setFirstLaunchTime=function(e){if(!isNaN(e)){var t=new Date;t.setTime(parseInt(e,10)),e=i.getISOString(t)}this.firstLaunchTime=e},e._userAgentContainsString=function(e,t){return t.indexOf(e)>-1},e._getBrowserVersion=function(e,t){if(t===a)return this._getIeVersion(e);if(t===u){var n=this._getOtherVersion(t,e);return"Unknown"===n?this._getOtherVersion("Edg",e):n}return this._getOtherVersion(t,e)},e._getIeVersion=function(e){var t=e.match(new RegExp(a+" ([\\d,.]+)"));if(t)return t[1];var n=e.match(new RegExp("rv:([\\d,.]+)"));return n?n[1]:void 0},e._getOtherVersion=function(e,t){e===l&&(e="Version");var n=t.match(new RegExp(e+"/([\\d,.]+)"));return n?n[1]:"Unknown"},e._getOsName=function(e){return e.match(C)?E:e.match(y)?_:e.match(O)?S:e.match(R)?T:e.match(N)?v:e.match(A)?m:e.match(b)?g:e.match(P)?I:"Unknown"},e._getOsVersion=function(e,t){return t===g?this._getGenericOsVersion(e,"Windows NT"):t===T?this._getGenericOsVersion(e,t):t===m?this._getMacOsxVersion(e):"Unknown"},e._getGenericOsVersion=function(e,t){var n=e.match(new RegExp(t+" ([\\d,.]+)"));return n?w[n[1]]?w[n[1]]:n[1]:"Unknown"},e._getMacOsxVersion=function(e){var t=e.match(new RegExp(m+" ([\\d,_,.]+)"));if(t){var n=t[1].replace(/_/g,".");if(n){var i=this._getDelimiter(n);return i?n.split(i)[0]:n}}return"Unknown"},e._getDelimiter=function(e){return e.indexOf(".")>-1?".":e.indexOf("_")>-1?"_":null},e._saveData=function(e,t){if(this._propertyStorage)this._propertyStorage.setProperty(e,t);else if(this._areCookiesAvailable){var n=new Date;n.setTime(n.getTime()+31536e6);var i="expires="+n.toUTCString();document.cookie=e+"="+t+"; "+i}},e._getData=function(e){if(this._propertyStorage)return this._propertyStorage.getProperty(e)||"";if(this._areCookiesAvailable){e+="=";for(var t=document.cookie.split(";"),n=0;n<t.length;n++){for(var i=t[n],r=0;" "===i.charAt(r);)r++;if(0===(i=i.substring(r)).indexOf(e))return i.substring(e.length,i.length)}}return""},e._deleteCookie=function(e){this._areCookiesAvailable&&(document.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;")},e._disableCookies=!1,e._areCookiesAvailable="undefined"!=typeof document&&void 0!==document.cookie,e}();t.default=M},function(e,t,n){"use strict";(function(t){var i=n(162),r=n(690),o=n(470),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,l={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(c=n(471)),c),transformRequest:[function(e,t){return r(t,"Accept"),r(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,n){if(i.isString(e))try{return(t||JSON.parse)(e),i.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||r&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw o(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};l.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){l.headers[e]=i.merge(a)})),e.exports=l}).call(this,n(295))},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var i=n(704),r=n(705),o=n(706);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return l(this,e,t,n)}function l(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=p(e,t);return e}(e,t,n,i):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|f(t,n),r=(e=s(e,i)).write(t,n);r!==i&&(e=e.slice(0,r));return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(i=t.length)!=i?s(e,0):p(e,t);if("Buffer"===t.type&&o(t.data))return p(e,t.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|h(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function f(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(e).length;default:if(i)return B(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return N(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function m(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function E(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=c.from(t,i)),c.isBuffer(t))return 0===t.length?-1:_(e,t,n,i,r);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):_(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function _(e,t,n,i,r){var o,a=1,s=e.length,c=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(r){var u=-1;for(o=n;o<s;o++)if(l(e,o)===l(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===c)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){for(var d=!0,p=0;p<c;p++)if(l(e,o+p)!==l(t,p)){d=!1;break}if(d)return o}return-1}function S(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function T(e,t,n,i){return W(B(t,e.length-n),e,n,i)}function v(e,t,n,i){return W(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function I(e,t,n,i){return v(e,t,n,i)}function b(e,t,n,i){return W(V(t),e,n,i)}function y(e,t,n,i){return W(function(e,t){for(var n,i,r,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(t,e.length-n),e,n,i)}function C(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var o,a,s,c,l=e[r],u=null,d=l>239?4:l>223?3:l>191?2:1;if(r+d<=n)switch(d){case 1:l<128&&(u=l);break;case 2:128==(192&(o=e[r+1]))&&(c=(31&l)<<6|63&o)>127&&(u=c);break;case 3:o=e[r+1],a=e[r+2],128==(192&o)&&128==(192&a)&&(c=(15&l)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:o=e[r+1],a=e[r+2],s=e[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(c=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,d=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),r+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=4096));return n}(i)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return l(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,i){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof i?s(e,t).fill(n,i):s(e,t).fill(n):s(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return d(null,e)},c.allocUnsafeSlow=function(e){return d(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,o=Math.min(n,i);r<o;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=c.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var a=e[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,r),r+=a.length}return i},c.byteLength=f,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):g.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,i,r){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(r>>>=0)-(i>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),l=this.slice(i,r),u=e.slice(t,n),d=0;d<s;++d)if(l[d]!==u[d]){o=l[d],a=u[d];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return E(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return E(this,e,t,n,!1)},c.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return S(this,e,t,n);case"utf8":case"utf-8":return T(this,e,t,n);case"ascii":return v(this,e,t,n);case"latin1":case"binary":return I(this,e,t,n);case"base64":return b(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function N(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function R(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=t;o<n;++o)r+=F(e[o]);return r}function P(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function w(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,i,r,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function D(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);r<o;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function L(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);r<o;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function x(e,t,n,i,r,o){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function k(e,t,n,i,o){return o||x(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function U(e,t,n,i,o){return o||x(e,0,n,8),r.write(e,t,n,i,52,8),n+8}c.prototype.slice=function(e,t){var n,i=this.length;if((e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var r=t-e;n=new c(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||w(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||w(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},c.prototype.readUInt8=function(e,t){return t||w(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||w(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||w(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||w(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||w(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||w(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||w(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return t||w(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||w(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||w(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||w(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||w(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||w(e,4,this.length),r.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||w(e,4,this.length),r.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||w(e,8,this.length),r.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||w(e,8,this.length),r.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);M(this,e,t,n,r-1,-r)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);M(this,e,t,n,r-1,-r)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return k(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return k(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,o=i-n;if(this===e&&n<t&&t<i)for(r=o-1;r>=0;--r)e[r+t]=this[r+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},c.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!c.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=c.isBuffer(e)?e:B(new c(e,i).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var G=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var n;t=t||1/0;for(var i=e.length,r=null,o=[],a=0;a<i;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function V(e){return i.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(G,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function W(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}}).call(this,n(185))},function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},,,function(e,t,n){var i=n(247),r=n(435),o=n(227);e.exports=function(e,t){var n={};return t=o(t,3),r(e,(function(e,r,o){i(n,r,t(e,r,o))})),n}},function(e,t,n){var i=n(272);e.exports=function(){return i.Date.now()}},function(e,t,n){var i=n(250),r=n(216),o=n(445),a=n(276),s=r((function(e){return o(i(e,1,a,!0))}));e.exports=s},function(e,t,n){var i=n(250),r=n(621),o=n(216),a=n(368),s=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),r(e,i(t,1),[])}));e.exports=s},,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var i=n(493),r=n(492),o=n(494),a=n(521),s=n(160),c=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,t,n){var i=this.operator,o=Object(r.a)(e,t,n);if(i?o.add(i.call(o,this.source)):o.add(this.source||s.a.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),s.a.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){s.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=n),Object(i.a)(t)?t.error(n):e.warn(n)}},t.prototype.forEach=function(e,t){var n=this;return new(t=l(t))((function(t,i){var r;r=n.subscribe((function(t){try{e(t)}catch(e){i(e),r&&r.unsubscribe()}}),i,t)}))},t.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},t.prototype[o.a]=function(){return this},t.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:Object(a.a)(e)(this)},t.prototype.toPromise=function(e){var t=this;return new(e=l(e))((function(e,n){var i;t.subscribe((function(e){return i=e}),(function(e){return n(e)}),(function(){return e(i)}))}))},t.create=function(e){return new t(e)},t}();function l(e){if(e||(e=s.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}}).call(this,n(110))},function(e,t,n){"use strict";(function(e,i){var r,o=n(499);r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:i;var a=Object(o.a)(r);t.a=a}).call(this,n(185),n(679)(e))},function(e,t){var n;!function(){function e(e){this.mode=i.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,n=this.data.length;t<n;t++){var r=[],o=this.data.charCodeAt(t);o>65536?(r[0]=240|(1835008&o)>>>18,r[1]=128|(258048&o)>>>12,r[2]=128|(4032&o)>>>6,r[3]=128|63&o):o>2048?(r[0]=224|(61440&o)>>>12,r[1]=128|(4032&o)>>>6,r[2]=128|63&o):o>128?(r[0]=192|(1984&o)>>>6,r[1]=128|63&o):r[0]=o,this.parsedData.push(r)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function t(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}e.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,n=this.parsedData.length;t<n;t++)e.put(this.parsedData[t],8)}},t.prototype={addData:function(t){var n=new e(t);this.dataList.push(n),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,n){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++){this.modules[i]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[i][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,n),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=t.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,n)},setupPositionProbePattern:function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var i=-1;i<=7;i++)t+i<=-1||this.moduleCount<=t+i||(this.modules[e+n][t+i]=0<=n&&n<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=i&&i<=4)},getBestMaskPattern:function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var i=h.getLostPoint(this);(0==n||e>i)&&(e=i,t=n)}return t},createMovieClip:function(e,t,n){var i=e.createEmptyMovieClip(t,n);this.make();for(var r=0;r<this.modules.length;r++)for(var o=1*r,a=0;a<this.modules[r].length;a++){var s=1*a;this.modules[r][a]&&(i.beginFill(0,100),i.moveTo(s,o),i.lineTo(s+1,o),i.lineTo(s+1,o+1),i.lineTo(s,o+1),i.endFill())}return i},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=h.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var i=e[t],r=e[n];if(null==this.modules[i][r])for(var o=-2;o<=2;o++)for(var a=-2;a<=2;a++)this.modules[i+o][r+a]=-2==o||2==o||-2==a||2==a||0==o&&0==a}},setupTypeNumber:function(e){for(var t=h.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var i=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=i}for(n=0;n<18;n++){i=!e&&1==(t>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=i}},setupTypeInfo:function(e,t){for(var n=this.errorCorrectLevel<<3|t,i=h.getBCHTypeInfo(n),r=0;r<15;r++){var o=!e&&1==(i>>r&1);r<6?this.modules[r][8]=o:r<8?this.modules[r+1][8]=o:this.modules[this.moduleCount-15+r][8]=o}for(r=0;r<15;r++){o=!e&&1==(i>>r&1);r<8?this.modules[8][this.moduleCount-r-1]=o:r<9?this.modules[8][15-r-1+1]=o:this.modules[8][15-r-1]=o}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var n=-1,i=this.moduleCount-1,r=7,o=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var s=0;s<2;s++)if(null==this.modules[i][a-s]){var c=!1;o<e.length&&(c=1==(e[o]>>>r&1)),h.getMask(t,i,a-s)&&(c=!c),this.modules[i][a-s]=c,-1==--r&&(o++,r=7)}if((i+=n)<0||this.moduleCount<=i){i-=n,n=-n;break}}}},t.PAD0=236,t.PAD1=17,t.createData=function(e,n,i){for(var r=E.getRSBlocks(e,n),o=new _,a=0;a<i.length;a++){var s=i[a];o.put(s.mode,4),o.put(s.getLength(),h.getLengthInBits(s.mode,e)),s.write(o)}var c=0;for(a=0;a<r.length;a++)c+=r[a].dataCount;if(o.getLengthInBits()>8*c)throw new Error("code length overflow. ("+o.getLengthInBits()+">"+8*c+")");for(o.getLengthInBits()+4<=8*c&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(!1);for(;!(o.getLengthInBits()>=8*c||(o.put(t.PAD0,8),o.getLengthInBits()>=8*c));)o.put(t.PAD1,8);return t.createBytes(o,r)},t.createBytes=function(e,t){for(var n=0,i=0,r=0,o=new Array(t.length),a=new Array(t.length),s=0;s<t.length;s++){var c=t[s].dataCount,l=t[s].totalCount-c;i=Math.max(i,c),r=Math.max(r,l),o[s]=new Array(c);for(var u=0;u<o[s].length;u++)o[s][u]=255&e.buffer[u+n];n+=c;var d=h.getErrorCorrectPolynomial(l),p=new m(o[s],d.getLength()-1).mod(d);a[s]=new Array(d.getLength()-1);for(u=0;u<a[s].length;u++){var f=u+p.getLength()-a[s].length;a[s][u]=f>=0?p.get(f):0}}var g=0;for(u=0;u<t.length;u++)g+=t[u].totalCount;var E=new Array(g),_=0;for(u=0;u<i;u++)for(s=0;s<t.length;s++)u<o[s].length&&(E[_++]=o[s][u]);for(u=0;u<r;u++)for(s=0;s<t.length;s++)u<a[s].length&&(E[_++]=a[s][u]);return E};for(var i={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},r={L:1,M:0,Q:3,H:2},o=0,a=1,s=2,c=3,l=4,u=5,d=6,p=7,h={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;h.getBCHDigit(t)-h.getBCHDigit(h.G15)>=0;)t^=h.G15<<h.getBCHDigit(t)-h.getBCHDigit(h.G15);return(e<<10|t)^h.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;h.getBCHDigit(t)-h.getBCHDigit(h.G18)>=0;)t^=h.G18<<h.getBCHDigit(t)-h.getBCHDigit(h.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return h.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case o:return(t+n)%2==0;case a:return t%2==0;case s:return n%3==0;case c:return(t+n)%3==0;case l:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case u:return t*n%2+t*n%3==0;case d:return(t*n%2+t*n%3)%2==0;case p:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new m([1],0),n=0;n<e;n++)t=t.multiply(new m([1,f.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case i.MODE_NUMBER:return 10;case i.MODE_ALPHA_NUM:return 9;case i.MODE_8BIT_BYTE:case i.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case i.MODE_NUMBER:return 12;case i.MODE_ALPHA_NUM:return 11;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case i.MODE_NUMBER:return 14;case i.MODE_ALPHA_NUM:return 13;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,i=0;i<t;i++)for(var r=0;r<t;r++){for(var o=0,a=e.isDark(i,r),s=-1;s<=1;s++)if(!(i+s<0||t<=i+s))for(var c=-1;c<=1;c++)r+c<0||t<=r+c||0==s&&0==c||a==e.isDark(i+s,r+c)&&o++;o>5&&(n+=3+o-5)}for(i=0;i<t-1;i++)for(r=0;r<t-1;r++){var l=0;e.isDark(i,r)&&l++,e.isDark(i+1,r)&&l++,e.isDark(i,r+1)&&l++,e.isDark(i+1,r+1)&&l++,0!=l&&4!=l||(n+=3)}for(i=0;i<t;i++)for(r=0;r<t-6;r++)e.isDark(i,r)&&!e.isDark(i,r+1)&&e.isDark(i,r+2)&&e.isDark(i,r+3)&&e.isDark(i,r+4)&&!e.isDark(i,r+5)&&e.isDark(i,r+6)&&(n+=40);for(r=0;r<t;r++)for(i=0;i<t-6;i++)e.isDark(i,r)&&!e.isDark(i+1,r)&&e.isDark(i+2,r)&&e.isDark(i+3,r)&&e.isDark(i+4,r)&&!e.isDark(i+5,r)&&e.isDark(i+6,r)&&(n+=40);var u=0;for(r=0;r<t;r++)for(i=0;i<t;i++)e.isDark(i,r)&&u++;return n+=10*(Math.abs(100*u/t/t-50)/5)}},f={glog:function(e){if(e<1)throw new Error("glog("+e+")");return f.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return f.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},g=0;g<8;g++)f.EXP_TABLE[g]=1<<g;for(g=8;g<256;g++)f.EXP_TABLE[g]=f.EXP_TABLE[g-4]^f.EXP_TABLE[g-5]^f.EXP_TABLE[g-6]^f.EXP_TABLE[g-8];for(g=0;g<255;g++)f.LOG_TABLE[f.EXP_TABLE[g]]=g;function m(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var i=0;i<e.length-n;i++)this.num[i]=e[i+n]}function E(e,t){this.totalCount=e,this.dataCount=t}function _(){this.buffer=[],this.length=0}m.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var i=0;i<e.getLength();i++)t[n+i]^=f.gexp(f.glog(this.get(n))+f.glog(e.get(i)));return new m(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=f.glog(this.get(0))-f.glog(e.get(0)),n=new Array(this.getLength()),i=0;i<this.getLength();i++)n[i]=this.get(i);for(i=0;i<e.getLength();i++)n[i]^=f.gexp(f.glog(e.get(i))+t);return new m(n,0).mod(e)}},E.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],E.getRSBlocks=function(e,t){var n=E.getRsBlockTable(e,t);if(null==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var i=n.length/3,r=[],o=0;o<i;o++)for(var a=n[3*o+0],s=n[3*o+1],c=n[3*o+2],l=0;l<a;l++)r.push(new E(s,c));return r},E.getRsBlockTable=function(e,t){switch(t){case r.L:return E.RS_BLOCK_TABLE[4*(e-1)+0];case r.M:return E.RS_BLOCK_TABLE[4*(e-1)+1];case r.Q:return E.RS_BLOCK_TABLE[4*(e-1)+2];case r.H:return E.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},_.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var S=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function T(){var e=!1,t=navigator.userAgent;if(/android/i.test(t)){e=!0;var n=t.toString().match(/android ([0-9]\.[0-9])/i);n&&n[1]&&(e=parseFloat(n[1]))}return e}var v=function(){var e=function(e,t){this._el=e,this._htOption=t};return e.prototype.draw=function(e){var t=this._htOption,n=this._el,i=e.getModuleCount();Math.floor(t.width/i),Math.floor(t.height/i);function r(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg",e);for(var i in t)t.hasOwnProperty(i)&&n.setAttribute(i,t[i]);return n}this.clear();var o=r("svg",{viewBox:"0 0 "+String(i)+" "+String(i),width:"100%",height:"100%",fill:t.colorLight});o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),n.appendChild(o),o.appendChild(r("rect",{fill:t.colorLight,width:"100%",height:"100%"})),o.appendChild(r("rect",{fill:t.colorDark,width:"1",height:"1",id:"template"}));for(var a=0;a<i;a++)for(var s=0;s<i;s++)if(e.isDark(a,s)){var c=r("use",{x:String(s),y:String(a)});c.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),o.appendChild(c)}},e.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},e}(),I="svg"===document.documentElement.tagName.toLowerCase()?v:"undefined"==typeof CanvasRenderingContext2D?function(){var e=function(e,t){this._el=e,this._htOption=t};return e.prototype.draw=function(e){for(var t=this._htOption,n=this._el,i=e.getModuleCount(),r=Math.floor(t.width/i),o=Math.floor(t.height/i),a=['<table style="border:0;border-collapse:collapse;">'],s=0;s<i;s++){a.push("<tr>");for(var c=0;c<i;c++)a.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+r+"px;height:"+o+"px;background-color:"+(e.isDark(s,c)?t.colorDark:t.colorLight)+';"></td>');a.push("</tr>")}a.push("</table>"),n.innerHTML=a.join("");var l=n.childNodes[0],u=(t.width-l.offsetWidth)/2,d=(t.height-l.offsetHeight)/2;u>0&&d>0&&(l.style.margin=d+"px "+u+"px")},e.prototype.clear=function(){this._el.innerHTML=""},e}():function(){function e(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}if(this._android&&this._android<=2.1){var t=1/window.devicePixelRatio,n=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(e,i,r,o,a,s,c,l,u){if("nodeName"in e&&/img/i.test(e.nodeName))for(var d=arguments.length-1;d>=1;d--)arguments[d]=arguments[d]*t;else void 0===l&&(arguments[1]*=t,arguments[2]*=t,arguments[3]*=t,arguments[4]*=t);n.apply(this,arguments)}}function i(e,t){var n=this;if(n._fFail=t,n._fSuccess=e,null===n._bSupportDataURI){var i=document.createElement("img"),r=function(){n._bSupportDataURI=!1,n._fFail&&n._fFail.call(n)};return i.onabort=r,i.onerror=r,i.onload=function(){n._bSupportDataURI=!0,n._fSuccess&&n._fSuccess.call(n)},void(i.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}!0===n._bSupportDataURI&&n._fSuccess?n._fSuccess.call(n):!1===n._bSupportDataURI&&n._fFail&&n._fFail.call(n)}var r=function(e,t){this._bIsPainted=!1,this._android=T(),this._htOption=t,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=t.width,this._elCanvas.height=t.height,e.appendChild(this._elCanvas),this._el=e,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return r.prototype.draw=function(e){var t=this._elImage,n=this._oContext,i=this._htOption,r=e.getModuleCount(),o=i.width/r,a=i.height/r,s=Math.round(o),c=Math.round(a);t.style.display="none",this.clear();for(var l=0;l<r;l++)for(var u=0;u<r;u++){var d=e.isDark(l,u),p=u*o,h=l*a;n.strokeStyle=d?i.colorDark:i.colorLight,n.lineWidth=1,n.fillStyle=d?i.colorDark:i.colorLight,n.fillRect(p,h,o,a),n.strokeRect(Math.floor(p)+.5,Math.floor(h)+.5,s,c),n.strokeRect(Math.ceil(p)-.5,Math.ceil(h)-.5,s,c)}this._bIsPainted=!0},r.prototype.makeImage=function(){this._bIsPainted&&i.call(this,e)},r.prototype.isPainted=function(){return this._bIsPainted},r.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},r.prototype.round=function(e){return e?Math.floor(1e3*e)/1e3:e},r}();function b(e,t){for(var n=1,i=function(e){var t=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return t.length+(t.length!=e?3:0)}(e),o=0,a=S.length;o<=a;o++){var s=0;switch(t){case r.L:s=S[o][0];break;case r.M:s=S[o][1];break;case r.Q:s=S[o][2];break;case r.H:s=S[o][3]}if(i<=s)break;n++}if(n>S.length)throw new Error("Too long data");return n}(n=function(e,t){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:r.H},"string"==typeof t&&(t={text:t}),t)for(var n in t)this._htOption[n]=t[n];"string"==typeof e&&(e=document.getElementById(e)),this._htOption.useSVG&&(I=v),this._android=T(),this._el=e,this._oQRCode=null,this._oDrawing=new I(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)}).prototype.makeCode=function(e){this._oQRCode=new t(b(e,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(e),this._oQRCode.make(),this._el.title=e,this._oDrawing.draw(this._oQRCode),this.makeImage()},n.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},n.prototype.clear=function(){this._oDrawing.clear()},n.CorrectLevel=r}(),e.exports=n},function(e,t,n){"use strict";var i=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,r=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return i.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));t.a=r},function(e,t,n){"use strict";n.r(t),n.d(t,"Headers",(function(){return f})),n.d(t,"Request",(function(){return v})),n.d(t,"Response",(function(){return b})),n.d(t,"DOMException",(function(){return C})),n.d(t,"fetch",(function(){return A}));var i="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==i&&i,r="URLSearchParams"in i,o="Symbol"in i&&"iterator"in Symbol,a="FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in i,c="ArrayBuffer"in i;if(c)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&l.indexOf(Object.prototype.toString.call(e))>-1};function d(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function p(e){return"string"!=typeof e&&(e=String(e)),e}function h(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return o&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function g(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function m(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function E(e){var t=new FileReader,n=m(t);return t.readAsArrayBuffer(e),n}function _(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function S(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:a&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():c&&a&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=_(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=_(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a&&(this.blob=function(){var e=g(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=g(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(E)}),this.text=function(){var e,t,n,i=g(this);if(i)return i;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=m(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(I)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=d(e),t=p(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},f.prototype.delete=function(e){delete this.map[d(e)]},f.prototype.get=function(e){return e=d(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(d(e))},f.prototype.set=function(e,t){this.map[d(e)]=p(t)},f.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},f.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),h(e)},f.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),h(e)},f.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),h(e)},o&&(f.prototype[Symbol.iterator]=f.prototype.entries);var T=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(e,t){if(!(this instanceof v))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,i,r=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(n=t.method||this.method||"GET",i=n.toUpperCase(),T.indexOf(i)>-1?i:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var o=/([?&])_=[^&]*/;if(o.test(this.url))this.url=this.url.replace(o,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function I(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(r))}})),t}function b(e,t){if(!(this instanceof b))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},S.call(v.prototype),S.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var y=[301,302,303,307,308];b.redirect=function(e,t){if(-1===y.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})};var C=i.DOMException;try{new C}catch(e){(C=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),C.prototype.constructor=C}function A(e,t){return new Promise((function(n,r){var o=new v(e,t);if(o.signal&&o.signal.aborted)return r(new C("Aborted","AbortError"));var s=new XMLHttpRequest;function l(){s.abort()}s.onload=function(){var e,t,i={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new f,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();t.append(i,r)}})),t)};i.url="responseURL"in s?s.responseURL:i.headers.get("X-Request-URL");var r="response"in s?s.response:s.responseText;setTimeout((function(){n(new b(r,i))}),0)},s.onerror=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},s.ontimeout=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},s.onabort=function(){setTimeout((function(){r(new C("Aborted","AbortError"))}),0)},s.open(o.method,function(e){try{return""===e&&i.location.href?i.location.href:e}catch(t){return e}}(o.url),!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&(a?s.responseType="blob":c&&o.headers.get("Content-Type")&&-1!==o.headers.get("Content-Type").indexOf("application/octet-stream")&&(s.responseType="arraybuffer")),!t||"object"!=typeof t.headers||t.headers instanceof f?o.headers.forEach((function(e,t){s.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){s.setRequestHeader(e,p(t.headers[e]))})),o.signal&&(o.signal.addEventListener("abort",l),s.onreadystatechange=function(){4===s.readyState&&o.signal.removeEventListener("abort",l)}),s.send(void 0===o._bodyInit?null:o._bodyInit)}))}A.polyfill=!0,i.fetch||(i.fetch=A,i.Headers=f,i.Request=v,i.Response=b)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(293);t.SubscribableEvent=i.default,t.SubscriptionToken=i.SubscriptionToken;var r=function(e){};t.AnimatedValue=r,function(e){e[e.Auto=1]="Auto",e[e.Yes=2]="Yes",e[e.No=3]="No",e[e.NoHideDescendants=4]="NoHideDescendants"}(t.ImportantForAccessibility||(t.ImportantForAccessibility={})),function(e){e[e.None=0]="None",e[e.Polite=1]="Polite",e[e.Assertive=2]="Assertive"}(t.AccessibilityLiveRegion||(t.AccessibilityLiveRegion={})),function(e){e[e.Summary=0]="Summary",e[e.Adjustable=1]="Adjustable",e[e.Button=2]="Button",e[e.Tab=3]="Tab",e[e.Selected=4]="Selected",e[e.Radio_button_checked=5]="Radio_button_checked",e[e.Radio_button_unchecked=6]="Radio_button_unchecked",e[e.Link=7]="Link",e[e.Header=8]="Header",e[e.Search=9]="Search",e[e.Image=10]="Image",e[e.Plays=11]="Plays",e[e.Key=12]="Key",e[e.Text=13]="Text",e[e.Disabled=14]="Disabled",e[e.FrequentUpdates=15]="FrequentUpdates",e[e.StartsMedia=16]="StartsMedia",e[e.AllowsDirectInteraction=17]="AllowsDirectInteraction",e[e.PageTurn=18]="PageTurn",e[e.Menu=19]="Menu",e[e.MenuItem=20]="MenuItem",e[e.MenuBar=21]="MenuBar",e[e.TabList=22]="TabList",e[e.List=23]="List",e[e.ListItem=24]="ListItem",e[e.ListBox=25]="ListBox",e[e.Group=26]="Group",e[e.CheckBox=27]="CheckBox",e[e.Checked=28]="Checked",e[e.ComboBox=29]="ComboBox",e[e.Log=30]="Log",e[e.Status=31]="Status",e[e.Dialog=32]="Dialog",e[e.HasPopup=33]="HasPopup",e[e.Option=34]="Option",e[e.Switch=35]="Switch",e[e.None=36]="None"}(t.AccessibilityTrait||(t.AccessibilityTrait={})),function(e){e[e.Unlimited=0]="Unlimited",e[e.Limited=1]="Limited",e[e.Accessible=2]="Accessible"}(t.LimitFocusType||(t.LimitFocusType={})),function(e){e[e.Default=0]="Default",e[e.Pointer=1]="Pointer",e[e.Grab=2]="Grab",e[e.Move=3]="Move",e[e.EWResize=4]="EWResize",e[e.NSResize=5]="NSResize",e[e.NESWResize=6]="NESWResize",e[e.NWSEResize=7]="NWSEResize",e[e.NotAllowed=8]="NotAllowed",e[e.ZoomIn=9]="ZoomIn",e[e.ZoomOut=10]="ZoomOut"}(t.GestureMouseCursor||(t.GestureMouseCursor={})),function(e){e[e.Horizontal=0]="Horizontal",e[e.Vertical=1]="Vertical"}(t.PreferredPanGesture||(t.PreferredPanGesture={})),function(e){e[e.PermissionDenied=1]="PermissionDenied",e[e.PositionUnavailable=2]="PositionUnavailable",e[e.Timeout=3]="Timeout"}(t.LocationErrorType||(t.LocationErrorType={})),t.Animated||(t.Animated={}),function(e){e[e.NoAppFound=0]="NoAppFound",e[e.UnexpectedFailure=1]="UnexpectedFailure",e[e.Blocked=2]="Blocked",e[e.InitialUrlNotFound=3]="InitialUrlNotFound"}(t.LinkingErrorCode||(t.LinkingErrorCode={})),function(e){e[e.Active=1]="Active",e[e.Background=2]="Background",e[e.Inactive=3]="Inactive",e[e.Extension=4]="Extension"}(t.AppActivationState||(t.AppActivationState={}))},function(e,t,n){(function(e,i){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++)n[t[i]]=Object.getOwnPropertyDescriptor(e,t[i]);return n},o=/%[sdj%]/g;t.format=function(e){if(!_(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(c(arguments[n]));return t.join(" ")}n=1;for(var i=arguments,r=i.length,a=String(e).replace(o,(function(e){if("%%"===e)return"%";if(n>=r)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return e}})),s=i[n];n<r;s=i[++n])m(s)||!v(s)?a+=" "+s:a+=" "+c(s);return a},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?i.trace(r):i.error(r),o=!0}return n.apply(this,arguments)}};var a,s={};function c(e,n){var i={seen:[],stylize:u};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),g(n)?i.showHidden=n:n&&t._extend(i,n),S(i.showHidden)&&(i.showHidden=!1),S(i.depth)&&(i.depth=2),S(i.colors)&&(i.colors=!1),S(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=l),d(i,e,i.depth)}function l(e,t){var n=c.styles[t];return n?"["+c.colors[n][0]+"m"+e+"["+c.colors[n][1]+"m":e}function u(e,t){return e}function d(e,n,i){if(e.customInspect&&n&&y(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(i,e);return _(r)||(r=d(e,r,i)),r}var o=function(e,t){if(S(t))return e.stylize("undefined","undefined");if(_(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(E(t))return e.stylize(""+t,"number");if(g(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,n);if(o)return o;var a=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),b(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(n);if(0===a.length){if(y(n)){var c=n.name?": "+n.name:"";return e.stylize("[Function"+c+"]","special")}if(T(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(I(n))return e.stylize(Date.prototype.toString.call(n),"date");if(b(n))return p(n)}var l,u="",v=!1,C=["{","}"];(f(n)&&(v=!0,C=["[","]"]),y(n))&&(u=" [Function"+(n.name?": "+n.name:"")+"]");return T(n)&&(u=" "+RegExp.prototype.toString.call(n)),I(n)&&(u=" "+Date.prototype.toUTCString.call(n)),b(n)&&(u=" "+p(n)),0!==a.length||v&&0!=n.length?i<0?T(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),l=v?function(e,t,n,i,r){for(var o=[],a=0,s=t.length;a<s;++a)R(t,String(a))?o.push(h(e,t,n,i,String(a),!0)):o.push("");return r.forEach((function(r){r.match(/^\d+$/)||o.push(h(e,t,n,i,r,!0))})),o}(e,n,i,s,a):a.map((function(t){return h(e,n,i,s,t,v)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(l,u,C)):C[0]+u+C[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,i,r,o){var a,s,c;if((c=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),R(i,r)||(a="["+r+"]"),s||(e.seen.indexOf(c.value)<0?(s=m(n)?d(e,c.value,null):d(e,c.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),S(a)){if(o&&r.match(/^\d+$/))return s;(a=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function f(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function m(e){return null===e}function E(e){return"number"==typeof e}function _(e){return"string"==typeof e}function S(e){return void 0===e}function T(e){return v(e)&&"[object RegExp]"===C(e)}function v(e){return"object"==typeof e&&null!==e}function I(e){return v(e)&&"[object Date]"===C(e)}function b(e){return v(e)&&("[object Error]"===C(e)||e instanceof Error)}function y(e){return"function"==typeof e}function C(e){return Object.prototype.toString.call(e)}function A(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(S(a)&&(a=Object({SERVER_ENV:"production",NODE_ENV:"production",MODE:"prod",WEBAPP_VERSION:"1.1.22.1007.150615",BUILD_FLAVOUR:"prod"}).NODE_DEBUG||""),n=n.toUpperCase(),!s[n])if(new RegExp("\\b"+n+"\\b","i").test(a)){var r=e.pid;s[n]=function(){var e=t.format.apply(t,arguments);i.error("%s %d: %s",n,r,e)}}else s[n]=function(){};return s[n]},t.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=g,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=E,t.isString=_,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=S,t.isRegExp=T,t.isObject=v,t.isDate=I,t.isError=b,t.isFunction=y,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(531);var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function N(){var e=new Date,t=[A(e.getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":");return[e.getDate(),O[e.getMonth()],t].join(" ")}function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){i.log("%s - %s",N(),t.format.apply(t,arguments))},t.inherits=n(532),t._extend=function(e,t){if(!t||!v(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e};var P="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function w(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(P&&e[P]){var t;if("function"!=typeof(t=e[P]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,i=new Promise((function(e,i){t=e,n=i})),r=[],o=0;o<arguments.length;o++)r.push(arguments[o]);r.push((function(e,i){e?n(e):t(i)}));try{e.apply(this,r)}catch(e){n(e)}return i}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),P&&Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=P,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],i=0;i<arguments.length;i++)n.push(arguments[i]);var r=n.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return r.apply(o,arguments)};t.apply(this,n).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(w,t,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(295),n(110))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(141),r=function(e,t){return e.target.compareDocumentPosition(t.target)&Node.DOCUMENT_POSITION_PRECEDING?1:-1},o=function(){function e(){}return e.setModalIsDisplayed=function(t){e._isModalDisplayed=t},e.create=function(t){e._initializeEventHandlers(),e._responders=e._responders||[];var n={id:t.id,target:t.target,shouldBecomeFirstResponder:function(n,i){return(!e._isModalDisplayed||!t.disableWhenModal)&&(!!t.shouldBecomeFirstResponder&&t.shouldBecomeFirstResponder(n,i))},onMove:function(e,n){t.onMove&&t.onMove(e,n)},onTerminate:function(e,n){t.onTerminate&&t.onTerminate(e,n)}};return e._responders.push(n),{dispose:function(){i.remove(e._responders,(function(e){return e.id===n.id})),0===e._responders.length&&e._removeEventHandlers()}}},e._initializeEventHandlers=function(){e._initialized||(window.addEventListener("mousedown",e._onMouseDown),window.addEventListener("mousemove",e._onMouseMove),window.addEventListener("mouseup",e._onMouseUp),e._initialized=!0)},e._removeEventHandlers=function(){e._initialized&&(window.removeEventListener("mousedown",e._onMouseDown),window.removeEventListener("mousemove",e._onMouseMove),window.removeEventListener("mouseup",e._onMouseUp),e._initialized=!1)},e._currentResponder=null,e._pendingGestureState=null,e._initialized=!1,e._isModalDisplayed=!1,e._onMouseDown=function(t){if(e._currentResponder)return t.preventDefault(),void t.stopPropagation();e._pendingGestureState={initialClientX:t.clientX,initialClientY:t.clientY,initialPageX:t.pageX,initialPageY:t.pageY,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,velocityX:0,velocityY:0,timeStamp:Date.now(),isComplete:!1,isTouch:!1},e._responders.sort(r);var n=i.findLast(e._responders,(function(n){return n.shouldBecomeFirstResponder(t,e._pendingGestureState)}));n&&(e._currentResponder=n)},e._onMouseMove=function(t){if(e._currentResponder&&e._pendingGestureState){var n=e._calcVelocity(t,e._pendingGestureState),r=n.velocityX,o=n.velocityY;e._pendingGestureState=i.merge({},e._pendingGestureState,{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,velocityX:r,velocityY:o,isComplete:!1}),0===t.buttons?e._onMouseUp(t):e._currentResponder.onMove(t,e._pendingGestureState)}},e._onMouseUp=function(t){if(0!==t.buttons)return t.preventDefault(),void t.stopPropagation();if(e._currentResponder&&e._pendingGestureState){var n=e._calcVelocity(t,e._pendingGestureState),r=n.velocityX,o=n.velocityY;e._pendingGestureState=i.merge({},e._pendingGestureState,{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,velocityX:r,velocityY:o,isComplete:!0}),e._currentResponder.onTerminate(t,e._pendingGestureState),e._currentResponder=null,e._pendingGestureState=null}},e._calcVelocity=function(e,t){var n=Date.now()-t.timeStamp;return{velocityX:(e.clientX-t.initialClientX)/n,velocityY:(e.clientY-t.initialClientY)/n}},e}();t.default=o},function(e,t,n){var i=n(540),r=Math.max;e.exports=function(e,t,n){return t=r(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=r(o.length-t,0),c=Array(s);++a<s;)c[a]=o[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=o[a];return l[t]=n(c),i(e,this,l)}}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var i=n(296),r=n(174);e.exports=function(e){if(!r(e))return!1;var t=i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var i=n(299),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():r.call(t,n,1),--this.size,!0)}},function(e,t,n){var i=n(299);e.exports=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var i=n(299);e.exports=function(e){return i(this.__data__,e)>-1}},function(e,t,n){var i=n(299);e.exports=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},function(e,t,n){(function(e){var i=n(272),r=t&&!t.nodeType&&t,o=r&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===r?i.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,i=s?s(n):new e.constructor(n);return e.copy(i),i}}).call(this,n(545)(e))},function(e,t,n){var i=n(297)(Object.keys,Object);e.exports=i},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var i=n(553),r=n(421),o=n(369);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:i(r(e))}},function(e,t,n){var i=n(297)(Object.getPrototypeOf,Object);e.exports=i},function(e,t){e.exports=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e,t,n,i){for(var r=e.length,o=n+(i?1:-1);i?o--:++o<r;)if(t(e[o],o,e))return o;return-1}},function(e,t,n){var i=n(174);e.exports=function(e){return e==e&&!i(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var i=n(227),r=n(248),o=n(73);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!r(t)){var c=i(n,3);t=o(t),n=function(e){return c(s[e],e,s)}}var l=e(t,n,a);return l>-1?s[c?t[l]:l]:void 0}}},function(e,t,n){var i=n(250);e.exports=function(e){return(null==e?0:e.length)?i(e,1):[]}},function(e,t){e.exports=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}},function(e,t,n){var i=n(272).Symbol;e.exports=i},function(e,t,n){var i=n(297)(Object.keys,Object);e.exports=i},function(e,t,n){var i=n(371);e.exports=function(e,t){return i(e,t)}},function(e,t,n){var i=n(436),r=n(73);e.exports=function(e,t){return e&&i(e,t,r)}},function(e,t,n){var i=n(588)();e.exports=i},function(e,t,n){var i=n(375);e.exports=function(e,t,n){for(var r=-1,o=e.length;++r<o;){var a=e[r],s=t(a);if(null!=s&&(void 0===c?s==s&&!i(s):n(s,c)))var c=s,l=a}return l}},function(e,t,n){var i=n(247),r=n(366);e.exports=function(e,t,n){(void 0!==n&&!r(e[t],n)||void 0===n&&!(t in e))&&i(e,t,n)}},function(e,t,n){var i=n(296),r=n(421),o=n(275),a=Function.prototype,s=Object.prototype,c=a.toString,l=s.hasOwnProperty,u=c.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=i(e))return!1;var t=r(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==u}},function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t,n){var i=n(442),r=n(443),o=n(600),a=n(428);e.exports=function(e,t){return t=i(t,e),null==(e=o(e,t))||delete e[a(r(t))]}},function(e,t,n){var i=n(142);e.exports=function(){if(!arguments.length)return[];var e=arguments[0];return i(e)?e:[e]}},function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},function(e,t,n){var i=n(430),r=n(409),o=n(410);e.exports=function(e){return o(r(e,void 0,i),e+"")}},function(e,t,n){var i=n(302),r=n(376),o=n(377),a=n(303),s=n(608),c=n(446);e.exports=function(e,t,n){var l=-1,u=r,d=e.length,p=!0,h=[],f=h;if(n)p=!1,u=o;else if(d>=200){var g=t?null:s(e);if(g)return c(g);p=!1,u=a,f=new i}else f=t?[]:h;e:for(;++l<d;){var m=e[l],E=t?t(m):m;if(m=n||0!==m?m:0,p&&E==E){for(var _=f.length;_--;)if(f[_]===E)continue e;t&&f.push(E),h.push(m)}else u(f,E,n)||(f!==h&&f.push(E),h.push(m))}return h}},function(e,t){e.exports=function(){return[]}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(86),a=n(0);t.recalcPositionFromLayoutData=function(e,t,n,i,r){if(t.width>0&&t.height>0&&!(t.left>=e.width||t.right<=0||t.bottom<=0||t.top>=e.height)){var o=i;if(o&&0!==o.length||(o=["bottom","right","top","left"]),1===o.length&&"context"===o[0]&&o.push("bottom","right","top","left"),r)return function(e,t,n,i){var r=0,o=0,a=0;switch(t){case"top":o=e.top+e.height-i,r=e.left+e.height/2-n/2,a=n/2;break;case"bottom":o=e.top+i,r=e.left+e.height/2-n/2,a=n/2;break;case"left":o=e.top+e.height/2-i/2,r=e.left+e.width-n,a=i/2;break;case"right":o=e.top+e.height/2-i/2,r=e.left,a=i/2;break;case"context":throw new Error("Context popup mode not allowed with inner positioning")}return{popupX:r,popupY:o,anchorOffset:a,anchorPosition:t,constrainedPopupWidth:n,constrainedPopupHeight:i}}(t,o[0],n.width,n.height);var a={popupX:0,popupY:0,anchorOffset:0,anchorPosition:"top",constrainedPopupWidth:n.width,constrainedPopupHeight:n.height},s=!1,c=!1;return o.forEach((function(i){if(!s){var r=0,o=0,l=0,u=0,d=0;switch(i){case"bottom":o=t.bottom,r=t.left+(t.width-n.width)/2,l=n.width/2,n.height<=e.height-2-t.bottom?s=!0:c||(d=e.height-2-t.bottom);break;case"top":o=t.top-n.height,r=t.left+(t.width-n.width)/2,l=n.width/2,n.height<=t.top-2?s=!0:c||(d=t.top-2);break;case"right":r=t.right,o=t.top+(t.height-n.height)/2,l=n.height/2,n.width<=e.width-2-t.right?s=!0:c||(u=e.width-2-t.right);break;case"left":r=t.left-n.width,o=t.top+(t.height-n.height)/2,l=n.height/2,n.width<=t.left-2?s=!0:c||(u=t.left-2);break;case"context":var p=t.top-n.height>=2,h=t.top+t.height+n.height<=e.height-2,f=t.left-n.width>=2,g=t.left+t.width+n.width<=e.width-2;h&&g?(s=!0,r=t.left+t.width,o=t.top+t.height):h&&f?(s=!0,r=t.left-n.width,o=t.top+t.height):p&&g?(s=!0,r=t.left+t.width,o=t.top-n.height):p&&f&&(s=!0,r=t.left-n.width,o=t.top-n.height)}var m=u||n.width,E=d||n.height;r<2?("top"!==i&&"bottom"!==i||((l-=2-r)<16||l>m-16)&&(s=!1),r=2):r>e.width-2-m&&("top"!==i&&"bottom"!==i||((l-=e.width-2-m-r)<16||l>m-16)&&(s=!1),r=e.width-2-m),o<2?("right"!==i&&"left"!==i||((l+=o-2)<16||l>E-16)&&(s=!1),o=2):o>e.height-2-E&&("right"!==i&&"left"!==i||((l-=e.height-2-E-o)<16||l>E-16)&&(s=!1),o=e.height-2-E),(s||E>0||m>0)&&(a.popupY=o,a.popupX=r,a.anchorOffset=l,a.anchorPosition=i,a.constrainedPopupWidth=m,a.constrainedPopupHeight=E,c=!0)}})),a}};var s=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i._popupComponentStack=[],i}return r(t,e),t.prototype.getChildContext=function(){return{focusManager:this.context.focusManager,popupContainer:this}},t.prototype.registerPopupComponent=function(e,t){var n={onShow:e,onHide:t};return this._popupComponentStack.push(n),n},t.prototype.unregisterPopupComponent=function(e){this._popupComponentStack=this._popupComponentStack.filter((function(t){return t!==e}))},t.prototype.isHidden=function(){return!!this.props.hidden},t.prototype.componentDidUpdate=function(e,t){if(e.hidden&&!this.props.hidden)for(var n=0;n<this._popupComponentStack.length;n++)this._popupComponentStack[n].onShow();if(!e.hidden&&this.props.hidden)for(n=this._popupComponentStack.length-1;n>=0;n--)this._popupComponentStack[n].onHide()},t.contextTypes={focusManager:o.object},t.childContextTypes={focusManager:o.object,popupContainer:o.object},t}(a.Component);t.PopupContainerViewBase=s,t.default=s},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.isScreenReaderEnabled=function(){return!1},t}(n(613).Accessibility);t.Accessibility=o,t.default=new o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(88);t.clone=i;var r=n(616);t.compact=r;var o=n(312);t.filter=o;var a=n(434);t.isEqual=a;var s=n(617);t.pull=s;var c=n(392);t.sortBy=c},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(86),o=n(214),a=n(109),s=n(143),c=0;!function(e){e[e.Unrestricted=0]="Unrestricted",e[e.Restricted=1]="Restricted",e[e.RestrictedFocusFirst=2]="RestrictedFocusFirst"}(i=t.RestrictFocusType||(t.RestrictFocusType={}));var l=function(){function e(e){this._isFocusLimited=a.Types.LimitFocusType.Unlimited,this._currentRestrictType=i.Unrestricted,this._myFocusableComponentIds={},this._parent=e}return e.prototype.addFocusableComponent=function(t,n){if(void 0===n&&(n=!1),!t.focusableComponentId){var i=++c,r="fc-"+i,o={id:r,numericId:i,component:t,accessibleOnly:n,restricted:!1,limitedCount:0,limitedCountAccessible:0,onFocus:function(){e._currentFocusedComponent=o}};t.focusableComponentId=r,e._allFocusableComponents[r]=o;for(var s=!1,l=this;l;l=l._parent)l._myFocusableComponentIds[r]=!0,e._currentRestrictionOwner===l&&(s=!0),l._isFocusLimited===a.Types.LimitFocusType.Accessible?o.limitedCountAccessible++:l._isFocusLimited===a.Types.LimitFocusType.Limited&&o.limitedCount++;!s&&e._currentRestrictionOwner&&(o.restricted=!0),this._updateComponentFocusRestriction(o),this.addFocusListenerOnComponent(t,o.onFocus)}},e.prototype.removeFocusableComponent=function(t){if(t.focusableComponentId){var n=t.focusableComponentId;if(n){var i=e._allFocusableComponents[n];this.removeFocusListenerFromComponent(t,i.onFocus),i.removed=!0,i.restricted=!1,i.limitedCount=0,i.limitedCountAccessible=0,this._updateComponentFocusRestriction(i),delete i.callbacks;for(var r=this;r;r=r._parent)delete r._myFocusableComponentIds[n];delete e._allFocusableComponents[n],delete t.focusableComponentId}}},e.prototype.restrictFocusWithin=function(t,n){var r=this;e._currentRestrictionOwner!==this&&t!==i.Unrestricted&&(this._currentRestrictType=t,e._currentRestrictionOwner&&this._removeFocusRestriction(),this._prevFocusedComponent||(this._prevFocusedComponent=e._pendingPrevFocusedComponent||e._currentFocusedComponent),e._clearRestoreRestrictionTimeout(),e._restrictionStack.push(this),e._currentRestrictionOwner=this,n||this.resetFocus(t===i.RestrictedFocusFirst),Object.keys(e._allFocusableComponents).forEach((function(t){if(!(t in r._myFocusableComponentIds)){var n=e._allFocusableComponents[t];n.restricted=!0,r._updateComponentFocusRestriction(n)}})),this._restrictionStateCallback&&this._restrictionStateCallback(t))},e.prototype.removeFocusRestriction=function(){var t=this;if(e._restrictionStack=e._restrictionStack.filter((function(e){return e!==t})),e._currentRestrictionOwner===this){e._skipFocusCheck=!0;var n=this._prevFocusedComponent;this._prevFocusedComponent=void 0,this._removeFocusRestriction(),e._currentRestrictionOwner=void 0,this._restrictionStateCallback&&this._restrictionStateCallback(i.Unrestricted),e._clearRestoreRestrictionTimeout(),e._pendingPrevFocusedComponent=n,e._restoreRestrictionTimer=s.default.setTimeout((function(){e._restoreRestrictionTimer=void 0,e._pendingPrevFocusedComponent=void 0;var r=e._restrictionStack.pop(),o=!0,a=e._currentFocusedComponent;!a||a.removed||a.id in t._myFocusableComponentIds||(n=void 0,o=!1),!n||n.accessibleOnly||n.removed||n.restricted||0!==n.limitedCount||0!==n.limitedCountAccessible||(o=!t.focusComponent(n.component)),r?r.restrictFocusWithin(r._currentRestrictType,!o):o&&t.resetFocus(t._currentRestrictType===i.RestrictedFocusFirst)}),100)}},e.prototype.limitFocusWithin=function(t){var n=this;this._isFocusLimited!==a.Types.LimitFocusType.Unlimited||t!==a.Types.LimitFocusType.Limited&&t!==a.Types.LimitFocusType.Accessible||(this._isFocusLimited=t,Object.keys(this._myFocusableComponentIds).forEach((function(i){var r=e._allFocusableComponents[i];t===a.Types.LimitFocusType.Accessible?r.limitedCountAccessible++:t===a.Types.LimitFocusType.Limited&&r.limitedCount++,n._updateComponentFocusRestriction(r)})))},e.prototype.removeFocusLimitation=function(){var t=this;this._isFocusLimited!==a.Types.LimitFocusType.Unlimited&&(Object.keys(this._myFocusableComponentIds).forEach((function(n){var i=e._allFocusableComponents[n];t._isFocusLimited===a.Types.LimitFocusType.Accessible?i.limitedCountAccessible--:t._isFocusLimited===a.Types.LimitFocusType.Limited&&i.limitedCount--,t._updateComponentFocusRestriction(i)})),this._isFocusLimited=a.Types.LimitFocusType.Unlimited)},e.prototype.release=function(){this.removeFocusRestriction(),this.removeFocusLimitation()},e.subscribe=function(t,n){var i=e._getStoredComponent(t);i&&(i.callbacks||(i.callbacks=[]),i.callbacks.push(n))},e.unsubscribe=function(t,n){var i=e._getStoredComponent(t);i&&i.callbacks&&(i.callbacks=i.callbacks.filter((function(e){return e!==n})))},e.prototype.setRestrictionStateCallback=function(e){this._restrictionStateCallback=e},e.isComponentFocusRestrictedOrLimited=function(t){var n=e._getStoredComponent(t);return!!n&&(n.restricted||n.limitedCount>0||n.limitedCountAccessible>0)},e.getCurrentFocusedComponent=function(){return e._currentFocusedComponent?e._currentFocusedComponent.id:void 0},e._getStoredComponent=function(t){var n=t.focusableComponentId;if(n)return e._allFocusableComponents[n]},e._callFocusableComponentStateChangeCallbacks=function(e,t){e.callbacks&&e.callbacks.forEach((function(n){n.call(e.component,t)}))},e.prototype._removeFocusRestriction=function(){var t=this;Object.keys(e._allFocusableComponents).forEach((function(n){var i=e._allFocusableComponents[n];i.restricted=!1,t._updateComponentFocusRestriction(i)}))},e._clearRestoreRestrictionTimeout=function(){e._restoreRestrictionTimer&&(s.default.clearTimeout(e._restoreRestrictionTimer),e._restoreRestrictionTimer=void 0,e._pendingPrevFocusedComponent=void 0)},e._restrictionStack=[],e._allFocusableComponents={},e._skipFocusCheck=!1,e}();t.FocusManager=l,t.applyFocusableComponentMixin=function(t,n,i){void 0===i&&(i=!1);var a=t.contextTypes||{};function s(i,r){var a=t.prototype[i];t.prototype[i]=function(){if(!n||n.call(this)){var t=this._focusManager||this.context&&this.context.focusManager;t?r.call(this,t,arguments):o.default.isDevelopmentMode()&&e.error("FocusableComponentMixin: context error!")}a&&a.apply(this,arguments)}}a.focusManager=r.object,t.contextTypes=a,s("componentDidMount",(function(e){n&&!n.call(this)||e.addFocusableComponent(this,i)})),s("componentWillUnmount",(function(e){e.removeFocusableComponent(this)})),s("UNSAFE_componentWillUpdate",(function(e,t){if(n){var r=n.apply(this,t);r&&!this.focusableComponentId?e.addFocusableComponent(this,i):!r&&this.focusableComponentId&&e.removeFocusableComponent(this)}}))},t.default=l}).call(this,n(110))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this._useCustomScrollbars=!1}return e.prototype.setUseCustomScrollbars=function(e){this._useCustomScrollbars=e},e.prototype.useCustomScrollbars=function(){return this._useCustomScrollbars},e}();t.ScrollViewConfig=i,t.default=new i},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.dispatchKeyDown=function(e){this.keyDownEvent.fire(e)},t.prototype.dispatchKeyUp=function(e){this.keyUpEvent.fire(e)&&e.stopPropagation()},t}(n(109).Input);t.Input=o,t.default=new o},function(e,t,n){"use strict";(function(e){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(86),a=n(0),s=n(214),c=n(225),l=n(109),u=n(143),d=n(277),p=n(251),h=n(161),f=n(306),g={defaultButton:{position:"relative",display:"flex",flexDirection:"column",flexGrow:0,flexShrink:0,overflow:"hidden",alignItems:"stretch",justifyContent:"center",appRegion:"no-drag",backgroundColor:"transparent",borderColor:"transparent",textAlign:"left",borderWidth:"0"}},m=l.Types.AccessibilityTrait.Button,E=function(t){function n(n,i){var r=t.call(this,n,i)||this;return r._mountedButton=null,r._ignoreTouchEnd=!1,r._ignoreClick=!1,r._isMouseOver=!1,r._isFocusedWithKeyboard=!1,r._isHoverStarted=!1,r._onMount=function(e){r._mountedButton=e},r.onClick=function(e){r._ignoreClick?(e.stopPropagation(),r._ignoreClick=!1):!r.props.disabled&&r.props.onPress&&r.props.onPress(e)},r._onContextMenu=function(e){r.props.onContextMenu&&r.props.onContextMenu(e)},r._onMouseDown=function(e){r.props.disabled||(r._isMouseOver=!0,r.props.onPressIn&&r.props.onPressIn(e),r.props.onLongPress&&(r._lastMouseDownEvent=e,e.persist(),r._longPressTimer&&u.default.clearTimeout(r._longPressTimer),r._longPressTimer=u.default.setTimeout((function(){r._longPressTimer=void 0,r.props.onLongPress&&(r.props.onLongPress(r._lastMouseDownEvent),"touches"in e?r._ignoreTouchEnd=!0:r._ignoreClick=!0)}),r.props.delayLongPress||1e3)))},r._onTouchMove=function(e){var t=e.target.getBoundingClientRect(),n=r._isMouseOver,i=e.nativeEvent.touches[0].clientX>t.left&&e.nativeEvent.touches[0].clientX<t.right&&e.nativeEvent.touches[0].clientY>t.top&&e.nativeEvent.touches[0].clientY<t.bottom;n&&!i&&(r._longPressTimer&&clearTimeout(r._longPressTimer),r.props.onHoverEnd&&r.props.onHoverEnd(e)),r._isMouseOver=i},r._onMouseUp=function(e){!r.props.disabled&&r.props.onPressOut&&r.props.onPressOut(e),r._longPressTimer&&u.default.clearTimeout(r._longPressTimer)},r._onTouchEnd=function(e){r._isMouseOver&&r._ignoreTouchEnd?e.stopPropagation():(!r._isMouseOver&&r._ignoreTouchEnd||r._isMouseOver&&!r._ignoreTouchEnd)&&("touches"in e&&(e.preventDefault(),r.props.onPress&&r.props.onPress(e)),r.props.onPressOut&&r.props.onPressOut(e)),r._ignoreTouchEnd=!1,r._longPressTimer&&u.default.clearTimeout(r._longPressTimer)},r._onMouseEnter=function(e){r._isMouseOver=!0,r._onHoverStart(e)},r._onMouseLeave=function(e){r._isMouseOver=!1,r._onHoverEnd(e),r._ignoreClick=!1,r._longPressTimer&&u.default.clearTimeout(r._longPressTimer)},r._onFocus=function(e){r._isFocusedWithKeyboard=f.default.isNavigatingWithKeyboard(),r._onHoverStart(e),r.props.onFocus&&r.props.onFocus(e)},r._onBlur=function(e){r._isFocusedWithKeyboard=!1,r._onHoverEnd(e),r.props.onBlur&&r.props.onBlur(e)},r._onHoverStart=function(e){r._isHoverStarted||!r._isMouseOver&&!r._isFocusedWithKeyboard||(r._isHoverStarted=!0,r.props.onHoverStart&&r.props.onHoverStart(e))},r._onHoverEnd=function(e){!r._isHoverStarted||r._isMouseOver||r._isFocusedWithKeyboard||(r._isHoverStarted=!1,r.props.onHoverEnd&&r.props.onHoverEnd(e))},i&&i.hasRxButtonAscendant&&s.default.isDevelopmentMode()&&e.warn("Button components should not be embedded. Some APIs, e.g. Accessibility, will not work."),r}return r(n,t),n.prototype.getChildContext=function(){return{hasRxButtonAscendant:!0}},n.prototype.render=function(){var e=d.default.accessibilityTraitToString(this.props.accessibilityTraits,m),t=d.default.accessibilityTraitToAriaSelected(this.props.accessibilityTraits),n=d.default.accessibilityTraitToAriaChecked(this.props.accessibilityTraits),i=d.default.isHidden(this.props.importantForAccessibility),r=d.default.accessibilityTraitToAriaHasPopup(this.props.accessibilityTraits);return a.createElement("button",{ref:this._onMount,style:this._getStyles(),role:e,title:this.props.title,tabIndex:this.props.tabIndex,"aria-label":this.props.accessibilityLabel||this.props.title,"aria-disabled":this.props.disabled,"aria-hidden":i,"aria-selected":t,"aria-checked":n,onClick:this.onClick,onTouchStart:this._onMouseDown,onTouchMove:this._onTouchMove,onTouchEnd:this._onTouchEnd,onContextMenu:this._onContextMenu,onMouseDown:this._onMouseDown,onMouseUp:this._onMouseUp,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave,onFocus:this._onFocus,onBlur:this._onBlur,onKeyDown:this.props.onKeyPress,disabled:this.props.disabled,"aria-haspopup":r,"aria-controls":this.props.ariaControls,id:this.props.id,"data-test-id":this.props.testId},this.props.children)},n.prototype.componentDidMount=function(){this.props.autoFocus&&this.requestFocus()},n.prototype.requestFocus=function(){var e=this;c.FocusArbitratorProvider.requestFocus(this,(function(){return e.focus()}),(function(){return null!==e._mountedButton}))},n.prototype.focus=function(){this._mountedButton&&this._mountedButton.focus()},n.prototype.blur=function(){this._mountedButton&&this._mountedButton.blur()},n.prototype._getStyles=function(){var e={},t=h.default.combine(this.props.style);return t&&void 0===t.padding&&void 0===t.paddingRight&&void 0===t.paddingLeft&&void 0===t.paddingBottom&&void 0===t.paddingTop&&void 0===t.paddingHorizontal&&void 0===t.paddingVertical&&(e.padding=0),this.props.disabled&&(e.opacity=void 0!==this.props.disabledOpacity?this.props.disabledOpacity:.5),t&&t.cursor||(e.cursor=this.props.disabled?"default":"pointer"),h.default.combine([g.defaultButton,t,e])},n.contextTypes={hasRxButtonAscendant:o.bool,focusArbitrator:o.object},n.childContextTypes={hasRxButtonAscendant:o.bool},n}(l.Button);t.Button=E,p.applyFocusableComponentMixin(E),t.default=E}).call(this,n(110))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(143),r=n(141);function o(e,t,n){var o,a=0,s="",c=[];r.each(t,(function(t){var n=t.property,i=t.duration,r=void 0===t.timing?"linear":t.timing,o=void 0===t.delay?0:t.delay,l=t.from;i+o>a&&(a=i+o,s=n),e.style[n]=l,getComputedStyle(e).opacity,c.push(n+" "+i+"ms "+r+" "+o+"ms")})),e.style.transition=c.join(", ");var l=function(t){t.target===e&&t.propertyName===s&&o()};e.addEventListener("webkitTransitionEnd",l),e.addEventListener("transitionEnd",l);var u=0,d=!1;o=function(){d||(i.default.clearTimeout(u),e.dataset.transitionId===u.toString()&&(e.removeEventListener("webkitTransitionEnd",l),e.removeEventListener("transitionEnd",l),delete e.dataset.transitionId,e.style.transition="none",d=!0,n()))},u=i.default.setTimeout((function(){document.body.contains(e)&&o()}),a+10),e.dataset.transitionId=u.toString(),r.each(t,(function(t){var n=t.property,i=t.to;e.style[n]=i}))}t.executeTransition=o,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(226),o=n(141);t.default=function(e){var t=e.props.style;return r.default(t&&void 0!==t.width&&void 0!==t.height,"Children of an <RX.Text> must have a defined height and width"),i.cloneElement(e,{style:o.assign({},t,{display:"inline-block",lineHeight:"normal"})})}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(86),s=n(0),c=n(226),l=n(636),u=n(294),d=n(141),p=n(455),h=n(161),f={image:{position:"absolute",display:"flex",flexDirection:"column",opacity:0,maxWidth:"100%",maxHeight:"100%"},defaultContainer:h.default.createImageStyle({position:"relative",flex:0,overflow:"visible",backgroundColor:"transparent"})},g=function(){function e(){}return e.get=function(e){if(this._cachedXhrBlobUrls[e])return this._cachedXhrBlobUrls[e].refCount++,this._cachedXhrBlobUrls[e].xhrBlobUrl},e.insert=function(t,n){if(e._cleanupIfCapacityExceeded(),this._cachedXhrBlobUrls[t])e._cachedXhrBlobUrls[t].refCount++;else{var i={xhrBlobUrl:n,insertionDate:Date.now(),refCount:1};e._cachedXhrBlobUrls[t]=i}},e.release=function(t){this._cachedXhrBlobUrls[t]&&e._cachedXhrBlobUrls[t].refCount--},e._cleanupIfCapacityExceeded=function(){var t,n;Object.keys(e._cachedXhrBlobUrls).length+1>e._maximumItems&&(Object.keys(e._cachedXhrBlobUrls).forEach((function(i){(!n||e._cachedXhrBlobUrls[i].insertionDate<n.insertionDate)&&0===e._cachedXhrBlobUrls[i].refCount&&(t=i,n=e._cachedXhrBlobUrls[i])})),t&&(URL.revokeObjectURL(n.xhrBlobUrl),delete e._cachedXhrBlobUrls[t]))},e._maximumItems=128,e._cachedXhrBlobUrls={},e}(),m=function(e){function t(t){var n=e.call(this,t)||this;return n._mountedComponent=null,n._isMounted=!1,n._onMount=function(e){n._mountedComponent=e},n._onLoad=function(){if(n._isMounted&&n._mountedComponent){var e=n._mountedComponent;n._nativeImageWidth=void 0,n._nativeImageHeight=void 0,n._nativeImageWidth=e.naturalWidth,n._nativeImageHeight=e.naturalHeight,n.setState({showImgTag:!1}),n.props.onLoad&&n.props.onLoad({width:n._nativeImageWidth,height:n._nativeImageHeight})}},n._imgOnError=function(){n._onError()},n._onMouseUp=function(e){if(0===e.button){var t=n.props.onClick;t&&t(e)}},n._initializeAndSetState(t,!0)&&n._startXhrImageFetch(t),n}return r(t,e),t.prototype.getChildContext=function(){return{isRxParentAText:!1}},t.prefetch=function(e){var t=new u.Defer,n=new window.Image;return n.onload=function(e){t.resolve(!0)},n.onerror=function(n){t.reject("Failed to prefetch url "+e)},n.onabort=function(n){t.reject("Prefetch cancelled for url "+e)},n.src=e,t.promise()},t.getMetadata=function(e){var t=new u.Defer,n=new window.Image;return n.onload=function(e){t.resolve({width:n.naturalWidth,height:n.naturalHeight})},n.onerror=function(n){t.reject("Failed to prefetch url "+e)},n.onabort=function(n){t.reject("Prefetch cancelled for url "+e)},n.src=e,t.promise()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=e.source!==this.props.source||!d.isEqual(e.headers||{},this.props.headers||{});if(!e.onLoad!=!this.props.onLoad||!e.onError!=!this.props.onError||t){var n=this._initializeAndSetState(e,!1);t&&n&&this._startXhrImageFetch(e)}},t.prototype.componentDidMount=function(){this._isMounted=!0},t.prototype.componentWillUnmount=function(){this._isMounted=!1,this.state.displayUrl&&this.state.xhrRequest&&g.release(this.props.source)},t.prototype._initializeAndSetState=function(e,t){var n=e.headers?g.get(e.source):null,i=n||(e.headers?"":e.source),r=!!e.headers&&!n,o={showImgTag:!(r&&!n||!e.onLoad&&!e.onError),xhrRequest:!!e.headers,displayUrl:i};return t?this.state=o:this.setState(o),r},t.prototype._handleXhrBlob=function(e){if(this._isMounted){var t=URL.createObjectURL(e);g.insert(this.props.source,t),this.setState({displayUrl:t,showImgTag:!!this.props.onLoad})}},t.prototype._startXhrImageFetch=function(e){this._actuallyStartXhrImageFetch(e)},t.prototype._actuallyStartXhrImageFetch=function(e){var t=this,n=e.headers&&Object.keys(e.headers).some((function(e){return"origin"===e.toLowerCase()}));if(window.fetch){var i=new Headers;e.headers&&Object.keys(e.headers).forEach((function(t){i.append(t,e.headers[t])}));var r=new Request(e.source,{credentials:n?"include":"same-origin",method:"GET",mode:"cors",headers:i});fetch(r).then((function(e){return e.ok||t._onError(new Error(e.statusText)),e.blob().then((function(e){t._handleXhrBlob(e)}))}),(function(e){t._onError(e)}))}else{var o=new XMLHttpRequest;o.open("GET",e.source,!0),n&&(o.withCredentials=!0),o.responseType="blob",e.headers&&Object.keys(e.headers).forEach((function(t){o.setRequestHeader(t,e.headers[t])})),o.onload=function(){o.status>=400||o.status<600?t._onError(new Error(o.statusText)):t._handleXhrBlob(o.response)},o.onerror=function(){t._onError(new Error("Network issue downloading the image."))},o.send()}},t.prototype.render=function(){var e=this.props.source,t=!("string"!=typeof e&&void 0!==e);c.default(t,"Types/web/Image only accepts string sources! You passed: "+e+" of type "+typeof e);var n=null;this.state.showImgTag&&(n=s.createElement("img",{style:f.image,src:this.state.displayUrl,alt:this.props.accessibilityLabel,onError:this._imgOnError,onLoad:this._onLoad,ref:this._onMount}));var i=s.createElement("div",{style:this._getStyles(),title:this.props.title,"data-test-id":this.props.testId,onMouseUp:this._onMouseUp},n,this.props.children);return this.context.isRxParentAText?p.default(i):i},t.prototype._getStyles=function(){var e=this.props.resizeMode,t=h.default.combine([f.defaultContainer,this.props.style])||{},n="repeat"===e?"repeat":"no-repeat",i=this._buildBackgroundSize(e),r='url("'+this.state.displayUrl+'")',a=t.borderWidth?"solid":"none";return o(o({},t),{backgroundPosition:"center center",backgroundRepeat:n,backgroundImage:r,backgroundSize:i,borderStyle:a,display:"flex"})},t.prototype._buildBackgroundSize=function(e){switch(void 0===e&&(e=l.DEFAULT_RESIZE_MODE),e){case"repeat":return"auto";case"stretch":return"100% 100%";case"contain":case"cover":case"auto":return e;default:return l.DEFAULT_RESIZE_MODE}},t.prototype._onError=function(e){this._isMounted&&(this.setState({showImgTag:!1}),this.props.onError&&this.props.onError(e))},t.prototype.getNativeWidth=function(){return this._nativeImageWidth},t.prototype.getNativeHeight=function(){return this._nativeImageHeight},t.contextTypes={isRxParentAText:a.bool},t.childContextTypes={isRxParentAText:a.bool.isRequired},t}(s.Component);t.Image=m,t.default=m},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(86),a=n(0),s=n(225),c=n(251),l=n(141),u=n(161),d="undefined"!=typeof navigator&&"string"==typeof navigator.platform&&navigator.platform.indexOf("Mac")>=0,p={defaultStyle:{position:"relative",display:"flex",flexDirection:"row",flexBasis:"auto",flexGrow:0,flexShrink:0,overflowX:"hidden",overflowY:"auto",alignItems:"stretch"},formStyle:{display:"flex",flex:1}},h=function(){function e(){}return e.getClassName=function(e){return"reactxp-placeholder-"+this._colorKey(e)},e.addRef=function(e){if(void 0!==typeof document){var t=this._cachedStyles,n=this._colorKey(e);if(t.hasOwnProperty(n))t[n].refCounter++;else{var i=this.getClassName(e),r=document.createElement("style");r.type="text/css",r.textContent=this._getStyle(i,e),document.head.appendChild(r),t[n]={refCounter:1,styleElement:r}}}},e.removeRef=function(e){var t=this._cachedStyles,n=this._colorKey(e);if(t.hasOwnProperty(n)){var i=t[n];if(--i.refCounter<1){var r=i.styleElement;r.parentNode&&r.parentNode.removeChild(r),delete t[n]}}},e._colorKey=function(e){return e.toLowerCase().replace(/(,|\.|#)/g,"_").replace(/[^a-z0-9_]/g,"")},e._getStyle=function(e,t){return["::placeholder","::-webkit-input-placeholder","::-moz-placeholder",":-moz-placeholder",":-ms-input-placeholder"].map((function(n){return"."+e+n+" {\n  opacity: 1;\n  color: "+t+";\n}"})).join("\n")},e._cachedStyles={},e}(),f=function(e){function t(n,i){var r=e.call(this,n,i)||this;return r._mountedComponent=null,r._selectionStart=0,r._selectionEnd=0,r._isFocused=!1,r._ariaLiveEnabled=!1,r._onMount=function(e){r._mountedComponent=e,r._mountedComponent&&r._mountedComponent instanceof HTMLTextAreaElement&&t._updateScrollPositions(r._mountedComponent,!!r.state.autoResize)},r._onMultilineInput=function(e){r._onInput(),t._updateScrollPositions(e.currentTarget,!!r.state.autoResize)},r._onInput=function(){d&&r._mountedComponent&&r._isFocused&&!r._ariaLiveEnabled&&(r._mountedComponent.setAttribute("aria-live","assertive"),r._ariaLiveEnabled=!0)},r._onFocus=function(e){r._mountedComponent&&(r._isFocused=!0,r.props.onFocus&&r.props.onFocus(e))},r._onBlur=function(e){r._mountedComponent&&(r._isFocused=!1,d&&r._ariaLiveEnabled&&(r._mountedComponent.removeAttribute("aria-live"),r._ariaLiveEnabled=!1),r.props.onBlur&&r.props.onBlur(e))},r._onPaste=function(e){r.props.onPaste&&r.props.onPaste(e),r._checkSelectionChanged()},r._onInputChanged=function(e){if(!e.defaultPrevented&&r._mountedComponent){var t=r._mountedComponent.value||"";r.state.inputValue!==t&&(void 0===r.props.value&&r.setState({inputValue:t}),r.props.onChangeText&&r.props.onChangeText(t)),r._checkSelectionChanged()}},r._checkSelectionChanged=function(){r._mountedComponent&&(r._selectionStart===r._mountedComponent.selectionStart&&r._selectionEnd===r._mountedComponent.selectionEnd||(r._selectionStart=r._mountedComponent.selectionStart||0,r._selectionEnd=r._mountedComponent.selectionEnd||0,r.props.onSelectionChange&&r.props.onSelectionChange(r._selectionStart,r._selectionEnd)))},r._onKeyDown=function(e){13!==e.keyCode||r.props.multiline&&!r.props.blurOnSubmit||(r.props.onSubmitEditing&&r.props.onSubmitEditing(),r.props.blurOnSubmit&&r.blur()),r.props.onKeyPress&&r.props.onKeyPress(e),r._checkSelectionChanged()},r._onScroll=function(e){var t=e.currentTarget;r.state.autoResize&&t.scrollHeight<t.clientHeight&&(t.scrollTop=0),r.props.onScroll&&r.props.onScroll(t.scrollLeft,t.scrollTop)},r._focus=function(){s.FocusArbitratorProvider.requestFocus(r,(function(){return r.focus()}),(function(){return!!r._mountedComponent}))},r.state={inputValue:void 0!==n.value?n.value:n.defaultValue||"",autoResize:t._shouldAutoResize(n)},r}return r(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){var n=this,i={};if(void 0!==e.value&&e.value!==this.state.inputValue&&(i.inputValue=e.value),e.style!==this.props.style||e.multiline!==this.props.multiline){var r=t._shouldAutoResize(e);this.state.autoResize!==r&&(i.autoResize=r)}e.placeholderTextColor!==this.props.placeholderTextColor&&(e.placeholderTextColor&&h.addRef(e.placeholderTextColor),this.props.placeholderTextColor&&h.removeRef(this.props.placeholderTextColor)),l.isEmpty(i)||this.setState(i,(function(){n._mountedComponent instanceof HTMLTextAreaElement&&t._updateScrollPositions(n._mountedComponent,!!n.state.autoResize)}))},t.prototype.componentDidMount=function(){this.props.placeholderTextColor&&h.addRef(this.props.placeholderTextColor),this.props.autoFocus&&this.requestFocus()},t.prototype.componentWillUnmount=function(){this.props.placeholderTextColor&&h.removeRef(this.props.placeholderTextColor)},t.prototype.render=function(){var e=this,t=u.default.combine([p.defaultStyle,this.props.style]);t.outline="none",t.resize="none",void 0===t.borderWidth&&(t.borderWidth=0);var n=void 0===this.props.editable||this.props.editable,i=void 0!==this.props.spellCheck?this.props.spellCheck:this.props.autoCorrect,r=void 0!==this.props.placeholderTextColor?h.getClassName(this.props.placeholderTextColor):void 0;if(this.props.multiline)return a.createElement("textarea",{ref:this._onMount,style:t,value:this.state.inputValue,title:this.props.title,tabIndex:this.props.tabIndex,autoCorrect:!1===this.props.autoCorrect?"off":void 0,spellCheck:i,disabled:!n,maxLength:this.props.maxLength,placeholder:this.props.placeholder,className:r,onChange:this._onInputChanged,onKeyDown:this._onKeyDown,onKeyUp:this._checkSelectionChanged,onInput:this._onMultilineInput,onFocus:this._onFocus,onBlur:this._onBlur,onMouseDown:this._checkSelectionChanged,onMouseUp:this._checkSelectionChanged,onPaste:this._onPaste,onScroll:this._onScroll,"aria-label":this.props.accessibilityLabel||this.props.title,"data-test-id":this.props.testId});var o=this._getKeyboardType(),s=o.keyboardTypeValue,c=o.wrapInForm,l=o.pattern,d=a.createElement("input",{ref:this._onMount,style:t,value:this.state.inputValue,title:this.props.title,tabIndex:this.props.tabIndex,className:r,autoCorrect:!1===this.props.autoCorrect?"off":void 0,spellCheck:i,disabled:!n,maxLength:this.props.maxLength,placeholder:this.props.placeholder,size:1,onChange:this._onInputChanged,onKeyDown:this._onKeyDown,onKeyUp:this._checkSelectionChanged,onInput:this._onInput,onFocus:this._onFocus,onBlur:this._onBlur,onMouseDown:this._checkSelectionChanged,onMouseUp:this._checkSelectionChanged,onPaste:this._onPaste,"aria-label":this.props.accessibilityLabel||this.props.title,type:s,pattern:l,"data-test-id":this.props.testId});return c&&(d=a.createElement("form",{action:"",onSubmit:function(t){t.preventDefault(),e.blur()},style:p.formStyle},d)),d},t._shouldAutoResize=function(e){if(!e.multiline)return!1;var t=u.default.combine(e.style);return!t||"number"==typeof t||(Array.isArray(t)?t.some((function(e){return!e||"number"==typeof e||void 0===e.height})):void 0===t.height)},t._updateScrollPositions=function(e,t){if(t){var n=this._getParentElementAndTops(e);e.style.height="1px",e.style.height=e.scrollHeight+"px",n.forEach((function(e){e.el.scrollTop=e.top}))}},t._getParentElementAndTops=function(e){for(var t=e,n=[];t&&t.parentElement;)t=t.parentElement,n.push({el:t,top:t.scrollTop});return n},t.prototype._getKeyboardType=function(){var e,t="text",n=!1;return"numeric"===this.props.keyboardType?e="\\d*":"number-pad"===this.props.keyboardType?t="tel":"email-address"===this.props.keyboardType&&(t="email"),"search"===this.props.returnKeyType&&(t="search",n=!0),this.props.secureTextEntry&&(t="password"),{keyboardTypeValue:t,wrapInForm:n,pattern:e}},t.prototype.blur=function(){this._mountedComponent&&this._mountedComponent.blur()},t.prototype.requestFocus=function(){this._focus()},t.prototype.focus=function(){this._mountedComponent&&this._mountedComponent.focus()},t.prototype.setAccessibilityFocus=function(){this._focus()},t.prototype.isFocused=function(){return!!this._mountedComponent&&document.activeElement===this._mountedComponent},t.prototype.selectAll=function(){this._mountedComponent&&this._mountedComponent.select()},t.prototype.selectRange=function(e,t){this._mountedComponent&&this._mountedComponent.setSelectionRange(e,t)},t.prototype.getSelectionRange=function(){var e={start:0,end:0};return this._mountedComponent&&(e.start=this._mountedComponent.selectionStart||0,e.end=this._mountedComponent.selectionEnd||0),e},t.prototype.setValue=function(e){var t=e||"";this.state.inputValue!==t&&(this._mountedComponent&&(this._mountedComponent.value=t),this.setState({inputValue:t}),this.props.onChangeText&&this.props.onChangeText(e))},t.contextTypes={focusArbitrator:o.object},t}(a.Component);t.TextInput=f,c.applyFocusableComponentMixin(f),t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(293),r=n(143),o=n(141),a=function(){function e(){var e=this;this._isIdle=!1,this.onFocusedEvent=new i.default,this.onBlurredEvent=new i.default,this.onAppForegroundedEvent=new i.default,this.onAppBackgroundedEvent=new i.default,this.onIdleEvent=new i.default,this.onWakeUpEvent=new i.default,this._wakeUpAndSetTimerForIdle=function(){o.isUndefined(e._timer)||r.default.clearTimeout(e._timer),e.hasFocus()&&(e.hasFocus()&&e._isIdle&&e._onWakeUp(),e._timer=r.default.setTimeout((function(){e.hasFocus()&&e._onIdle()}),6e4))},this._onFocus=function(){e._wakeUpAndSetTimerForIdle(),e.onFocusedEvent.fire()},this._onBlur=function(){e._onIdle(),e.onBlurredEvent.fire()},this._onAppVisibilityChanged=function(){document.hidden?e.onAppBackgroundedEvent.fire():e.onAppForegroundedEvent.fire()},this._onWakeUp=function(){e._isIdle=!1,e.onWakeUpEvent.fire()},this._onIdle=function(){e._isIdle=!0,e.onIdleEvent.fire()},"undefined"!=typeof document&&(window.addEventListener("focus",this._onFocus),window.addEventListener("blur",this._onBlur),document.addEventListener("visibilitychange",this._onAppVisibilityChanged),this._trackIdleStatus())}return e.prototype.hasFocusAndActive=function(){return"undefined"==typeof document||document.hasFocus()&&!this._isIdle},e.prototype.hasFocus=function(){return"undefined"==typeof document||document.hasFocus()},e.prototype.isAppInForeground=function(){return"undefined"==typeof document||!document.hidden},e.prototype._trackIdleStatus=function(){document.addEventListener("mousemove",this._wakeUpAndSetTimerForIdle),document.addEventListener("keyup",this._wakeUpAndSetTimerForIdle),document.addEventListener("touchstart",this._wakeUpAndSetTimerForIdle),document.addEventListener("scroll",this._wakeUpAndSetTimerForIdle),this._wakeUpAndSetTimerForIdle()},e}();t.AppVisibilityUtils=a,t.default=new a},function(e,t,n){var i=n(114),r=n(656);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};i(r,o);e.exports=r.locals||{}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AWT_REAL_TIME="REAL_TIME",t.AWT_NEAR_REAL_TIME="NEAR_REAL_TIME",t.AWT_BEST_EFFORT="BEST_EFFORT"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(172),r=n(307),o=n(308),a=n(217),s=n(462),c=n(252),l=n(278),u=n(466),d=n(464),p=n(382),h=n(383),f=function(){function e(e){this._apiKey=e,this._contextProperties=new o.default,this._semanticContext=new p.default(!1,this._contextProperties),this._sessionStartTime=0,this._createInitId()}return e.prototype.setContext=function(e,t,n){void 0===n&&(n=i.AWTPropertyType.Unspecified),this._contextProperties.setProperty(e,t,n)},e.prototype.setContextWithPii=function(e,t,n,r){void 0===r&&(r=i.AWTPropertyType.Unspecified),this._contextProperties.setPropertyWithPii(e,t,n,r)},e.prototype.setContextWithCustomerContent=function(e,t,n,r){void 0===r&&(r=i.AWTPropertyType.Unspecified),this._contextProperties.setPropertyWithCustomerContent(e,t,n,r)},e.prototype.getSemanticContext=function(){return this._semanticContext},e.prototype.logEvent=function(t){if(u.default.loggingEnabled){this._apiKey||(this._apiKey=u.default.defaultTenantToken,this._createInitId());var n=!0;a.isString(t)?t={name:t}:t instanceof o.default&&(t=t.getEvent(),n=!1),s.default.eventReceived(this._apiKey),e._logEvent(e._getInternalEvent(t,this._apiKey,n),this._contextProperties)}},e.prototype.logSession=function(t,n){if(u.default.sessionEnabled){var o={name:"session",type:"session",properties:{}};if(e._addPropertiesToEvent(o,n),o.priority=i.AWTEventPriority.High,t===r.AWTSessionState.Started){if(this._sessionStartTime>0)return;this._sessionStartTime=(new Date).getTime(),this._sessionId=a.newGuid(),this.setContext("Session.Id",this._sessionId),o.properties["Session.State"]="Started"}else{if(t!==r.AWTSessionState.Ended)return;if(0===this._sessionStartTime)return;var s=Math.floor(((new Date).getTime()-this._sessionStartTime)/1e3);o.properties["Session.Id"]=this._sessionId,o.properties["Session.State"]="Ended",o.properties["Session.Duration"]=s.toString(),o.properties["Session.DurationBucket"]=e._getSessionDurationFromTime(s),this._sessionStartTime=0,this.setContext("Session.Id",null),this._sessionId=void 0}o.properties["Session.FirstLaunchTime"]=h.default.firstLaunchTime,this.logEvent(o)}},e.prototype.getSessionId=function(){return this._sessionId},e.prototype.logFailure=function(t,n,r,o,a){if(t&&n){var s={name:"failure",type:"failure",properties:{}};e._addPropertiesToEvent(s,a),s.properties["Failure.Signature"]=t,s.properties["Failure.Detail"]=n,r&&(s.properties["Failure.Category"]=r),o&&(s.properties["Failure.Id"]=o),s.priority=i.AWTEventPriority.High,this.logEvent(s)}},e.prototype.logPageView=function(t,n,i,r,o,a){if(t&&n){var s={name:"pageview",type:"pageview",properties:{}};e._addPropertiesToEvent(s,a),s.properties["PageView.Id"]=t,s.properties["PageView.Name"]=n,i&&(s.properties["PageView.Category"]=i),r&&(s.properties["PageView.Uri"]=r),o&&(s.properties["PageView.ReferrerUri"]=o),this.logEvent(s)}},e.prototype._createInitId=function(){!e._initIdMap[this._apiKey]&&this._apiKey&&(e._initIdMap[this._apiKey]=a.newGuid())},e._addPropertiesToEvent=function(e,t){if(t)for(var n in t instanceof o.default&&(t=t.getEvent()),t.name&&(e.name=t.name),t.priority&&(e.priority=t.priority),t.properties)t.properties.hasOwnProperty(n)&&(e.properties[n]=t.properties[n])},e._getSessionDurationFromTime=function(e){return e<0?"Undefined":e<=3?"UpTo3Sec":e<=10?"UpTo10Sec":e<=30?"UpTo30Sec":e<=60?"UpTo60Sec":e<=180?"UpTo3Min":e<=600?"UpTo10Min":e<=1800?"UpTo30Min":"Above30Min"},e._logEvent=function(e,t){e.name&&a.isString(e.name)?(e.name=e.name.toLowerCase(),e.name=e.name.replace(a.EventNameDotRegex,"_"),e.type&&a.isString(e.type)?e.type=e.type.toLowerCase():e.type="custom",a.EventNameAndTypeRegex.test(e.name)&&a.EventNameAndTypeRegex.test(e.type)?((!a.isNumber(e.timestamp)||e.timestamp<0)&&(e.timestamp=(new Date).getTime()),e.properties||(e.properties={}),this._addContextIfAbsent(e,t.getPropertyMap()),this._addContextIfAbsent(e,u.default.logManagerContext.getPropertyMap()),this._setDefaultProperty(e,"EventInfo.InitId",this._getInitId(e.apiKey)),this._setDefaultProperty(e,"EventInfo.Sequence",this._getSequenceId(e.apiKey)),this._setDefaultProperty(e,"EventInfo.SdkVersion",d.FullVersionString),this._setDefaultProperty(e,"EventInfo.Name",e.name),this._setDefaultProperty(e,"EventInfo.Time",new Date(e.timestamp).toISOString()),a.isPriority(e.priority)||(e.priority=i.AWTEventPriority.Normal),this._sendEvent(e)):c.default.eventsRejected([e],i.AWTEventsRejectedReason.InvalidEvent)):c.default.eventsRejected([e],i.AWTEventsRejectedReason.InvalidEvent)},e._addContextIfAbsent=function(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e.properties[n]||(e.properties[n]=t[n]))},e._setDefaultProperty=function(e,t,n){e.properties[t]={value:n,pii:i.AWTPiiKind.NotSet,type:i.AWTPropertyType.String}},e._sendEvent=function(e){l.default.sendEvent(e)},e._getInternalEvent=function(e,t,n){if(e.properties=e.properties||{},n)for(var i in e.properties)e.properties.hasOwnProperty(i)&&(e.properties[i]=a.sanitizeProperty(i,e.properties[i]),null===e.properties[i]&&delete e.properties[i]);var r=e;return r.id=a.newGuid(),r.apiKey=t,r},e._getInitId=function(t){return e._initIdMap[t]},e._getSequenceId=function(t){return void 0===e._sequenceIdMap[t]&&(e._sequenceIdMap[t]=0),(++e._sequenceIdMap[t]).toString()},e._sequenceIdMap={},e._initIdMap={},e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(217),r=n(252),o=n(172),a=function(){function e(){}return e.initialize=function(e){var t=this;this._sendStats=e,this._isInitalized=!0,r.default.addNotificationListener({eventsSent:function(e){t._addStat("records_sent_count",e.length,e[0].apiKey)},eventsDropped:function(e,n){switch(n){case o.AWTEventsDroppedReason.NonRetryableStatus:t._addStat("d_send_fail",e.length,e[0].apiKey),t._addStat("records_dropped_count",e.length,e[0].apiKey);break;case o.AWTEventsDroppedReason.MaxRetryLimit:t._addStat("d_retry_limit",e.length,e[0].apiKey),t._addStat("records_dropped_count",e.length,e[0].apiKey);break;case o.AWTEventsDroppedReason.QueueFull:t._addStat("d_queue_full",e.length,e[0].apiKey)}},eventsRejected:function(e,n){switch(n){case o.AWTEventsRejectedReason.InvalidEvent:t._addStat("r_inv",e.length,e[0].apiKey);break;case o.AWTEventsRejectedReason.KillSwitch:t._addStat("r_kl",e.length,e[0].apiKey);break;case o.AWTEventsRejectedReason.SizeLimitExceeded:t._addStat("r_size",e.length,e[0].apiKey)}t._addStat("r_count",e.length,e[0].apiKey)},eventsRetrying:null}),setTimeout((function(){return t.flush()}),6e4)},e.teardown=function(){this._isInitalized&&(this.flush(),this._isInitalized=!1)},e.eventReceived=function(t){e._addStat("records_received_count",1,t)},e.flush=function(){var e=this;if(this._isInitalized){for(var t in this._stats)this._stats.hasOwnProperty(t)&&this._sendStats(this._stats[t],t);this._stats={},setTimeout((function(){return e.flush()}),6e4)}},e._addStat=function(e,t,n){if(this._isInitalized&&n!==i.StatsApiKey){var r=i.getTenantId(n);this._stats[r]||(this._stats[r]={}),this._stats[r][e]?this._stats[r][e]=this._stats[r][e]+t:this._stats[r][e]=t}},e._isInitalized=!1,e._stats={},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(659),r=n(172),o=n(252),a=n(217),s=function(){function e(){}return e.getPayloadBlob=function(e,t){var n,s=!1,c=new i.IO.MemoryStream,l=new i.CompactBinaryProtocolWriter(c);for(var u in l._WriteFieldBegin(i._BondDataType._BT_MAP,3,null),l._WriteMapContainerBegin(t,i._BondDataType._BT_STRING,i._BondDataType._BT_LIST),e)if(s)n||(n={}),n[u]=e[u],delete e[u];else if(e.hasOwnProperty(u)){l._WriteString(u);var d=e[u];l._WriteContainerBegin(1,i._BondDataType._BT_STRUCT),l._WriteFieldBegin(i._BondDataType._BT_STRING,2,null),l._WriteString("act_default_source"),l._WriteFieldBegin(i._BondDataType._BT_STRING,5,null),l._WriteString(a.newGuid()),l._WriteFieldBegin(i._BondDataType._BT_INT64,6,null),l._WriteInt64(a.numberToBondInt64(Date.now())),l._WriteFieldBegin(i._BondDataType._BT_LIST,8,null);var p=c._GetBuffer().length+1;l._WriteContainerBegin(e[u].length,i._BondDataType._BT_STRUCT);for(var h=c._GetBuffer().length-p,f=0;f<d.length;++f){var g=c._GetBuffer().length;if(this.writeEvent(d[f],l),c._GetBuffer().length-g>2936012)o.default.eventsRejected([d[f]],r.AWTEventsRejectedReason.SizeLimitExceeded),d.splice(f--,1),c._GetBuffer().splice(g),this._addNewDataPackageSize(d.length,c,h,p);else if(c._GetBuffer().length>2936012){c._GetBuffer().splice(g),n||(n={}),e[u]=d.splice(0,f),n[u]=d,this._addNewDataPackageSize(e[u].length,c,h,p),s=!0;break}}l._WriteStructEnd(!1)}return l._WriteStructEnd(!1),{payloadBlob:c._GetBuffer(),remainingRequest:n}},e._addNewDataPackageSize=function(e,t,n,r){for(var o=i._Encoding._Varint_GetBytes(i.Number._ToUInt32(e)),a=0;a<n;++a){if(!(a<o.length)){t._GetBuffer().slice(r+a,n-a);break}t._GetBuffer()[r+a]=o[a]}},e.writeEvent=function(e,t){t._WriteFieldBegin(i._BondDataType._BT_STRING,1,null),t._WriteString(e.id),t._WriteFieldBegin(i._BondDataType._BT_INT64,3,null),t._WriteInt64(a.numberToBondInt64(e.timestamp)),t._WriteFieldBegin(i._BondDataType._BT_STRING,5,null),t._WriteString(e.type),t._WriteFieldBegin(i._BondDataType._BT_STRING,6,null),t._WriteString(e.name);var n={},o=0,s={},c=0,l={},u=0,d={},p=0,h={},f=0,g={},m=0,E={},_=0;for(var S in e.properties){if(e.properties.hasOwnProperty(S))if((v=e.properties[S]).cc>0)E[S]=v,_++;else if(v.pii>0)g[S]=v,m++;else switch(v.type){case r.AWTPropertyType.String:n[S]=v.value,o++;break;case r.AWTPropertyType.Int64:s[S]=v.value,c++;break;case r.AWTPropertyType.Double:l[S]=v.value,u++;break;case r.AWTPropertyType.Boolean:d[S]=v.value,p++;break;case r.AWTPropertyType.Date:h[S]=v.value,f++}}if(o)for(var S in t._WriteFieldBegin(i._BondDataType._BT_MAP,13,null),t._WriteMapContainerBegin(o,i._BondDataType._BT_STRING,i._BondDataType._BT_STRING),n)if(n.hasOwnProperty(S)){var T=n[S];t._WriteString(S),t._WriteString(T.toString())}if(m)for(var S in t._WriteFieldBegin(i._BondDataType._BT_MAP,30,null),t._WriteMapContainerBegin(m,i._BondDataType._BT_STRING,i._BondDataType._BT_STRUCT),g)if(g.hasOwnProperty(S)){var v=g[S];t._WriteString(S),t._WriteFieldBegin(i._BondDataType._BT_INT32,1,null),t._WriteInt32(1),t._WriteFieldBegin(i._BondDataType._BT_INT32,2,null),t._WriteInt32(v.pii),t._WriteFieldBegin(i._BondDataType._BT_STRING,3,null),t._WriteString(v.value.toString()),t._WriteStructEnd(!1)}if(p)for(var S in t._WriteFieldBegin(i._BondDataType._BT_MAP,31,null),t._WriteMapContainerBegin(p,i._BondDataType._BT_STRING,i._BondDataType._BT_BOOL),d)if(d.hasOwnProperty(S)){T=d[S];t._WriteString(S),t._WriteBool(T)}if(f)for(var S in t._WriteFieldBegin(i._BondDataType._BT_MAP,32,null),t._WriteMapContainerBegin(f,i._BondDataType._BT_STRING,i._BondDataType._BT_INT64),h)if(h.hasOwnProperty(S)){T=h[S];t._WriteString(S),t._WriteInt64(a.numberToBondInt64(T))}if(c)for(var S in t._WriteFieldBegin(i._BondDataType._BT_MAP,33,null),t._WriteMapContainerBegin(c,i._BondDataType._BT_STRING,i._BondDataType._BT_INT64),s)if(s.hasOwnProperty(S)){T=s[S];t._WriteString(S),t._WriteInt64(a.numberToBondInt64(T))}if(u)for(var S in t._WriteFieldBegin(i._BondDataType._BT_MAP,34,null),t._WriteMapContainerBegin(u,i._BondDataType._BT_STRING,i._BondDataType._BT_DOUBLE),l)if(l.hasOwnProperty(S)){T=l[S];t._WriteString(S),t._WriteDouble(T)}if(_)for(var S in t._WriteFieldBegin(i._BondDataType._BT_MAP,36,null),t._WriteMapContainerBegin(_,i._BondDataType._BT_STRING,i._BondDataType._BT_STRUCT),E)if(E.hasOwnProperty(S)){v=E[S];t._WriteString(S),t._WriteFieldBegin(i._BondDataType._BT_INT32,1,null),t._WriteInt32(v.cc),t._WriteFieldBegin(i._BondDataType._BT_STRING,2,null),t._WriteString(v.value.toString()),t._WriteStructEnd(!1)}t._WriteStructEnd(!1)},e.base64Encode=function(e){return i._Encoding._Base64_GetString(e)},e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Version="1.8.6",t.FullVersionString="AWT-Web-JS-"+t.Version},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(172),r=n(307),o=n(466),a=n(461),s=n(278),c=n(252),l=n(383),u=function(){function e(){}return e.initialize=function(e,t){if(void 0===t&&(t={}),!this._isInitialized)return this._isInitialized=!0,o.default.defaultTenantToken=e,this._overrideValuesFromConfig(t),this._config.disableCookiesUsage&&!this._config.propertyStorageOverride&&(o.default.sessionEnabled=!1),l.default.addPropertyStorageOverride(this._config.propertyStorageOverride),l.default.autoCollect(o.default.semanticContext,this._config.disableCookiesUsage,this._config.userAgent),s.default.initialize(this._config),o.default.loggingEnabled=!0,this._config.enableAutoUserSession&&(this.getLogger().logSession(r.AWTSessionState.Started),window.addEventListener("beforeunload",this.flushAndTeardown)),this.getLogger()},e.getSemanticContext=function(){return o.default.semanticContext},e.flush=function(e){this._isInitialized&&!this._isDestroyed&&s.default.flush(e)},e.flushAndTeardown=function(){this._isInitialized&&!this._isDestroyed&&(this._config.enableAutoUserSession&&this.getLogger().logSession(r.AWTSessionState.Ended),s.default.flushAndTeardown(),o.default.loggingEnabled=!1,this._isDestroyed=!0)},e.pauseTransmission=function(){this._isInitialized&&!this._isDestroyed&&s.default.pauseTransmission()},e.resumeTransmision=function(){this._isInitialized&&!this._isDestroyed&&s.default.resumeTransmision()},e.setTransmitProfile=function(e){this._isInitialized&&!this._isDestroyed&&s.default.setTransmitProfile(e)},e.loadTransmitProfiles=function(e){this._isInitialized&&!this._isDestroyed&&s.default.loadTransmitProfiles(e)},e.setContext=function(e,t,n){void 0===n&&(n=i.AWTPropertyType.Unspecified),o.default.logManagerContext.setProperty(e,t,n)},e.setContextWithPii=function(e,t,n,r){void 0===r&&(r=i.AWTPropertyType.Unspecified),o.default.logManagerContext.setPropertyWithPii(e,t,n,r)},e.setContextWithCustomerContent=function(e,t,n,r){void 0===r&&(r=i.AWTPropertyType.Unspecified),o.default.logManagerContext.setPropertyWithCustomerContent(e,t,n,r)},e.getLogger=function(e){var t=e;return t&&t!==o.default.defaultTenantToken||(t=""),this._loggers[t]||(this._loggers[t]=new a.default(t)),this._loggers[t]},e.addNotificationListener=function(e){c.default.addNotificationListener(e)},e.removeNotificationListener=function(e){c.default.removeNotificationListener(e)},e._overrideValuesFromConfig=function(e){e.collectorUri&&(this._config.collectorUri=e.collectorUri),e.cacheMemorySizeLimitInNumberOfEvents>0&&(this._config.cacheMemorySizeLimitInNumberOfEvents=e.cacheMemorySizeLimitInNumberOfEvents),e.httpXHROverride&&e.httpXHROverride.sendPOST&&(this._config.httpXHROverride=e.httpXHROverride),e.propertyStorageOverride&&e.propertyStorageOverride.getProperty&&e.propertyStorageOverride.setProperty&&(this._config.propertyStorageOverride=e.propertyStorageOverride),e.userAgent&&(this._config.userAgent=e.userAgent),e.disableCookiesUsage&&(this._config.disableCookiesUsage=e.disableCookiesUsage),e.canSendStatEvent&&(this._config.canSendStatEvent=e.canSendStatEvent),e.enableAutoUserSession&&"undefined"!=typeof window&&window.addEventListener&&(this._config.enableAutoUserSession=e.enableAutoUserSession),e.clockSkewRefreshDurationInMins>0&&(this._config.clockSkewRefreshDurationInMins=e.clockSkewRefreshDurationInMins)},e._loggers={},e._isInitialized=!1,e._isDestroyed=!1,e._config={collectorUri:"https://browser.pipe.aria.microsoft.com/Collector/3.0/",cacheMemorySizeLimitInNumberOfEvents:1e4,disableCookiesUsage:!1,canSendStatEvent:function(e){return!0},clockSkewRefreshDurationInMins:0},e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(308),r=n(382),o=function(){function e(){}return e.logManagerContext=new i.default,e.sessionEnabled=!0,e.loggingEnabled=!1,e.defaultTenantToken="",e.semanticContext=new r.default(!0,e.logManagerContext),e}();t.default=o},function(e,t,n){var i=n(114),r=n(684);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};i(r,o);e.exports=r.locals||{}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(t,n)}}},function(e,t,n){"use strict";var i=n(162);function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(i.isURLSearchParams(t))o=t.toString();else{var a=[];i.forEach(t,(function(e,t){null!=e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,(function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),a.push(r(t)+"="+r(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},function(e,t,n){"use strict";e.exports=function(e,t,n,i,r){return e.config=t,n&&(e.code=n),e.request=i,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var i=n(162),r=n(691),o=n(692),a=n(469),s=n(693),c=n(696),l=n(697),u=n(472);e.exports=function(e){return new Promise((function(t,n){var d=e.data,p=e.headers,h=e.responseType;i.isFormData(d)&&delete p["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var g=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";p.Authorization="Basic "+btoa(g+":"+m)}var E=s(e.baseURL,e.url);function _(){if(f){var i="getAllResponseHeaders"in f?c(f.getAllResponseHeaders()):null,o={data:h&&"text"!==h&&"json"!==h?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:i,config:e,request:f};r(t,n,o),f=null}}if(f.open(e.method.toUpperCase(),a(E,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,"onloadend"in f?f.onloadend=_:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(_)},f.onabort=function(){f&&(n(u("Request aborted",e,"ECONNABORTED",f)),f=null)},f.onerror=function(){n(u("Network Error",e,null,f)),f=null},f.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",f)),f=null},i.isStandardBrowserEnv()){var S=(e.withCredentials||l(E))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;S&&(p[e.xsrfHeaderName]=S)}"setRequestHeader"in f&&i.forEach(p,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete p[t]:f.setRequestHeader(t,e)})),i.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),h&&"json"!==h&&(f.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){f&&(f.abort(),n(e),f=null)})),d||(d=null),f.send(d)}))}},function(e,t,n){"use strict";var i=n(470);e.exports=function(e,t,n,r,o){var a=new Error(e);return i(a,t,n,r,o)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";var i=n(162);e.exports=function(e,t){t=t||{};var n={},r=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function c(e,t){return i.isPlainObject(e)&&i.isPlainObject(t)?i.merge(e,t):i.isPlainObject(t)?i.merge({},t):i.isArray(t)?t.slice():t}function l(r){i.isUndefined(t[r])?i.isUndefined(e[r])||(n[r]=c(void 0,e[r])):n[r]=c(e[r],t[r])}i.forEach(r,(function(e){i.isUndefined(t[e])||(n[e]=c(void 0,t[e]))})),i.forEach(o,l),i.forEach(a,(function(r){i.isUndefined(t[r])?i.isUndefined(e[r])||(n[r]=c(void 0,e[r])):n[r]=c(void 0,t[r])})),i.forEach(s,(function(i){i in t?n[i]=c(e[i],t[i]):i in e&&(n[i]=c(void 0,e[i]))}));var u=r.concat(o).concat(a).concat(s),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===u.indexOf(e)}));return i.forEach(d,l),n}},function(e,t,n){"use strict";function i(e){this.message=e}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,e.exports=i},function(e,t,n){"use strict";e.exports=function(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(r=r+t[i++]|0)|0}while(--a);r%=65521,o%=65521}return r|o<<16|0}},function(e,t,n){"use strict";var i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,r){var o=i,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},function(e,t,n){"use strict";var i=n(218),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new i.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function c(e,t){if(t<65534&&(e.subarray&&o||!e.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,t.string2buf=function(e){var t,n,r,o,a,s=e.length,c=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=new i.Buf8(c),a=0,o=0;a<c;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},t.buf2binstring=function(e){return c(e,e.length)},t.binstring2buf=function(e){for(var t=new i.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,i,r,o,s=t||e.length,l=new Array(2*s);for(i=0,n=0;n<s;)if((r=e[n++])<128)l[i++]=r;else if((o=a[r])>4)l[i++]=65533,n+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&n<s;)r=r<<6|63&e[n++],o--;o>1?l[i++]=65533:r<65536?l[i++]=r:(r-=65536,l[i++]=55296|r>>10&1023,l[i++]=56320|1023&r)}return c(l,i)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},function(e,t,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){var i=n(302),r=n(376),o=n(377),a=n(228),s=n(305),c=n(303);e.exports=function(e,t,n,l){var u=-1,d=r,p=!0,h=e.length,f=[],g=t.length;if(!h)return f;n&&(t=a(t,s(n))),l?(d=o,p=!1):t.length>=200&&(d=c,p=!1,t=new i(t));e:for(;++u<h;){var m=e[u],E=null==n?m:n(m);if(m=l||0!==m?m:0,p&&E==E){for(var _=g;_--;)if(t[_]===E)continue e;f.push(m)}else d(t,E,l)||f.push(m)}return f}},function(e,t,n){var i=n(296),r=n(142),o=n(275);e.exports=function(e){return"string"==typeof e||!r(e)&&o(e)&&"[object String]"==i(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var i=n(732),r=n(733),o=n(227),a=n(142);e.exports=function(e,t){return function(n,s){var c=a(n)?i:r,l=t?t():{};return c(n,e,o(s,2),l)}}},,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(176),r=n(230),o=n(266);function a(e,t,n){if(e){if(e instanceof i.a)return e;if(e[r.a])return e[r.a]()}return e||t||n?new i.a(e,t,n):new i.a(o.a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(176);function r(e){for(;e;){var t=e,n=t.closed,r=t.destination,o=t.isStopped;if(n||o)return!1;e=r&&r instanceof i.a?r:null}return!0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},function(e,t,n){var i=n(670),r=n(249);e.exports=function(e,t,n){var o=null==e?0:e.length;return o?(t=n||void 0===t?1:r(t),i(e,0,(t=o-t)<0?0:t)):[]}},function(e,t,n){var i=n(671)("floor");e.exports=i},function(e,t,n){var i=n(422),r=n(423),o=n(249),a=n(301);e.exports=function(e,t,n){return e=a(e),n=null==n?0:i(o(n),0,e.length),t=r(t),e.slice(n,n+t.length)==t}},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=l(e);if(t){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n(0),d=n(127),p=n(86),h=n(675),f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(l,e);var t,n,i,s=a(l);function l(e){var t,n,i,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),t=s.call(this,e),n=c(t),r=function(e){t.focusTrapElement=e},(i="setFocusTrapElement")in n?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r,"undefined"!=typeof document&&(t.previouslyFocusedElement=document.activeElement),t}return t=l,(n=[{key:"componentDidMount",value:function(){var e=this.props.focusTrapOptions,t={returnFocusOnDeactivate:!1};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&"returnFocusOnDeactivate"!==n&&(t[n]=e[n]);var i=d.findDOMNode(this.focusTrapElement);this.focusTrap=this.props._createFocusTrap(i,t),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause()}},{key:"componentDidUpdate",value:function(e){if(e.active&&!this.props.active){var t={returnFocus:this.props.focusTrapOptions.returnFocusOnDeactivate||!1};this.focusTrap.deactivate(t)}else!e.active&&this.props.active&&this.focusTrap.activate();e.paused&&!this.props.paused?this.focusTrap.unpause():!e.paused&&this.props.paused&&this.focusTrap.pause()}},{key:"componentWillUnmount",value:function(){this.focusTrap.deactivate(),!1!==this.props.focusTrapOptions.returnFocusOnDeactivate&&this.previouslyFocusedElement&&this.previouslyFocusedElement.focus&&this.previouslyFocusedElement.focus()}},{key:"render",value:function(){var e=this,t=u.Children.only(this.props.children);return u.cloneElement(t,{ref:function(n){e.setFocusTrapElement(n),"function"==typeof t.ref?t.ref(n):t.ref&&(t.ref.current=n)}})}}])&&r(t.prototype,n),i&&r(t,i),l}(u.Component),g="undefined"==typeof Element?Function:Element;f.propTypes={active:p.bool,paused:p.bool,focusTrapOptions:p.shape({onActivate:p.func,onDeactivate:p.func,initialFocus:p.oneOfType([p.instanceOf(g),p.string,p.func]),fallbackFocus:p.oneOfType([p.instanceOf(g),p.string,p.func]),escapeDeactivates:p.bool,clickOutsideDeactivates:p.bool,returnFocusOnDeactivate:p.bool,setReturnFocus:p.oneOfType([p.instanceOf(g),p.string,p.func]),allowOutsideClick:p.func,preventScroll:p.bool}),children:p.oneOfType([p.element,p.instanceOf(g)])},f.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:h},e.exports=f},function(e,t,n){"use strict";function i(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g}));var i=n(77),r=n(28),o=n(13),a=n(100),s=n(32),c=n(15),l=n(45),u=n(4),d=n(29),p=n(27),h=n(6),f=n(60);const g=t=>n=>d=>{switch(d.type){case l.a.CHAT_FETCH_LATEST_BUCKET:case l.a.FETCH_BUCKET_MESSAGE_DATA:case l.a.CHAT_FETCH_NEXT_BUCKET:case l.a.CHAT_FETCH_PREV_BUCKET:case c.b.SELECT_CONVERSATION_V2:case l.a.RESYNC_CONVERSATION:case f.a.ENABLE_BROWSER_NOTIFICATION:case l.a.PRE_FETCH_CHAT_DATA:case l.a.PRE_FETCH_CHAT_MESSAGES:case s.a.ON_SESSION_RESET:{const n=E(d.type,t.getState());if(0!==d.asyncPathList.length||0!==d.syncPathList.length){const i=0!==d.asyncPathList.length?{onResponse:e=>{t.dispatch(o.e.onUpdateReceived(e,d))},onError:t=>{e.warn(t)}}:null,r=d.syncPathList.concat(d.asyncPathList),s=a.b.sendMessage({paths:r,sessionId:n},i);s.then(e=>{t.dispatch(o.e.onResponseReceived(e,d))}),s.catch(e=>{u.b.errorWithPIIData("NetworkMiddleware",["error caught:",e.stack||e.stacktrace,"errorCode: ",e.errorCode],e)})}break}case o.a.ON_RESPONSE_RECEIVED:d.responseData.paths.forEach(e=>{S(e)&&_(t,d)});break;case o.a.ON_UPDATE_RECEIVED:{const e=Object(i.b)(d.responseData,r.l,"all");e&&m(t,d.payload.convId,e);const n=Object(i.b)(d.responseData,r.l,"msgForConv");n&&m(t,d.payload.conversationId,n)}}return n(d)},m=(e,t,n)=>{Object(d.k)(n)||e.dispatch(l.b.updateCanvasState(t,p.b.ITEM_ADDED_NO_SCROLL))},E=(e,t)=>{let n;return e!==c.b.SELECT_CONVERSATION_V2&&e!==s.a.ON_SESSION_RESET&&e!==s.a.ON_SESSION_RESUME||(n=t.sessionState.id),n},_=(e,t)=>{const n=t.payload.conversationId;let i=e.getState().chatState.chatConversationsMap[n].processingEvent;Object(h.g)(i)&&(i=t.payload.type===l.a.RESYNC_CONVERSATION?p.b.INVALIDATE:t.payload.type===l.a.CHAT_FETCH_NEXT_BUCKET?p.b.ITEMS_ADDED_AT_BOTTOM:p.b.ITEMS_ADDED_AT_TOP,u.b.infoWithNonPIIData("nwMiddleware","not processingEvent set. So giving new value",i)),e.dispatch(l.b.updateCanvasState(n,i))},S=e=>!Object(d.k)(e)&&(e.path[0]===r.d&&("latest_in_conv"===e.path[1]||"message_ids"===e.path[1])||e.path[0]===r.l&&("convLatest"===e.path[1]||"prev"===e.path[1]||"msgPage"===e.path[1]))}).call(this,n(110))},function(e,t,n){var i=n(228),r=n(725),o=n(216),a=n(726),s=o((function(e){var t=i(e,a);return t.length&&t[0]===e[0]?r(t):[]}));e.exports=s},function(e,t){e.exports=function(e,t,n,i){var r=n?n.call(i,e,t):void 0;if(void 0!==r)return!!r;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),c=0;c<o.length;c++){var l=o[c];if(!s(l))return!1;var u=e[l],d=t[l];if(!1===(r=n?n.call(i,u,d,l):void 0)||void 0===r&&u!==d)return!1}return!0}},function(e,t,n){"use strict";t.a=function(e){function t(e,t,i){var r=t.trim().split(f);t=r;var o=r.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=n(e,t[s],i).trim();break;default:var c=s=0;for(t=[];s<o;++s)for(var l=0;l<a;++l)t[c++]=n(e[l]+" ",r[s],i).trim()}return t}function n(e,t,n){var i=t.charCodeAt(0);switch(33>i&&(i=(t=t.trim()).charCodeAt(0)),i){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,o){var a=e+";",s=2*t+3*n+4*o;if(944===s){e=a.indexOf(":",9)+1;var c=a.substring(e,a.length-1).trim();return c=a.substring(0,e).trim()+c+";",1===R||2===R&&r(c,1)?"-webkit-"+c+c:c}if(0===R||2===R&&!r(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(C,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(c=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+c+a;case 1005:return p.test(a)?a.replace(d,":-webkit-")+a.replace(d,":-moz-")+a:a;case 1e3:switch(t=(c=a.substring(13).trim()).indexOf("-")+1,c.charCodeAt(0)+c.charCodeAt(t)){case 226:c=a.replace(S,"tb");break;case 232:c=a.replace(S,"tb-rl");break;case 220:c=a.replace(S,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+c+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(c=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|c.charCodeAt(7))){case 203:if(111>c.charCodeAt(8))break;case 115:a=a.replace(c,"-webkit-"+c)+";"+a;break;case 207:case 102:a=a.replace(c,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(c,"-webkit-"+c)+";"+a.replace(c,"-ms-"+c+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return c=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+c+"-ms-flex-"+c+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(I,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(I,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===y.test(e))return 115===(c=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,o).replace(":fill-available",":stretch"):a.replace(c,"-webkit-"+c)+a.replace(c,"-moz-"+c.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+o&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(h,"$1-webkit-$2")+a}return a}function r(e,t){var n=e.indexOf(1===t?":":"{"),i=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?i:i.replace(b,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(v," or ($1)").substring(4):"("+t+")"}function a(e,t,n,i,r,o,a,s,l,u){for(var d,p=0,h=t;p<M;++p)switch(d=w[p].call(c,e,h,n,i,r,o,a,s,l,u)){case void 0:case!1:case!0:case null:break;default:h=d}if(h!==t)return h}function s(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!=typeof e?R=1:(R=2,D=e):R=0),s}function c(e,n){var s=e;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<M){var c=a(-1,n,s,s,O,A,0,0,0,0);void 0!==c&&"string"==typeof c&&(n=c)}var d=function e(n,s,c,d,p){for(var h,f,g,S,v,I=0,b=0,y=0,C=0,w=0,D=0,x=g=h=0,k=0,U=0,G=0,F=0,B=c.length,V=B-1,W="",j="",H="",z="";k<B;){if(f=c.charCodeAt(k),k===V&&0!==b+C+y+I&&(0!==b&&(f=47===b?10:47),C=y=I=0,B++,V++),0===b+C+y+I){if(k===V&&(0<U&&(W=W.replace(u,"")),0<W.trim().length)){switch(f){case 32:case 9:case 59:case 13:case 10:break;default:W+=c.charAt(k)}f=59}switch(f){case 123:for(h=(W=W.trim()).charCodeAt(0),g=1,F=++k;k<B;){switch(f=c.charCodeAt(k)){case 123:g++;break;case 125:g--;break;case 47:switch(f=c.charCodeAt(k+1)){case 42:case 47:e:{for(x=k+1;x<V;++x)switch(c.charCodeAt(x)){case 47:if(42===f&&42===c.charCodeAt(x-1)&&k+2!==x){k=x+1;break e}break;case 10:if(47===f){k=x+1;break e}}k=x}}break;case 91:f++;case 40:f++;case 34:case 39:for(;k++<V&&c.charCodeAt(k)!==f;);}if(0===g)break;k++}switch(g=c.substring(F,k),0===h&&(h=(W=W.replace(l,"").trim()).charCodeAt(0)),h){case 64:switch(0<U&&(W=W.replace(u,"")),f=W.charCodeAt(1)){case 100:case 109:case 115:case 45:U=s;break;default:U=P}if(F=(g=e(s,U,g,f,p+1)).length,0<M&&(v=a(3,g,U=t(P,W,G),s,O,A,F,f,p,d),W=U.join(""),void 0!==v&&0===(F=(g=v.trim()).length)&&(f=0,g="")),0<F)switch(f){case 115:W=W.replace(T,o);case 100:case 109:case 45:g=W+"{"+g+"}";break;case 107:g=(W=W.replace(m,"$1 $2"))+"{"+g+"}",g=1===R||2===R&&r("@"+g,3)?"@-webkit-"+g+"@"+g:"@"+g;break;default:g=W+g,112===d&&(j+=g,g="")}else g="";break;default:g=e(s,t(s,W,G),g,d,p+1)}H+=g,g=G=U=x=h=0,W="",f=c.charCodeAt(++k);break;case 125:case 59:if(1<(F=(W=(0<U?W.replace(u,""):W).trim()).length))switch(0===x&&(h=W.charCodeAt(0),45===h||96<h&&123>h)&&(F=(W=W.replace(" ",":")).length),0<M&&void 0!==(v=a(1,W,s,n,O,A,j.length,d,p,d))&&0===(F=(W=v.trim()).length)&&(W="\0\0"),h=W.charCodeAt(0),f=W.charCodeAt(1),h){case 0:break;case 64:if(105===f||99===f){z+=W+c.charAt(k);break}default:58!==W.charCodeAt(F-1)&&(j+=i(W,h,f,W.charCodeAt(2)))}G=U=x=h=0,W="",f=c.charCodeAt(++k)}}switch(f){case 13:case 10:47===b?b=0:0===1+h&&107!==d&&0<W.length&&(U=1,W+="\0"),0<M*L&&a(0,W,s,n,O,A,j.length,d,p,d),A=1,O++;break;case 59:case 125:if(0===b+C+y+I){A++;break}default:switch(A++,S=c.charAt(k),f){case 9:case 32:if(0===C+I+b)switch(w){case 44:case 58:case 9:case 32:S="";break;default:32!==f&&(S=" ")}break;case 0:S="\\0";break;case 12:S="\\f";break;case 11:S="\\v";break;case 38:0===C+b+I&&(U=G=1,S="\f"+S);break;case 108:if(0===C+b+I+N&&0<x)switch(k-x){case 2:112===w&&58===c.charCodeAt(k-3)&&(N=w);case 8:111===D&&(N=D)}break;case 58:0===C+b+I&&(x=k);break;case 44:0===b+y+C+I&&(U=1,S+="\r");break;case 34:case 39:0===b&&(C=C===f?0:0===C?f:C);break;case 91:0===C+b+y&&I++;break;case 93:0===C+b+y&&I--;break;case 41:0===C+b+I&&y--;break;case 40:if(0===C+b+I){if(0===h)switch(2*w+3*D){case 533:break;default:h=1}y++}break;case 64:0===b+y+C+I+x+g&&(g=1);break;case 42:case 47:if(!(0<C+I+y))switch(b){case 0:switch(2*f+3*c.charCodeAt(k+1)){case 235:b=47;break;case 220:F=k,b=42}break;case 42:47===f&&42===w&&F+2!==k&&(33===c.charCodeAt(F+2)&&(j+=c.substring(F,k+1)),S="",b=0)}}0===b&&(W+=S)}D=w,w=f,k++}if(0<(F=j.length)){if(U=s,0<M&&(void 0!==(v=a(2,j,U,n,O,A,F,d,p,d))&&0===(j=v).length))return z+j+H;if(j=U.join(",")+"{"+j+"}",0!=R*N){switch(2!==R||r(j,2)||(N=0),N){case 111:j=j.replace(_,":-moz-$1")+j;break;case 112:j=j.replace(E,"::-webkit-input-$1")+j.replace(E,"::-moz-$1")+j.replace(E,":-ms-input-$1")+j}N=0}}return z+j+H}(P,s,n,0,0);return 0<M&&(void 0!==(c=a(-2,d,s,s,O,A,d.length,0,0,0))&&(d=c)),"",N=0,A=O=1,d}var l=/^\0+/g,u=/[\0\r\f]/g,d=/: */g,p=/zoo|gra/,h=/([,: ])(transform)/g,f=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,E=/::(place)/g,_=/:(read-only)/g,S=/[svh]\w+-[tblr]{2}/,T=/\(\s*(.*)\s*\)/g,v=/([\s\S]*?);/g,I=/-self|flex-/g,b=/[^]*?(:[rp][el]a[\w-]+)[^]*/,y=/stretch|:\s*\w+\-(?:conte|avail)/,C=/([^-])(image-set\()/,A=1,O=1,N=0,R=1,P=[],w=[],M=0,D=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:M=w.length=0;break;default:if("function"==typeof t)w[M++]=t;else if("object"==typeof t)for(var n=0,i=t.length;n<i;++n)e(t[n]);else L=0|!!t}return e},c.set=s,void 0!==e&&s(e),c}},function(e,t,n){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,n){"use strict";var i=n(195).compose;t.__esModule=!0,t.composeWithDevTools="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?i:i.apply(null,arguments)},t.devToolsEnhancer="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:function(){return function(e){return e}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var i=n(43),r=n(4),o=n(20);class a{static initialize(){o.isAutomation&&r.b.registerOnLog(a.printLogs,r.a.ALL)}static printLogs(t,n,o,...a){const s=i.a.stringify(t)+"\t"+i.a.stringify(r.a[n])+"\t"+i.a.stringify(o)+"\t"+i.a.stringify(a);e.log(s)}}}).call(this,n(110))},function(e,t){e.exports=function(e,t,n,i){var r=new Blob(void 0!==i?[i,e]:[e],{type:n||"application/octet-stream"});if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(r,t);else{var o=window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(r):window.webkitURL.createObjectURL(r),a=document.createElement("a");a.style.display="none",a.href=o,a.setAttribute("download",t),void 0===a.download&&a.setAttribute("target","_blank"),document.body.appendChild(a),a.click(),setTimeout((function(){document.body.removeChild(a),window.URL.revokeObjectURL(o)}),200)}}},,,,,,,,,,,,,,function(e,t,n){"use strict";function i(e){return e}function r(e){return 0===e.length?i:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}n.d(t,"a",(function(){return r}))},,,,,,function(e,t,n){"use strict";
/** @license React v16.13.1
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=n(364),r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,c=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,d=r?Symbol.for("react.context"):60110,p=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,f=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,m="function"==typeof Symbol&&Symbol.iterator;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S={};function T(e,t,n){this.props=e,this.context=t,this.refs=S,this.updater=n||_}function v(){}function I(e,t,n){this.props=e,this.context=t,this.refs=S,this.updater=n||_}T.prototype.isReactComponent={},T.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(E(85));this.updater.enqueueSetState(this,e,t,"setState")},T.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=T.prototype;var b=I.prototype=new v;b.constructor=I,i(b,T.prototype),b.isPureReactComponent=!0;var y={current:null},C=Object.prototype.hasOwnProperty,A={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,n){var i,r={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)C.call(t,i)&&!A.hasOwnProperty(i)&&(r[i]=t[i]);var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===r[i]&&(r[i]=c[i]);return{$$typeof:o,type:e,key:a,ref:s,props:r,_owner:y.current}}function N(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var R=/\/+/g,P=[];function w(e,t,n,i){if(P.length){var r=P.pop();return r.result=e,r.keyPrefix=t,r.func=n,r.context=i,r.count=0,r}return{result:e,keyPrefix:t,func:n,context:i,count:0}}function M(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>P.length&&P.push(e)}function D(e,t,n){return null==e?0:function e(t,n,i,r){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var c=!1;if(null===t)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case o:case a:c=!0}}if(c)return i(r,t,""===n?"."+L(t,0):n),1;if(c=0,n=""===n?".":n+":",Array.isArray(t))for(var l=0;l<t.length;l++){var u=n+L(s=t[l],l);c+=e(s,u,i,r)}else if(null===t||"object"!=typeof t?u=null:u="function"==typeof(u=m&&t[m]||t["@@iterator"])?u:null,"function"==typeof u)for(t=u.call(t),l=0;!(s=t.next()).done;)c+=e(s=s.value,u=n+L(s,l++),i,r);else if("object"===s)throw i=""+t,Error(E(31,"[object Object]"===i?"object with keys {"+Object.keys(t).join(", ")+"}":i,""));return c}(e,"",t,n)}function L(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function x(e,t){e.func.call(e.context,t,e.count++)}function k(e,t,n){var i=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?U(e,i,n,(function(e){return e})):null!=e&&(N(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(R,"$&/")+"/")+n)),i.push(e))}function U(e,t,n,i,r){var o="";null!=n&&(o=(""+n).replace(R,"$&/")+"/"),D(e,k,t=w(t,o,i,r)),M(t)}var G={current:null};function F(){var e=G.current;if(null===e)throw Error(E(321));return e}var B={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:y,IsSomeRendererActing:{current:!1},assign:i};t.Children={map:function(e,t,n){if(null==e)return e;var i=[];return U(e,i,null,t,n),i},forEach:function(e,t,n){if(null==e)return e;D(e,x,t=w(null,null,t,n)),M(t)},count:function(e){return D(e,(function(){return null}),null)},toArray:function(e){var t=[];return U(e,t,null,(function(e){return e})),t},only:function(e){if(!N(e))throw Error(E(143));return e}},t.Component=T,t.Fragment=s,t.Profiler=l,t.PureComponent=I,t.StrictMode=c,t.Suspense=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,t.cloneElement=function(e,t,n){if(null==e)throw Error(E(267,e));var r=i({},e.props),a=e.key,s=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,c=y.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)C.call(t,u)&&!A.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:o,type:e.type,key:a,ref:s,props:r,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=O,t.createFactory=function(e){var t=O.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:p,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return F().useCallback(e,t)},t.useContext=function(e,t){return F().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return F().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return F().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return F().useLayoutEffect(e,t)},t.useMemo=function(e,t){return F().useMemo(e,t)},t.useReducer=function(e,t,n){return F().useReducer(e,t,n)},t.useRef=function(e){return F().useRef(e)},t.useState=function(e){return F().useState(e)},t.version="16.13.1"},function(e,t,n){"use strict";var i,r=n(0),o=n(225),a=n(529),s=n(530),c=n(406),l=n(448),u=n(628),d=n(629),p=n(633),h=n(637),f=n(453),g=n(638),m=n(251),E=n(639),_=n(456),S=n(452),T=n(641),v=n(642),I=n(643),b=n(378),y=n(645),C=n(646),A=n(647),O=n(649),N=n(650),R=n(161),P=n(379),w=n(457),M=n(306),D=n(651),L=n(380),x=n(381);o.setSortAndFilterFunc(m.default.sortAndFilterAutoFocusCandidates),function(e){e.Accessibility=l.default,e.ActivityIndicator=u.ActivityIndicator,e.Alert=d.default,e.App=h.default,e.Button=f.Button,e.Picker=y.Picker,e.Clipboard=g.default,e.GestureView=E.GestureView,e.Image=_.Image,e.Input=S.default,e.International=T.default,e.Link=v.Link,e.Linking=I.default,e.Location=a.default,e.Modal=b.default,e.Platform=C.default,e.Popup=s.default,e.ScrollView=A.ScrollView,e.StatusBar=O.default,e.Storage=N.default,e.Styles=R.default,e.Text=P.Text,e.TextInput=w.TextInput,e.UserInterface=M.default,e.UserPresence=D.default,e.View=L.default,e.Animated=p,e.Types=c,e.Component=r.Component,e.createElement=r.createElement,e.Children=r.Children,e.__spread=r.__spread,e.Fragment=r.Fragment}(i||(i={})),x.ViewBase.setActivationState(h.default.getActivationState()),h.default.activationStateChangedEvent.subscribe((function(e){x.ViewBase.setActivationState(e)}));e.exports=i},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(109),a=n(294),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.setConfiguration=function(e){if(this.isAvailable()){var t=navigator.geolocation.setRNConfiguration;t&&t(e)}},t.prototype.isAvailable=function(){return!!("geolocation"in navigator)},t.prototype.getCurrentPosition=function(e){if(!this.isAvailable()){var t={code:o.Types.LocationErrorType.PositionUnavailable,message:"Position unavailable because device does not support it.",PERMISSION_DENIED:0,POSITION_UNAVAILABLE:1,TIMEOUT:0};return Promise.reject(t)}var n=new a.Defer,i=!1;return navigator.geolocation.getCurrentPosition((function(e){n.resolve(e)}),(function(e){i||(n.reject(e),i=!0)}),e),n.promise()},t.prototype.watchPosition=function(e,t,n){if(!this.isAvailable())return Promise.reject(o.Types.LocationErrorType.PositionUnavailable);var i=navigator.geolocation.watchPosition((function(t){e(t)}),(function(e){t&&t(e.code)}),n);return Promise.resolve(i)},t.prototype.clearWatch=function(e){navigator.geolocation.clearWatch(e)},t}(o.Location);t.Location=s,t.default=new s},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(226),a=n(109),s=n(269),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.show=function(e,t,n){return o.default(t,"popupId must be a non-empty string. Actual: "+t),s.default.showPopup(e,t,n)},t.prototype.autoDismiss=function(e,t){o.default(e,"popupId must be a non-empty string. Actual: "+e),s.default.autoDismissPopup(e,t)},t.prototype.dismiss=function(e){o.default(e,"popupId must be a non-empty string. Actual: "+e),s.default.dismissPopup(e)},t.prototype.dismissAll=function(){s.default.dismissAllPopups()},t.prototype.isDisplayed=function(e){return s.default.isPopupDisplayed(e)},t}(a.Popup);t.Popup=c,t.default=new c},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){"use strict";(function(t){var i=n(364);
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function r(e,t){if(e===t)return 0;for(var n=e.length,i=t.length,r=0,o=Math.min(n,i);r<o;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0}function o(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var a=n(407),s=Object.prototype.hasOwnProperty,c=Array.prototype.slice,l="foo"===function(){}.name;function u(e){return Object.prototype.toString.call(e)}function d(e){return!o(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var p=e.exports=_,h=/\s*function\s+([^\(\s]*)\s*/;function f(e){if(a.isFunction(e)){if(l)return e.name;var t=e.toString().match(h);return t&&t[1]}}function g(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function m(e){if(l||!a.isFunction(e))return a.inspect(e);var t=f(e);return"[Function"+(t?": "+t:"")+"]"}function E(e,t,n,i,r){throw new p.AssertionError({message:n,actual:e,expected:t,operator:i,stackStartFunction:r})}function _(e,t){e||E(e,!0,t,"==",p.ok)}function S(e,t,n,i){if(e===t)return!0;if(o(e)&&o(t))return 0===r(e,t);if(a.isDate(e)&&a.isDate(t))return e.getTime()===t.getTime();if(a.isRegExp(e)&&a.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(d(e)&&d(t)&&u(e)===u(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;var s=(i=i||{actual:[],expected:[]}).actual.indexOf(e);return-1!==s&&s===i.expected.indexOf(t)||(i.actual.push(e),i.expected.push(t),function(e,t,n,i){if(null==e||null==t)return!1;if(a.isPrimitive(e)||a.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var r=T(e),o=T(t);if(r&&!o||!r&&o)return!1;if(r)return e=c.call(e),t=c.call(t),S(e,t,n);var s,l,u=b(e),d=b(t);if(u.length!==d.length)return!1;for(u.sort(),d.sort(),l=u.length-1;l>=0;l--)if(u[l]!==d[l])return!1;for(l=u.length-1;l>=0;l--)if(s=u[l],!S(e[s],t[s],n,i))return!1;return!0}(e,t,n,i))}return n?e===t:e==t}function T(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function v(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function I(e,t,n,i){var r;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(i=n,n=null),r=function(e){var t;try{e()}catch(e){t=e}return t}(t),i=(n&&n.name?" ("+n.name+").":".")+(i?" "+i:"."),e&&!r&&E(r,n,"Missing expected exception"+i);var o="string"==typeof i,s=!e&&r&&!n;if((!e&&a.isError(r)&&o&&v(r,n)||s)&&E(r,n,"Got unwanted exception"+i),e&&r&&n&&!v(r,n)||!e&&r)throw r}p.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return g(m(e.actual),128)+" "+e.operator+" "+g(m(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||E;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var i=n.stack,r=f(t),o=i.indexOf("\n"+r);if(o>=0){var a=i.indexOf("\n",o+1);i=i.substring(a+1)}this.stack=i}}},a.inherits(p.AssertionError,Error),p.fail=E,p.ok=_,p.equal=function(e,t,n){e!=t&&E(e,t,n,"==",p.equal)},p.notEqual=function(e,t,n){e==t&&E(e,t,n,"!=",p.notEqual)},p.deepEqual=function(e,t,n){S(e,t,!1)||E(e,t,n,"deepEqual",p.deepEqual)},p.deepStrictEqual=function(e,t,n){S(e,t,!0)||E(e,t,n,"deepStrictEqual",p.deepStrictEqual)},p.notDeepEqual=function(e,t,n){S(e,t,!1)&&E(e,t,n,"notDeepEqual",p.notDeepEqual)},p.notDeepStrictEqual=function e(t,n,i){S(t,n,!0)&&E(t,n,i,"notDeepStrictEqual",e)},p.strictEqual=function(e,t,n){e!==t&&E(e,t,n,"===",p.strictEqual)},p.notStrictEqual=function(e,t,n){e===t&&E(e,t,n,"!==",p.notStrictEqual)},p.throws=function(e,t,n){I(!0,e,t,n)},p.doesNotThrow=function(e,t,n){I(!1,e,t,n)},p.ifError=function(e){if(e)throw e},p.strict=i((function e(t,n){t||E(t,!0,n,"==",e)}),p,{equal:p.strictEqual,deepEqual:p.deepStrictEqual,notEqual:p.notStrictEqual,notDeepEqual:p.notDeepStrictEqual}),p.strict.strict=p.strict;var b=Object.keys||function(e){var t=[];for(var n in e)s.call(e,n)&&t.push(n);return t}}).call(this,n(185))},function(e,t){e.exports=function(){return(new Date).getTime()}},function(e,t,n){"use strict";(function(e){
/** @license React v16.13.1
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var i=n(0),r=n(364),o=n(536);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(a(227));function s(e,t,n,i,r,o,a,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}var c=!1,l=null,u=!1,d=null,p={onError:function(e){c=!0,l=e}};function h(e,t,n,i,r,o,a,u,d){c=!1,l=null,s.apply(p,arguments)}var f=null,g=null,m=null;function E(e,t,n){var i=e.type||"unknown-event";e.currentTarget=m(n),function(e,t,n,i,r,o,s,p,f){if(h.apply(this,arguments),c){if(!c)throw Error(a(198));var g=l;c=!1,l=null,u||(u=!0,d=g)}}(i,t,void 0,e),e.currentTarget=null}var _=null,S={};function T(){if(_)for(var e in S){var t=S[e],n=_.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!I[n]){if(!t.extractEvents)throw Error(a(97,e));for(var i in I[n]=t,n=t.eventTypes){var r=void 0,o=n[i],s=t,c=i;if(b.hasOwnProperty(c))throw Error(a(99,c));b[c]=o;var l=o.phasedRegistrationNames;if(l){for(r in l)l.hasOwnProperty(r)&&v(l[r],s,c);r=!0}else o.registrationName?(v(o.registrationName,s,c),r=!0):r=!1;if(!r)throw Error(a(98,i,e))}}}}function v(e,t,n){if(y[e])throw Error(a(100,e));y[e]=t,C[e]=t.eventTypes[n].dependencies}var I=[],b={},y={},C={};function A(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];if(!S.hasOwnProperty(t)||S[t]!==i){if(S[t])throw Error(a(102,t));S[t]=i,n=!0}}n&&T()}var O=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),N=null,R=null,P=null;function w(e){if(e=g(e)){if("function"!=typeof N)throw Error(a(280));var t=e.stateNode;t&&(t=f(t),N(e.stateNode,e.type,t))}}function M(e){R?P?P.push(e):P=[e]:R=e}function D(){if(R){var e=R,t=P;if(P=R=null,w(e),t)for(e=0;e<t.length;e++)w(t[e])}}function L(e,t){return e(t)}function x(e,t,n,i,r){return e(t,n,i,r)}function k(){}var U=L,G=!1,F=!1;function B(){null===R&&null===P||(k(),D())}function V(e,t,n){if(F)return e(t,n);F=!0;try{return U(e,t,n)}finally{F=!1,B()}}var W=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,j=Object.prototype.hasOwnProperty,H={},z={};function Y(e,t,n,i,r,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var K={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){K[e]=new Y(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];K[t]=new Y(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){K[e]=new Y(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){K[e]=new Y(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){K[e]=new Y(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){K[e]=new Y(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){K[e]=new Y(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){K[e]=new Y(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){K[e]=new Y(e,5,!1,e.toLowerCase(),null,!1)}));var q=/[\-:]([a-z])/g;function Q(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(q,Q);K[t]=new Y(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(q,Q);K[t]=new Y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(q,Q);K[t]=new Y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){K[e]=new Y(e,1,!1,e.toLowerCase(),null,!1)})),K.xlinkHref=new Y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){K[e]=new Y(e,1,!1,e.toLowerCase(),null,!0)}));var J=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function X(e,t,n,i){var r=K.hasOwnProperty(t)?K[t]:null;(null!==r?0===r.type:!i&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,i){if(null==t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!j.call(z,e)||!j.call(H,e)&&(W.test(e)?z[e]=!0:(H[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}J.hasOwnProperty("ReactCurrentDispatcher")||(J.ReactCurrentDispatcher={current:null}),J.hasOwnProperty("ReactCurrentBatchConfig")||(J.ReactCurrentBatchConfig={suspense:null});var $=/^(.*)[\\\/]/,Z="function"==typeof Symbol&&Symbol.for,ee=Z?Symbol.for("react.element"):60103,te=Z?Symbol.for("react.portal"):60106,ne=Z?Symbol.for("react.fragment"):60107,ie=Z?Symbol.for("react.strict_mode"):60108,re=Z?Symbol.for("react.profiler"):60114,oe=Z?Symbol.for("react.provider"):60109,ae=Z?Symbol.for("react.context"):60110,se=Z?Symbol.for("react.concurrent_mode"):60111,ce=Z?Symbol.for("react.forward_ref"):60112,le=Z?Symbol.for("react.suspense"):60113,ue=Z?Symbol.for("react.suspense_list"):60120,de=Z?Symbol.for("react.memo"):60115,pe=Z?Symbol.for("react.lazy"):60116,he=Z?Symbol.for("react.block"):60121,fe="function"==typeof Symbol&&Symbol.iterator;function ge(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=fe&&e[fe]||e["@@iterator"])?e:null}function me(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case re:return"Profiler";case ie:return"StrictMode";case le:return"Suspense";case ue:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case oe:return"Context.Provider";case ce:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case de:return me(e.type);case he:return me(e.render);case pe:if(e=1===e._status?e._result:null)return me(e)}return null}function Ee(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var i=e._debugOwner,r=e._debugSource,o=me(e.type);n=null,i&&(n=me(i.type)),i=o,o="",r?o=" (at "+r.fileName.replace($,"")+":"+r.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(i||"Unknown")+o}t+=n,e=e.return}while(e);return t}function _e(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Se(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Te(e){e._valueTracker||(e._valueTracker=function(e){var t=Se(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ve(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Se(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function Ie(e,t){var n=t.checked;return r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function be(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=_e(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ye(e,t){null!=(t=t.checked)&&X(e,"checked",t,!1)}function Ce(e,t){ye(e,t);var n=_e(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?Oe(e,t.type,n):t.hasOwnProperty("defaultValue")&&Oe(e,t.type,_e(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ae(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Oe(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ne(e,t){return e=r({children:void 0},t),(t=function(e){var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Re(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+_e(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function Pe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function we(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:_e(n)}}function Me(e,t){var n=_e(t.value),i=_e(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function De(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Le="http://www.w3.org/1999/xhtml",xe="http://www.w3.org/2000/svg";function ke(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ke(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ge,Fe=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==xe||"innerHTML"in e)e.innerHTML=t;else{for((Ge=Ge||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ge.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Be(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ve(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},je={},He={};function ze(e){if(je[e])return je[e];if(!We[e])return e;var t,n=We[e];for(t in n)if(n.hasOwnProperty(t)&&t in He)return je[e]=n[t];return e}O&&(He=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);var Ye=ze("animationend"),Ke=ze("animationiteration"),qe=ze("animationstart"),Qe=ze("transitionend"),Je="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xe=new("function"==typeof WeakMap?WeakMap:Map);function $e(e){var t=Xe.get(e);return void 0===t&&(t=new Map,Xe.set(e,t)),t}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Ze(e)!==e)throw Error(a(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return tt(r),e;if(o===i)return tt(r),t;o=o.sibling}throw Error(a(188))}if(n.return!==i.return)n=r,i=o;else{for(var s=!1,c=r.child;c;){if(c===n){s=!0,n=r,i=o;break}if(c===i){s=!0,i=r,n=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===n){s=!0,n=o,i=r;break}if(c===i){s=!0,i=o,n=r;break}c=c.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function rt(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var i=0;i<t.length&&!e.isPropagationStopped();i++)E(e,t[i],n[i]);else t&&E(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(ot=it(ot,e)),e=ot,ot=null,e){if(rt(e,at),ot)throw Error(a(95));if(u)throw e=d,u=!1,d=null,e}}function ct(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function lt(e){if(!O)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var ut=[];function dt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ut.length&&ut.push(e)}function pt(e,t,n,i){if(ut.length){var r=ut.pop();return r.topLevelType=e,r.eventSystemFlags=i,r.nativeEvent=t,r.targetInst=n,r}return{topLevelType:e,eventSystemFlags:i,nativeEvent:t,targetInst:n,ancestors:[]}}function ht(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var i=n;if(3===i.tag)i=i.stateNode.containerInfo;else{for(;i.return;)i=i.return;i=3!==i.tag?null:i.stateNode.containerInfo}if(!i)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=On(i)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var r=ct(e.nativeEvent);i=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,c=0;c<I.length;c++){var l=I[c];l&&(l=l.extractEvents(i,t,o,r,a))&&(s=it(s,l))}st(s)}}function ft(e,t,n){if(!n.has(e)){switch(e){case"scroll":qt(t,"scroll",!0);break;case"focus":case"blur":qt(t,"focus",!0),qt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":lt(e)&&qt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Je.indexOf(e)&&Kt(e,t)}n.set(e,null)}}var gt,mt,Et,_t=!1,St=[],Tt=null,vt=null,It=null,bt=new Map,yt=new Map,Ct=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ot="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Nt(e,t,n,i,r){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:r,container:i}}function Rt(e,t){switch(e){case"focus":case"blur":Tt=null;break;case"dragenter":case"dragleave":vt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":bt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yt.delete(t.pointerId)}}function Pt(e,t,n,i,r,o){return null===e||e.nativeEvent!==o?(e=Nt(t,n,i,r,o),null!==t&&(null!==(t=Nn(t))&&mt(t)),e):(e.eventSystemFlags|=i,e)}function wt(e){var t=On(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;var t=$t(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Nn(t);return null!==n&&mt(n),e.blockedOn=t,!1}return!0}function Dt(e,t,n){Mt(e)&&n.delete(t)}function Lt(){for(_t=!1;0<St.length;){var e=St[0];if(null!==e.blockedOn){null!==(e=Nn(e.blockedOn))&&gt(e);break}var t=$t(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:St.shift()}null!==Tt&&Mt(Tt)&&(Tt=null),null!==vt&&Mt(vt)&&(vt=null),null!==It&&Mt(It)&&(It=null),bt.forEach(Dt),yt.forEach(Dt)}function xt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Lt)))}function kt(e){function t(t){return xt(t,e)}if(0<St.length){xt(St[0],e);for(var n=1;n<St.length;n++){var i=St[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==Tt&&xt(Tt,e),null!==vt&&xt(vt,e),null!==It&&xt(It,e),bt.forEach(t),yt.forEach(t),n=0;n<Ct.length;n++)(i=Ct[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Ct.length&&null===(n=Ct[0]).blockedOn;)wt(n),null===n.blockedOn&&Ct.shift()}var Ut={},Gt=new Map,Ft=new Map,Bt=["abort","abort",Ye,"animationEnd",Ke,"animationIteration",qe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Qe,"transitionEnd","waiting","waiting"];function Vt(e,t){for(var n=0;n<e.length;n+=2){var i=e[n],r=e[n+1],o="on"+(r[0].toUpperCase()+r.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[i],eventPriority:t},Ft.set(i,t),Gt.set(i,o),Ut[r]=o}}Vt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Vt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Vt(Bt,2);for(var Wt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),jt=0;jt<Wt.length;jt++)Ft.set(Wt[jt],0);var Ht=o.unstable_UserBlockingPriority,zt=o.unstable_runWithPriority,Yt=!0;function Kt(e,t){qt(t,e,!1)}function qt(e,t,n){var i=Ft.get(t);switch(void 0===i?2:i){case 0:i=Qt.bind(null,t,1,e);break;case 1:i=Jt.bind(null,t,1,e);break;default:i=Xt.bind(null,t,1,e)}n?e.addEventListener(t,i,!0):e.addEventListener(t,i,!1)}function Qt(e,t,n,i){G||k();var r=Xt,o=G;G=!0;try{x(r,e,t,n,i)}finally{(G=o)||B()}}function Jt(e,t,n,i){zt(Ht,Xt.bind(null,e,t,n,i))}function Xt(e,t,n,i){if(Yt)if(0<St.length&&-1<At.indexOf(e))e=Nt(null,e,t,n,i),St.push(e);else{var r=$t(e,t,n,i);if(null===r)Rt(e,i);else if(-1<At.indexOf(e))e=Nt(r,e,t,n,i),St.push(e);else if(!function(e,t,n,i,r){switch(t){case"focus":return Tt=Pt(Tt,e,t,n,i,r),!0;case"dragenter":return vt=Pt(vt,e,t,n,i,r),!0;case"mouseover":return It=Pt(It,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return bt.set(o,Pt(bt.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,yt.set(o,Pt(yt.get(o)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i)){Rt(e,i),e=pt(e,i,null,t);try{V(ht,e)}finally{dt(e)}}}}function $t(e,t,n,i){if(null!==(n=On(n=ct(i)))){var r=Ze(n);if(null===r)n=null;else{var o=r.tag;if(13===o){if(null!==(n=et(r)))return n;n=null}else if(3===o){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}e=pt(e,i,n,t);try{V(ht,e)}finally{dt(e)}return null}var Zt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Zt.hasOwnProperty(e)&&Zt[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=tn(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(Zt).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zt[t]=Zt[e]}))}));var rn=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62,""))}}function an(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=Le;function cn(e,t){var n=$e(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=C[t];for(var i=0;i<t.length;i++)ft(t[i],e,n)}function ln(){}function un(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function dn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pn(e,t){var n,i=dn(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=dn(i)}}function hn(){for(var e=window,t=un();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=un((e=t.contentWindow).document)}return t}function fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gn=null,mn=null;function En(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function _n(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Sn="function"==typeof setTimeout?setTimeout:void 0,Tn="function"==typeof clearTimeout?clearTimeout:void 0;function vn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function In(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var bn=Math.random().toString(36).slice(2),yn="__reactInternalInstance$"+bn,Cn="__reactEventHandlers$"+bn,An="__reactContainere$"+bn;function On(e){var t=e[yn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[An]||n[yn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=In(e);null!==e;){if(n=e[yn])return n;e=In(e)}return t}n=(e=n).parentNode}return null}function Nn(e){return!(e=e[yn]||e[An])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Rn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Pn(e){return e[Cn]||null}function wn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Mn(e,t){var n=e.stateNode;if(!n)return null;var i=f(n);if(!i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}function Dn(e,t,n){(t=Mn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Ln(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=wn(t);for(t=n.length;0<t--;)Dn(n[t],"captured",e);for(t=0;t<n.length;t++)Dn(n[t],"bubbled",e)}}function xn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Mn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function kn(e){e&&e.dispatchConfig.registrationName&&xn(e._targetInst,null,e)}function Un(e){rt(e,Ln)}var Gn=null,Fn=null,Bn=null;function Vn(){if(Bn)return Bn;var e,t,n=Fn,i=n.length,r="value"in Gn?Gn.value:Gn.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===r[o-t];t++);return Bn=r.slice(e,1<t?1-t:void 0)}function Wn(){return!0}function jn(){return!1}function Hn(e,t,n,i){for(var r in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(r)&&((t=e[r])?this[r]=t(n):"target"===r?this.target=i:this[r]=n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Wn:jn,this.isPropagationStopped=jn,this}function zn(e,t,n,i){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,e,t,n,i),r}return new this(e,t,n,i)}function Yn(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Kn(e){e.eventPool=[],e.getPooled=zn,e.release=Yn}r(Hn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){this.isPersistent=Wn},isPersistent:jn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=jn,this._dispatchInstances=this._dispatchListeners=null}}),Hn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Hn.extend=function(e){function t(){}function n(){return i.apply(this,arguments)}var i=this;t.prototype=i.prototype;var o=new t;return r(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=r({},i.Interface,e),n.extend=i.extend,Kn(n),n},Kn(Hn);var qn=Hn.extend({data:null}),Qn=Hn.extend({data:null}),Jn=[9,13,27,32],Xn=O&&"CompositionEvent"in window,$n=null;O&&"documentMode"in document&&($n=document.documentMode);var Zn=O&&"TextEvent"in window&&!$n,ei=O&&(!Xn||$n&&8<$n&&11>=$n),ti=String.fromCharCode(32),ni={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ii=!1;function ri(e,t){switch(e){case"keyup":return-1!==Jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function oi(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var ai=!1;var si={eventTypes:ni,extractEvents:function(e,t,n,i){var r;if(Xn)e:{switch(e){case"compositionstart":var o=ni.compositionStart;break e;case"compositionend":o=ni.compositionEnd;break e;case"compositionupdate":o=ni.compositionUpdate;break e}o=void 0}else ai?ri(e,n)&&(o=ni.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=ni.compositionStart);return o?(ei&&"ko"!==n.locale&&(ai||o!==ni.compositionStart?o===ni.compositionEnd&&ai&&(r=Vn()):(Fn="value"in(Gn=i)?Gn.value:Gn.textContent,ai=!0)),o=qn.getPooled(o,t,n,i),r?o.data=r:null!==(r=oi(n))&&(o.data=r),Un(o),r=o):r=null,(e=Zn?function(e,t){switch(e){case"compositionend":return oi(t);case"keypress":return 32!==t.which?null:(ii=!0,ti);case"textInput":return(e=t.data)===ti&&ii?null:e;default:return null}}(e,n):function(e,t){if(ai)return"compositionend"===e||!Xn&&ri(e,t)?(e=Vn(),Bn=Fn=Gn=null,ai=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ei&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Qn.getPooled(ni.beforeInput,t,n,i)).data=e,Un(t)):t=null,null===r?t:null===t?r:[r,t]}},ci={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function li(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!ci[e.type]:"textarea"===t}var ui={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function di(e,t,n){return(e=Hn.getPooled(ui.change,e,t,n)).type="change",M(n),Un(e),e}var pi=null,hi=null;function fi(e){st(e)}function gi(e){if(ve(Rn(e)))return e}function mi(e,t){if("change"===e)return t}var Ei=!1;function _i(){pi&&(pi.detachEvent("onpropertychange",Si),hi=pi=null)}function Si(e){if("value"===e.propertyName&&gi(hi))if(e=di(hi,e,ct(e)),G)st(e);else{G=!0;try{L(fi,e)}finally{G=!1,B()}}}function Ti(e,t,n){"focus"===e?(_i(),hi=n,(pi=t).attachEvent("onpropertychange",Si)):"blur"===e&&_i()}function vi(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return gi(hi)}function Ii(e,t){if("click"===e)return gi(t)}function bi(e,t){if("input"===e||"change"===e)return gi(t)}O&&(Ei=lt("input")&&(!document.documentMode||9<document.documentMode));var yi={eventTypes:ui,_isInputEventSupported:Ei,extractEvents:function(e,t,n,i){var r=t?Rn(t):window,o=r.nodeName&&r.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===r.type)var a=mi;else if(li(r))if(Ei)a=bi;else{a=vi;var s=Ti}else(o=r.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(a=Ii);if(a&&(a=a(e,t)))return di(a,n,i);s&&s(e,r,t),"blur"===e&&(e=r._wrapperState)&&e.controlled&&"number"===r.type&&Oe(r,"number",r.value)}},Ci=Hn.extend({view:null,detail:null}),Ai={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oi(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ai[e])&&!!t[e]}function Ni(){return Oi}var Ri=0,Pi=0,wi=!1,Mi=!1,Di=Ci.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ni,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Ri;return Ri=e.screenX,wi?"mousemove"===e.type?e.screenX-t:0:(wi=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Pi;return Pi=e.screenY,Mi?"mousemove"===e.type?e.screenY-t:0:(Mi=!0,0)}}),Li=Di.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),xi={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},ki={eventTypes:xi,extractEvents:function(e,t,n,i,r){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0==(32&r)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?On(t):null)&&(t!==Ze(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Di,c=xi.mouseLeave,l=xi.mouseEnter,u="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Li,c=xi.pointerLeave,l=xi.pointerEnter,u="pointer");if(e=null==a?o:Rn(a),o=null==t?o:Rn(t),(c=s.getPooled(c,a,n,i)).type=u+"leave",c.target=e,c.relatedTarget=o,(n=s.getPooled(l,t,n,i)).type=u+"enter",n.target=o,n.relatedTarget=e,u=t,(i=a)&&u)e:{for(l=u,a=0,e=s=i;e;e=wn(e))a++;for(e=0,t=l;t;t=wn(t))e++;for(;0<a-e;)s=wn(s),a--;for(;0<e-a;)l=wn(l),e--;for(;a--;){if(s===l||s===l.alternate)break e;s=wn(s),l=wn(l)}s=null}else s=null;for(l=s,s=[];i&&i!==l&&(null===(a=i.alternate)||a!==l);)s.push(i),i=wn(i);for(i=[];u&&u!==l&&(null===(a=u.alternate)||a!==l);)i.push(u),u=wn(u);for(u=0;u<s.length;u++)xn(s[u],"bubbled",c);for(u=i.length;0<u--;)xn(i[u],"captured",n);return 0==(64&r)?[c]:[c,n]}};var Ui="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Gi=Object.prototype.hasOwnProperty;function Fi(e,t){if(Ui(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!Gi.call(t,n[i])||!Ui(e[n[i]],t[n[i]]))return!1;return!0}var Bi=O&&"documentMode"in document&&11>=document.documentMode,Vi={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Wi=null,ji=null,Hi=null,zi=!1;function Yi(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return zi||null==Wi||Wi!==un(n)?null:("selectionStart"in(n=Wi)&&fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Hi&&Fi(Hi,n)?null:(Hi=n,(e=Hn.getPooled(Vi.select,ji,e,t)).type="select",e.target=Wi,Un(e),e))}var Ki={eventTypes:Vi,extractEvents:function(e,t,n,i,r,o){if(!(o=!(r=o||(i.window===i?i.document:9===i.nodeType?i:i.ownerDocument)))){e:{r=$e(r),o=C.onSelect;for(var a=0;a<o.length;a++)if(!r.has(o[a])){r=!1;break e}r=!0}o=!r}if(o)return null;switch(r=t?Rn(t):window,e){case"focus":(li(r)||"true"===r.contentEditable)&&(Wi=r,ji=t,Hi=null);break;case"blur":Hi=ji=Wi=null;break;case"mousedown":zi=!0;break;case"contextmenu":case"mouseup":case"dragend":return zi=!1,Yi(n,i);case"selectionchange":if(Bi)break;case"keydown":case"keyup":return Yi(n,i)}return null}},qi=Hn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Qi=Hn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ji=Ci.extend({relatedTarget:null});function Xi(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var $i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},er=Ci.extend({key:function(e){if(e.key){var t=$i[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Xi(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Zi[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ni,charCode:function(e){return"keypress"===e.type?Xi(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Xi(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),tr=Di.extend({dataTransfer:null}),nr=Ci.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ni}),ir=Hn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),rr=Di.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),or={eventTypes:Ut,extractEvents:function(e,t,n,i){var r=Gt.get(e);if(!r)return null;switch(e){case"keypress":if(0===Xi(n))return null;case"keydown":case"keyup":e=er;break;case"blur":case"focus":e=Ji;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Di;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=tr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=nr;break;case Ye:case Ke:case qe:e=qi;break;case Qe:e=ir;break;case"scroll":e=Ci;break;case"wheel":e=rr;break;case"copy":case"cut":case"paste":e=Qi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Li;break;default:e=Hn}return Un(t=e.getPooled(r,t,n,i)),t}};if(_)throw Error(a(101));_=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),T(),f=Pn,g=Nn,m=Rn,A({SimpleEventPlugin:or,EnterLeaveEventPlugin:ki,ChangeEventPlugin:yi,SelectEventPlugin:Ki,BeforeInputEventPlugin:si});var ar=[],sr=-1;function cr(e){0>sr||(e.current=ar[sr],ar[sr]=null,sr--)}function lr(e,t){sr++,ar[sr]=e.current,e.current=t}var ur={},dr={current:ur},pr={current:!1},hr=ur;function fr(e,t){var n=e.type.contextTypes;if(!n)return ur;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gr(e){return null!=(e=e.childContextTypes)}function mr(){cr(pr),cr(dr)}function Er(e,t,n){if(dr.current!==ur)throw Error(a(168));lr(dr,t),lr(pr,n)}function _r(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var o in i=i.getChildContext())if(!(o in e))throw Error(a(108,me(t)||"Unknown",o));return r({},n,{},i)}function Sr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ur,hr=dr.current,lr(dr,e),lr(pr,pr.current),!0}function Tr(e,t,n){var i=e.stateNode;if(!i)throw Error(a(169));n?(e=_r(e,t,hr),i.__reactInternalMemoizedMergedChildContext=e,cr(pr),cr(dr),lr(dr,e)):cr(pr),lr(pr,n)}var vr=o.unstable_runWithPriority,Ir=o.unstable_scheduleCallback,br=o.unstable_cancelCallback,yr=o.unstable_requestPaint,Cr=o.unstable_now,Ar=o.unstable_getCurrentPriorityLevel,Or=o.unstable_ImmediatePriority,Nr=o.unstable_UserBlockingPriority,Rr=o.unstable_NormalPriority,Pr=o.unstable_LowPriority,wr=o.unstable_IdlePriority,Mr={},Dr=o.unstable_shouldYield,Lr=void 0!==yr?yr:function(){},xr=null,kr=null,Ur=!1,Gr=Cr(),Fr=1e4>Gr?Cr:function(){return Cr()-Gr};function Br(){switch(Ar()){case Or:return 99;case Nr:return 98;case Rr:return 97;case Pr:return 96;case wr:return 95;default:throw Error(a(332))}}function Vr(e){switch(e){case 99:return Or;case 98:return Nr;case 97:return Rr;case 96:return Pr;case 95:return wr;default:throw Error(a(332))}}function Wr(e,t){return e=Vr(e),vr(e,t)}function jr(e,t,n){return e=Vr(e),Ir(e,t,n)}function Hr(e){return null===xr?(xr=[e],kr=Ir(Or,Yr)):xr.push(e),Mr}function zr(){if(null!==kr){var e=kr;kr=null,br(e)}Yr()}function Yr(){if(!Ur&&null!==xr){Ur=!0;var e=0;try{var t=xr;Wr(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),xr=null}catch(t){throw null!==xr&&(xr=xr.slice(e+1)),Ir(Or,zr),t}finally{Ur=!1}}}function Kr(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function qr(e,t){if(e&&e.defaultProps)for(var n in t=r({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Qr={current:null},Jr=null,Xr=null,$r=null;function Zr(){$r=Xr=Jr=null}function eo(e){var t=Qr.current;cr(Qr),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function no(e,t){Jr=e,$r=Xr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Pa=!0),e.firstContext=null)}function io(e,t){if($r!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||($r=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Xr){if(null===Jr)throw Error(a(308));Xr=t,Jr.dependencies={expirationTime:0,firstContext:t,responders:null}}else Xr=Xr.next=t;return e._currentValue}var ro=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function so(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function co(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function lo(e,t){var n=e.alternate;null!==n&&ao(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function uo(e,t,n,i){var o=e.updateQueue;ro=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var c=a.next;a.next=s.next,s.next=c}a=s,o.shared.pending=null,null!==(c=e.alternate)&&(null!==(c=c.updateQueue)&&(c.baseQueue=s))}if(null!==a){c=a.next;var l=o.baseState,u=0,d=null,p=null,h=null;if(null!==c)for(var f=c;;){if((s=f.expirationTime)<i){var g={expirationTime:f.expirationTime,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null};null===h?(p=h=g,d=l):h=h.next=g,s>u&&(u=s)}else{null!==h&&(h=h.next={expirationTime:1073741823,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null}),oc(s,f.suspenseConfig);e:{var m=e,E=f;switch(s=t,g=n,E.tag){case 1:if("function"==typeof(m=E.payload)){l=m.call(g,l,s);break e}l=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null==(s="function"==typeof(m=E.payload)?m.call(g,l,s):m))break e;l=r({},l,s);break e;case 2:ro=!0}}null!==f.callback&&(e.effectTag|=32,null===(s=o.effects)?o.effects=[f]:s.push(f))}if(null===(f=f.next)||f===c){if(null===(s=o.shared.pending))break;f=a.next=s.next,s.next=c,o.baseQueue=a=s,o.shared.pending=null}}null===h?d=l:h.next=p,o.baseState=d,o.baseQueue=h,ac(u),e.expirationTime=u,e.memoizedState=l}}function po(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=r,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var ho=J.ReactCurrentBatchConfig,fo=(new i.Component).refs;function go(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:r({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var mo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var i=Ys(),r=ho.suspense;(r=so(i=Ks(i,e,r),r)).payload=t,null!=n&&(r.callback=n),co(e,r),qs(e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var i=Ys(),r=ho.suspense;(r=so(i=Ks(i,e,r),r)).tag=1,r.payload=t,null!=n&&(r.callback=n),co(e,r),qs(e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Ys(),i=ho.suspense;(i=so(n=Ks(n,e,i),i)).tag=2,null!=t&&(i.callback=t),co(e,i),qs(e,n)}};function Eo(e,t,n,i,r,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Fi(n,i)||!Fi(r,o))}function _o(e,t,n){var i=!1,r=ur,o=t.contextType;return"object"==typeof o&&null!==o?o=io(o):(r=gr(t)?hr:dr.current,o=(i=null!=(i=t.contextTypes))?fr(e,r):ur),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mo,e.stateNode=t,t._reactInternalFiber=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function So(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function To(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=fo,oo(e);var o=t.contextType;"object"==typeof o&&null!==o?r.context=io(o):(o=gr(t)?hr:dr.current,r.context=fr(e,o)),uo(e,n,r,i),r.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(go(e,t,o,n),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&mo.enqueueReplaceState(r,r.state,null),uo(e,n,r,i),r.state=e.memoizedState),"function"==typeof r.componentDidMount&&(e.effectTag|=4)}var vo=Array.isArray;function Io(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var i=n.stateNode}if(!i)throw Error(a(147,e));var r=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===r?t.ref:((t=function(e){var t=i.refs;t===fo&&(t=i.refs={}),null===e?delete t[r]:t[r]=e})._stringRef=r,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function bo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function yo(e){function t(t,n){if(e){var i=t.lastEffect;null!==i?(i.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Ac(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.effectTag=2,n):i:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,n,i){return null===t||6!==t.tag?((t=Rc(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function l(e,t,n,i){return null!==t&&t.elementType===n.type?((i=r(t,n.props)).ref=Io(e,t,n),i.return=e,i):((i=Oc(n.type,n.key,n.props,null,e.mode,i)).ref=Io(e,t,n),i.return=e,i)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Pc(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,i,o){return null===t||7!==t.tag?((t=Nc(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Rc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=Io(e,null,t),n.return=e,n;case te:return(t=Pc(t,e.mode,n)).return=e,t}if(vo(t)||ge(t))return(t=Nc(t,e.mode,n,null)).return=e,t;bo(e,t)}return null}function h(e,t,n,i){var r=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==r?null:c(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===r?n.type===ne?d(e,t,n.props.children,i,r):l(e,t,n,i):null;case te:return n.key===r?u(e,t,n,i):null}if(vo(n)||ge(n))return null!==r?null:d(e,t,n,i,null);bo(e,n)}return null}function f(e,t,n,i,r){if("string"==typeof i||"number"==typeof i)return c(t,e=e.get(n)||null,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case ee:return e=e.get(null===i.key?n:i.key)||null,i.type===ne?d(t,e,i.props.children,r,i.key):l(t,e,i,r);case te:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r)}if(vo(i)||ge(i))return d(t,e=e.get(n)||null,i,r,null);bo(t,i)}return null}function g(r,a,s,c){for(var l=null,u=null,d=a,g=a=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var E=h(r,d,s[g],c);if(null===E){null===d&&(d=m);break}e&&d&&null===E.alternate&&t(r,d),a=o(E,a,g),null===u?l=E:u.sibling=E,u=E,d=m}if(g===s.length)return n(r,d),l;if(null===d){for(;g<s.length;g++)null!==(d=p(r,s[g],c))&&(a=o(d,a,g),null===u?l=d:u.sibling=d,u=d);return l}for(d=i(r,d);g<s.length;g++)null!==(m=f(d,r,g,s[g],c))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),a=o(m,a,g),null===u?l=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(r,e)})),l}function m(r,s,c,l){var u=ge(c);if("function"!=typeof u)throw Error(a(150));if(null==(c=u.call(c)))throw Error(a(151));for(var d=u=null,g=s,m=s=0,E=null,_=c.next();null!==g&&!_.done;m++,_=c.next()){g.index>m?(E=g,g=null):E=g.sibling;var S=h(r,g,_.value,l);if(null===S){null===g&&(g=E);break}e&&g&&null===S.alternate&&t(r,g),s=o(S,s,m),null===d?u=S:d.sibling=S,d=S,g=E}if(_.done)return n(r,g),u;if(null===g){for(;!_.done;m++,_=c.next())null!==(_=p(r,_.value,l))&&(s=o(_,s,m),null===d?u=_:d.sibling=_,d=_);return u}for(g=i(r,g);!_.done;m++,_=c.next())null!==(_=f(g,r,m,_.value,l))&&(e&&null!==_.alternate&&g.delete(null===_.key?m:_.key),s=o(_,s,m),null===d?u=_:d.sibling=_,d=_);return e&&g.forEach((function(e){return t(r,e)})),u}return function(e,i,o,c){var l="object"==typeof o&&null!==o&&o.type===ne&&null===o.key;l&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case ee:e:{for(u=o.key,l=i;null!==l;){if(l.key===u){switch(l.tag){case 7:if(o.type===ne){n(e,l.sibling),(i=r(l,o.props.children)).return=e,e=i;break e}break;default:if(l.elementType===o.type){n(e,l.sibling),(i=r(l,o.props)).ref=Io(e,l,o),i.return=e,e=i;break e}}n(e,l);break}t(e,l),l=l.sibling}o.type===ne?((i=Nc(o.props.children,e.mode,c,o.key)).return=e,e=i):((c=Oc(o.type,o.key,o.props,null,e.mode,c)).ref=Io(e,i,o),c.return=e,e=c)}return s(e);case te:e:{for(l=o.key;null!==i;){if(i.key===l){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(e,i.sibling),(i=r(i,o.children||[])).return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}(i=Pc(o,e.mode,c)).return=e,e=i}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==i&&6===i.tag?(n(e,i.sibling),(i=r(i,o)).return=e,e=i):(n(e,i),(i=Rc(o,e.mode,c)).return=e,e=i),s(e);if(vo(o))return g(e,i,o,c);if(ge(o))return m(e,i,o,c);if(u&&bo(e,o),void 0===o&&!l)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,i)}}var Co=yo(!0),Ao=yo(!1),Oo={},No={current:Oo},Ro={current:Oo},Po={current:Oo};function wo(e){if(e===Oo)throw Error(a(174));return e}function Mo(e,t){switch(lr(Po,t),lr(Ro,e),lr(No,Oo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ue(null,"");break;default:t=Ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}cr(No),lr(No,t)}function Do(){cr(No),cr(Ro),cr(Po)}function Lo(e){wo(Po.current);var t=wo(No.current),n=Ue(t,e.type);t!==n&&(lr(Ro,e),lr(No,n))}function xo(e){Ro.current===e&&(cr(No),cr(Ro))}var ko={current:0};function Uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Go(e,t){return{responder:e,props:t}}var Fo=J.ReactCurrentDispatcher,Bo=J.ReactCurrentBatchConfig,Vo=0,Wo=null,jo=null,Ho=null,zo=!1;function Yo(){throw Error(a(321))}function Ko(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ui(e[n],t[n]))return!1;return!0}function qo(e,t,n,i,r,o){if(Vo=o,Wo=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Fo.current=null===e||null===e.memoizedState?Ea:_a,e=n(i,r),t.expirationTime===Vo){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Ho=jo=null,t.updateQueue=null,Fo.current=Sa,e=n(i,r)}while(t.expirationTime===Vo)}if(Fo.current=ma,t=null!==jo&&null!==jo.next,Vo=0,Ho=jo=Wo=null,zo=!1,t)throw Error(a(300));return e}function Qo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ho?Wo.memoizedState=Ho=e:Ho=Ho.next=e,Ho}function Jo(){if(null===jo){var e=Wo.alternate;e=null!==e?e.memoizedState:null}else e=jo.next;var t=null===Ho?Wo.memoizedState:Ho.next;if(null!==t)Ho=t,jo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(jo=e).memoizedState,baseState:jo.baseState,baseQueue:jo.baseQueue,queue:jo.queue,next:null},null===Ho?Wo.memoizedState=Ho=e:Ho=Ho.next=e}return Ho}function Xo(e,t){return"function"==typeof t?t(e):t}function $o(e){var t=Jo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=jo,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var s=r.next;r.next=o.next,o.next=s}i.baseQueue=r=o,n.pending=null}if(null!==r){r=r.next,i=i.baseState;var c=s=o=null,l=r;do{var u=l.expirationTime;if(u<Vo){var d={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===c?(s=c=d,o=i):c=c.next=d,u>Wo.expirationTime&&(Wo.expirationTime=u,ac(u))}else null!==c&&(c=c.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),oc(u,l.suspenseConfig),i=l.eagerReducer===e?l.eagerState:e(i,l.action);l=l.next}while(null!==l&&l!==r);null===c?o=i:c.next=s,Ui(i,t.memoizedState)||(Pa=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=c,n.lastRenderedState=i}return[t.memoizedState,n.dispatch]}function Zo(e){var t=Jo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{o=e(o,s.action),s=s.next}while(s!==r);Ui(o,t.memoizedState)||(Pa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function ea(e){var t=Qo();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:e}).dispatch=ga.bind(null,Wo,e),[t.memoizedState,e]}function ta(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=Wo.updateQueue)?(t={lastEffect:null},Wo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function na(){return Jo().memoizedState}function ia(e,t,n,i){var r=Qo();Wo.effectTag|=e,r.memoizedState=ta(1|t,n,void 0,void 0===i?null:i)}function ra(e,t,n,i){var r=Jo();i=void 0===i?null:i;var o=void 0;if(null!==jo){var a=jo.memoizedState;if(o=a.destroy,null!==i&&Ko(i,a.deps))return void ta(t,n,o,i)}Wo.effectTag|=e,r.memoizedState=ta(1|t,n,o,i)}function oa(e,t){return ia(516,4,e,t)}function aa(e,t){return ra(516,4,e,t)}function sa(e,t){return ra(4,2,e,t)}function ca(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function la(e,t,n){return n=null!=n?n.concat([e]):null,ra(4,2,ca.bind(null,t,e),n)}function ua(){}function da(e,t){return Qo().memoizedState=[e,void 0===t?null:t],e}function pa(e,t){var n=Jo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Ko(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function ha(e,t){var n=Jo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Ko(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function fa(e,t,n){var i=Br();Wr(98>i?98:i,(function(){e(!0)})),Wr(97<i?97:i,(function(){var i=Bo.suspense;Bo.suspense=void 0===t?null:t;try{e(!1),n()}finally{Bo.suspense=i}}))}function ga(e,t,n){var i=Ys(),r=ho.suspense;r={expirationTime:i=Ks(i,e,r),suspenseConfig:r,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?r.next=r:(r.next=o.next,o.next=r),t.pending=r,o=e.alternate,e===Wo||null!==o&&o===Wo)zo=!0,r.expirationTime=Vo,Wo.expirationTime=Vo;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(r.eagerReducer=o,r.eagerState=s,Ui(s,a))return}catch(e){}qs(e,i)}}var ma={readContext:io,useCallback:Yo,useContext:Yo,useEffect:Yo,useImperativeHandle:Yo,useLayoutEffect:Yo,useMemo:Yo,useReducer:Yo,useRef:Yo,useState:Yo,useDebugValue:Yo,useResponder:Yo,useDeferredValue:Yo,useTransition:Yo},Ea={readContext:io,useCallback:da,useContext:io,useEffect:oa,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ia(4,2,ca.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ia(4,2,e,t)},useMemo:function(e,t){var n=Qo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Qo();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e=(e=i.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ga.bind(null,Wo,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Qo().memoizedState=e},useState:ea,useDebugValue:ua,useResponder:Go,useDeferredValue:function(e,t){var n=ea(e),i=n[0],r=n[1];return oa((function(){var n=Bo.suspense;Bo.suspense=void 0===t?null:t;try{r(e)}finally{Bo.suspense=n}}),[e,t]),i},useTransition:function(e){var t=ea(!1),n=t[0];return t=t[1],[da(fa.bind(null,t,e),[t,e]),n]}},_a={readContext:io,useCallback:pa,useContext:io,useEffect:aa,useImperativeHandle:la,useLayoutEffect:sa,useMemo:ha,useReducer:$o,useRef:na,useState:function(){return $o(Xo)},useDebugValue:ua,useResponder:Go,useDeferredValue:function(e,t){var n=$o(Xo),i=n[0],r=n[1];return aa((function(){var n=Bo.suspense;Bo.suspense=void 0===t?null:t;try{r(e)}finally{Bo.suspense=n}}),[e,t]),i},useTransition:function(e){var t=$o(Xo),n=t[0];return t=t[1],[pa(fa.bind(null,t,e),[t,e]),n]}},Sa={readContext:io,useCallback:pa,useContext:io,useEffect:aa,useImperativeHandle:la,useLayoutEffect:sa,useMemo:ha,useReducer:Zo,useRef:na,useState:function(){return Zo(Xo)},useDebugValue:ua,useResponder:Go,useDeferredValue:function(e,t){var n=Zo(Xo),i=n[0],r=n[1];return aa((function(){var n=Bo.suspense;Bo.suspense=void 0===t?null:t;try{r(e)}finally{Bo.suspense=n}}),[e,t]),i},useTransition:function(e){var t=Zo(Xo),n=t[0];return t=t[1],[pa(fa.bind(null,t,e),[t,e]),n]}},Ta=null,va=null,Ia=!1;function ba(e,t){var n=yc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function ya(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ca(e){if(Ia){var t=va;if(t){var n=t;if(!ya(e,t)){if(!(t=vn(n.nextSibling))||!ya(e,t))return e.effectTag=-1025&e.effectTag|2,Ia=!1,void(Ta=e);ba(Ta,n)}Ta=e,va=vn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Ia=!1,Ta=e}}function Aa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ta=e}function Oa(e){if(e!==Ta)return!1;if(!Ia)return Aa(e),Ia=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!_n(t,e.memoizedProps))for(t=va;t;)ba(e,t),t=vn(t.nextSibling);if(Aa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){va=vn(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}va=null}}else va=Ta?vn(e.stateNode.nextSibling):null;return!0}function Na(){va=Ta=null,Ia=!1}var Ra=J.ReactCurrentOwner,Pa=!1;function wa(e,t,n,i){t.child=null===e?Ao(t,null,n,i):Co(t,e.child,n,i)}function Ma(e,t,n,i,r){n=n.render;var o=t.ref;return no(t,r),i=qo(e,t,n,i,o,r),null===e||Pa?(t.effectTag|=1,wa(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),qa(e,t,r))}function Da(e,t,n,i,r,o){if(null===e){var a=n.type;return"function"!=typeof a||Cc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,i,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,La(e,t,a,i,r,o))}return a=e.child,r<o&&(r=a.memoizedProps,(n=null!==(n=n.compare)?n:Fi)(r,i)&&e.ref===t.ref)?qa(e,t,o):(t.effectTag|=1,(e=Ac(a,i)).ref=t.ref,e.return=t,t.child=e)}function La(e,t,n,i,r,o){return null!==e&&Fi(e.memoizedProps,i)&&e.ref===t.ref&&(Pa=!1,r<o)?(t.expirationTime=e.expirationTime,qa(e,t,o)):ka(e,t,n,i,o)}function xa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function ka(e,t,n,i,r){var o=gr(n)?hr:dr.current;return o=fr(t,o),no(t,r),n=qo(e,t,n,i,o,r),null===e||Pa?(t.effectTag|=1,wa(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),qa(e,t,r))}function Ua(e,t,n,i,r){if(gr(n)){var o=!0;Sr(t)}else o=!1;if(no(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),_o(t,n,i),To(t,n,i,r),i=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,l=n.contextType;"object"==typeof l&&null!==l?l=io(l):l=fr(t,l=gr(n)?hr:dr.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==i||c!==l)&&So(t,a,i,l),ro=!1;var p=t.memoizedState;a.state=p,uo(t,i,a,r),c=t.memoizedState,s!==i||p!==c||pr.current||ro?("function"==typeof u&&(go(t,n,u,i),c=t.memoizedState),(s=ro||Eo(t,n,s,i,p,c,l))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=i,t.memoizedState=c),a.props=i,a.state=c,a.context=l,i=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),i=!1)}else a=t.stateNode,ao(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:qr(t.type,s),c=a.context,"object"==typeof(l=n.contextType)&&null!==l?l=io(l):l=fr(t,l=gr(n)?hr:dr.current),(d="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==i||c!==l)&&So(t,a,i,l),ro=!1,c=t.memoizedState,a.state=c,uo(t,i,a,r),p=t.memoizedState,s!==i||c!==p||pr.current||ro?("function"==typeof u&&(go(t,n,u,i),p=t.memoizedState),(u=ro||Eo(t,n,s,i,c,p,l))?(d||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(i,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,p,l)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=i,t.memoizedState=p),a.props=i,a.state=p,a.context=l,i=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),i=!1);return Ga(e,t,n,i,o,r)}function Ga(e,t,n,i,r,o){xa(e,t);var a=0!=(64&t.effectTag);if(!i&&!a)return r&&Tr(t,n,!1),qa(e,t,o);i=t.stateNode,Ra.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:i.render();return t.effectTag|=1,null!==e&&a?(t.child=Co(t,e.child,null,o),t.child=Co(t,null,s,o)):wa(e,t,s,o),t.memoizedState=i.state,r&&Tr(t,n,!0),t.child}function Fa(e){var t=e.stateNode;t.pendingContext?Er(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Er(0,t.context,!1),Mo(e,t.containerInfo)}var Ba,Va,Wa,ja={dehydrated:null,retryTime:0};function Ha(e,t,n){var i,r=t.mode,o=t.pendingProps,a=ko.current,s=!1;if((i=0!=(64&t.effectTag))||(i=0!=(2&a)&&(null===e||null!==e.memoizedState)),i?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),lr(ko,1&a),null===e){if(void 0!==o.fallback&&Ca(t),s){if(s=o.fallback,(o=Nc(null,r,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Nc(s,r,n,null)).return=t,o.sibling=n,t.memoizedState=ja,t.child=o,n}return r=o.children,t.memoizedState=null,t.child=Ao(t,null,r,n)}if(null!==e.memoizedState){if(r=(e=e.child).sibling,s){if(o=o.fallback,(n=Ac(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(r=Ac(r,o)).return=t,n.sibling=r,n.childExpirationTime=0,t.memoizedState=ja,t.child=n,r}return n=Co(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=Nc(null,r,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Nc(s,r,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=ja,t.child=o,n}return t.memoizedState=null,t.child=Co(t,e,o.children,n)}function za(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),to(e.return,t)}function Ya(e,t,n,i,r,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailExpiration:0,tailMode:r,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailExpiration=0,a.tailMode=r,a.lastEffect=o)}function Ka(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(wa(e,t,i.children,n),0!=(2&(i=ko.current)))i=1&i|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&za(e,n);else if(19===e.tag)za(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(lr(ko,i),0==(2&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===Uo(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Ya(t,!1,r,n,o,t.lastEffect);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===Uo(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Ya(t,!0,n,null,o,t.lastEffect);break;case"together":Ya(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function qa(e,t,n){null!==e&&(t.dependencies=e.dependencies);var i=t.expirationTime;if(0!==i&&ac(i),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ac(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ac(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Qa(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ja(e,t,n){var i=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return gr(t.type)&&mr(),null;case 3:return Do(),cr(pr),cr(dr),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Oa(t)||(t.effectTag|=4),null;case 5:xo(t),n=wo(Po.current);var o=t.type;if(null!==e&&null!=t.stateNode)Va(e,t,o,i,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!i){if(null===t.stateNode)throw Error(a(166));return null}if(e=wo(No.current),Oa(t)){i=t.stateNode,o=t.type;var s=t.memoizedProps;switch(i[yn]=t,i[Cn]=s,o){case"iframe":case"object":case"embed":Kt("load",i);break;case"video":case"audio":for(e=0;e<Je.length;e++)Kt(Je[e],i);break;case"source":Kt("error",i);break;case"img":case"image":case"link":Kt("error",i),Kt("load",i);break;case"form":Kt("reset",i),Kt("submit",i);break;case"details":Kt("toggle",i);break;case"input":be(i,s),Kt("invalid",i),cn(n,"onChange");break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Kt("invalid",i),cn(n,"onChange");break;case"textarea":we(i,s),Kt("invalid",i),cn(n,"onChange")}for(var c in on(o,s),e=null,s)if(s.hasOwnProperty(c)){var l=s[c];"children"===c?"string"==typeof l?i.textContent!==l&&(e=["children",l]):"number"==typeof l&&i.textContent!==""+l&&(e=["children",""+l]):y.hasOwnProperty(c)&&null!=l&&cn(n,c)}switch(o){case"input":Te(i),Ae(i,s,!0);break;case"textarea":Te(i),De(i);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(i.onclick=ln)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(c=9===n.nodeType?n:n.ownerDocument,e===sn&&(e=ke(o)),e===sn?"script"===o?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof i.is?e=c.createElement(o,{is:i.is}):(e=c.createElement(o),"select"===o&&(c=e,i.multiple?c.multiple=!0:i.size&&(c.size=i.size))):e=c.createElementNS(e,o),e[yn]=t,e[Cn]=i,Ba(e,t),t.stateNode=e,c=an(o,i),o){case"iframe":case"object":case"embed":Kt("load",e),l=i;break;case"video":case"audio":for(l=0;l<Je.length;l++)Kt(Je[l],e);l=i;break;case"source":Kt("error",e),l=i;break;case"img":case"image":case"link":Kt("error",e),Kt("load",e),l=i;break;case"form":Kt("reset",e),Kt("submit",e),l=i;break;case"details":Kt("toggle",e),l=i;break;case"input":be(e,i),l=Ie(e,i),Kt("invalid",e),cn(n,"onChange");break;case"option":l=Ne(e,i);break;case"select":e._wrapperState={wasMultiple:!!i.multiple},l=r({},i,{value:void 0}),Kt("invalid",e),cn(n,"onChange");break;case"textarea":we(e,i),l=Pe(e,i),Kt("invalid",e),cn(n,"onChange");break;default:l=i}on(o,l);var u=l;for(s in u)if(u.hasOwnProperty(s)){var d=u[s];"style"===s?nn(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&Fe(e,d):"children"===s?"string"==typeof d?("textarea"!==o||""!==d)&&Be(e,d):"number"==typeof d&&Be(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(y.hasOwnProperty(s)?null!=d&&cn(n,s):null!=d&&X(e,s,d,c))}switch(o){case"input":Te(e),Ae(e,i,!1);break;case"textarea":Te(e),De(e);break;case"option":null!=i.value&&e.setAttribute("value",""+_e(i.value));break;case"select":e.multiple=!!i.multiple,null!=(n=i.value)?Re(e,!!i.multiple,n,!1):null!=i.defaultValue&&Re(e,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof l.onClick&&(e.onclick=ln)}En(o,i)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Wa(0,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(a(166));n=wo(Po.current),wo(No.current),Oa(t)?(n=t.stateNode,i=t.memoizedProps,n[yn]=t,n.nodeValue!==i&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[yn]=t,t.stateNode=n)}return null;case 13:return cr(ko),i=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==i,i=!1,null===e?void 0!==t.memoizedProps.fallback&&Oa(t):(i=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=o,o.nextEffect=s):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!i&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&ko.current)?Os===Ts&&(Os=vs):(Os!==Ts&&Os!==vs||(Os=Is),0!==Ms&&null!==ys&&(Dc(ys,As),Lc(ys,Ms)))),(n||i)&&(t.effectTag|=4),null);case 4:return Do(),null;case 10:return eo(t),null;case 17:return gr(t.type)&&mr(),null;case 19:if(cr(ko),null===(i=t.memoizedState))return null;if(o=0!=(64&t.effectTag),null===(s=i.rendering)){if(o)Qa(i,!1);else if(Os!==Ts||null!==e&&0!=(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Uo(s))){for(t.effectTag|=64,Qa(i,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,i=t.child;null!==i;)s=n,(o=i).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),i=i.sibling;return lr(ko,1&ko.current|2),t.child}s=s.sibling}}else{if(!o)if(null!==(e=Uo(s))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Qa(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate)return null!==(t=t.lastEffect=i.lastEffect)&&(t.nextEffect=null),null}else 2*Fr()-i.renderingStartTime>i.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,Qa(i,!1),t.expirationTime=t.childExpirationTime=n-1);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=i.last)?n.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(0===i.tailExpiration&&(i.tailExpiration=Fr()+500),n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=t.lastEffect,i.renderingStartTime=Fr(),n.sibling=null,t=ko.current,lr(ko,o?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function Xa(e){switch(e.tag){case 1:gr(e.type)&&mr();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Do(),cr(pr),cr(dr),0!=(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return xo(e),null;case 13:return cr(ko),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return cr(ko),null;case 4:return Do(),null;case 10:return eo(e),null;default:return null}}function $a(e,t){return{value:e,source:t,stack:Ee(t)}}Ba=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Va=function(e,t,n,i,o){var a=e.memoizedProps;if(a!==i){var s,c,l=t.stateNode;switch(wo(No.current),e=null,n){case"input":a=Ie(l,a),i=Ie(l,i),e=[];break;case"option":a=Ne(l,a),i=Ne(l,i),e=[];break;case"select":a=r({},a,{value:void 0}),i=r({},i,{value:void 0}),e=[];break;case"textarea":a=Pe(l,a),i=Pe(l,i),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof i.onClick&&(l.onclick=ln)}for(s in on(n,i),n=null,a)if(!i.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(c in l=a[s])l.hasOwnProperty(c)&&(n||(n={}),n[c]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(y.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in i){var u=i[s];if(l=null!=a?a[s]:void 0,i.hasOwnProperty(s)&&u!==l&&(null!=u||null!=l))if("style"===s)if(l){for(c in l)!l.hasOwnProperty(c)||u&&u.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in u)u.hasOwnProperty(c)&&l[c]!==u[c]&&(n||(n={}),n[c]=u[c])}else n||(e||(e=[]),e.push(s,n)),n=u;else"dangerouslySetInnerHTML"===s?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(e=e||[]).push(s,u)):"children"===s?l===u||"string"!=typeof u&&"number"!=typeof u||(e=e||[]).push(s,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(y.hasOwnProperty(s)?(null!=u&&cn(o,s),e||l===u||(e=[])):(e=e||[]).push(s,u))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},Wa=function(e,t,n,i){n!==i&&(t.effectTag|=4)};var Za="function"==typeof WeakSet?WeakSet:Set;function es(t,n){var i=n.source,r=n.stack;null===r&&null!==i&&(r=Ee(i)),null!==i&&me(i.type),n=n.value,null!==t&&1===t.tag&&me(t.type);try{e.error(n)}catch(e){setTimeout((function(){throw e}))}}function ts(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){_c(e,t)}else t.current=null}function ns(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,i=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:qr(t.type,n),i),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,void 0!==i&&i()}n=n.next}while(n!==t)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function os(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void rs(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var i=n.elementType===n.type?t.memoizedProps:qr(n.type,t.memoizedProps);e.componentDidUpdate(i,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&po(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}po(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&En(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&kt(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function as(e,t,n){switch("function"==typeof Ic&&Ic(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var i=e.next;Wr(97<n?97:n,(function(){var e=i;do{var n=e.destroy;if(void 0!==n){var r=t;try{n()}catch(e){_c(r,e)}}e=e.next}while(e!==i)}))}break;case 1:ts(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){_c(e,t)}}(t,n);break;case 5:ts(t);break;case 4:us(e,t,n)}}function ss(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ss(t)}function cs(e){return 5===e.tag||3===e.tag||4===e.tag}function ls(e){e:{for(var t=e.return;null!==t;){if(cs(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:t=t.containerInfo,i=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Be(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||cs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}i?function e(t,n,i){var r=t.tag,o=5===r||6===r;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===i.nodeType?i.parentNode.insertBefore(t,n):i.insertBefore(t,n):(8===i.nodeType?(n=i.parentNode).insertBefore(t,i):(n=i).appendChild(t),null!==(i=i._reactRootContainer)&&void 0!==i||null!==n.onclick||(n.onclick=ln));else if(4!==r&&null!==(t=t.child))for(e(t,n,i),t=t.sibling;null!==t;)e(t,n,i),t=t.sibling}(e,n,t):function e(t,n,i){var r=t.tag,o=5===r||6===r;if(o)t=o?t.stateNode:t.stateNode.instance,n?i.insertBefore(t,n):i.appendChild(t);else if(4!==r&&null!==(t=t.child))for(e(t,n,i),t=t.sibling;null!==t;)e(t,n,i),t=t.sibling}(e,n,t)}function us(e,t,n){for(var i,r,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(i=s.stateNode,s.tag){case 5:r=!1;break e;case 3:case 4:i=i.containerInfo,r=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var c=e,l=o,u=n,d=l;;)if(as(c,d,u),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===l)break e;for(;null===d.sibling;){if(null===d.return||d.return===l)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}r?(c=i,l=o.stateNode,8===c.nodeType?c.parentNode.removeChild(l):c.removeChild(l)):i.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){i=o.stateNode.containerInfo,r=!0,o.child.return=o,o=o.child;continue}}else if(as(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function ds(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void is(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps,r=null!==e?e.memoizedProps:i;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Cn]=i,"input"===e&&"radio"===i.type&&null!=i.name&&ye(n,i),an(e,r),t=an(e,i),r=0;r<o.length;r+=2){var s=o[r],c=o[r+1];"style"===s?nn(n,c):"dangerouslySetInnerHTML"===s?Fe(n,c):"children"===s?Be(n,c):X(n,s,c,t)}switch(e){case"input":Ce(n,i);break;case"textarea":Me(n,i);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(e=i.value)?Re(n,!!i.multiple,e,!1):t!==!!i.multiple&&(null!=i.defaultValue?Re(n,!!i.multiple,i.defaultValue,!0):Re(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,kt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?i=!1:(i=!0,n=t.child,Ls=Fr()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,i?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,r=null!=(r=e.memoizedProps.style)&&r.hasOwnProperty("display")?r.display:null,o.style.display=tn("display",r));else if(6===e.tag)e.stateNode.nodeValue=i?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void ps(t);case 19:return void ps(t);case 17:return}throw Error(a(163))}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Za),t.forEach((function(t){var i=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}var hs="function"==typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=so(n,null)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){ks||(ks=!0,Us=i),es(e,t)},n}function gs(e,t,n){(n=so(n,null)).tag=3;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var r=t.value;n.payload=function(){return es(e,t),i(r)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof i&&(null===Gs?Gs=new Set([this]):Gs.add(this),es(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var ms,Es=Math.ceil,_s=J.ReactCurrentDispatcher,Ss=J.ReactCurrentOwner,Ts=0,vs=3,Is=4,bs=0,ys=null,Cs=null,As=0,Os=Ts,Ns=null,Rs=1073741823,Ps=1073741823,ws=null,Ms=0,Ds=!1,Ls=0,xs=null,ks=!1,Us=null,Gs=null,Fs=!1,Bs=null,Vs=90,Ws=null,js=0,Hs=null,zs=0;function Ys(){return 0!=(48&bs)?1073741821-(Fr()/10|0):0!==zs?zs:zs=1073741821-(Fr()/10|0)}function Ks(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var i=Br();if(0==(4&t))return 99===i?1073741823:1073741822;if(0!=(16&bs))return As;if(null!==n)e=Kr(e,0|n.timeoutMs||5e3,250);else switch(i){case 99:e=1073741823;break;case 98:e=Kr(e,150,100);break;case 97:case 96:e=Kr(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==ys&&e===As&&--e,e}function qs(e,t){if(50<js)throw js=0,Hs=null,Error(a(185));if(null!==(e=Qs(e,t))){var n=Br();1073741823===t?0!=(8&bs)&&0==(48&bs)?Zs(e):(Xs(e),0===bs&&zr()):Xs(e),0==(4&bs)||98!==n&&99!==n||(null===Ws?Ws=new Map([[e,t]]):(void 0===(n=Ws.get(e))||n>t)&&Ws.set(e,t))}}function Qs(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var i=e.return,r=null;if(null===i&&3===e.tag)r=e.stateNode;else for(;null!==i;){if(n=i.alternate,i.childExpirationTime<t&&(i.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===i.return&&3===i.tag){r=i.stateNode;break}i=i.return}return null!==r&&(ys===r&&(ac(t),Os===Is&&Dc(r,As)),Lc(r,t)),r}function Js(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Mc(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Xs(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Hr(Zs.bind(null,e));else{var t=Js(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var i=Ys();if(1073741823===t?i=99:1===t||2===t?i=95:i=0>=(i=10*(1073741821-t)-10*(1073741821-i))?99:250>=i?98:5250>=i?97:95,null!==n){var r=e.callbackPriority;if(e.callbackExpirationTime===t&&r>=i)return;n!==Mr&&br(n)}e.callbackExpirationTime=t,e.callbackPriority=i,t=1073741823===t?Hr(Zs.bind(null,e)):jr(i,$s.bind(null,e),{timeout:10*(1073741821-t)-Fr()}),e.callbackNode=t}}}function $s(e,t){if(zs=0,t)return xc(e,t=Ys()),Xs(e),null;var n=Js(e);if(0!==n){if(t=e.callbackNode,0!=(48&bs))throw Error(a(327));if(gc(),e===ys&&n===As||nc(e,n),null!==Cs){var i=bs;bs|=16;for(var r=rc();;)try{cc();break}catch(t){ic(e,t)}if(Zr(),bs=i,_s.current=r,1===Os)throw t=Ns,nc(e,n),Dc(e,n),Xs(e),t;if(null===Cs)switch(r=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,i=Os,ys=null,i){case Ts:case 1:throw Error(a(345));case 2:xc(e,2<n?2:n);break;case vs:if(Dc(e,n),n===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=dc(r)),1073741823===Rs&&10<(r=Ls+500-Fr())){if(Ds){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,nc(e,n);break}}if(0!==(o=Js(e))&&o!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}e.timeoutHandle=Sn(pc.bind(null,e),r);break}pc(e);break;case Is:if(Dc(e,n),n===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=dc(r)),Ds&&(0===(r=e.lastPingedTime)||r>=n)){e.lastPingedTime=n,nc(e,n);break}if(0!==(r=Js(e))&&r!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}if(1073741823!==Ps?i=10*(1073741821-Ps)-Fr():1073741823===Rs?i=0:(i=10*(1073741821-Rs)-5e3,0>(i=(r=Fr())-i)&&(i=0),(n=10*(1073741821-n)-r)<(i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Es(i/1960))-i)&&(i=n)),10<i){e.timeoutHandle=Sn(pc.bind(null,e),i);break}pc(e);break;case 5:if(1073741823!==Rs&&null!==ws){o=Rs;var s=ws;if(0>=(i=0|s.busyMinDurationMs)?i=0:(r=0|s.busyDelayMs,i=(o=Fr()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=r?0:r+i-o),10<i){Dc(e,n),e.timeoutHandle=Sn(pc.bind(null,e),i);break}}pc(e);break;default:throw Error(a(329))}if(Xs(e),e.callbackNode===t)return $s.bind(null,e)}}return null}function Zs(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&bs))throw Error(a(327));if(gc(),e===ys&&t===As||nc(e,t),null!==Cs){var n=bs;bs|=16;for(var i=rc();;)try{sc();break}catch(t){ic(e,t)}if(Zr(),bs=n,_s.current=i,1===Os)throw n=Ns,nc(e,t),Dc(e,t),Xs(e),n;if(null!==Cs)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,ys=null,pc(e),Xs(e)}return null}function ec(e,t){var n=bs;bs|=1;try{return e(t)}finally{0===(bs=n)&&zr()}}function tc(e,t){var n=bs;bs&=-2,bs|=8;try{return e(t)}finally{0===(bs=n)&&zr()}}function nc(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Tn(n)),null!==Cs)for(n=Cs.return;null!==n;){var i=n;switch(i.tag){case 1:null!=(i=i.type.childContextTypes)&&mr();break;case 3:Do(),cr(pr),cr(dr);break;case 5:xo(i);break;case 4:Do();break;case 13:case 19:cr(ko);break;case 10:eo(i)}n=n.return}ys=e,Cs=Ac(e.current,null),As=t,Os=Ts,Ns=null,Ps=Rs=1073741823,ws=null,Ms=0,Ds=!1}function ic(e,t){for(;;){try{if(Zr(),Fo.current=ma,zo)for(var n=Wo.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}if(Vo=0,Ho=jo=Wo=null,zo=!1,null===Cs||null===Cs.return)return Os=1,Ns=t,Cs=null;e:{var r=e,o=Cs.return,a=Cs,s=t;if(t=As,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var c=s;if(0==(2&a.mode)){var l=a.alternate;l?(a.updateQueue=l.updateQueue,a.memoizedState=l.memoizedState,a.expirationTime=l.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var u=0!=(1&ko.current),d=o;do{var p;if(p=13===d.tag){var h=d.memoizedState;if(null!==h)p=null!==h.dehydrated;else{var f=d.memoizedProps;p=void 0!==f.fallback&&(!0!==f.unstable_avoidThisFallback||!u)}}if(p){var g=d.updateQueue;if(null===g){var m=new Set;m.add(c),d.updateQueue=m}else g.add(c);if(0==(2&d.mode)){if(d.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var E=so(1073741823,null);E.tag=2,co(a,E)}a.expirationTime=1073741823;break e}s=void 0,a=t;var _=r.pingCache;if(null===_?(_=r.pingCache=new hs,s=new Set,_.set(c,s)):void 0===(s=_.get(c))&&(s=new Set,_.set(c,s)),!s.has(a)){s.add(a);var S=Sc.bind(null,r,c,a);c.then(S,S)}d.effectTag|=4096,d.expirationTime=t;break e}d=d.return}while(null!==d);s=Error((me(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+Ee(a))}5!==Os&&(Os=2),s=$a(s,a),d=o;do{switch(d.tag){case 3:c=s,d.effectTag|=4096,d.expirationTime=t,lo(d,fs(d,c,t));break e;case 1:c=s;var T=d.type,v=d.stateNode;if(0==(64&d.effectTag)&&("function"==typeof T.getDerivedStateFromError||null!==v&&"function"==typeof v.componentDidCatch&&(null===Gs||!Gs.has(v)))){d.effectTag|=4096,d.expirationTime=t,lo(d,gs(d,c,t));break e}}d=d.return}while(null!==d)}Cs=uc(Cs)}catch(e){t=e;continue}break}}function rc(){var e=_s.current;return _s.current=ma,null===e?ma:e}function oc(e,t){e<Rs&&2<e&&(Rs=e),null!==t&&e<Ps&&2<e&&(Ps=e,ws=t)}function ac(e){e>Ms&&(Ms=e)}function sc(){for(;null!==Cs;)Cs=lc(Cs)}function cc(){for(;null!==Cs&&!Dr();)Cs=lc(Cs)}function lc(e){var t=ms(e.alternate,e,As);return e.memoizedProps=e.pendingProps,null===t&&(t=uc(e)),Ss.current=null,t}function uc(e){Cs=e;do{var t=Cs.alternate;if(e=Cs.return,0==(2048&Cs.effectTag)){if(t=Ja(t,Cs,As),1===As||1!==Cs.childExpirationTime){for(var n=0,i=Cs.child;null!==i;){var r=i.expirationTime,o=i.childExpirationTime;r>n&&(n=r),o>n&&(n=o),i=i.sibling}Cs.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Cs.firstEffect),null!==Cs.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Cs.firstEffect),e.lastEffect=Cs.lastEffect),1<Cs.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Cs:e.firstEffect=Cs,e.lastEffect=Cs))}else{if(null!==(t=Xa(Cs)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Cs.sibling))return t;Cs=e}while(null!==Cs);return Os===Ts&&(Os=5),null}function dc(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function pc(e){var t=Br();return Wr(99,hc.bind(null,e,t)),null}function hc(e,t){do{gc()}while(null!==Bs);if(0!=(48&bs))throw Error(a(327));var n=e.finishedWork,i=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var r=dc(n);if(e.firstPendingTime=r,i<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:i<=e.firstSuspendedTime&&(e.firstSuspendedTime=i-1),i<=e.lastPingedTime&&(e.lastPingedTime=0),i<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===ys&&(Cs=ys=null,As=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){var o=bs;bs|=32,Ss.current=null,gn=Yt;var s=hn();if(fn(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{var l=(c=(c=s.ownerDocument)&&c.defaultView||window).getSelection&&c.getSelection();if(l&&0!==l.rangeCount){c=l.anchorNode;var u=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{c.nodeType,d.nodeType}catch(e){c=null;break e}var p=0,h=-1,f=-1,g=0,m=0,E=s,_=null;t:for(;;){for(var S;E!==c||0!==u&&3!==E.nodeType||(h=p+u),E!==d||0!==l&&3!==E.nodeType||(f=p+l),3===E.nodeType&&(p+=E.nodeValue.length),null!==(S=E.firstChild);)_=E,E=S;for(;;){if(E===s)break t;if(_===c&&++g===u&&(h=p),_===d&&++m===l&&(f=p),null!==(S=E.nextSibling))break;_=(E=_).parentNode}E=S}c=-1===h||-1===f?null:{start:h,end:f}}else c=null}c=c||{start:0,end:0}}else c=null;mn={activeElementDetached:null,focusedElem:s,selectionRange:c},Yt=!1,xs=r;do{try{fc()}catch(e){if(null===xs)throw Error(a(330));_c(xs,e),xs=xs.nextEffect}}while(null!==xs);xs=r;do{try{for(s=e,c=t;null!==xs;){var T=xs.effectTag;if(16&T&&Be(xs.stateNode,""),128&T){var v=xs.alternate;if(null!==v){var I=v.ref;null!==I&&("function"==typeof I?I(null):I.current=null)}}switch(1038&T){case 2:ls(xs),xs.effectTag&=-3;break;case 6:ls(xs),xs.effectTag&=-3,ds(xs.alternate,xs);break;case 1024:xs.effectTag&=-1025;break;case 1028:xs.effectTag&=-1025,ds(xs.alternate,xs);break;case 4:ds(xs.alternate,xs);break;case 8:us(s,u=xs,c),ss(u)}xs=xs.nextEffect}}catch(e){if(null===xs)throw Error(a(330));_c(xs,e),xs=xs.nextEffect}}while(null!==xs);if(I=mn,v=hn(),T=I.focusedElem,c=I.selectionRange,v!==T&&T&&T.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(T.ownerDocument.documentElement,T)){null!==c&&fn(T)&&(v=c.start,void 0===(I=c.end)&&(I=v),"selectionStart"in T?(T.selectionStart=v,T.selectionEnd=Math.min(I,T.value.length)):(I=(v=T.ownerDocument||document)&&v.defaultView||window).getSelection&&(I=I.getSelection(),u=T.textContent.length,s=Math.min(c.start,u),c=void 0===c.end?s:Math.min(c.end,u),!I.extend&&s>c&&(u=c,c=s,s=u),u=pn(T,s),d=pn(T,c),u&&d&&(1!==I.rangeCount||I.anchorNode!==u.node||I.anchorOffset!==u.offset||I.focusNode!==d.node||I.focusOffset!==d.offset)&&((v=v.createRange()).setStart(u.node,u.offset),I.removeAllRanges(),s>c?(I.addRange(v),I.extend(d.node,d.offset)):(v.setEnd(d.node,d.offset),I.addRange(v))))),v=[];for(I=T;I=I.parentNode;)1===I.nodeType&&v.push({element:I,left:I.scrollLeft,top:I.scrollTop});for("function"==typeof T.focus&&T.focus(),T=0;T<v.length;T++)(I=v[T]).element.scrollLeft=I.left,I.element.scrollTop=I.top}Yt=!!gn,mn=gn=null,e.current=n,xs=r;do{try{for(T=e;null!==xs;){var b=xs.effectTag;if(36&b&&os(T,xs.alternate,xs),128&b){v=void 0;var y=xs.ref;if(null!==y){var C=xs.stateNode;switch(xs.tag){case 5:v=C;break;default:v=C}"function"==typeof y?y(v):y.current=v}}xs=xs.nextEffect}}catch(e){if(null===xs)throw Error(a(330));_c(xs,e),xs=xs.nextEffect}}while(null!==xs);xs=null,Lr(),bs=o}else e.current=n;if(Fs)Fs=!1,Bs=e,Vs=t;else for(xs=r;null!==xs;)t=xs.nextEffect,xs.nextEffect=null,xs=t;if(0===(t=e.firstPendingTime)&&(Gs=null),1073741823===t?e===Hs?js++:(js=0,Hs=e):js=0,"function"==typeof vc&&vc(n.stateNode,i),Xs(e),ks)throw ks=!1,e=Us,Us=null,e;return 0!=(8&bs)||zr(),null}function fc(){for(;null!==xs;){var e=xs.effectTag;0!=(256&e)&&ns(xs.alternate,xs),0==(512&e)||Fs||(Fs=!0,jr(97,(function(){return gc(),null}))),xs=xs.nextEffect}}function gc(){if(90!==Vs){var e=97<Vs?97:Vs;return Vs=90,Wr(e,mc)}}function mc(){if(null===Bs)return!1;var e=Bs;if(Bs=null,0!=(48&bs))throw Error(a(331));var t=bs;for(bs|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:is(5,n),rs(5,n)}}catch(t){if(null===e)throw Error(a(330));_c(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return bs=t,zr(),!0}function Ec(e,t,n){co(e,t=fs(e,t=$a(n,t),1073741823)),null!==(e=Qs(e,1073741823))&&Xs(e)}function _c(e,t){if(3===e.tag)Ec(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ec(n,e,t);break}if(1===n.tag){var i=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===Gs||!Gs.has(i))){co(n,e=gs(n,e=$a(t,e),1073741823)),null!==(n=Qs(n,1073741823))&&Xs(n);break}}n=n.return}}function Sc(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),ys===e&&As===n?Os===Is||Os===vs&&1073741823===Rs&&Fr()-Ls<500?nc(e,As):Ds=!0:Mc(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Xs(e)))}function Tc(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=Ks(t=Ys(),e,null)),null!==(e=Qs(e,t))&&Xs(e)}ms=function(e,t,n){var i=t.expirationTime;if(null!==e){var r=t.pendingProps;if(e.memoizedProps!==r||pr.current)Pa=!0;else{if(i<n){switch(Pa=!1,t.tag){case 3:Fa(t),Na();break;case 5:if(Lo(t),4&t.mode&&1!==n&&r.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:gr(t.type)&&Sr(t);break;case 4:Mo(t,t.stateNode.containerInfo);break;case 10:i=t.memoizedProps.value,r=t.type._context,lr(Qr,r._currentValue),r._currentValue=i;break;case 13:if(null!==t.memoizedState)return 0!==(i=t.child.childExpirationTime)&&i>=n?Ha(e,t,n):(lr(ko,1&ko.current),null!==(t=qa(e,t,n))?t.sibling:null);lr(ko,1&ko.current);break;case 19:if(i=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(i)return Ka(e,t,n);t.effectTag|=64}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null),lr(ko,ko.current),!i)return null}return qa(e,t,n)}Pa=!1}}else Pa=!1;switch(t.expirationTime=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,r=fr(t,dr.current),no(t,n),r=qo(null,t,i,e,r,n),t.effectTag|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gr(i)){var o=!0;Sr(t)}else o=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,oo(t);var s=i.getDerivedStateFromProps;"function"==typeof s&&go(t,i,s,e),r.updater=mo,t.stateNode=r,r._reactInternalFiber=t,To(t,i,e,n),t=Ga(null,t,i,!0,o,n)}else t.tag=0,wa(null,t,r,n),t=t.child;return t;case 16:e:{if(r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(r),1!==r._status)throw r._result;switch(r=r._result,t.type=r,o=t.tag=function(e){if("function"==typeof e)return Cc(e)?1:0;if(null!=e){if((e=e.$$typeof)===ce)return 11;if(e===de)return 14}return 2}(r),e=qr(r,e),o){case 0:t=ka(null,t,r,e,n);break e;case 1:t=Ua(null,t,r,e,n);break e;case 11:t=Ma(null,t,r,e,n);break e;case 14:t=Da(null,t,r,qr(r.type,e),i,n);break e}throw Error(a(306,r,""))}return t;case 0:return i=t.type,r=t.pendingProps,ka(e,t,i,r=t.elementType===i?r:qr(i,r),n);case 1:return i=t.type,r=t.pendingProps,Ua(e,t,i,r=t.elementType===i?r:qr(i,r),n);case 3:if(Fa(t),i=t.updateQueue,null===e||null===i)throw Error(a(282));if(i=t.pendingProps,r=null!==(r=t.memoizedState)?r.element:null,ao(e,t),uo(t,i,null,n),(i=t.memoizedState.element)===r)Na(),t=qa(e,t,n);else{if((r=t.stateNode.hydrate)&&(va=vn(t.stateNode.containerInfo.firstChild),Ta=t,r=Ia=!0),r)for(n=Ao(t,null,i,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else wa(e,t,i,n),Na();t=t.child}return t;case 5:return Lo(t),null===e&&Ca(t),i=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,s=r.children,_n(i,r)?s=null:null!==o&&_n(i,o)&&(t.effectTag|=16),xa(e,t),4&t.mode&&1!==n&&r.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(wa(e,t,s,n),t=t.child),t;case 6:return null===e&&Ca(t),null;case 13:return Ha(e,t,n);case 4:return Mo(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Co(t,null,i,n):wa(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,Ma(e,t,i,r=t.elementType===i?r:qr(i,r),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{i=t.type._context,r=t.pendingProps,s=t.memoizedProps,o=r.value;var c=t.type._context;if(lr(Qr,c._currentValue),c._currentValue=o,null!==s)if(c=s.value,0===(o=Ui(c,o)?0:0|("function"==typeof i._calculateChangedBits?i._calculateChangedBits(c,o):1073741823))){if(s.children===r.children&&!pr.current){t=qa(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var l=c.dependencies;if(null!==l){s=c.child;for(var u=l.firstContext;null!==u;){if(u.context===i&&0!=(u.observedBits&o)){1===c.tag&&((u=so(n,null)).tag=2,co(c,u)),c.expirationTime<n&&(c.expirationTime=n),null!==(u=c.alternate)&&u.expirationTime<n&&(u.expirationTime=n),to(c.return,n),l.expirationTime<n&&(l.expirationTime=n);break}u=u.next}}else s=10===c.tag&&c.type===t.type?null:c.child;if(null!==s)s.return=c;else for(s=c;null!==s;){if(s===t){s=null;break}if(null!==(c=s.sibling)){c.return=s.return,s=c;break}s=s.return}c=s}wa(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=(o=t.pendingProps).children,no(t,n),i=i(r=io(r,o.unstable_observedBits)),t.effectTag|=1,wa(e,t,i,n),t.child;case 14:return o=qr(r=t.type,t.pendingProps),Da(e,t,r,o=qr(r.type,o),i,n);case 15:return La(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:qr(i,r),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,gr(i)?(e=!0,Sr(t)):e=!1,no(t,n),_o(t,i,r),To(t,i,r,n),Ga(null,t,i,!0,e,n);case 19:return Ka(e,t,n)}throw Error(a(156,t.tag))};var vc=null,Ic=null;function bc(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function yc(e,t,n,i){return new bc(e,t,n,i)}function Cc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ac(e,t){var n=e.alternate;return null===n?((n=yc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,i,r,o){var s=2;if(i=e,"function"==typeof e)Cc(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case ne:return Nc(n.children,r,o,t);case se:s=8,r|=7;break;case ie:s=8,r|=1;break;case re:return(e=yc(12,n,t,8|r)).elementType=re,e.type=re,e.expirationTime=o,e;case le:return(e=yc(13,n,t,r)).type=le,e.elementType=le,e.expirationTime=o,e;case ue:return(e=yc(19,n,t,r)).elementType=ue,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case oe:s=10;break e;case ae:s=9;break e;case ce:s=11;break e;case de:s=14;break e;case pe:s=16,i=null;break e;case he:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=yc(s,n,t,r)).elementType=e,t.type=i,t.expirationTime=o,t}function Nc(e,t,n,i){return(e=yc(7,e,i,t)).expirationTime=n,e}function Rc(e,t,n){return(e=yc(6,e,null,t)).expirationTime=n,e}function Pc(e,t,n){return(t=yc(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function wc(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Mc(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Dc(e,t){var n=e.firstSuspendedTime,i=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(i>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Lc(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function xc(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function kc(e,t,n,i){var r=t.current,o=Ys(),s=ho.suspense;o=Ks(o,r,s);e:if(n){t:{if(Ze(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(gr(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(a(171))}if(1===n.tag){var l=n.type;if(gr(l)){n=_r(n,l,c);break e}}n=c}else n=ur;return null===t.context?t.context=n:t.pendingContext=n,(t=so(o,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),co(r,t),qs(r,o),o}function Uc(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Gc(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Fc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}function Bc(e,t,n){var i=new wc(e,t,n=null!=n&&!0===n.hydrate),r=yc(3,null,null,2===t?7:1===t?3:0);i.current=r,r.stateNode=i,oo(r),e[An]=i.current,n&&0!==t&&function(e,t){var n=$e(t);At.forEach((function(e){ft(e,t,n)})),Ot.forEach((function(e){ft(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=i}function Vc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Wc(e,t,n,i,r){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof r){var s=r;r=function(){var e=Uc(a);s.call(e)}}kc(t,a,e,r)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Bc(e,0,t?{hydrate:!0}:void 0)}(n,i),a=o._internalRoot,"function"==typeof r){var c=r;r=function(){var e=Uc(a);c.call(e)}}tc((function(){kc(t,a,e,r)}))}return Uc(a)}function jc(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}function Hc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Vc(t))throw Error(a(200));return jc(e,t,null,n)}Bc.prototype.render=function(e){kc(e,this._internalRoot,null,null)},Bc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;kc(null,e,null,(function(){t[An]=null}))},gt=function(e){if(13===e.tag){var t=Kr(Ys(),150,100);qs(e,t),Fc(e,t)}},mt=function(e){13===e.tag&&(qs(e,3),Fc(e,3))},Et=function(e){if(13===e.tag){var t=Ys();qs(e,t=Ks(t,e,null)),Fc(e,t)}},N=function(e,t,n){switch(t){case"input":if(Ce(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=Pn(i);if(!r)throw Error(a(90));ve(i),Ce(i,r)}}}break;case"textarea":Me(e,n);break;case"select":null!=(t=n.value)&&Re(e,!!n.multiple,t,!1)}},L=ec,x=function(e,t,n,i,r){var o=bs;bs|=4;try{return Wr(98,e.bind(null,t,n,i,r))}finally{0===(bs=o)&&zr()}},k=function(){0==(49&bs)&&(function(){if(null!==Ws){var e=Ws;Ws=null,e.forEach((function(e,t){xc(t,e),Xs(t)})),zr()}}(),gc())},U=function(e,t){var n=bs;bs|=2;try{return e(t)}finally{0===(bs=n)&&zr()}};var zc,Yc,Kc={Events:[Nn,Rn,Pn,A,b,Un,function(e){rt(e,kn)},M,D,Xt,st,gc,{current:!1}]};Yc=(zc={findFiberByHostInstance:On,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);vc=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Ic=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(r({},zc,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return Yc?Yc(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kc,t.createPortal=Hc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!=(48&bs))throw Error(a(187));var n=bs;bs|=1;try{return Wr(99,e.bind(null,t))}finally{bs=n,zr()}},t.hydrate=function(e,t,n){if(!Vc(t))throw Error(a(200));return Wc(null,e,t,!0,n)},t.render=function(e,t,n){if(!Vc(t))throw Error(a(200));return Wc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Vc(e))throw Error(a(40));return!!e._reactRootContainer&&(tc((function(){Wc(null,null,e,!1,(function(){e._reactRootContainer=null,e[An]=null}))})),!0)},t.unstable_batchedUpdates=ec,t.unstable_createPortal=function(e,t){return Hc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Vc(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return Wc(e,t,n,!1,i)},t.version="16.13.1"}).call(this,n(110))},function(e,t,n){"use strict";e.exports=n(537)},function(e,t,n){"use strict";(function(e){
/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var n,i,r,o,a;if("undefined"==typeof window||"function"!=typeof MessageChannel){var s=null,c=null,l=function(){if(null!==s)try{var e=t.unstable_now();s(!0,e),s=null}catch(e){throw setTimeout(l,0),e}},u=Date.now();t.unstable_now=function(){return Date.now()-u},n=function(e){null!==s?setTimeout(n,0,e):(s=e,setTimeout(l,0))},i=function(e,t){c=setTimeout(e,t)},r=function(){clearTimeout(c)},o=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,p=window.Date,h=window.setTimeout,f=window.clearTimeout;if(void 0!==e){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&e.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&e.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof d&&"function"==typeof d.now)t.unstable_now=function(){return d.now()};else{var m=p.now();t.unstable_now=function(){return p.now()-m}}var E=!1,_=null,S=-1,T=5,v=0;o=function(){return t.unstable_now()>=v},a=function(){},t.unstable_forceFrameRate=function(t){0>t||125<t?e.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):T=0<t?Math.floor(1e3/t):5};var I=new MessageChannel,b=I.port2;I.port1.onmessage=function(){if(null!==_){var e=t.unstable_now();v=e+T;try{_(!0,e)?b.postMessage(null):(E=!1,_=null)}catch(e){throw b.postMessage(null),e}}else E=!1},n=function(e){_=e,E||(E=!0,b.postMessage(null))},i=function(e,n){S=h((function(){e(t.unstable_now())}),n)},r=function(){f(S),S=-1}}function y(e,t){var n=e.length;e.push(t);e:for(;;){var i=n-1>>>1,r=e[i];if(!(void 0!==r&&0<O(r,t)))break e;e[i]=t,e[n]=r,n=i}}function C(e){return void 0===(e=e[0])?null:e}function A(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length;i<r;){var o=2*(i+1)-1,a=e[o],s=o+1,c=e[s];if(void 0!==a&&0>O(a,n))void 0!==c&&0>O(c,a)?(e[i]=c,e[s]=n,i=s):(e[i]=a,e[o]=n,i=o);else{if(!(void 0!==c&&0>O(c,n)))break e;e[i]=c,e[s]=n,i=s}}}return t}return null}function O(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var N=[],R=[],P=1,w=null,M=3,D=!1,L=!1,x=!1;function k(e){for(var t=C(R);null!==t;){if(null===t.callback)A(R);else{if(!(t.startTime<=e))break;A(R),t.sortIndex=t.expirationTime,y(N,t)}t=C(R)}}function U(e){if(x=!1,k(e),!L)if(null!==C(N))L=!0,n(G);else{var t=C(R);null!==t&&i(U,t.startTime-e)}}function G(e,n){L=!1,x&&(x=!1,r()),D=!0;var a=M;try{for(k(n),w=C(N);null!==w&&(!(w.expirationTime>n)||e&&!o());){var s=w.callback;if(null!==s){w.callback=null,M=w.priorityLevel;var c=s(w.expirationTime<=n);n=t.unstable_now(),"function"==typeof c?w.callback=c:w===C(N)&&A(N),k(n)}else A(N);w=C(N)}if(null!==w)var l=!0;else{var u=C(R);null!==u&&i(U,u.startTime-n),l=!1}return l}finally{w=null,M=a,D=!1}}function F(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var B=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){L||D||(L=!0,n(G))},t.unstable_getCurrentPriorityLevel=function(){return M},t.unstable_getFirstCallbackNode=function(){return C(N)},t.unstable_next=function(e){switch(M){case 1:case 2:case 3:var t=3;break;default:t=M}var n=M;M=t;try{return e()}finally{M=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=B,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=M;M=e;try{return t()}finally{M=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();if("object"==typeof a&&null!==a){var c=a.delay;c="number"==typeof c&&0<c?s+c:s,a="number"==typeof a.timeout?a.timeout:F(e)}else a=F(e),c=s;return e={id:P++,callback:o,priorityLevel:e,startTime:c,expirationTime:a=c+a,sortIndex:-1},c>s?(e.sortIndex=c,y(R,e),null===C(N)&&e===C(R)&&(x?r():x=!0,i(U,c-s))):(e.sortIndex=a,y(N,e),L||D||(L=!0,n(G))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();k(e);var n=C(N);return n!==w&&null!==w&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<w.expirationTime||o()},t.unstable_wrapCallback=function(e){var t=M;return function(){var n=M;M=t;try{return e.apply(this,arguments)}finally{M=n}}}}).call(this,n(110))},function(e,t,n){var i=n(539),r=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}},function(e,t,n){var i=n(215),r=n(73);e.exports=function(e,t){return e&&i(t,r(t),e)}},function(e,t,n){var i=n(215),r=n(271);e.exports=function(e,t){return e&&i(t,r(t),e)}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(185))},function(e,t,n){var i=n(215),r=n(548);e.exports=function(e,t){return i(e,r(e),t)}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var i=n(215),r=n(550);e.exports=function(e,t){return i(e,r(e),t)}},function(e,t){e.exports=function(){return[]}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(i.index=e.index,i.input=e.input),i}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var i=n(174),r=Object.create,o=function(){function e(){}return function(t){if(!i(t))return{};if(r)return r(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var i=n(370);e.exports=function(e){return i(e,5)}},function(e,t,n){var i=n(558),r=n(216)((function(e,t){return i(e,1,t)}));e.exports=r},function(e,t){e.exports=function(e,t,n){if("function"!=typeof e)throw new TypeError("Expected a function");return setTimeout((function(){e.apply(void 0,n)}),t)}},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}},function(e,t,n){var i=n(422),r=n(423),o=n(249),a=n(301);e.exports=function(e,t,n){e=a(e),t=r(t);var s=e.length,c=n=void 0===n?s:i(o(n),0,s);return(n-=t.length)>=0&&e.slice(n,c)==t}},function(e,t,n){e.exports=n(562)},function(e,t,n){var i=n(215),r=n(367),o=n(271),a=r((function(e,t){i(t,o(t),e)}));e.exports=a},function(e,t,n){var i=n(564),r=n(570),o=n(426);e.exports=function(e){var t=r(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}},function(e,t,n){var i=n(298),r=n(371);e.exports=function(e,t,n,o){var a=n.length,s=a,c=!o;if(null==e)return!s;for(e=Object(e);a--;){var l=n[a];if(c&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){var u=(l=n[a])[0],d=e[u],p=l[1];if(c&&l[2]){if(void 0===d&&!(u in e))return!1}else{var h=new i;if(o)var f=o(d,p,u,e,t,h);if(!(void 0===f?r(p,d,3,o,h):f))return!1}}return!0}},function(e,t,n){var i=n(298),r=n(566),o=n(568),a=n(569),s=n(274),c=n(142),l=n(300),u=n(372),d="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,h,f,g){var m=c(e),E=c(t),_=m?"[object Array]":s(e),S=E?"[object Array]":s(t),T=(_="[object Arguments]"==_?d:_)==d,v=(S="[object Arguments]"==S?d:S)==d,I=_==S;if(I&&l(e)){if(!l(t))return!1;m=!0,T=!1}if(I&&!T)return g||(g=new i),m||u(e)?r(e,t,n,h,f,g):o(e,t,_,n,h,f,g);if(!(1&n)){var b=T&&p.call(e,"__wrapped__"),y=v&&p.call(t,"__wrapped__");if(b||y){var C=b?e.value():e,A=y?t.value():t;return g||(g=new i),f(C,A,n,h,g)}}return!!I&&(g||(g=new i),a(e,t,n,h,f,g))}},function(e,t,n){var i=n(302),r=n(567),o=n(303);e.exports=function(e,t,n,a,s,c){var l=1&n,u=e.length,d=t.length;if(u!=d&&!(l&&d>u))return!1;var p=c.get(e),h=c.get(t);if(p&&h)return p==t&&h==e;var f=-1,g=!0,m=2&n?new i:void 0;for(c.set(e,t),c.set(t,e);++f<u;){var E=e[f],_=t[f];if(a)var S=l?a(_,E,f,t,e,c):a(E,_,f,e,t,c);if(void 0!==S){if(S)continue;g=!1;break}if(m){if(!r(t,(function(e,t){if(!o(m,t)&&(E===e||s(E,e,n,a,c)))return m.push(t)}))){g=!1;break}}else if(E!==_&&!s(E,_,n,a,c)){g=!1;break}}return c.delete(e),c.delete(t),g}},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var i=n(418),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var c=1&n,l=i(e),u=l.length;if(u!=i(t).length&&!c)return!1;for(var d=u;d--;){var p=l[d];if(!(c?p in t:r.call(t,p)))return!1}var h=s.get(e),f=s.get(t);if(h&&f)return h==t&&f==e;var g=!0;s.set(e,t),s.set(t,e);for(var m=c;++d<u;){var E=e[p=l[d]],_=t[p];if(o)var S=c?o(_,E,p,t,e,s):o(E,_,p,e,t,s);if(!(void 0===S?E===_||a(E,_,n,o,s):S)){g=!1;break}m||(m="constructor"==p)}if(g&&!m){var T=e.constructor,v=t.constructor;T==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof T&&T instanceof T&&"function"==typeof v&&v instanceof v||(g=!1)}return s.delete(e),s.delete(t),g}},function(e,t,n){var i=n(425),r=n(73);e.exports=function(e){for(var t=r(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,i(a)]}return t}},function(e,t,n){var i=n(371),r=n(373),o=n(572),a=n(573),s=n(425),c=n(426),l=n(428);e.exports=function(e,t){return a(e)&&s(t)?c(l(e),t):function(n){var a=r(n,e);return void 0===a&&a===t?o(n,e):i(t,a,3)}}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var i=n(429)(n(576));e.exports=i},function(e,t,n){var i=n(424),r=n(227),o=n(249),a=Math.max,s=Math.min;e.exports=function(e,t,n){var c=null==e?0:e.length;if(!c)return-1;var l=c-1;return void 0!==n&&(l=o(n),l=n<0?a(c+l,0):s(l,c-1)),i(e,r(t,3),l,!0)}},function(e,t,n){var i=n(432),r=n(374),o=n(142),a=i?i.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||r(e)||!!(a&&e&&e[a])}},function(e,t,n){var i=n(296),r=n(275);e.exports=function(e){return"number"==typeof e||r(e)&&"[object Number]"==i(e)}},function(e,t){e.exports=function(e){return void 0===e}},function(e,t,n){var i=n(581)((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}));e.exports=i},function(e,t,n){var i=n(582),r=n(583),o=n(584),a=RegExp("['’]","g");e.exports=function(e){return function(t){return i(o(r(t).replace(a,"")),e,"")}}},function(e,t){e.exports=function(e,t,n,i){var r=-1,o=null==e?0:e.length;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var i=n(585),r=n(586),o=n(301),a=n(587);e.exports=function(e,t,n){return e=o(e),void 0===(t=n?void 0:t)?r(e)?a(e):i(e):e.match(t)||[]}},function(e,t){var n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(n)||[]}},function(e,t){var n=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return n.test(e)}},function(e,t){var n="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",i="["+n+"]",r="\\d+",o="[\\u2700-\\u27bf]",a="[a-z\\xdf-\\xf6\\xf8-\\xff]",s="[^\\ud800-\\udfff"+n+r+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",c="(?:\\ud83c[\\udde6-\\uddff]){2}",l="[\\ud800-\\udbff][\\udc00-\\udfff]",u="[A-Z\\xc0-\\xd6\\xd8-\\xde]",d="(?:"+a+"|"+s+")",p="(?:"+u+"|"+s+")",h="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",f="[\\ufe0e\\ufe0f]?"+h+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",c,l].join("|")+")[\\ufe0e\\ufe0f]?"+h+")*"),g="(?:"+[o,c,l].join("|")+")"+f,m=RegExp([u+"?"+a+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[i,u,"$"].join("|")+")",p+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[i,u+d,"$"].join("|")+")",u+"?"+d+"+(?:['’](?:d|ll|m|re|s|t|ve))?",u+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",r,g].join("|"),"g");e.exports=function(e){return e.match(m)||[]}},function(e,t){e.exports=function(e){return function(t,n,i){for(var r=-1,o=Object(t),a=i(t),s=a.length;s--;){var c=a[e?s:++r];if(!1===n(o[c],c,o))break}return t}}},function(e,t,n){var i=n(437),r=n(590),o=n(270);e.exports=function(e){return e&&e.length?i(e,o,r):void 0}},function(e,t){e.exports=function(e,t){return e>t}},function(e,t,n){var i=n(592);function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(r.Cache||i),n}r.Cache=i,e.exports=r},function(e,t,n){var i=n(412),r=n(413),o=n(414),a=n(415),s=n(416);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t,n){var i=n(298),r=n(438),o=n(436),a=n(594),s=n(174),c=n(271),l=n(440);e.exports=function e(t,n,u,d,p){t!==n&&o(n,(function(o,c){if(p||(p=new i),s(o))a(t,n,c,u,e,d,p);else{var h=d?d(l(t,c),o,c+"",t,n,p):void 0;void 0===h&&(h=o),r(t,c,h)}}),c)}},function(e,t,n){var i=n(438),r=n(417),o=n(595),a=n(273),s=n(420),c=n(374),l=n(142),u=n(276),d=n(300),p=n(411),h=n(174),f=n(439),g=n(372),m=n(440),E=n(598);e.exports=function(e,t,n,_,S,T,v){var I=m(e,n),b=m(t,n),y=v.get(b);if(y)i(e,n,y);else{var C=T?T(I,b,n+"",e,t,v):void 0,A=void 0===C;if(A){var O=l(b),N=!O&&d(b),R=!O&&!N&&g(b);C=b,O||N||R?l(I)?C=I:u(I)?C=a(I):N?(A=!1,C=r(b,!0)):R?(A=!1,C=o(b,!0)):C=[]:f(b)||c(b)?(C=I,c(I)?C=E(I):h(I)&&!p(I)||(C=s(b))):A=!1}A&&(v.set(b,C),S(C,b,_,T,v),v.delete(b)),i(e,n,C)}}},function(e,t,n){var i=n(596);e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var i=n(597);e.exports=function(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}},function(e,t,n){var i=n(272).Uint8Array;e.exports=i},function(e,t,n){var i=n(215),r=n(271);e.exports=function(e){return i(e,r(e))}},function(e,t,n){var i=n(228),r=n(370),o=n(441),a=n(442),s=n(215),c=n(601),l=n(444),u=n(419),d=l((function(e,t){var n={};if(null==e)return n;var l=!1;t=i(t,(function(t){return t=a(t,e),l||(l=t.length>1),t})),s(e,u(e),n),l&&(n=r(n,7,c));for(var d=t.length;d--;)o(n,t[d]);return n}));e.exports=d},function(e,t){e.exports=function(e){return e}},function(e,t,n){var i=n(439);e.exports=function(e){return i(e)?void 0:e}},function(e,t,n){var i=n(441),r=n(603),o=Array.prototype.splice;e.exports=function(e,t){for(var n=e?t.length:0,a=n-1;n--;){var s=t[n];if(n==a||s!==c){var c=s;r(s)?o.call(e,s,1):i(e,s)}}return e}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==i||"symbol"!=i&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var i=n(605),r=n(174);e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return r(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),i(e,t,{leading:o,maxWait:t,trailing:a})}},function(e,t,n){var i=n(174),r=n(390),o=n(313),a=Math.max,s=Math.min;e.exports=function(e,t,n){var c,l,u,d,p,h,f=0,g=!1,m=!1,E=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function _(t){var n=c,i=l;return c=l=void 0,f=t,d=e.apply(i,n)}function S(e){return f=e,p=setTimeout(v,t),g?_(e):d}function T(e){var n=e-h;return void 0===h||n>=t||n<0||m&&e-f>=u}function v(){var e=r();if(T(e))return I(e);p=setTimeout(v,function(e){var n=t-(e-h);return m?s(n,u-(e-f)):n}(e))}function I(e){return p=void 0,E&&c?_(e):(c=l=void 0,d)}function b(){var e=r(),n=T(e);if(c=arguments,l=this,h=e,n){if(void 0===p)return S(h);if(m)return clearTimeout(p),p=setTimeout(v,t),_(h)}return void 0===p&&(p=setTimeout(v,t)),d}return t=o(t)||0,i(n)&&(g=!!n.leading,u=(m="maxWait"in n)?a(o(n.maxWait)||0,t):u,E="trailing"in n?!!n.trailing:E),b.cancel=function(){void 0!==p&&clearTimeout(p),f=0,c=h=l=p=void 0},b.flush=function(){return void 0===p?d:I(r())},b}},function(e,t,n){var i=n(607),r=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(r,""):e}},function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},function(e,t){e.exports=function(){}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(86),a=n(0),s=n(127),c=n(447),l=n(143),u=n(612),d=n(251),p=n(452),h=n(141),f=n(626),g=n(627),m=n(306),E=function(e,t){this.popupId=e,this.popupOptions=t};t.PopupDescriptor=E;if("undefined"!=typeof document){var _=document.createElement("style");_.type="text/css",_.appendChild(document.createTextNode("*, *:before, *:after { box-sizing: border-box; }")),document.head.appendChild(_)}var S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getChildContext=function(){return{isInRxMainView:!0}},t.prototype.render=function(){return this.props.children},t.childContextTypes={isInRxMainView:o.bool},t}(a.Component);t.MainViewContainer=S;var T=function(e){function t(t){var n=e.call(this,t)||this;return n._clickHandlerInstalled=!1,n._keyboardHandlerInstalled=!1,n._shouldEnableKeyboardNavigationModeOnFocus=!1,n._applicationIsNotActive=!1,n._onMount=function(e){var t=e&&s.findDOMNode(e);n._mountedComponent=t||void 0},n._tryClosePopup=function(e){var t=n._mountedComponent;if(t){for(var i=!1,r=e.target;r;){if(r===t){i=!0;break}r=r.parentElement||void 0}i||2===e.button||h.defer((function(){if(n.props.activePopup){var t=n.props.activePopup.popupOptions.getAnchor(),i=n._determineIfClickOnElement(t,e.srcElement),r=!1;if(!i&&n.props.activePopup.popupOptions.getElementTriggeringPopup){var o=n.props.activePopup.popupOptions.getElementTriggeringPopup();r=n._determineIfClickOnElement(o,e.srcElement)}if((i||r)&&(n.props.activePopup.popupOptions.onAnchorPressed&&l.default.setTimeout((function(){n.props.activePopup.popupOptions.onAnchorPressed(void 0)}),500),n.props.activePopup.popupOptions.dismissIfShown))return;if(n.props.activePopup.popupOptions.preventDismissOnPress)return}n._dismissPopup()}))}},n._onMouseDownCapture=function(e){e&&0===e.clientX&&0===e.clientY&&0===e.screenX&&0===e.screenY||(n._shouldEnableKeyboardNavigationModeOnFocus=!1,n._updateKeyboardNavigationState(!1))},n._onKeyDownCapture=function(e){if(9===e.keyCode&&n._updateKeyboardNavigationState(!0),27===e.keyCode){var t=document.activeElement;n._isNavigatingWithKeyboardUpateTimer&&l.default.clearTimeout(n._isNavigatingWithKeyboardUpateTimer),n._isNavigatingWithKeyboardUpateTimer=l.default.setTimeout((function(){n._isNavigatingWithKeyboardUpateTimer=void 0,document.activeElement===t&&t&&t!==document.body&&n._updateKeyboardNavigationState(!1)}),500)}},n._onFocusIn=function(e){n._cancelApplicationIsNotActive();var t=e.target;n._updateKeyboardNavigationModeOnFocusTimer&&l.default.clearTimeout(n._updateKeyboardNavigationModeOnFocusTimer),n._updateKeyboardNavigationModeOnFocusTimer=l.default.setTimeout((function(){n._updateKeyboardNavigationModeOnFocusTimer=void 0;var e=n._prevFocusedElement,i=n._shouldEnableKeyboardNavigationModeOnFocus;n._prevFocusedElement=t,n._shouldEnableKeyboardNavigationModeOnFocus=!0,n._applicationIsNotActive?n._applicationIsNotActive=!1:e!==t&&t!==d.default.getLastFocusedProgrammatically(!0)&&!m.default.isNavigatingWithKeyboard()&&i&&n._updateKeyboardNavigationState(!0)}),0)},n._onFocusOut=function(e){n._requestApplicationIsNotActive()},n._onKeyDown=function(e){p.default.dispatchKeyDown(e)},n._onKeyUp=function(e){if(n.props.activePopup&&27===e.keyCode)return e.stopPropagation&&e.stopPropagation(),void n._dismissPopup();p.default.dispatchKeyUp(e)},n.state=n._getInitialState(),n._focusManager=new d.default(void 0),n}return r(t,e),t.prototype.getChildContext=function(){return{focusManager:this._focusManager}},t.prototype._getInitialState=function(){return{isMeasuringPopup:!0,anchorPosition:"left",anchorOffset:0,popupY:0,popupX:0,popupWidth:0,popupHeight:0,constrainedPopupWidth:0,constrainedPopupHeight:0,focusClass:this.props.mouseFocusOutline}},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.activePopup!==e.activePopup&&(this._stopHidePopupTimer(),this.setState(this._getInitialState()))},t.prototype.componentDidUpdate=function(e,t){this.props.activePopup?(this._stopHidePopupTimer(),this._recalcPosition(),this._respositionPopupTimer||this._startRepositionPopupTimer(),this._startHidePopupTimer(),this._clickHandlerInstalled||(document.addEventListener("mousedown",this._tryClosePopup),document.addEventListener("touchstart",this._tryClosePopup),this._clickHandlerInstalled=!0)):(this._stopRepositionPopupTimer(),this._clickHandlerInstalled&&(document.removeEventListener("mousedown",this._tryClosePopup),document.removeEventListener("touchstart",this._tryClosePopup),this._clickHandlerInstalled=!1))},t.prototype.componentDidMount=function(){this.props.activePopup&&this._recalcPosition(),this.props.activePopup&&this._startRepositionPopupTimer(),this._keyboardHandlerInstalled||(window.addEventListener("keydown",this._onKeyDown),window.addEventListener("keyup",this._onKeyUp),window.addEventListener("keydown",this._onKeyDownCapture,!0),window.addEventListener("mousedown",this._onMouseDownCapture,!0),window.addEventListener("focusin",this._onFocusIn),window.addEventListener("focusout",this._onFocusOut),this._keyboardHandlerInstalled=!0)},t.prototype.componentWillUnmount=function(){this._stopHidePopupTimer(),this._stopRepositionPopupTimer(),this._keyboardHandlerInstalled&&(window.removeEventListener("keydown",this._onKeyDown),window.removeEventListener("keyup",this._onKeyUp),window.removeEventListener("keydown",this._onKeyDownCapture,!0),window.removeEventListener("mousedown",this._onMouseDownCapture,!0),window.removeEventListener("focusin",this._onFocusIn),window.removeEventListener("focusout",this._onFocusOut),this._keyboardHandlerInstalled=!1)},t.prototype._renderPopup=function(e,t){var n=this,i={display:"flex",position:"fixed",zIndex:100001};t||(i.top=this.state.popupY,i.left=this.state.popupX,this.state.constrainedPopupWidth&&this.state.constrainedPopupWidth!==this.state.popupWidth&&(i.width=this.state.constrainedPopupWidth),this.state.constrainedPopupHeight&&this.state.constrainedPopupHeight!==this.state.popupHeight&&(i.height=this.state.constrainedPopupHeight));var r=(e.popupOptions.cacheable?"CP:":"P:")+e.popupId,o=t?e.popupOptions.renderPopup("top",0,0,0):e.popupOptions.renderPopup(this.state.anchorPosition,this.state.anchorOffset,this.state.constrainedPopupWidth,this.state.constrainedPopupHeight);return a.createElement(g.default,{key:r,style:i,hidden:t,ref:t?void 0:this._onMount,onMouseEnter:function(e){return n._onMouseEnter(e)},onMouseLeave:function(e){return n._onMouseLeave(e)}},o)},t.prototype.render=function(){var e=this,t=[];this.props.activePopup&&t.push(this._renderPopup(this.props.activePopup,!1)),this.props.cachedPopup&&this.props.cachedPopup.forEach((function(n){return t.push(e._renderPopup(n,!0))}));var n=null;return this.props.modal&&(n=a.createElement(f.default,null,this.props.modal)),a.createElement("div",{className:this.state.focusClass,style:{width:"100%",height:"100%",display:"flex",cursor:"default"},dir:this.props.writingDirection},a.createElement(S,null,this.props.mainView),n,t,a.createElement(u.default,null))},t.prototype._determineIfClickOnElement=function(e,t){try{var n=s.findDOMNode(e);return!!n&&!!t&&n.contains(t)}catch(e){return!1}},t.prototype._requestApplicationIsNotActive=function(){var e=this;this._cancelApplicationIsNotActive(),this._applicationIsNotActiveTimer=l.default.setTimeout((function(){e._applicationIsNotActiveTimer=void 0,e._applicationIsNotActive=!0}),100)},t.prototype._cancelApplicationIsNotActive=function(){this._applicationIsNotActiveTimer&&(l.default.clearTimeout(this._applicationIsNotActiveTimer),this._applicationIsNotActiveTimer=void 0)},t.prototype._updateKeyboardNavigationState=function(e){if(this._isNavigatingWithKeyboardUpateTimer&&(l.default.clearTimeout(this._isNavigatingWithKeyboardUpateTimer),this._isNavigatingWithKeyboardUpateTimer=void 0),m.default.isNavigatingWithKeyboard()!==e){m.default.keyboardNavigationEvent.fire(e);var t=e?this.props.keyBoardFocusOutline:this.props.mouseFocusOutline;this.state.focusClass!==t&&this.setState({focusClass:t})}},t.prototype._onMouseEnter=function(e){this._stopHidePopupTimer()},t.prototype._onMouseLeave=function(e){this._startHidePopupTimer()},t.prototype._startHidePopupTimer=function(){var e=this;this.props.autoDismiss&&(!h.isUndefined(this.props.autoDismissDelay)&&this.props.autoDismissDelay>0?this._hidePopupTimer=l.default.setTimeout((function(){e._hidePopupTimer=void 0,e._dismissPopup()}),this.props.autoDismissDelay):this._dismissPopup())},t.prototype._stopHidePopupTimer=function(){this._hidePopupTimer&&(l.default.clearTimeout(this._hidePopupTimer),this._hidePopupTimer=void 0)},t.prototype._dismissPopup=function(){this.props.onDismissPopup&&this.props.onDismissPopup()},t.prototype._startRepositionPopupTimer=function(){var e=this;this._respositionPopupTimer=l.default.setInterval((function(){e._recalcPosition()}),500)},t.prototype._stopRepositionPopupTimer=function(){this._respositionPopupTimer&&(l.default.clearInterval(this._respositionPopupTimer),this._respositionPopupTimer=void 0)},t.prototype._recalcPosition=function(){var e=h.extend({},this.state);if(this.state.isMeasuringPopup){var t=this._mountedComponent;if(!t)return;e.isMeasuringPopup=!1,e.popupHeight=t.clientHeight,e.popupWidth=t.clientWidth}var n=this.props.activePopup.popupOptions.getAnchor();if(n){var i=null;try{i=s.findDOMNode(n)}catch(e){i=null}if(i){var r=i.getBoundingClientRect(),o={width:e.popupWidth,height:e.popupHeight},a={width:window.innerWidth,height:window.innerHeight},l=c.recalcPositionFromLayoutData(a,r,o,this.props.activePopup.popupOptions.positionPriorities,this.props.activePopup.popupOptions.useInnerPositioning);l?(h.extend(e,l),h.isEqual(e,this.state)||this.setState(e)):this._dismissPopup()}else this._dismissPopup()}else this._dismissPopup()},t.childContextTypes={focusManager:o.object},t}(a.Component);t.RootView=T,t.default=T},function(e,t,n){"use strict";var i=n(611);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(109),s=n(143),c=n(448),l=n(277),u=n(161),d="undefined"!=typeof navigator&&"string"==typeof navigator.platform&&navigator.platform.indexOf("Mac")>=0,p={liveRegionContainer:u.default.combine({position:"absolute",overflow:"hidden",opacity:0,top:-30,bottom:0,left:0,right:0,height:30,whiteSpace:"pre"})},h=function(e){function t(t){var n=e.call(this,t)||this;return n._newAnnouncementEventChangedSubscription=c.default.newAnnouncementReadyEvent.subscribe((function(e){n.state.announcementText===e&&(e+=" "),d?n.setState({announcementText:e}):n.setState({announcementText:e,announcementTextInNestedDiv:!n.state.announcementTextInNestedDiv})})),n.state=n._getInitialState(),n}return r(t,e),t.prototype._getInitialState=function(){return{announcementText:"",announcementTextInNestedDiv:!1}},t.prototype.componentDidUpdate=function(e,t){t.announcementText!==this.state.announcementText&&this.state.announcementText&&this._startClearAnnouncementTimer()},t.prototype.componentWillUnmount=function(){this._newAnnouncementEventChangedSubscription&&(this._newAnnouncementEventChangedSubscription.unsubscribe(),this._newAnnouncementEventChangedSubscription=void 0)},t.prototype.render=function(){var e=this.state.announcementTextInNestedDiv?o.createElement("div",null," ",this.state.announcementText," "):this.state.announcementText;return o.createElement("div",{style:p.liveRegionContainer,"aria-live":l.default.accessibilityLiveRegionToString(a.Types.AccessibilityLiveRegion.Assertive),"aria-atomic":"true","aria-relevant":"additions text"},e)},t.prototype._cancelClearAnnouncementTimer=function(){this._clearAnnouncementTimer&&(s.default.clearTimeout(this._clearAnnouncementTimer),this._clearAnnouncementTimer=void 0)},t.prototype._startClearAnnouncementTimer=function(){var e=this;this._cancelClearAnnouncementTimer(),this._clearAnnouncementTimer=s.default.setTimeout((function(){e.setState({announcementText:""})}),2e3)},t}(o.Component);t.AccessibilityAnnouncer=h,t.default=h},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(293),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.screenReaderChangedEvent=new o.default,t.newAnnouncementReadyEvent=new o.default,t}return r(t,e),t.prototype.isHighContrastEnabled=function(){return!1},t.prototype.announceForAccessibility=function(e){this.newAnnouncementReadyEvent.fire(e)},t}(n(109).Accessibility);t.Accessibility=a,t.default=a},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0});var r=n(109);t.ImportantForAccessibilityMap=((i={})[r.Types.ImportantForAccessibility.Auto]="auto",i[r.Types.ImportantForAccessibility.Yes]="yes",i[r.Types.ImportantForAccessibility.No]="no",i[r.Types.ImportantForAccessibility.NoHideDescendants]="no-hide-descendants",i);var o=function(){};t.AccessibilityPlatformUtil=o;var a=function(){function e(){}return e.prototype.isHidden=function(e){if(e&&this.importantForAccessibilityToString(e)===t.ImportantForAccessibilityMap[r.Types.ImportantForAccessibility.NoHideDescendants])return!0},e.prototype.importantForAccessibilityToString=function(e,n){if((e=e||n)&&t.ImportantForAccessibilityMap[e])return t.ImportantForAccessibilityMap[e]},e}();t.AccessibilityUtil=a},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(214),r=n(449),o=function(){function t(){this._fingerprintRegistry={}}return t.prototype._getFingerprint=function(e){return JSON.stringify(this._sortAny(e))},t.prototype._sortAny=function(e){return e instanceof Array?this._sortArray(e):e instanceof Object?this._sortObject(e):e},t.prototype._sortObject=function(e){var t={},n=[];for(var i in e)e.hasOwnProperty(i)&&n.push(i);for(var o=(n=r.sortBy(n)).length,a=0;a<o;a++){var s=e[i=n[a]];t[i]=this._sortAny(s)}return t},t.prototype._sortArray=function(e){for(var t=e.length,n=0;n<t;n++)e[n]=this._sortAny(e[n]);return e},t.prototype.isDisabled=function(){return!1},t.prototype.detectLeaks=function(t){if(i.default.isDevelopmentMode()&&!this.isDisabled()){var n=(new Error).stack;if(n){var r=n.toString()+this._getFingerprint(t),o=this._fingerprintRegistry[r];o?e.warn("Possible style leak of: ",t,"first allocation: ",o):this._fingerprintRegistry[r]=n}}},t}();t.StyleLeakDetector=o,t.default=new o}).call(this,n(110))},function(e,t){e.exports=function(e){for(var t=-1,n=null==e?0:e.length,i=0,r=[];++t<n;){var o=e[t];o&&(r[i++]=o)}return r}},function(e,t,n){var i=n(216)(n(618));e.exports=i},function(e,t,n){var i=n(619);e.exports=function(e,t){return e&&e.length&&t&&t.length?i(e,t):e}},function(e,t,n){var i=n(228),r=n(304),o=n(620),a=n(305),s=n(273),c=Array.prototype.splice;e.exports=function(e,t,n,l){var u=l?o:r,d=-1,p=t.length,h=e;for(e===t&&(t=s(t)),n&&(h=i(e,a(n)));++d<p;)for(var f=0,g=t[d],m=n?n(g):g;(f=u(h,m,f,l))>-1;)h!==e&&c.call(h,f,1),c.call(e,f,1);return e}},function(e,t){e.exports=function(e,t,n,i){for(var r=n-1,o=e.length;++r<o;)if(i(e[r],t))return r;return-1}},function(e,t,n){var i=n(228),r=n(427),o=n(227),a=n(622),s=n(623),c=n(305),l=n(624),u=n(270),d=n(142);e.exports=function(e,t,n){t=t.length?i(t,(function(e){return d(e)?function(t){return r(t,1===e.length?e[0]:e)}:e})):[u];var p=-1;t=i(t,c(o));var h=a(e,(function(e,n,r){return{criteria:i(t,(function(t){return t(e)})),index:++p,value:e}}));return s(h,(function(e,t){return l(e,t,n)}))}},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}},function(e,t){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},function(e,t,n){var i=n(625);e.exports=function(e,t,n){for(var r=-1,o=e.criteria,a=t.criteria,s=o.length,c=n.length;++r<s;){var l=i(o[r],a[r]);if(l)return r>=c?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}},function(e,t,n){var i=n(375);e.exports=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,o=e==e,a=i(e),s=void 0!==t,c=null===t,l=t==t,u=i(t);if(!c&&!u&&!a&&e>t||a&&s&&l&&!c&&!u||r&&s&&l||!n&&l||!o)return 1;if(!r&&!a&&!u&&e<t||u&&n&&o&&!r&&!a||c&&n&&o||!s&&o||!l)return-1}return 0}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a={modalContainerStyle:{display:"flex",position:"fixed",left:0,right:0,top:0,bottom:0,justifyContent:"center",alignItems:"center",flexDirection:"column",flex:"1 1 auto",alignSelf:"stretch",overflow:"hidden",zIndex:1e4}},s=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.render=function(){return o.createElement("div",{style:a.modalContainerStyle},this.props.children)},t}(o.Component);t.ModalContainer=s,t.default=s},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(447),s=n(141),c=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.render=function(){var e=s.clone(this.props.style);return this.props.hidden&&(e.visibility="hidden"),o.createElement("div",{style:e,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},this.props.children)},t}(a.PopupContainerViewBase);t.PopupContainerView=c,t.default=c},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(143),s="\n.rx-activity {\n  position: relative;\n  width: 100px;\n  height: 100px;\n}\n.rx-activity .layer-1-translate,\n.rx-activity .layer-3-translate,\n.rx-activity .layer-5-translate,\n.rx-activity .layer-7-translate {\n  -webkit-transform: translate(50px, 50px);\n          transform: translate(50px, 50px);\n}\n.rx-activity .layer-2-translate,\n.rx-activity .layer-4-translate,\n.rx-activity .layer-6-translate,\n.rx-activity .layer-8-translate {\n  -webkit-transform: translate(0px, -40px);\n          transform: translate(0px, -40px);\n}\n.rx-activity .layer-2-content,\n.rx-activity .layer-4-content,\n.rx-activity .layer-6-content,\n.rx-activity .layer-8-content {\n  width: 100px;\n  height: 100px;\n}\n.rx-activity .layer-2-content .shape-0,\n.rx-activity .layer-4-content .shape-0,\n.rx-activity .layer-6-content .shape-0,\n.rx-activity .layer-8-content .shape-0 {\n  position: absolute;\n  left: -7.5px;\n  top: -7.5px;\n  width: 15px;\n  height: 15px;\n  border-radius: 50%;\n}\n.rx-activity div {\n  position: absolute;\n  width: 0;\n  height: 0;\n}\n.rx-activity .animation {\n  -webkit-animation-duration: 1.4s;\n          animation-duration: 1.4s;\n  -webkit-animation-timing-function: linear;\n          animation-timing-function: linear;\n  -webkit-animation-direction: normal;\n          animation-direction: normal;\n  -webkit-animation-iteration-count: infinite;\n          animation-iteration-count: infinite;\n  -webkit-animation-delay: 0s;\n          animation-delay: 0s;\n}\n.rx-activity .layer-1-rotate {\n  -webkit-animation-name: rx-activity-layer-1-rotate;\n          animation-name: rx-activity-layer-1-rotate;\n}\n.rx-activity .layer-2-scale {\n  -webkit-animation-name: rx-activity-layer-2-scale;\n          animation-name: rx-activity-layer-2-scale;\n}\n.rx-activity .layer-3-rotate {\n  -webkit-animation-name: rx-activity-layer-3-rotate;\n          animation-name: rx-activity-layer-3-rotate;\n}\n.rx-activity .layer-4-scale {\n  -webkit-animation-name: rx-activity-layer-4-scale;\n          animation-name: rx-activity-layer-4-scale;\n}\n.rx-activity .layer-5-rotate {\n  -webkit-animation-name: rx-activity-layer-5-rotate;\n          animation-name: rx-activity-layer-5-rotate;\n}\n.rx-activity .layer-6-scale {\n  -webkit-animation-name: rx-activity-layer-6-scale;\n          animation-name: rx-activity-layer-6-scale;\n}\n.rx-activity .layer-7-rotate {\n  -webkit-animation-name: rx-activity-layer-7-rotate;\n          animation-name: rx-activity-layer-7-rotate;\n}\n.rx-activity .layer-8-scale {\n  -webkit-animation-name: rx-activity-layer-8-scale;\n          animation-name: rx-activity-layer-8-scale;\n}\n.rx-activity .shape-0 {\n  background-color: white;\n}\n.rx-activity.hidden {\n  visibility: hidden;\n}\n.rx-activity-extra-small {\n  width: 16px;\n  height: 16px;\n}\n.rx-activity-extra-small .layer-1-translate,\n.rx-activity-extra-small .layer-3-translate,\n.rx-activity-extra-small .layer-5-translate,\n.rx-activity-extra-small .layer-7-translate {\n  -webkit-transform: translate(8px, 8px);\n          transform: translate(8px, 8px);\n}\n.rx-activity-extra-small .layer-2-translate,\n.rx-activity-extra-small .layer-4-translate,\n.rx-activity-extra-small .layer-6-translate,\n.rx-activity-extra-small .layer-8-translate {\n  -webkit-transform: translate(0px, -6.4px);\n          transform: translate(0px, -6.4px);\n}\n.rx-activity-extra-small .layer-2-content,\n.rx-activity-extra-small .layer-4-content,\n.rx-activity-extra-small .layer-6-content,\n.rx-activity-extra-small .layer-8-content {\n  width: 16px;\n  height: 16px;\n}\n.rx-activity-extra-small .layer-2-content .shape-0,\n.rx-activity-extra-small .layer-4-content .shape-0,\n.rx-activity-extra-small .layer-6-content .shape-0,\n.rx-activity-extra-small .layer-8-content .shape-0 {\n  position: absolute;\n  left: -2px;\n  top: -2px;\n  width: 4px;\n  height: 4px;\n  border-radius: 50%;\n}\n.rx-activity-small {\n  width: 20px;\n  height: 20px;\n}\n.rx-activity-small .layer-1-translate,\n.rx-activity-small .layer-3-translate,\n.rx-activity-small .layer-5-translate,\n.rx-activity-small .layer-7-translate {\n  -webkit-transform: translate(10px, 10px);\n          transform: translate(10px, 10px);\n}\n.rx-activity-small .layer-2-translate,\n.rx-activity-small .layer-4-translate,\n.rx-activity-small .layer-6-translate,\n.rx-activity-small .layer-8-translate {\n  -webkit-transform: translate(0px, -8px);\n          transform: translate(0px, -8px);\n}\n.rx-activity-small .layer-2-content,\n.rx-activity-small .layer-4-content,\n.rx-activity-small .layer-6-content,\n.rx-activity-small .layer-8-content {\n  width: 20px;\n  height: 20px;\n}\n.rx-activity-small .layer-2-content .shape-0,\n.rx-activity-small .layer-4-content .shape-0,\n.rx-activity-small .layer-6-content .shape-0,\n.rx-activity-small .layer-8-content .shape-0 {\n  position: absolute;\n  left: -3px;\n  top: -3px;\n  width: 6px;\n  height: 6px;\n  border-radius: 50%;\n}\n.rx-activity-medium {\n  width: 36px;\n  height: 36px;\n}\n.rx-activity-medium .layer-1-translate,\n.rx-activity-medium .layer-3-translate,\n.rx-activity-medium .layer-5-translate,\n.rx-activity-medium .layer-7-translate {\n  -webkit-transform: translate(18px, 18px);\n          transform: translate(18px, 18px);\n}\n.rx-activity-medium .layer-2-translate,\n.rx-activity-medium .layer-4-translate,\n.rx-activity-medium .layer-6-translate,\n.rx-activity-medium .layer-8-translate {\n  -webkit-transform: translate(0px, -14.4px);\n          transform: translate(0px, -14.4px);\n}\n.rx-activity-medium .layer-2-content,\n.rx-activity-medium .layer-4-content,\n.rx-activity-medium .layer-6-content,\n.rx-activity-medium .layer-8-content {\n  width: 36px;\n  height: 36px;\n}\n.rx-activity-medium .layer-2-content .shape-0,\n.rx-activity-medium .layer-4-content .shape-0,\n.rx-activity-medium .layer-6-content .shape-0,\n.rx-activity-medium .layer-8-content .shape-0 {\n  position: absolute;\n  left: -4.5px;\n  top: -4.5px;\n  width: 9px;\n  height: 9px;\n  border-radius: 50%;\n}\n@-webkit-keyframes rx-activity-layer-1-rotate {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n    -webkit-animation-timing-function: cubic-bezier(1, 0.2, 0.25, 0.76);\n            animation-timing-function: cubic-bezier(1, 0.2, 0.25, 0.76);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n    -webkit-animation-timing-function: linear;\n            animation-timing-function: linear;\n  }\n}\n@keyframes rx-activity-layer-1-rotate {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n    -webkit-animation-timing-function: cubic-bezier(1, 0.2, 0.25, 0.76);\n            animation-timing-function: cubic-bezier(1, 0.2, 0.25, 0.76);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n    -webkit-animation-timing-function: linear;\n            animation-timing-function: linear;\n  }\n}\n@-webkit-keyframes rx-activity-layer-2-scale {\n  0% {\n    -webkit-transform: scale(0.96);\n            transform: scale(0.96);\n    -webkit-animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n            animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n  }\n  14.29% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n            animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n  }\n  47.62% {\n    -webkit-transform: scale(0.35);\n            transform: scale(0.35);\n    -webkit-animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n            animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n  }\n  66.67% {\n    -webkit-transform: scale(0.45);\n            transform: scale(0.45);\n    -webkit-animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n            animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n  }\n  72.62% {\n    -webkit-transform: scale(0.45);\n            transform: scale(0.45);\n    -webkit-animation-timing-function: cubic-bezier(0.17, 0, 0.83, 1);\n            animation-timing-function: cubic-bezier(0.17, 0, 0.83, 1);\n  }\n  100% {\n    -webkit-transform: scale(0.45);\n            transform: scale(0.45);\n    -webkit-animation-timing-function: linear;\n            animation-timing-function: linear;\n  }\n}\n@keyframes rx-activity-layer-2-scale {\n  0% {\n    -webkit-transform: scale(0.96);\n            transform: scale(0.96);\n    -webkit-animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n            animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n  }\n  14.29% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n            animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n  }\n  47.62% {\n    -webkit-transform: scale(0.35);\n            transform: scale(0.35);\n    -webkit-animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n            animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n  }\n  66.67% {\n    -webkit-transform: scale(0.45);\n            transform: scale(0.45);\n    -webkit-animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n            animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n  }\n  72.62% {\n    -webkit-transform: scale(0.45);\n            transform: scale(0.45);\n    -webkit-animation-timing-function: cubic-bezier(0.17, 0, 0.83, 1);\n            animation-timing-function: cubic-bezier(0.17, 0, 0.83, 1);\n  }\n  100% {\n    -webkit-transform: scale(0.45);\n            transform: scale(0.45);\n    -webkit-animation-timing-function: linear;\n            animation-timing-function: linear;\n  }\n}\n@-webkit-keyframes rx-activity-layer-3-rotate {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n    -webkit-animation-timing-function: cubic-bezier(0.88, 0.21, 0.25, 0.76);\n            animation-timing-function: cubic-bezier(0.88, 0.21, 0.25, 0.76);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n    -webkit-animation-timing-function: linear;\n            animation-timing-function: linear;\n  }\n}\n@keyframes rx-activity-layer-3-rotate {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n    -webkit-animation-timing-function: cubic-bezier(0.88, 0.21, 0.25, 0.76);\n            animation-timing-function: cubic-bezier(0.88, 0.21, 0.25, 0.76);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n    -webkit-animation-timing-function: linear;\n            animation-timing-function: linear;\n  }\n}\n@-webkit-keyframes rx-activity-layer-4-scale {\n  0% {\n    -webkit-transform: scale(0.96);\n            transform: scale(0.96);\n    -webkit-animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n            animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n  }\n  9.52% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n            animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n  }\n  42.86% {\n    -webkit-transform: scale(0.35);\n            transform: scale(0.35);\n    -webkit-animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n            animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n  }\n  61.9% {\n    -webkit-transform: scale(0.45);\n            transform: scale(0.45);\n    -webkit-animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n            animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n  }\n  72.62% {\n    -webkit-transform: scale(0.8);\n            transform: scale(0.8);\n    -webkit-animation-timing-function: cubic-bezier(0.17, 0, 0.83, 1);\n            animation-timing-function: cubic-bezier(0.17, 0, 0.83, 1);\n  }\n  100% {\n    -webkit-transform: scale(0.8);\n            transform: scale(0.8);\n    -webkit-animation-timing-function: linear;\n            animation-timing-function: linear;\n  }\n}\n@keyframes rx-activity-layer-4-scale {\n  0% {\n    -webkit-transform: scale(0.96);\n            transform: scale(0.96);\n    -webkit-animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n            animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n  }\n  9.52% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n            animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n  }\n  42.86% {\n    -webkit-transform: scale(0.35);\n            transform: scale(0.35);\n    -webkit-animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n            animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n  }\n  61.9% {\n    -webkit-transform: scale(0.45);\n            transform: scale(0.45);\n    -webkit-animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n            animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n  }\n  72.62% {\n    -webkit-transform: scale(0.8);\n            transform: scale(0.8);\n    -webkit-animation-timing-function: cubic-bezier(0.17, 0, 0.83, 1);\n            animation-timing-function: cubic-bezier(0.17, 0, 0.83, 1);\n  }\n  100% {\n    -webkit-transform: scale(0.8);\n            transform: scale(0.8);\n    -webkit-animation-timing-function: linear;\n            animation-timing-function: linear;\n  }\n}\n@-webkit-keyframes rx-activity-layer-5-rotate {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n    -webkit-animation-timing-function: cubic-bezier(0.76, 0.21, 0.25, 0.76);\n            animation-timing-function: cubic-bezier(0.76, 0.21, 0.25, 0.76);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n    -webkit-animation-timing-function: linear;\n            animation-timing-function: linear;\n  }\n}\n@keyframes rx-activity-layer-5-rotate {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n    -webkit-animation-timing-function: cubic-bezier(0.76, 0.21, 0.25, 0.76);\n            animation-timing-function: cubic-bezier(0.76, 0.21, 0.25, 0.76);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n    -webkit-animation-timing-function: linear;\n            animation-timing-function: linear;\n  }\n}\n@-webkit-keyframes rx-activity-layer-6-scale {\n  0% {\n    -webkit-transform: scale(0.96);\n            transform: scale(0.96);\n    -webkit-animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n            animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n  }\n  4.76% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n            animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n  }\n  38.1% {\n    -webkit-transform: scale(0.35);\n            transform: scale(0.35);\n    -webkit-animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n            animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n  }\n  57.14% {\n    -webkit-transform: scale(0.45);\n            transform: scale(0.45);\n    -webkit-animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n            animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n  }\n  72.62% {\n    -webkit-transform: scale(0.8);\n            transform: scale(0.8);\n    -webkit-animation-timing-function: cubic-bezier(0.17, 0, 0.83, 1);\n            animation-timing-function: cubic-bezier(0.17, 0, 0.83, 1);\n  }\n  100% {\n    -webkit-transform: scale(0.8);\n            transform: scale(0.8);\n    -webkit-animation-timing-function: linear;\n            animation-timing-function: linear;\n  }\n}\n@keyframes rx-activity-layer-6-scale {\n  0% {\n    -webkit-transform: scale(0.96);\n            transform: scale(0.96);\n    -webkit-animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n            animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n  }\n  4.76% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n            animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n  }\n  38.1% {\n    -webkit-transform: scale(0.35);\n            transform: scale(0.35);\n    -webkit-animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n            animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n  }\n  57.14% {\n    -webkit-transform: scale(0.45);\n            transform: scale(0.45);\n    -webkit-animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n            animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n  }\n  72.62% {\n    -webkit-transform: scale(0.8);\n            transform: scale(0.8);\n    -webkit-animation-timing-function: cubic-bezier(0.17, 0, 0.83, 1);\n            animation-timing-function: cubic-bezier(0.17, 0, 0.83, 1);\n  }\n  100% {\n    -webkit-transform: scale(0.8);\n            transform: scale(0.8);\n    -webkit-animation-timing-function: linear;\n            animation-timing-function: linear;\n  }\n}\n@-webkit-keyframes rx-activity-layer-7-rotate {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n    -webkit-animation-timing-function: cubic-bezier(0.65, 0.21, 0.25, 0.76);\n            animation-timing-function: cubic-bezier(0.65, 0.21, 0.25, 0.76);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n    -webkit-animation-timing-function: linear;\n            animation-timing-function: linear;\n  }\n}\n@keyframes rx-activity-layer-7-rotate {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n    -webkit-animation-timing-function: cubic-bezier(0.65, 0.21, 0.25, 0.76);\n            animation-timing-function: cubic-bezier(0.65, 0.21, 0.25, 0.76);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n    -webkit-animation-timing-function: linear;\n            animation-timing-function: linear;\n  }\n}\n@-webkit-keyframes rx-activity-layer-8-scale {\n  0% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n            animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n  }\n  33.33% {\n    -webkit-transform: scale(0.35);\n            transform: scale(0.35);\n    -webkit-animation-timing-function: cubic-bezier(0.33, 0, 1, 1);\n            animation-timing-function: cubic-bezier(0.33, 0, 1, 1);\n  }\n  52.38% {\n    -webkit-transform: scale(0.45);\n            transform: scale(0.45);\n    -webkit-animation-timing-function: cubic-bezier(0.8, 0, 0.78, 1);\n            animation-timing-function: cubic-bezier(0.8, 0, 0.78, 1);\n  }\n  72.62% {\n    -webkit-transform: scale(1.15);\n            transform: scale(1.15);\n    -webkit-animation-timing-function: cubic-bezier(0.33, 0, 0, 1);\n            animation-timing-function: cubic-bezier(0.33, 0, 0, 1);\n  }\n  100% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-animation-timing-function: linear;\n            animation-timing-function: linear;\n  }\n}\n@keyframes rx-activity-layer-8-scale {\n  0% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n            animation-timing-function: cubic-bezier(0.33, 0, 0.67, 1);\n  }\n  33.33% {\n    -webkit-transform: scale(0.35);\n            transform: scale(0.35);\n    -webkit-animation-timing-function: cubic-bezier(0.33, 0, 1, 1);\n            animation-timing-function: cubic-bezier(0.33, 0, 1, 1);\n  }\n  52.38% {\n    -webkit-transform: scale(0.45);\n            transform: scale(0.45);\n    -webkit-animation-timing-function: cubic-bezier(0.8, 0, 0.78, 1);\n            animation-timing-function: cubic-bezier(0.8, 0, 0.78, 1);\n  }\n  72.62% {\n    -webkit-transform: scale(1.15);\n            transform: scale(1.15);\n    -webkit-animation-timing-function: cubic-bezier(0.33, 0, 0, 1);\n            animation-timing-function: cubic-bezier(0.33, 0, 0, 1);\n  }\n  100% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-animation-timing-function: linear;\n            animation-timing-function: linear;\n  }\n}\n",c=function(e){function t(n){var i=e.call(this,n)||this;return i._isMounted=!1,t._installStyleSheet(),i.state={isVisible:!1},i}return r(t,e),t._installStyleSheet=function(){if(!t._isStyleSheetInstalled){var e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=s:n.appendChild(document.createTextNode(s)),e.appendChild(n),t._isStyleSheetInstalled=!0}},t.prototype.componentDidMount=function(){var e=this;this._isMounted=!0,this.props.deferTime&&this.props.deferTime>0?a.default.setTimeout((function(){e._isMounted&&e.setState({isVisible:!0})}),this.props.deferTime):this.setState({isVisible:!0})},t.prototype.componentWillUnmount=function(){this._isMounted=!1},t.prototype.render=function(){var e={backgroundColor:this.props.color},t=["rx-activity"];return"tiny"===this.props.size?t.push("rx-activity-extra-small"):"small"===this.props.size?t.push("rx-activity-small"):"medium"===this.props.size&&t.push("rx-activity-medium"),this.state.isVisible||t.push("hidden"),o.createElement("div",{className:t.join(" "),"data-test-id":this.props.testId},o.createElement("div",{className:"layer-7"},o.createElement("div",{className:"layer-7-translate"},o.createElement("div",{className:"layer-7-rotate animation"},o.createElement("div",{className:"layer-8"},o.createElement("div",{className:"layer-8-translate"},o.createElement("div",{className:"layer-8-scale animation"},o.createElement("div",{className:"layer-8-content "},o.createElement("div",{className:"shape shape-0",style:e})))))))),o.createElement("div",{className:"layer-5"},o.createElement("div",{className:"layer-5-translate"},o.createElement("div",{className:"layer-5-rotate animation"},o.createElement("div",{className:"layer-6"},o.createElement("div",{className:"layer-6-translate"},o.createElement("div",{className:"layer-6-scale animation"},o.createElement("div",{className:"layer-6-content "},o.createElement("div",{className:"shape shape-0",style:e})))))))),o.createElement("div",{className:"layer-3"},o.createElement("div",{className:"layer-3-translate"},o.createElement("div",{className:"layer-3-rotate animation"},o.createElement("div",{className:"layer-4"},o.createElement("div",{className:"layer-4-translate"},o.createElement("div",{className:"layer-4-scale animation"},o.createElement("div",{className:"layer-4-content "},o.createElement("div",{className:"shape shape-0",style:e})))))))),o.createElement("div",{className:"layer-1"},o.createElement("div",{className:"layer-1-translate"},o.createElement("div",{className:"layer-1-rotate animation"},o.createElement("div",{className:"layer-2"},o.createElement("div",{className:"layer-2-translate"},o.createElement("div",{className:"layer-2-scale animation"},o.createElement("div",{className:"layer-2-content "},o.createElement("div",{className:"shape shape-0",style:e})))))))))},t._isStyleSheetInstalled=!1,t}(o.Component);t.ActivityIndicator=c,t.default=c},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(109),s=n(630),c=n(378),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._modalId="RX.Alert_WebModal",t}return r(t,e),t.prototype.show=function(e,t,n,i){c.default.show(o.createElement(s.AlertModalContent,{modalId:this._modalId,buttons:n,title:e,message:t,theme:i&&i.theme,preventDismissOnPress:i&&i.preventDismissOnPress}),this._modalId)},t}(a.Alert);t.Alert=l,t.default=new l},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(109),s=n(453),c=n(378),l=n(161),u=n(379),d=n(380),p={background:l.default.createViewStyle({flex:1,backgroundColor:"rgba(0, 0, 0, 0.1)",alignItems:"center",alignSelf:"stretch"}),verticalRoot:l.default.createViewStyle({flex:1,flexDirection:"row",alignItems:"center"}),defaultBody:l.default.createViewStyle({width:300,backgroundColor:"#fff",borderColor:"#bbb",borderWidth:1,alignItems:"stretch",paddingHorizontal:8,paddingVertical:4}),defaultTitleText:l.default.createTextStyle({fontSize:20,fontWeight:"bold",alignSelf:"center",padding:12,flex:1}),defaultMessageText:l.default.createTextStyle({fontSize:16,alignSelf:"center",padding:12,flex:1}),defaultButtonContainer:l.default.createButtonStyle({padding:8,flex:1}),defaultButton:l.default.createButtonStyle({alignItems:"center",flex:1,borderWidth:1,borderRadius:8,borderColor:"#bbb"}),defaultButtonHover:l.default.createButtonStyle({backgroundColor:"#eee"}),defaultCancelButton:l.default.createButtonStyle({borderColor:"red"}),defaultBtnText:l.default.createTextStyle({fontSize:14,padding:8,color:"#333"}),defaultCancelBtnText:l.default.createTextStyle({color:"red"})},h=function(e){function t(t){var n=e.call(this,t)||this;return n._onPressBody=function(e){e.stopPropagation()},n._onPressBackground=function(e){n.props.preventDismissOnPress||c.default.dismiss(n.props.modalId)},n.state={hoverIndex:-1},n}return r(t,e),t.prototype.render=function(){var e=this,t=this.props.theme,n=this.props.buttons&&this.props.buttons.map((function(n,i){var r="cancel"===n.style,a=[p.defaultButton,r?p.defaultCancelButton:void 0],c=[p.defaultBtnText,r?p.defaultCancelBtnText:void 0];return e.state.hoverIndex===i&&a.push(p.defaultButtonHover),t&&(a.push(t.buttonStyle),c.push(t.buttonTextStyle),r&&(a.push(t.cancelButtonStyle),c.push(t.cancelButtonTextStyle)),e.state.hoverIndex===i&&a.push(r?t.cancelButtonHoverStyle:t.buttonHoverStyle)),o.createElement(d.default,{key:"button_"+i,style:p.defaultButtonContainer},o.createElement(s.default,{onPress:function(t){return e._onPressButton(n)},onHoverStart:function(){return e.setState({hoverIndex:i})},onHoverEnd:function(){return e.setState({hoverIndex:-1})},style:a},o.createElement(u.default,{style:c},n.text)))}));return o.createElement(d.default,{style:p.background,onPress:this._onPressBackground},o.createElement(d.default,{style:p.verticalRoot},o.createElement(d.default,{style:[p.defaultBody,t&&t.bodyStyle],onPress:this._onPressBody},o.createElement(d.default,null,o.createElement(u.default,{style:[p.defaultTitleText,t&&t.titleTextStyle]},this.props.title)),o.createElement(d.default,null,o.createElement(u.default,{style:[p.defaultMessageText,t&&t.messageTextStyle]},this.props.message)),n)))},t.prototype._onPressButton=function(e){c.default.dismiss(this.props.modalId),e.onPress&&e.onPress()},t}(a.Component);t.AlertModalContent=h,t.default=h},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(127),c=n(454),l=n(141),u=n(632),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype._handleWillAnimate=function(e,t){var n=1,i=function(){0===--n&&t()},r=0;e.removed.length>0&&this.props.animateChildLeave&&(e.removed.forEach((function(e){try{var t=s.findDOMNode(e.element);t&&(t.style.transform="translateY("+-e.topDelta+"px)",n++,c.default(t,[{property:"opacity",from:1,to:0,delay:r,duration:150,timing:"linear"}],i))}catch(e){}})),r+=75),e.moved.length>0&&this.props.animateChildMove&&e.moved.forEach((function(e){n++;try{var t=s.findDOMNode(e.element);t&&c.default(t,[{property:"transform",from:"translateY("+-e.topDelta+"px)",to:"",delay:r,duration:300,timing:"ease-out"}],i)}catch(e){}})),r+=75,e.added.length>0&&this.props.animateChildEnter&&e.added.forEach((function(e){n++;try{var t=s.findDOMNode(e.element);t&&c.default(t,[{property:"opacity",from:0,to:1,delay:r,duration:150,timing:"linear"}],i)}catch(e){}})),i()},t.prototype.render=function(){var e=this,t=l.clone(this.props);return delete t.animateChildEnter,delete t.animateChildLeave,delete t.animateChildMove,a.createElement(u.MonitorListEdits,o({componentWillAnimate:function(t,n){return e._handleWillAnimate(t,n)}},t),this.props.children)},t}(a.Component);t.AnimateListEdits=d,t.default=d},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(0),c=n(127),l=n(226),u=n(141);function d(e){var t=[];return e&&s.Children.forEach(e,(function(e,n){if(e){var i=e;l.default(void 0!==i.key&&null!==i.key,"Children passed to a `View` with child animations enabled must have a `key`"),null!==i.key&&t.push(i.key)}})),t}function p(e){var t={};return e&&s.Children.forEach(e,(function(e,n){if(e){var i=e;l.default("key"in i,"Children passed to a `View` with child animations enabled must have a `key`");var r=i.key;null!==r&&(t[r]=i)}})),t}function h(e){var t={};return u.each(e,(function(e,n){var i;t[n]={left:(i=e.domElement).offsetLeft,top:i.offsetTop}})),t}!function(e){e[e.rest=0]="rest",e[e.willAnimate=1]="willAnimate",e[e.animating=2]="animating"}(a||(a={}));var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._itemRefs={},t._refReplacementCache={},t._isMounted=!1,t._phase=a.rest,t}return r(t,e),t.prototype.UNSAFE_componentWillMount=function(){this._childrenKeys=d(this.props.children),this._childrenMap=p(this.props.children)},t.prototype.componentDidMount=function(){this._isMounted=!0},t.prototype.componentWillUnmount=function(){this._isMounted=!1},t.prototype.shouldComponentUpdate=function(){return this._phase!==a.animating},t.prototype.UNSAFE_componentWillUpdate=function(e){l.default(this._phase!==a.animating,"componentWillUpdate should never run while the component is animating due to the implementation of shouldComponentUpdate");var t=this._childrenKeys,n=d(e.children);if(this._childrenKeys=n,function(e,t){return!u.isEqual(e,t)}(t,n)){var i=this._childrenMap,r=p(e.children);this._childrenMap=r;var o=[],s=[],c=[];Object.keys(i).forEach((function(e){e in r||o.push(i[e])})),Object.keys(r).forEach((function(e){e in i?c.push(r[e]):s.push(r[e])})),this._phase=a.willAnimate,this._willAnimatePhaseInfo={added:s,removed:o,other:c,prevPositions:h(this._itemRefs),prevChildrenMap:i}}},t.prototype.render=function(){var e=this;this._childrenToRender=[],u.each(this.props.children,(function(t){if(t){var n=t,i=e._refReplacementCache[n.key];i&&i.exisiting===n.ref||(i={replacement:function(t){e._saveRef(n,t)},exisiting:n.ref},e._refReplacementCache[n.key]=i),e._childrenToRender.push(s.cloneElement(n,{ref:i.replacement}))}})),this._phase===a.willAnimate&&u.each(this._willAnimatePhaseInfo.removed,(function(t){t&&e._childrenToRender.push(s.cloneElement(t,{ref:function(n){e._saveRef(t,n)}}))}));var t=u.clone(this.props);return delete t.componentWillAnimate,delete t.testId,s.createElement("div",o({},t,{"data-test-id":this.props.testId}),this._childrenToRender)},t.prototype.componentDidUpdate=function(e){var t=this;if(l.default(this._phase!==a.animating,"componentDidUpdate should never run while the component is animating due to the implementation of shouldComponentUpdate"),this._phase===a.willAnimate){var n=this._willAnimatePhaseInfo,i=n.prevPositions,r=h(this._itemRefs),o=n.added.map((function(e){return{element:t._itemRefs[e.key].reactElement}})),s=n.removed.map((function(e){var n=e.key,o=i[n],a=r[n];return{leftDelta:a.left-o.left,topDelta:a.top-o.top,element:t._itemRefs[n].reactElement}})),c=[];n.other.map((function(e){var n=e.key,o=i[n],a=r[n];o.left===a.left&&o.top===a.top||c.push({leftDelta:a.left-o.left,topDelta:a.top-o.top,element:t._itemRefs[n].reactElement})})),this._phase=a.animating,this._willAnimatePhaseInfo=void 0,this.props.componentWillAnimate({added:o,moved:c,removed:s},(function(){t._phase=a.rest,t._isMounted&&t.forceUpdate(),n.removed.forEach((function(e){var n=e.key;delete t._refReplacementCache[n]}))}))}},t.prototype._saveRef=function(e,t){null===t?delete this._itemRefs[e.key]:this._itemRefs[e.key]={reactElement:t,domElement:c.findDOMNode(t)},l.default("function"==typeof e.ref||void 0===e.ref||null===e.ref,"Invalid ref: "+e.ref+". Only callback refs are supported when using child animations on a `View`"),"function"==typeof e.ref&&e.ref(t)},t}(s.Component);t.MonitorListEdits=f},function(e,t,n){"use strict";(function(e){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(127),c=n(214),l=n(634);t.Easing=l.default;var u=n(109),d=n(454),p=n(456),h=n(141),f=n(161),g=n(379),m=n(457),E=n(380),_={height:"px",width:"px",left:"px",right:"px",top:"px",bottom:"px",perspective:"",rotate:"deg",rotateX:"deg",rotateY:"deg",rotateZ:"deg",scale:"",scaleX:"",scaleY:"",scaleZ:"",translateX:"px",translateY:"px",skewX:"",skewY:"",backgroundColor:"",opacity:"",borderRadius:"px",color:"",fontSize:"px"},S=function(){};t.Animation=S;var T=function(e){function t(t){var n=e.call(this,t)||this;return n._value=t,n._listeners=[],n}return r(t,e),t.prototype._getInputValue=function(){return this._value},t.prototype._getOutputValue=function(){return this._getInterpolatedValue(this._value)},t.prototype._getInterpolatedValue=function(e){return e},t.prototype._isInterpolated=function(){return!1},t.prototype.interpolate=function(e){return new v(e,this)},t.prototype.setValue=function(e){var t=this;if(void 0===e)throw new Error("An invalid value was passed into setvalue in the animated value api");e!==this._value&&(this._value=e,h.each(this._listeners,(function(n){return n.setValue(t,e)})))},t.prototype._addListener=function(e){this._listeners.indexOf(e)<0&&this._listeners.push(e)},t.prototype._removeListener=function(e){this._listeners=h.filter(this._listeners,(function(t){return t!==e}))},t.prototype._removeAllListeners=function(){this._listeners=[]},t.prototype._startTransition=function(e,t,n,i,r){var o=this;if(0===this._listeners.length)return this._updateFinalValue(e),void(r&&r({finished:!1}));var a=!1,s=function(e){a||(a=!0,r(e))};h.each(this._listeners,(function(r){r.startTransition(o,o._getOutputValue(),o._getInterpolatedValue(e),t,n,i,s)}))},t.prototype._stopTransition=function(){var e=this;h.each(this._listeners,(function(t){var n=t.stopTransition(e);void 0!==n&&e._updateFinalValue(n)}))},t.prototype._updateFinalValue=function(e){this.setValue(e)},t}(u.Types.AnimatedValue);t.Value=T;var v=function(t){function n(e,n){var i=t.call(this,n._getOutputValue())||this;if(i._config=e,!i._config||!i._config.inputRange||!i._config.outputRange||i._config.inputRange.length<2||i._config.outputRange.length<2||i._config.inputRange.length!==i._config.outputRange.length)throw new Error("The interpolation config is invalid. Input and output arrays must be same length.");var r={};return h.each(i._config.inputRange,(function(e,t){r[e]=i._config.outputRange[t]})),i._interpolationConfig=r,n._addListener({setValue:function(e,t){i.setValue(e._getOutputValue())},startTransition:function(e,t,n,r,o,a,s){i._startTransition(n,r,o,a,s)},stopTransition:function(e){i._stopTransition()}}),i}return r(n,t),n.prototype._startTransition=function(n,i,r,o,a){2!==this._config.inputRange.length&&c.default.isDevelopmentMode()&&e.log("Web implementation of interpolate API currently supports only two interpolation values."),t.prototype._startTransition.call(this,n,i,r,o,a)},n.prototype._convertValueToNumeric=function(e){return h.isNumber(e)?e:parseInt(e,10)},n.prototype._addUnitsToNumericValue=function(e,t){if(h.isNumber(t))return e;for(var n=t,i=0,r=["deg","grad","rad"];i<r.length;i++){var o=r[i];if(n.indexOf(o)>0)return e.toString()+o}return e},n.prototype._getInterpolatedValue=function(e){var t=this;if(!this._interpolationConfig)throw new Error("There is no interpolation config but one is required");var n=this._convertValueToNumeric(e),i=this._config.outputRange.map((function(e){return t._convertValueToNumeric(e)}));if(this._interpolationConfig[n])return this._interpolationConfig[n];if(e<this._config.inputRange[0])return i[0];for(var r=1;r<this._config.inputRange.length;r++)if(e<this._config.inputRange[r]){var o=(n-this._config.inputRange[r-1])/(this._config.inputRange[r]-this._config.inputRange[r-1]);return this._addUnitsToNumericValue(this._config.outputRange[r]*o+this._config.outputRange[r-1]*(1-o),e)}return this._addUnitsToNumericValue(i[this._config.inputRange.length-1],e)},n.prototype._isInterpolated=function(){return!0},n}(T);function I(t){return function(n){function i(e){var t=n.call(this,e)||this;return t._mountedComponent=null,t._onMount=function(e){t._mountedComponent=e},t._animatedAttributes={},t._animatedTransforms={},t._updateStyles(e),t}return r(i,n),i.prototype.setNativeProps=function(t){c.default.isDevelopmentMode()&&e.error("setNativeProps not supported on web")},i.prototype.UNSAFE_componentWillReceiveProps=function(e){this._updateStyles(e)},i.prototype.setValue=function(e,t){if(this._mountedComponent){var n,i=this._findAnimatedAttributeByValue(this._animatedAttributes,e);if(i){if(n=this._getDomNode()){var r=this._generateCssAttributeValue(i,e._getOutputValue());n.style[i]=r}}else if(this._findAnimatedAttributeByValue(this._animatedTransforms,e))(n=this._getDomNode())&&(n.style.transform=this._generateCssTransformList(!0))}},i.prototype.startTransition=function(t,n,i,r,o,a,s){if(this._mountedComponent){var l=!1,u=this._findAnimatedAttributeByValue(this._animatedAttributes,t);u&&(this._animatedAttributes[u].activeTransition&&c.default.isDevelopmentMode()&&e.error("Animation started while animation was already pending"),this._animatedAttributes[u].activeTransition={property:f.default.convertJsToCssStyle(u),from:this._generateCssAttributeValue(u,n),to:this._generateCssAttributeValue(u,i),duration:r,timing:o,delay:a,toValue:i,onEnd:s},l=!0);var d=this._findAnimatedAttributeByValue(this._animatedTransforms,t);d&&(this._animatedTransforms[d].activeTransition&&c.default.isDevelopmentMode()&&e.error("Animation started while animation was already pending"),this._animatedTransforms[d].activeTransition={property:d,from:n,to:i,duration:r,timing:o,delay:a,toValue:i,onEnd:s},l=!0),l&&this._updateTransition()}},i.prototype.stopTransition=function(e){if(this._mountedComponent){var t,n,i=!1,r=this._findAnimatedAttributeByValue(this._animatedAttributes,e);if(r){if(s=this._animatedAttributes[r].activeTransition){if(t=s.toValue,!e._isInterpolated()){var o=this._getDomNode();if(o){var a=window.getComputedStyle(o,void 0);a&&a[r]&&(t=a[r])}}n=this._animatedAttributes[r].activeTransition,delete this._animatedAttributes[r].activeTransition,i=!0}}else{var s,c=this._findAnimatedAttributeByValue(this._animatedTransforms,e);if(c)(s=this._animatedTransforms[c].activeTransition)&&(t=s.toValue,n=this._animatedTransforms[c].activeTransition,delete this._animatedTransforms[c].activeTransition,i=!0)}return n&&n.onEnd&&n.onEnd({finished:!1}),i&&this._updateTransition(),t}},i.prototype._getDomNode=function(){return s.findDOMNode(this._mountedComponent)},i.prototype._findAnimatedAttributeByValue=function(e,t){var n=h.keys(e),i=h.findIndex(n,(function(n){return e[n].valueObject===t}));return i>=0?n[i]:void 0},i.prototype._updateTransition=function(){var e=this;if(this._mountedComponent){var t=[];h.each(this._animatedAttributes,(function(e){e.activeTransition&&t.push(e.activeTransition)}));var n=h.keys(this._animatedTransforms),i=h.findIndex(n,(function(t){return!!e._animatedTransforms[t].activeTransition}));if(i>=0){var r=this._animatedTransforms[n[i]].activeTransition;t.push({property:"transform",from:this._generateCssTransformList(!1),to:this._generateCssTransformList(!0),duration:r.duration,timing:r.timing,delay:r.delay})}if(t.length>0){var o=this._getDomNode();o&&d.executeTransition(o,t,(function(){var t=[];h.each(e._animatedAttributes,(function(e){e.activeTransition&&(t.push(e.activeTransition),delete e.activeTransition)})),h.each(e._animatedTransforms,(function(e){e.activeTransition&&(t.push(e.activeTransition),delete e.activeTransition)})),h.each(t,(function(e){e.onEnd&&e.onEnd({finished:!0})}))}))}}},i.prototype._generateCssAttributeValue=function(e,t){return"number"==typeof t&&(t+=_[e]),t},i.prototype._generateCssTransformValue=function(e,t){return"number"==typeof t&&(t+=_[e]),t},i.prototype._generateCssTransformList=function(e){var t=this,n=[];return h.each(this._staticTransforms,(function(e,t){n.push(t+"("+e+")")})),h.each(this._animatedTransforms,(function(i,r){var o=e&&i.activeTransition?i.activeTransition.to:i.valueObject._getOutputValue();n.push(r+"("+t._generateCssTransformValue(r,o)+")")})),n.join(" ")},i.prototype._updateStyles=function(t){var n=this;this._propsWithoutStyle=h.omit(t,"style");var i=f.default.combine(t.style||{});this._processedStyle={};var r={};for(var o in i)if("staticTransforms"!==o&&"animatedTransforms"!==o)if(i[o]instanceof T){var a=i[o];this._processedStyle[o]=this._generateCssAttributeValue(o,a._getOutputValue()),r[o]=a}else this._processedStyle[o]=i[o];this._staticTransforms=i.staticTransforms||{};var s=i.animatedTransforms||{};h.each(this._animatedAttributes,(function(t,i){r[i]&&r[i]===t.valueObject||(t.activeTransition&&c.default.isDevelopmentMode()&&e.error("Animated style attribute removed while the animation was active"),t.valueObject._removeListener(n),delete n._animatedAttributes[i])})),h.each(r,(function(e,t){n._animatedAttributes[t]||(n._animatedAttributes[t]={valueObject:e},n._mountedComponent&&e._addListener(n))})),h.each(this._animatedTransforms,(function(t,i){s[i]&&s[i]===t.valueObject||(t.activeTransition&&c.default.isDevelopmentMode()&&e.warn("Should not remove an animated transform attribute while the animation is active"),t.valueObject._removeListener(n),delete n._animatedTransforms[i])})),h.each(s,(function(e,t){n._animatedTransforms[t]||(n._animatedTransforms[t]={valueObject:e},n._mountedComponent&&e._addListener(n))}));var l=this._generateCssTransformList(!0);l&&(this._processedStyle.transform=l)},i.prototype.componentDidMount=function(){var e=this;h.each(this._animatedAttributes,(function(t){t.valueObject._addListener(e)})),h.each(this._animatedTransforms,(function(t){t.valueObject._addListener(e)}))},i.prototype.componentWillUnmount=function(){var e=this;h.each(this._animatedAttributes,(function(t){t.valueObject._removeListener(e)})),this._animatedAttributes={},h.each(this._animatedTransforms,(function(t){t.valueObject._removeListener(e)})),this._animatedTransforms={}},i.prototype.focus=function(){this._mountedComponent&&this._mountedComponent.focus&&this._mountedComponent.focus()},i.prototype.requestFocus=function(){this._mountedComponent&&this._mountedComponent.requestFocus&&this._mountedComponent.requestFocus()},i.prototype.blur=function(){this._mountedComponent&&this._mountedComponent.blur&&this._mountedComponent.blur()},i.prototype.setFocusRestricted=function(e){this._mountedComponent&&this._mountedComponent.setFocusRestricted&&this._mountedComponent.setFocusRestricted(e)},i.prototype.setFocusLimited=function(e){this._mountedComponent&&this._mountedComponent.setFocusLimited&&this._mountedComponent.setFocusLimited(e)},i.prototype.render=function(){return a.createElement(t,o({style:this._processedStyle},this._propsWithoutStyle,{ref:this._onMount}),this.props.children)},i.displayName="Animated."+(t.displayName||t.name||"Component"),i}(a.Component)}t.InterpolatedValue=v,t.timing=function(e,t){if(!e||!t)throw new Error("Timing animation requires value and config");var n=!1;return{start:function(i){var r=function(){t.loop&&e.setValue(t.loop.restartFrom);var o=t.easing||l.default.Default(),a=void 0!==t.duration?t.duration:500,s=t.delay||0;e._startTransition(t.toValue,a,o.cssName,s,(function(o){t.loop&&!n?r():e._updateFinalValue(t.toValue),i&&i(o)}))};r()},stop:function(){n=!0,e._stopTransition()}}},t.sequence=function(e){if(!e)throw new Error("Sequence animation requires a list of animations");var t=!1,n=0;return{start:function(i){if(!e||0===e.length)throw new Error("No animations were passed to the animated sequence API");var r=function(){var o=++n===e.length;if(t||o)return n=0,t=!1,void(i&&i({finished:o}));e[n].start(r)};e[n].start(r)},stop:function(){n<e.length&&(t=!0,e[n=0].stop())}}},t.parallel=function(e){if(!e)throw new Error("Parallel animation requires a list of animations");var t=!1,n=0;return{start:function(i){if(!e||0===e.length)throw new Error("No animations were passed to the animated parallel API");e.forEach((function(r,o){r.start((function(r){var o=++n===e.length;if(t||o)return n=0,t=!1,void(i&&i({finished:o}))}))}))},stop:function(){n=0,t=!0,e.forEach((function(e){e.stop()}))}}},t.Image=I(p.default),t.Text=I(g.default),t.TextInput=I(m.default),t.View=I(E.default),t.createValue=function(e){return new T(e)},t.interpolate=function(e,t,n){return e.interpolate({inputRange:t,outputRange:n})}}).call(this,n(110))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(635),r=function(){function e(){}return e.prototype.CubicBezier=function(e,t,n,r){return{cssName:"cubic-bezier("+e.toString()+", "+t.toString()+", "+n.toString()+", "+r.toString()+")",function:i.bezier(e,t,n,r)}},e.prototype.Default=function(){return{cssName:"ease",function:this.CubicBezier(.42,0,1,1).function}},e.prototype.Linear=function(){return{cssName:"linear",function:function(e){return e}}},e.prototype.Out=function(){return{cssName:"ease-out",function:this.CubicBezier(0,0,.58,1).function}},e.prototype.In=function(){return{cssName:"ease-in",function:this.CubicBezier(.42,0,1,1).function}},e.prototype.InOut=function(){return{cssName:"ease-in-out",function:this.CubicBezier(.42,0,.58,1).function}},e.prototype.OutBack=function(){var e=this.CubicBezier(.175,.885,.32,1.275);return{cssName:e.cssName,function:e.function}},e.prototype.InBack=function(){var e=this.CubicBezier(.6,-.28,.735,.045);return{cssName:e.cssName,function:e.function}},e.prototype.InOutBack=function(){var e=this.CubicBezier(.68,-.55,.265,1.55);return{cssName:e.cssName,function:e.function}},e.prototype.Steps=function(e,t){return void 0===t&&(t=!0),{cssName:"steps("+e.toString()+", "+(t?"end":"start")+")",function:function(n){var i=e*n;return(i=t?Math.floor(i):Math.ceil(i))/e}}},e.prototype.StepStart=function(){return{cssName:"steps(1, start)",function:this.Steps(1,!1).function}},e.prototype.StepEnd=function(){return{cssName:"steps(1, end)",function:this.Steps(1,!0).function}},e}();t.Easing=r,t.default=new r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Float32Array;function r(e,t){return 1-3*t+3*e}function o(e,t){return 3*t-6*e}function a(e){return 3*e}function s(e,t,n){return((r(t,n)*e+o(t,n))*e+a(t))*e}function c(e,t,n){return 3*r(t,n)*e*e+2*o(t,n)*e+a(t)}t.bezier=function(e,t,n,r){if(!(0<=e&&e<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");var o=i?new Float32Array(11):new Array(11);if(e!==t||n!==r)for(var a=0;a<11;++a)o[a]=s(.1*a,e,n);function l(t){for(var i=0,r=1;10!==r&&o[r]<=t;++r)i+=.1;--r;var a=i+.1*((t-o[r])/(o[r+1]-o[r])),l=c(a,e,n);return l>=.001?function(e,t,n,i){for(var r=0;r<4;++r){var o=c(t,n,i);if(0===o)return t;t-=(s(t,n,i)-e)/o}return t}(t,a,e,n):0===l?a:function(e,t,n,i,r){var o=0,a=0,c=0;do{(o=s(a=t+(n-t)/2,i,r)-e)>0?n=a:t=a}while(Math.abs(o)>1e-7&&++c<10);return a}(t,i,i+.1,e,n)}return function(i){return e===t&&n===r?i:0===i?0:1===i?1:s(l(i),t,r)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_RESIZE_MODE="contain"},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(109),a=n(458),s=function(e){function t(){var t=e.call(this)||this;return t._setActivationState=function(e){t._activationState!==e&&(t._activationState=e,t.activationStateChangedEvent.fire(t._activationState))},"undefined"!=typeof document?(t._activationState=a.default.isAppInForeground()?o.Types.AppActivationState.Active:o.Types.AppActivationState.Background,a.default.onAppForegroundedEvent.subscribe((function(){t._setActivationState(o.Types.AppActivationState.Active)})),a.default.onAppBackgroundedEvent.subscribe((function(){t._setActivationState(o.Types.AppActivationState.Background)}))):t._activationState=o.Types.AppActivationState.Active,t}return r(t,e),t.prototype.initialize=function(t,n){e.prototype.initialize.call(this,t,n)},t.prototype.getActivationState=function(){return this._activationState},t}(o.App);t.App=s,t.default=new s},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.setText=function(e){var n=t._createInvisibleNode();n.value=e,document.body.appendChild(n),t._copyNode(n),document.body.removeChild(n)},t.prototype.getText=function(){return Promise.reject("Not supported on web")},t._createInvisibleNode=function(){var e=document.createElement("textarea");e.style.position="absolute",e.style.left="-10000px",e.style.width="10px";var t=window.pageYOffset||document.documentElement.scrollTop;return e.style.top=t+"px",e.readOnly=!0,e},t._copyNode=function(e){e.select(),e.setSelectionRange(0,e.value.length),document.execCommand("copy");var t=window.getSelection();t&&t.removeAllRanges()},t}(n(109).Clipboard);t.Clipboard=o,t.default=new o},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(86),a=n(0),s=n(127),c=n(640),l=n(109),u=n(277),d=n(141),p=n(408),h=n(161),f={defaultView:{position:"relative",display:"flex",flexDirection:"column",flexGrow:0,flexShrink:0,overflow:"hidden",alignItems:"stretch",justifyContent:"center"}},g=1,m=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n._id=g++,n._isMounted=!1,n._pendingMouseGestureType=c.GestureType.None,n._gestureTypeLocked=!1,n._setContainerRef=function(e){n._container=e,e?n._createMouseResponder(e):n._disposeMouseResponder()},n._onMouseDown=function(e){if((n.props.onPan||n.props.onPanHorizontal||n.props.onPanVertical)&&e.preventDefault(),n.props.onLongPress){var t=n._mouseEventToTapGestureState(e);n._startLongPressTimer(t,!0)}},n._onClick=function(e){n._cancelLongPressTimer();var t=n._mouseEventToTapGestureState(e);n.props.onDoubleTap?n._isDoubleTap(t)?(n._cancelDoubleTapTimer(),n._sendDoubleTapEvent(t)):(n._reportDelayedTap(),n._startDoubleTapTimer(t)):n._sendTapEvent(t)},n._sendContextMenuEvent=function(e){if(n.props.onContextMenu){e.preventDefault(),e.stopPropagation();var t=n._mouseEventToTapGestureState(e);n.props.onContextMenu(t)}},n._onTouchStart=function(e){if(!n._initialTouch){var i=e.touches[0];n._initialTouch={x:i.clientX,y:i.clientY},n._ongoingGesture={dx:0,dy:0,vx:0,vy:0},n._onTouchSeriesStart(t._reactTouchEventToBasic(e))}},n._onTouchMove=function(e){if(n._initialTouch&&n._ongoingGesture){var i=e.touches[0];n._ongoingGesture={dx:i.clientX-n._initialTouch.x,dy:i.clientY-n._initialTouch.y,vx:0,vy:0},n._onTouchChange(t._reactTouchEventToBasic(e),n._ongoingGesture)}},n._onTouchEnd=function(e){n._initialTouch&&n._ongoingGesture&&0===e.touches.length&&(n._onTouchSeriesFinished(t._reactTouchEventToBasic(e),n._ongoingGesture),n._initialTouch=void 0,n._ongoingGesture=void 0)},n._detectGestureType=function(e){if(n._gestureTypeLocked)return n._pendingMouseGestureType;n._gestureTypeLocked=!0;var t={dx:e.clientX-e.initialClientX,dy:e.clientY-e.initialClientY};return n._shouldRespondToPan(t)?c.GestureType.Pan:n._shouldRespondToPanVertical(t)?c.GestureType.PanVertical:n._shouldRespondToPanHorizontal(t)?c.GestureType.PanHorizontal:(n._gestureTypeLocked=!1,c.GestureType.None)},n._onWheel=function(e){if(n.props.onScrollWheel){var t=n._getGestureViewClientRect();if(t){var i={clientX:e.clientX-t.left,clientY:e.clientY-t.top,pageX:e.pageX,pageY:e.pageY,scrollAmount:e.deltaY,timeStamp:e.timeStamp,isTouch:!1};n.props.onScrollWheel(i)}}},n._sendMousePanEvent=function(e){switch(n._pendingMouseGestureType){case c.GestureType.Pan:n.props.onPan&&n.props.onPan(e);break;case c.GestureType.PanVertical:n.props.onPanVertical&&n.props.onPanVertical(e);break;case c.GestureType.PanHorizontal:n.props.onPanHorizontal&&n.props.onPanHorizontal(e)}n._pendingMouseGestureType!==c.GestureType.None&&(n._clearLastTap(),n._cancelDoubleTapTimer(),n._skipNextTap())},n}return r(t,e),t.prototype._getPreferredPanRatio=function(){return 3},t.prototype._getEventTimestamp=function(e){return e.timeStamp},t.prototype.componentDidMount=function(){this._isMounted=!0},t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this._isMounted=!1},t.prototype.render=function(){var e=u.default.accessibilityTraitToString(this.props.accessibilityTraits),t=u.default.isHidden(this.props.importantForAccessibility);return a.createElement("div",{style:this._getStyles(),tabIndex:this.props.tabIndex,ref:this._setContainerRef,onMouseDown:this._onMouseDown,onClick:this._onClick,onWheel:this._onWheel,onTouchStart:this._onTouchStart,onTouchMove:this._onTouchMove,onTouchEnd:this._onTouchEnd,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onKeyPress:this.props.onKeyPress,role:e,"aria-label":this.props.accessibilityLabel,"aria-hidden":t,onContextMenu:this.props.onContextMenu?this._sendContextMenuEvent:void 0,"data-test-id":this.props.testId},this.props.children)},t.prototype.blur=function(){var e=this._getContainer();e&&e.blur()},t.prototype.focus=function(){var e=this._getContainer();e&&e.focus()},t.prototype._getContainer=function(){if(!this._isMounted)return null;try{return s.findDOMNode(this)}catch(e){return null}},t.prototype._createMouseResponder=function(e){var t=this;this._disposeMouseResponder(),this._responder=p.default.create({id:this._id,target:e,disableWhenModal:!!this.context.isInRxMainView,shouldBecomeFirstResponder:function(e){if(!t.props.onPan&&!t.props.onPanHorizontal&&!t.props.onPanVertical)return!1;var n=t._getGestureViewClientRect();if(!n)return!1;var i=n.top,r=n.left,o=n.bottom,a=n.right,s=e.clientX,c=e.clientY;return s>=r&&s<=a&&c>=i&&c<=o},onMove:function(e,n){t._pendingMouseGestureType=t._detectGestureType(n),t._pendingMouseGestureType!==c.GestureType.None&&t._cancelLongPressTimer(),t._sendMousePanEvent(n)},onTerminate:function(e,n){t._cancelLongPressTimer(),t._pendingMouseGestureType=t._detectGestureType(n),t._sendMousePanEvent(n),t._pendingMouseGestureType=c.GestureType.None,t._gestureTypeLocked=!1}})},t.prototype._disposeMouseResponder=function(){this._responder&&(this._responder.dispose(),delete this._responder)},t.prototype._getStyles=function(){var e,t=h.default.combine([f.defaultView,this.props.style]);switch(this.props.mouseOverCursor){case l.Types.GestureMouseCursor.Grab:e="grab";break;case l.Types.GestureMouseCursor.Move:e="move";break;case l.Types.GestureMouseCursor.Pointer:e="pointer";break;case l.Types.GestureMouseCursor.NSResize:e="ns-resize";break;case l.Types.GestureMouseCursor.EWResize:e="ew-resize";break;case l.Types.GestureMouseCursor.NESWResize:e="nesw-resize";break;case l.Types.GestureMouseCursor.NWSEResize:e="nwse-resize";break;case l.Types.GestureMouseCursor.NotAllowed:e="not-allowed";break;case l.Types.GestureMouseCursor.ZoomIn:e="zoom-in";break;case l.Types.GestureMouseCursor.ZoomOut:e="zoom-out"}return e&&(t.cursor=e),t},t._reactTouchEventToBasic=function(e){var t=d.clone(e);t.changedTouches=this._mapReactTouchListToBasic(e.changedTouches),t.targetTouches=this._mapReactTouchListToBasic(e.targetTouches),t.touches=this._mapReactTouchListToBasic(e.touches);var n=t.touches[0];return n&&(t.pageX=n.pageX,t.pageY=n.pageY,t.locationX=n.locationX,t.locationY=n.locationY),t},t._mapReactTouchListToBasic=function(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=this._mapReactTouchToRx(e[n]);return t},t._mapReactTouchToRx=function(e){return{identifier:e.identifier,locationX:e.clientX,locationY:e.clientY,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}},t.prototype._getClientXYOffset=function(){var e=this._getGestureViewClientRect();return e?{x:e.left,y:e.top}:{x:0,y:0}},t.prototype._getGestureViewClientRect=function(){return this._container?this._container.getBoundingClientRect():null},t.contextTypes={isInRxMainView:o.bool},t}(c.default);t.GestureView=m,t.default=m},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(0),s=n(226),c=n(109),l=n(143);!function(e){e[e.None=0]="None",e[e.MultiTouch=1]="MultiTouch",e[e.Pan=2]="Pan",e[e.PanVertical=3]="PanVertical",e[e.PanHorizontal=4]="PanHorizontal"}(o=t.GestureType||(t.GestureType={}));var u=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n._pendingGestureType=o.None,n._shouldSkipNextTap=!1,n._sendTapEvent=function(e){n._shouldSkipNextTap?n._shouldSkipNextTap=!1:2===t._toMouseButton(e)?n.props.onContextMenu&&n.props.onContextMenu(e):n.props.onTap&&n.props.onTap(e)},n}return r(t,e),t.prototype.componentWillUnmount=function(){this._cancelDoubleTapTimer()},t.prototype._onTouchSeriesStart=function(e){if(this._lastGestureStartEvent=e,this.props.onTap||this.props.onDoubleTap||this.props.onLongPress||this.props.onContextMenu){if(this.props.onLongPress){var t=this._touchEventToTapGestureState(e);this._startLongPressTimer(t)}return!0}return!1},t.prototype._onTouchChange=function(e,t){this._lastGestureStartEvent||(this._lastGestureStartEvent=e);var n=!1;if(this._pendingGestureType===o.None&&(this._pendingGestureType=this._detectMoveGesture(e,t),n=!0),this._pendingGestureType===o.MultiTouch)return this._setPendingGestureState(this._sendMultiTouchEvents(e,t,n,!1)),!0;if(this._pendingGestureType===o.Pan||this._pendingGestureType===o.PanVertical||this._pendingGestureType===o.PanHorizontal){var i=this._touchEventToTapGestureState(e);return this._setPendingGestureState(this._sendPanEvent(i,t,this._pendingGestureType,n,!1)),!0}return!1},t.prototype._onTouchSeriesFinished=function(e,t){if(this._cancelLongPressTimer(),this._pendingGestureType===o.MultiTouch)this._sendMultiTouchEvents(e,t,!1,!0),this._pendingGestureState=void 0,this._pendingGestureType=o.None;else if(this._pendingGestureType===o.Pan||this._pendingGestureType===o.PanVertical||this._pendingGestureType===o.PanHorizontal){var n=this._touchEventToTapGestureState(e);this._sendPanEvent(n,t,this._pendingGestureType,!1,!0),this._pendingGestureState=void 0,this._pendingGestureType=o.None}else if(this._isTap(e)){var i=this._touchEventToTapGestureState(e);this.props.onDoubleTap?this._isDoubleTap(i)?(this._cancelDoubleTapTimer(),this._sendDoubleTapEvent(i)):(this._reportDelayedTap(),this._startDoubleTapTimer(i)):this._sendTapEvent(i)}else this._reportDelayedTap(),this._cancelDoubleTapTimer()},t.prototype._skipNextTap=function(){this._shouldSkipNextTap=!0},t.prototype._setPendingGestureState=function(e){this._reportDelayedTap(),this._cancelDoubleTapTimer(),this._cancelLongPressTimer(),this._pendingGestureState=e},t.prototype._detectMoveGesture=function(e,t){return this._shouldRespondToPinchZoom(e)||this._shouldRespondToRotate(e)?o.MultiTouch:this._shouldRespondToPan(t)?o.Pan:this._shouldRespondToPanVertical(t)?o.PanVertical:this._shouldRespondToPanHorizontal(t)?o.PanHorizontal:o.None},t.prototype._isTap=function(e){if(!this._lastGestureStartEvent)return!1;var t=this._getEventTimestamp(this._lastGestureStartEvent),n=this._lastGestureStartEvent.pageX,i=this._lastGestureStartEvent.pageY;return this._getEventTimestamp(e)-t<=500&&this._calcDistance(n-e.pageX,i-e.pageY)<=4},t.prototype._isDoubleTap=function(e){return!!this._lastTapEvent&&(e.timeStamp-this._lastTapEvent.timeStamp<=250&&this._calcDistance(this._lastTapEvent.pageX-e.pageX,this._lastTapEvent.pageY-e.pageY)<=20)},t.prototype._startDoubleTapTimer=function(e){var t=this;this._lastTapEvent=e,this._doubleTapTimer=l.default.setTimeout((function(){t._reportDelayedTap(),t._doubleTapTimer=void 0}),250)},t.prototype._cancelDoubleTapTimer=function(){this._doubleTapTimer&&(l.default.clearTimeout(this._doubleTapTimer),this._doubleTapTimer=void 0)},t.prototype._startLongPressTimer=function(e,t){var n=this;void 0===t&&(t=!1),this._pendingLongPressEvent||(this._pendingLongPressEvent=e,this._longPressTimer=l.default.setTimeout((function(){n._reportLongPress(),n._longPressTimer=void 0}),750))},t.prototype._reportLongPress=function(){this._pendingLongPressEvent&&(this.props.onLongPress&&this.props.onLongPress(this._pendingLongPressEvent),this._pendingLongPressEvent=void 0)},t.prototype._cancelLongPressTimer=function(){this._longPressTimer&&(l.default.clearTimeout(this._longPressTimer),this._longPressTimer=void 0),this._pendingLongPressEvent=void 0},t.prototype._reportDelayedTap=function(){this._lastTapEvent&&this.props.onTap&&(this._sendTapEvent(this._lastTapEvent),this._lastTapEvent=void 0)},t.prototype._clearLastTap=function(){this._lastTapEvent=void 0},t._isActuallyMouseEvent=function(e){if(!e)return!1;var t=e;return void 0!==t.button||(!(!t.isRightButton&&!t.IsRightButton)||!(!t.isMiddleButton&&!t.IsMiddleButton))},t.prototype._shouldRespondToPinchZoom=function(e){return!!this.props.onPinchZoom&&(!(!e.touches||2!==e.touches.length)&&this._calcDistance(e.touches[0].pageX-e.touches[1].pageX,e.touches[0].pageY-e.touches[1].pageY)>=3)},t.prototype._shouldRespondToRotate=function(e){return!!this.props.onRotate&&!(!e.touches||2!==e.touches.length)},t.prototype._shouldRespondToPan=function(e){if(!this.props.onPan)return!1;var t=void 0!==this.props.panPixelThreshold&&this.props.panPixelThreshold>0?this.props.panPixelThreshold:10;return this._calcDistance(e.dx,e.dy)>=t},t.prototype._shouldRespondToPanVertical=function(e){if(!this.props.onPanVertical)return!1;var t=void 0!==this.props.panPixelThreshold&&this.props.panPixelThreshold>0?this.props.panPixelThreshold:10,n=Math.abs(e.dy)>=t;return n&&this.props.preferredPan===c.Types.PreferredPanGesture.Horizontal?Math.abs(e.dy)>Math.abs(e.dx*this._getPreferredPanRatio()):n},t.prototype._shouldRespondToPanHorizontal=function(e){if(!this.props.onPanHorizontal)return!1;var t=void 0!==this.props.panPixelThreshold&&this.props.panPixelThreshold>0?this.props.panPixelThreshold:10,n=Math.abs(e.dx)>=t;return n&&this.props.preferredPan===c.Types.PreferredPanGesture.Vertical?Math.abs(e.dx)>Math.abs(e.dy*this._getPreferredPanRatio()):n},t.prototype._calcDistance=function(e,t){return Math.sqrt(e*e+t*t)},t.prototype._calcAngle=function(e){var t=e[0],n=e[1],i=this._radiansToDegrees(Math.atan2(n.pageY-t.pageY,n.pageX-t.pageX));return i<0&&(i+=360),i},t.prototype._radiansToDegrees=function(e){return 180*e/Math.PI},t.prototype._sendMultiTouchEvents=function(e,n,i,r){var o,a=this._pendingGestureState;if(e.touches&&2===e.touches.length){var s=(e.touches[0].pageX+e.touches[1].pageX)/2,c=(e.touches[0].pageY+e.touches[1].pageY)/2,l=(e.touches[0].locationX+e.touches[1].locationX)/2,u=(e.touches[0].locationY+e.touches[1].locationY)/2,d=Math.abs(e.touches[0].pageX-e.touches[1].pageX),p=Math.abs(e.touches[0].pageY-e.touches[1].pageY),h=this._calcDistance(d,p),f=this._calcAngle(e.touches);o={initialCenterPageX:i?s:a.initialCenterPageX,initialCenterPageY:i?c:a.initialCenterPageY,initialCenterClientX:i?l:a.initialCenterClientX,initialCenterClientY:i?u:a.initialCenterClientY,initialWidth:i?d:a.initialWidth,initialHeight:i?p:a.initialHeight,initialDistance:i?h:a.initialDistance,initialAngle:i?f:a.initialAngle,centerPageX:s,centerPageY:c,centerClientX:l,centerClientY:u,velocityX:i?0:n.vx,velocityY:i?0:n.vy,width:d,height:p,distance:h,angle:f,isComplete:r,timeStamp:e.timeStamp,isTouch:!t._isActuallyMouseEvent(e)}}else o=a,a.isComplete=r;return this.props.onPinchZoom&&this.props.onPinchZoom(o),this.props.onRotate&&this.props.onRotate(o),o},t.prototype._touchEventToTapGestureState=function(e){var n=e.pageX,i=e.pageY,r=e.locationX,o=e.locationY;return e.touches&&e.touches.length>0&&(n=e.touches[0].pageX,i=e.touches[0].pageY,r=e.touches[0].locationX,o=e.touches[0].locationY),{timeStamp:this._getEventTimestamp(e),clientX:r,clientY:o,pageX:n,pageY:i,isTouch:!t._isActuallyMouseEvent(e)}},t.prototype._mouseEventToTapGestureState=function(e){var t=this._getClientXYOffset();return{timeStamp:this._getEventTimestamp(e),clientX:e.clientX-t.x,clientY:e.clientY-t.y,pageX:e.pageX||0,pageY:e.pageY||0,isTouch:!1}},t.prototype._getClientXYOffset=function(){return{x:0,y:0}},t.prototype._sendPanEvent=function(e,n,i,r,a){var c=this._pendingGestureState;s.default(this._lastGestureStartEvent,"Gesture start event must not be null.");var l=this._lastGestureStartEvent?this._lastGestureStartEvent.pageX:r?e.pageX:c.initialPageX,u=this._lastGestureStartEvent?this._lastGestureStartEvent.pageY:r?e.pageY:c.initialPageY,d=this._lastGestureStartEvent?this._lastGestureStartEvent.locationX:r?e.clientX:c.initialClientX,p=this._lastGestureStartEvent?this._lastGestureStartEvent.locationY:r?e.clientY:c.initialClientY,h=r?0:n.vx,f=r?0:n.vy,g={initialPageX:l,initialPageY:u,initialClientX:d,initialClientY:p,pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY,velocityX:h,velocityY:f,isComplete:a,timeStamp:e.timeStamp,isTouch:!t._isActuallyMouseEvent(this._lastGestureStartEvent)};switch(i){case o.Pan:this.props.onPan&&this.props.onPan(g);break;case o.PanVertical:this.props.onPanVertical&&this.props.onPanVertical(g);break;case o.PanHorizontal:this.props.onPanHorizontal&&this.props.onPanHorizontal(g)}return g},t._toMouseButton=function(e){return void 0!==e.button?e.button:e.isRightButton||e.IsRightButton?2:e.isMiddleButton||e.IsMiddleButton?1:0},t.prototype._sendDoubleTapEvent=function(e){var n=t._toMouseButton(this._lastTapEvent),i=t._toMouseButton(e);n===i&&2!==i?(this.props.onDoubleTap&&this.props.onDoubleTap(e),this._lastTapEvent=void 0):this._sendTapEvent(this._lastTapEvent)},t}(a.Component);t.GestureView=u,t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(269),r=function(){function e(){}return e.prototype.allowRTL=function(e){i.default.allowRTL(e)},e.prototype.forceRTL=function(e){i.default.forceRTL(e)},e.prototype.isRTL=function(){return i.default.isRTL()},e}();t.International=r,t.default=new r},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(86),a=n(0),s=n(225),c=n(143),l=n(251),u=n(161),d={defaultStyle:{overflowWrap:"break-word",msHyphens:"auto",overflow:"hidden",flexShrink:0,flexGrow:0,position:"relative",display:"inline",cursor:"pointer"},ellipsis:{textOverflow:"ellipsis",whiteSpace:"pre",msHyphens:"none"},selectable:{WebkitUserSelect:"text",MozUserSelect:"text",msUserSelect:"text",userSelect:"text"}},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._mountedAnchor=null,t._onMount=function(e){t._mountedAnchor=e},t._onClick=function(e){e.stopPropagation(),t.props.onPress&&(e.preventDefault(),t.props.onPress(e,t.props.url))},t._onMouseDown=function(e){t.props.onLongPress&&(e.persist(),t._longPressTimer=c.default.setTimeout((function(){t._longPressTimer=void 0;var n=e;t.props.onLongPress&&2!==n.button&&t.props.onLongPress(e,t.props.url)}),1e3))},t._onMouseUp=function(e){t._longPressTimer&&(c.default.clearTimeout(t._longPressTimer),t._longPressTimer=void 0)},t._onContextMenu=function(e){t.props.onContextMenu&&(e.stopPropagation(),e.preventDefault(),t.props.onContextMenu(e))},t}return r(t,e),t.prototype.render=function(){return a.createElement("a",{ref:this._onMount,style:this._getStyles(),title:this.props.title,href:this.props.url,target:"_blank",rel:"noreferrer",onClick:this._onClick,onMouseEnter:this.props.onHoverStart,onMouseLeave:this.props.onHoverEnd,onMouseDown:this._onMouseDown,onMouseUp:this._onMouseUp,tabIndex:this.props.tabIndex,onContextMenu:this.props.onContextMenu?this._onContextMenu:void 0,"data-test-id":this.props.testId},this.props.children)},t.prototype.componentDidMount=function(){this.props.autoFocus&&this.requestFocus()},t.prototype.requestFocus=function(){var e=this;s.FocusArbitratorProvider.requestFocus(this,(function(){return e.focus()}),(function(){return null!==e._mountedAnchor}))},t.prototype.focus=function(){this._mountedAnchor&&this._mountedAnchor.focus()},t.prototype.blur=function(){this._mountedAnchor&&this._mountedAnchor.blur()},t.prototype._getStyles=function(){var e=1===this.props.numberOfLines?d.ellipsis:{},t=this.props.selectable?d.selectable:{};return u.default.combine([d.defaultStyle,e,this.props.style,t])},t.contextTypes={focusArbitrator:o.object},t}(a.Component);t.Link=p,l.applyFocusableComponentMixin(p),t.default=p},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(109),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype._openUrl=function(e){var t=window.open();if(!t){var n={code:o.Types.LinkingErrorCode.Blocked,url:e,description:"Window was blocked by popup blocker"};return Promise.reject(n)}return 0!==e.indexOf("mailto:")&&(t.opener=null),t.location.href=e,Promise.resolve(void 0)},t.prototype.launchEmail=function(e){var t=this._createEmailUrl(e);return window.location.href=t,Promise.resolve(void 0)},t.prototype.getInitialUrl=function(){return Promise.resolve(void 0)},t}(n(644).Linking);t.Linking=a,t.default=new a},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(109),a=n(449),s=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.@-]+$/i,c=/\.\.|^\.|\.$/i,l=/^[a-z0-9.-]+$/i,u=/\.\.|^[.-]|[.-]$|\.-|-\./i,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.launchSms=function(e){var t=this._createSmsUrl(e);return this._openUrl(t)},t.prototype.openUrl=function(e){return this._openUrl(e)},t.prototype._createEmailUrl=function(e){var t="mailto:";return e.to&&e.to.length>0&&(t+=this._filterValidEmails(e.to).join(",")),t+="?",e.cc&&e.cc.length>0&&(t+="cc="+this._filterValidEmails(e.cc).join(",")+"&"),e.bcc&&e.bcc.length>0&&(t+="bcc="+this._filterValidEmails(e.bcc).join(",")+"&"),e.subject&&(t+="subject="+encodeURIComponent(e.subject)+"&"),e.body&&(t+="body="+encodeURIComponent(e.body)),t},t.prototype._createSmsUrl=function(e){var t="sms:";return e.phoneNumber&&(t+=encodeURI(e.phoneNumber)),e.body&&(t+="?body="+encodeURIComponent(e.body)),t},t.prototype._isEmailValid=function(e){if(!e||e.length>254||e.length<4)return!1;var t=e.lastIndexOf("@");if(-1===t||0===t||t>=e.length-2)return!1;var n=e.substring(0,t),i=e.substring(t+1);return!c.test(n)&&!u.test(i)&&s.test(n)&&l.test(i)},t.prototype._filterValidEmails=function(e){var t=this;return a.filter(e,(function(e){return t._isEmailValid(e)}))},t}(o.Linking);t.Linking=d},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(109),s=n(141),c=n(161),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onValueChange=function(e){var n=e.target.value,i=s.findIndex(t.props.items,(function(e){return e.value===n}));t.props.onValueChange(n,i)},t}return r(t,e),t.prototype.render=function(){return o.createElement("select",{style:this._getStyles(),value:this.props.selectedValue,onChange:this._onValueChange,"data-test-id":this.props.testId},s.map(this.props.items,(function(e,t){return o.createElement("option",{value:e.value,key:t},e.label)})))},t.prototype._getStyles=function(){return c.default.combine(this.props.style)},t}(a.Picker);t.Picker=l,t.default=l},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getType=function(){return"web"},t.prototype.select=function(e){var t=this.getType();return t in e?e[t]:e.default},t}(n(109).Platform);t.Platform=o,t.default=new o},function(e,t,n){"use strict";(function(e){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(127),s=n(143),c=n(648),l=n(141),u=n(451),d=n(161),p=n(381),h={defaultStyle:{position:"relative",overflow:"hidden",alignSelf:"stretch",flexGrow:1,flexShrink:1,transform:"translateZ(0)"},verticalStyle:{flexDirection:"column",overflowY:"auto",overflowX:"hidden"},horizontalStyle:{flexDirection:"row",overflowY:"hidden",overflowX:"auto"}},f=!1,g={defaultStyle:{overflow:"hidden",msOverflowStyle:"auto",flexDirection:"column",transform:"translateZ(0)"},verticalStyle:{},horizontalStyle:{},customScrollContainer:{position:"relative",overflow:"hidden",boxSizing:"border-box",alignSelf:"stretch"},customScrollVertical:{display:"flex",flex:"1 1 0px"}},m=function(t){function n(n){var i=t.call(this,n)||this;if(i._mountedComponent=null,i._mounted=!1,i._customScrollbarEnabled=!0,i._dragging=!1,i._onScroll=l.throttle((function(t){if(i._mounted){i._customScrollbarEnabled&&i._customScrollbar&&i._customScrollbar.update();var n=i._checkAndReportLayout();p.default._reportDeferredLayoutChanges(),(i.props.onScroll||i.props.scrollXAnimatedValue||i.props.scrollYAnimatedValue)&&n.then((function(){var e=i._getContainer();e&&(i.props.onScroll&&i.props.onScroll(e.scrollTop,e.scrollLeft),i.props.scrollXAnimatedValue&&i.props.scrollXAnimatedValue.setValue(e.scrollLeft),i.props.scrollYAnimatedValue&&i.props.scrollYAnimatedValue.setValue(e.scrollTop))})).catch((function(t){e.warn("ScrollView onLayout exception: "+JSON.stringify(t))}))}}),i.props.scrollEventThrottle||1e3/60,{leading:!0,trailing:!0}),i._onMount=function(e){i._mountedComponent=e},i._onTouchStart=function(){i._dragging||(i._dragging=!0,i.props.onScrollBeginDrag&&i.props.onScrollBeginDrag())},i._onTouchEnd=function(){i._dragging=!1,i.props.onScrollEndDrag&&i.props.onScrollEndDrag()},!f){f=!0;var r=c.default.getNativeScrollbarWidth();g.verticalStyle={overflowY:"scroll",paddingRight:30-r,marginRight:-30,minHeight:0},g.horizontalStyle={display:"flex",overflowX:"scroll",paddingBottom:30-r,marginBottom:-30,minWidth:0}}return i}return r(n,t),n.prototype.componentDidUpdate=function(){var e=this;t.prototype.componentDidUpdate.call(this),this.props.onContentSizeChange&&l.defer((function(){if(e.props.onContentSizeChange){var t=e._getContainer();if(!t)return;e.props.onContentSizeChange(t.scrollWidth,t.scrollHeight)}}))},n.prototype.render=function(){return this._customScrollbarEnabled?this._renderWithCustomScrollbar():this._renderNormal()},n.prototype.UNSAFE_componentWillMount=function(){this._onPropsChange(this.props)},n.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this._mounted=!0,this._createCustomScrollbarsIfNeeded(this.props)},n.prototype.UNSAFE_componentWillReceiveProps=function(e){t.prototype.UNSAFE_componentWillReceiveProps.call(this,e),this._onPropsChange(e)},n.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this._mounted=!1,this._customScrollbar&&(this._customScrollbar.dispose(),this._customScrollbar=void 0)},n.prototype._getContainer=function(){return this._mountedComponent},n.prototype._onPropsChange=function(e){this._customScrollbarEnabled=u.default.useCustomScrollbars(),this._createCustomScrollbarsIfNeeded(e)},n.prototype._createCustomScrollbarsIfNeeded=function(e){if(this._mounted&&this._customScrollbarEnabled){if(this._customScrollbar){if(this.props.horizontal===e.horizontal&&this.props.showsHorizontalScrollIndicator===e.showsHorizontalScrollIndicator&&this.props.showsVerticalScrollIndicator===e.showsVerticalScrollIndicator)return;this._customScrollbar.dispose(),this._customScrollbar=void 0}var t=a.findDOMNode(this);if(t){this._customScrollbar=new c.default(t);var n=e.horizontal&&!1===e.showsHorizontalScrollIndicator,i=!e.horizontal&&!1===e.showsVerticalScrollIndicator;this._customScrollbar.init({horizontal:e.horizontal&&!n,vertical:!e.horizontal&&!i,hiddenScrollbar:n||i})}}},n.prototype._getContainerStyle=function(){var e=this.props.scrollEnabled,t=void 0===e||e,n=[{display:"block"}],i=this._customScrollbarEnabled?g:h;return n.push(i.defaultStyle),t&&this.props.horizontal?n.push(i.horizontalStyle):t&&n.push(i.verticalStyle),d.default.combine([n,this.props.style])},n.prototype._renderNormal=function(){return o.createElement("div",{ref:this._onMount,role:"none",onScroll:this._onScroll,onTouchStart:this._onTouchStart,onTouchEnd:this._onTouchEnd,style:this._getContainerStyle(),onKeyDown:this.props.onKeyPress,onFocus:this.props.onFocus,onBlur:this.props.onBlur,"data-test-id":this.props.testId},this.props.children)},n.prototype._renderWithCustomScrollbar=function(){var e=g.customScrollContainer,t=["scrollViewport"];return this.props.horizontal?t.push("scrollViewportH"):(t.push("scrollViewportV"),e=l.extend({},g.customScrollVertical,e)),o.createElement("div",{role:"none",className:"rxCustomScroll",style:e,"data-test-id":this.props.testId},o.createElement("div",{ref:this._onMount,role:"none",className:t.join(" "),onScroll:this._onScroll,style:this._getContainerStyle(),onKeyDown:this.props.onKeyPress,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onTouchStart:this._onTouchStart,onTouchEnd:this._onTouchEnd},this.props.children))},n.prototype.setScrollTop=function(e,t){var n=this;void 0===t&&(t=!1);var i=this._getContainer();if(i)if(this._onScroll.cancel(),t){var r=i.scrollTop,o=e-r,a=function(e){e+=20;var t=n._easeInOut(e,r,o,200);i.scrollTop=t,e<200&&s.default.setTimeout((function(){a(e)}),20)};a(0)}else i.scrollTop=e},n.prototype.setScrollLeft=function(e,t){var n=this;void 0===t&&(t=!1);var i=this._getContainer();if(i)if(this._onScroll.cancel(),t){var r=i.scrollLeft,o=e-r,a=function(e){e+=20;var t=n._easeInOut(e,r,o,200);i.scrollLeft=t,e<200&&s.default.setTimeout((function(){a(e)}),20)};a(0)}else i.scrollLeft=e},n.prototype._easeInOut=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:-n/2*((e-=1)*(e-2)-1)+t},n}(p.default);t.ScrollView=m,t.default=m}).call(this,n(110))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(226),r=n(143),o=-1,a=!1,s="\n    .rxCustomScroll .scrollViewport > * {\n        box-sizing: border-box;\n        display: block;\n    }\n    .rxCustomScroll .rail {\n        position: absolute;\n        border-radius: 4px;\n        opacity: 0;\n        background-color: transparent;\n        transition-delay: 0, 0;\n        transition-duration: .2s, .2s;\n        transition-property: background-color, opacity;\n        transition-timing-function: linear, linear;\n        display: none;\n        box-sizing: border-box;\n    }\n    .rxCustomScroll .rail:hover {\n        background-color: #EEE;\n        border-color: #EEE;\n        opacity: .9;\n        border-radius: 6px;\n    }\n    .rxCustomScroll .rail:hover .slider {\n        border-radius: 6px;\n    }\n    .rxCustomScroll .rail .slider {\n        position: absolute;\n        border-radius: 4px;\n        background: #555;\n        box-sizing: border-box;\n        border: 1px solid #555;\n    }\n    .rxCustomScroll:not(.neutraloverride) > .scrollViewportV > * {\n        margin-right: em(-17px) !important;\n    }\n    .rxCustomScroll .railV {\n        top: 0;\n        bottom: 0;\n        right: 3px;\n        width: 8px;\n    }\n    .rxCustomScroll .railV .slider {\n        top: 10px;\n        width: 8px;\n        min-height: 15px;\n    }\n    .rxCustomScroll .railV.railBoth {\n        bottom: 15px;\n    }\n    .rxCustomScroll .railH {\n        left: 0;\n        right: 0;\n        bottom: 3px;\n        height: 8px;\n    }\n    .rxCustomScroll .railH .slider {\n        left: 10px;\n        top: -1px;\n        height: 8px;\n        min-width: 15px;\n    }\n    .rxCustomScroll .railH.railBoth {\n        right: 15px;\n    }\n    .rxCustomScroll.active .rail {\n        display: block;\n    }\n    .rxCustomScroll:hover .rail {\n        opacity: .6;\n    }\n    .rxCustomScroll:hover .rail .slider {\n        background: #AAA;\n        border-color: #AAA;\n    }\n    .rxCustomScroll.rxCustomScrollH {\n        width: auto;\n    }\n    .rxCustomScroll.rxCustomScrollV {\n        width: 100%;\n    }\n    .rxCustomScroll.scrolling .rail {\n        background-color: #EEE;\n        border-color: #EEE;\n        opacity: .9;\n        border-radius: 6px;\n    }\n    .rxCustomScroll.scrolling .rail .slider {\n        border-radius: 6px;\n        background: #AAA;\n        border-color: #AAA;\n    }\n    .rxCustomScroll.scrolling .scrollViewport > * {\n        pointer-events: none !important;\n    }\n    .rxCustomScroll.scrolling .railV {\n        width: 12px;\n    }\n    .rxCustomScroll.scrolling .railV .slider {\n        width: 12px;\n    }\n    .rxCustomScroll.scrolling .railH {\n        height: 12px;\n    }\n    .rxCustomScroll.scrolling .railH .slider {\n        height: 12px;\n    }\n    .rxCustomScroll .railV:hover {\n        width: 12px;\n    }\n    .rxCustomScroll .railV:hover .slider {\n        width: 12px;\n    }\n    .rxCustomScroll .railH:hover {\n        height: 12px;\n    }\n    .rxCustomScroll .railH:hover .slider {\n        height: 12px;\n    }\n",c=function(){function e(e){this._verticalBar={},this._horizontalBar={},this._dragging=!1,this._dragIsVertical=!1,this._scrollingVisible=!1,this._hasHorizontal=!1,this._hasVertical=!0,this._hasHiddenScrollbar=!1,this._stopDragCallback=this._stopDrag.bind(this),this._startDragVCallback=this._startDrag.bind(this,!0),this._startDragHCallback=this._startDrag.bind(this,!1),this._handleDragCallback=this._handleDrag.bind(this),this._handleWheelCallback=this._handleWheel.bind(this),this._handleMouseDownCallback=this._handleMouseDown.bind(this),this._updateCallback=this.update.bind(this),i.default(e,"Container must not be null"),this._container=e}return e.getNativeScrollbarWidth=function(){if(o>=0)return o;var e=document.createElement("p");e.style.width="100%",e.style.height="100%";var t=document.createElement("div");t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.visibility="hidden",t.style.width="100px",t.style.height="100px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var i=e.offsetWidth;return n===i&&(i=t.clientWidth),document.body.removeChild(t),o=n-i},e._installStyleSheet=function(){if(!a){var e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s)),e.appendChild(t),a=!0}},e.prototype._tryLtrOverride=function(){var e=document.createElement("div");e.style.cssText="position: absolute; overflow-y: scroll; width: 30px; visibility: hidden;",e.innerHTML='<div class="probe"></div>',this._container.appendChild(e);var t=e.querySelector(".probe"),n=e.getBoundingClientRect(),i=t.getBoundingClientRect(),r=n.left===i.left,o=n.right===i.right,a=r&&o;this._container.classList.remove("neutraloverride"),a&&this._container.classList.add("neutraloverride"),e.innerHTML="",this._container.removeChild(e)},e.prototype._prevent=function(e){e.preventDefault()},e.prototype._updateSliders=function(){if(this._hasHorizontal){var e=this._horizontalBar.sliderSize+"px",t=this._viewport.scrollLeft*this._horizontalBar.scroll2Slider+"px";this._horizontalBar.slider.style.width=e,this._horizontalBar.slider.style.left=t}if(this._hasVertical){var n=this._verticalBar.sliderSize+"px",i=this._viewport.scrollTop*this._verticalBar.scroll2Slider+"px";this._verticalBar.slider.style.height=n,this._verticalBar.slider.style.top=i}},e.prototype._handleDrag=function(e){this._dragIsVertical?this._viewport.scrollTop=(e.pageY-this._verticalBar.dragOffset)*this._verticalBar.slider2Scroll:this._viewport.scrollLeft=(e.pageX-this._horizontalBar.dragOffset)*this._horizontalBar.slider2Scroll},e.prototype._startDrag=function(e,t){this._dragging||(window.addEventListener("mouseup",this._stopDragCallback),window.addEventListener("mousemove",this._handleDragCallback),this._container.classList.add("scrolling"),this._hasHorizontal&&(this._horizontalBar.dragOffset=t.pageX-this._horizontalBar.slider.offsetLeft),this._hasVertical&&(this._verticalBar.dragOffset=t.pageY-this._verticalBar.slider.offsetTop),this._dragging=!0,this._dragIsVertical=e),this._prevent(t)},e.prototype._stopDrag=function(){this._container.classList.remove("scrolling"),window.removeEventListener("mouseup",this._stopDragCallback),window.removeEventListener("mousemove",this._handleDragCallback),this._dragging=!1},e.prototype._handleWheel=function(e){this._hasVertical?this._viewport.scrollTop=this._normalizeDelta(e)+this._viewport.scrollTop:this._hasHorizontal&&(this._viewport.scrollLeft=this._normalizeDelta(e)+this._viewport.scrollLeft)},e.prototype._handleMouseDown=function(e){var t=e.currentTarget;if(!this._dragging&&t){if(this._hasVertical){var n=e.pageY-t.getBoundingClientRect().top,i=this._verticalBar.slider.offsetHeight/2,r=(n-this._verticalBar.slider.offsetTop-i)*this._verticalBar.slider2Scroll;this._viewport.scrollTop=r+this._viewport.scrollTop}if(this._hasHorizontal){var o=e.pageX-t.getBoundingClientRect().left,a=this._horizontalBar.slider.offsetWidth/2,s=(o-this._horizontalBar.slider.offsetLeft-a)*this._horizontalBar.slider2Scroll;this._viewport.scrollLeft=s+this._viewport.scrollLeft}}else this._prevent(e)},e.prototype._normalizeDelta=function(e){if(e.deltaY)return e.deltaY>0?100:-100;var t=e.originalEvent;return t&&t.wheelDelta?t.wheelDelta:0},e.prototype._addListeners=function(){this._hasVertical&&(this._verticalBar.slider.addEventListener("mousedown",this._startDragVCallback),this._verticalBar.rail.addEventListener("wheel",this._handleWheelCallback,{passive:!0}),this._verticalBar.rail.addEventListener("mousedown",this._handleMouseDownCallback)),this._hasHorizontal&&(this._horizontalBar.slider.addEventListener("mousedown",this._startDragHCallback),this._horizontalBar.rail.addEventListener("wheel",this._handleWheelCallback,{passive:!0}),this._horizontalBar.rail.addEventListener("mousedown",this._handleMouseDownCallback))},e.prototype._removeListeners=function(){this._hasVertical&&(this._verticalBar.slider.removeEventListener("mousedown",this._startDragVCallback),this._verticalBar.rail.removeEventListener("wheel",this._handleWheelCallback),this._verticalBar.rail.removeEventListener("mousedown",this._handleMouseDownCallback)),this._hasHorizontal&&(this._horizontalBar.slider.removeEventListener("mousedown",this._startDragHCallback),this._horizontalBar.rail.removeEventListener("wheel",this._handleWheelCallback),this._horizontalBar.rail.removeEventListener("mousedown",this._handleMouseDownCallback))},e.prototype._createDivWithClass=function(e){var t=document.createElement("div");return t.setAttribute("role","none"),t.className=e,t},e.prototype._addScrollBar=function(e,t,n){var i=this._createDivWithClass("slider");e.rail=this._createDivWithClass("rail "+t+(n?" railBoth":"")),e.slider=i,e.rail.appendChild(i),this._container.appendChild(e.rail)},e.prototype._addScrollbars=function(){var e=this._hasVertical?"rxCustomScrollV":"rxCustomScrollH";this._hasVertical&&this._addScrollBar(this._verticalBar,"railV",this._hasHorizontal),this._hasHorizontal&&this._addScrollBar(this._horizontalBar,"railH",this._hasVertical),this._container.classList.add(e),this._container.classList.add("rxCustomScroll"),this._viewport=this._container.querySelector(".scrollViewport")},e.prototype._removeScrollbars=function(){this._hasVertical&&(this._verticalBar.rail.innerHTML="",this._container.removeChild(this._verticalBar.rail)),this._hasHorizontal&&(this._horizontalBar.rail.innerHTML="",this._container.removeChild(this._horizontalBar.rail))},e.prototype._calcNewBarSize=function(t,n,i,r){if((r||this._hasHiddenScrollbar)&&(n-=30,i-=30-e.getNativeScrollbarWidth()),i!==t.scrollSize||n!==t.size)if(t.size=n,t.scrollSize=i,t.scroll2Slider=n/i,t.sliderSize=n*t.scroll2Slider,r&&(t.sliderSize=Math.max(t.sliderSize-30+e.getNativeScrollbarWidth(),0)),t.sliderSize<15){var o=n-15+t.sliderSize;t.scroll2Slider=o/i,t.slider2Scroll=i/o}else t.slider2Scroll=i/n},e.prototype._resize=function(){this._hasHorizontal&&this._calcNewBarSize(this._horizontalBar,this._viewport.offsetWidth,this._viewport.scrollWidth,this._hasVertical),this._hasVertical&&this._calcNewBarSize(this._verticalBar,this._viewport.offsetHeight,this._viewport.scrollHeight,this._hasHorizontal)},e.prototype.update=function(){this._resize(),this._verticalBar&&this._verticalBar.scrollSize>this._verticalBar.size+1||this._horizontalBar&&this._horizontalBar.scrollSize>this._horizontalBar.size+1?(this.show(),this._updateSliders()):this.hide()},e.prototype.show=function(){this._scrollingVisible||(this._container.classList.add("active"),this._addListeners(),this._scrollingVisible=!0)},e.prototype.hide=function(){this._scrollingVisible&&(this._container.classList.remove("active"),this._removeListeners(),this._scrollingVisible=!1)},e.prototype.init=function(t){var n=this;t&&(this._hasHorizontal=!!t.horizontal,!1===t.vertical&&(this._hasVertical=t.vertical),this._hasHiddenScrollbar=!!t.hiddenScrollbar),e._installStyleSheet(),this._addScrollbars(),this.show(),this._container.addEventListener("mouseenter",this._updateCallback),this._asyncInitTimer=r.default.setTimeout((function(){n._asyncInitTimer=void 0,n._tryLtrOverride(),n.update()}),0)},e.prototype.dispose=function(){this._asyncInitTimer&&(r.default.clearInterval(this._asyncInitTimer),this._asyncInitTimer=void 0),this._stopDrag(),this._container.removeEventListener("mouseenter",this._updateCallback),this.hide(),this._removeScrollbars(),this._container=null,this._viewport=null,this._verticalBar=null,this._horizontalBar=null},e}();t.Scrollbar=c,t.default=c},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.isOverlay=function(){return!1},t.prototype.setBarStyle=function(e,t){},t.prototype.setHidden=function(e,t){},t.prototype.setNetworkActivityIndicatorVisible=function(e){},t.prototype.setBackgroundColor=function(e,t){},t.prototype.setTranslucent=function(e){},t}(n(109).StatusBar);t.StatusBar=o,t.default=new o},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getItem=function(e){var t=window.localStorage.getItem(e);return Promise.resolve(null===t?void 0:t)},t.prototype.setItem=function(e,t){try{window.localStorage.setItem(e,t)}catch(e){return Promise.resolve(e)}return Promise.resolve(void 0)},t.prototype.removeItem=function(e){return window.localStorage.removeItem(e),Promise.resolve(void 0)},t.prototype.clear=function(){return window.localStorage.clear(),Promise.resolve(void 0)},t}(n(109).Storage);t.Storage=o,t.default=new o},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(109),a=n(458),s=function(e){function t(){var t=e.call(this)||this;return"undefined"!=typeof document?(t._isPresent=a.default.hasFocusAndActive(),a.default.onFocusedEvent.subscribe(t._handleFocus.bind(t)),a.default.onBlurredEvent.subscribe(t._handleBlur.bind(t)),a.default.onWakeUpEvent.subscribe(t._handleWakeup.bind(t)),a.default.onIdleEvent.subscribe(t._handleIdle.bind(t))):t._isPresent=!1,t}return r(t,e),t.prototype.isUserPresent=function(){return"undefined"==typeof document||this._isPresent},t.prototype._setUserPresent=function(e){this._isPresent!==e&&(this._isPresent=e,this.userPresenceChangedEvent.fire(e))},t.prototype._handleWakeup=function(){this._setUserPresent(!0)},t.prototype._handleIdle=function(){this._setUserPresent(!1)},t.prototype._handleFocus=function(){this._setUserPresent(!0)},t.prototype._handleBlur=function(){this._setUserPresent(!1)},t}(o.UserPresence);t.UserPresence=s;var c=new s;t.default=c},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__,factory;factory=function(){function isUndefined(e){return void 0===e}function EventSupport(){}Array.prototype.push||(Array.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)this[this.length]=arguments[e];return this.length}),Array.prototype.shift||(Array.prototype.shift=function(){if(this.length>0){for(var e=this[0],t=0,n=this.length-1;t<n;t++)this[t]=this[t+1];return this.length=this.length-1,e}}),Array.prototype.splice||(Array.prototype.splice=function(e,t){var n=this.slice(e+t),i=this.slice(e,e+t);this.length=e;for(var r=[],o=0,a=arguments.length;o<a;o++)r[o]=arguments[o];var s=r.length>2?n=r.slice(2).concat(n):n;for(o=0,a=s.length;o<a;o++)this.push(s[o]);return i}),EventSupport.prototype={eventTypes:[],eventListeners:{},setEventTypes:function(e){if(e instanceof Array){this.eventTypes=e,this.eventListeners={};for(var t=0,n=this.eventTypes.length;t<n;t++)this.eventListeners[this.eventTypes[t]]=[]}else handleError("log4javascript.EventSupport ["+this+"]: setEventTypes: eventTypes parameter must be an Array")},addEventListener:function(e,t){"function"==typeof t?(array_contains(this.eventTypes,e)||handleError("log4javascript.EventSupport ["+this+"]: addEventListener: no event called '"+e+"'"),this.eventListeners[e].push(t)):handleError("log4javascript.EventSupport ["+this+"]: addEventListener: listener must be a function")},removeEventListener:function(e,t){"function"==typeof t?(array_contains(this.eventTypes,e)||handleError("log4javascript.EventSupport ["+this+"]: removeEventListener: no event called '"+e+"'"),array_remove(this.eventListeners[e],t)):handleError("log4javascript.EventSupport ["+this+"]: removeEventListener: listener must be a function")},dispatchEvent:function(e,t){if(array_contains(this.eventTypes,e))for(var n=this.eventListeners[e],i=0,r=n.length;i<r;i++)n[i](this,e,t);else handleError("log4javascript.EventSupport ["+this+"]: dispatchEvent: no event called '"+e+"'")}};var applicationStartDate=new Date,uniqueId="log4javascript_"+applicationStartDate.getTime()+"_"+Math.floor(1e8*Math.random()),emptyFunction=function(){},newLine="\r\n",pageLoaded=!1;function Log4JavaScript(){}Log4JavaScript.prototype=new EventSupport;var log4javascript=new Log4JavaScript;function toStr(e){return e&&e.toString?e.toString():String(e)}function getExceptionMessage(e){return e.message?e.message:e.description?e.description:toStr(e)}function getUrlFileName(e){var t=Math.max(e.lastIndexOf("/"),e.lastIndexOf("\\"));return e.substr(t+1)}function getExceptionStringRep(e){if(e){var t="Exception: "+getExceptionMessage(e);try{e.lineNumber&&(t+=" on line number "+e.lineNumber),e.fileName&&(t+=" in file "+getUrlFileName(e.fileName))}catch(e){logLog.warn("Unable to obtain file and line information for error")}return showStackTraces&&e.stack&&(t+=newLine+"Stack trace:"+newLine+e.stack),t}return null}function bool(e){return Boolean(e)}function trim(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function splitIntoLines(e){return e.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n")}log4javascript.version="1.4.13",log4javascript.edition="log4javascript";var urlEncode=void 0!==window.encodeURIComponent?function(e){return encodeURIComponent(e)}:function(e){return escape(e).replace(/\+/g,"%2B").replace(/"/g,"%22").replace(/'/g,"%27").replace(/\//g,"%2F").replace(/=/g,"%3D")};function array_remove(e,t){for(var n=-1,i=0,r=e.length;i<r;i++)if(e[i]===t){n=i;break}return n>=0&&(e.splice(n,1),!0)}function array_contains(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]==t)return!0;return!1}function extractBooleanFromParam(e,t){return isUndefined(e)?t:bool(e)}function extractStringFromParam(e,t){return isUndefined(e)?t:String(e)}function extractIntFromParam(e,t){if(isUndefined(e))return t;try{var n=parseInt(e,10);return isNaN(n)?t:n}catch(n){return logLog.warn("Invalid int param "+e,n),t}}function extractFunctionFromParam(e,t){return"function"==typeof e?e:t}function isError(e){return e instanceof Error}Function.prototype.apply||(Function.prototype.apply=function(obj,args){var methodName="__apply__";void 0!==obj[methodName]&&(methodName+=String(Math.random()).substr(2)),obj[methodName]=this;for(var argsStrings=[],i=0,len=args.length;i<len;i++)argsStrings[i]="args["+i+"]";var script="obj."+methodName+"("+argsStrings.join(",")+")",returnValue=eval(script);return delete obj[methodName],returnValue}),Function.prototype.call||(Function.prototype.call=function(e){for(var t=[],n=1,i=arguments.length;n<i;n++)t[n-1]=arguments[n];return this.apply(e,t)});var logLog={quietMode:!1,debugMessages:[],setQuietMode:function(e){this.quietMode=bool(e)},numberOfErrors:0,alertAllErrors:!1,setAlertAllErrors:function(e){this.alertAllErrors=e},debug:function(e){this.debugMessages.push(e)},displayDebug:function(){alert(this.debugMessages.join(newLine))},warn:function(e,t){},error:function(e,t){if((1==++this.numberOfErrors||this.alertAllErrors)&&!this.quietMode){var n="log4javascript error: "+e;t&&(n+=newLine+newLine+"Original error: "+getExceptionStringRep(t)),alert(n)}}};function handleError(e,t){logLog.error(e,t),log4javascript.dispatchEvent("error",{message:e,exception:t})}log4javascript.logLog=logLog,log4javascript.setEventTypes(["load","error"]),log4javascript.handleError=handleError;var enabled=!("undefined"!=typeof log4javascript_disabled&&log4javascript_disabled);log4javascript.setEnabled=function(e){enabled=bool(e)},log4javascript.isEnabled=function(){return enabled};var useTimeStampsInMilliseconds=!0;log4javascript.setTimeStampsInMilliseconds=function(e){useTimeStampsInMilliseconds=bool(e)},log4javascript.isTimeStampsInMilliseconds=function(){return useTimeStampsInMilliseconds},log4javascript.evalInScope=function(expr){return eval(expr)};var showStackTraces=!1;log4javascript.setShowStackTraces=function(e){showStackTraces=bool(e)};var Level=function(e,t){this.level=e,this.name=t};function Timer(e,t){this.name=e,this.level=isUndefined(t)?Level.INFO:t,this.start=new Date}Level.prototype={toString:function(){return this.name},equals:function(e){return this.level==e.level},isGreaterOrEqual:function(e){return this.level>=e.level}},Level.ALL=new Level(Number.MIN_VALUE,"ALL"),Level.TRACE=new Level(1e4,"TRACE"),Level.DEBUG=new Level(2e4,"DEBUG"),Level.INFO=new Level(3e4,"INFO"),Level.WARN=new Level(4e4,"WARN"),Level.ERROR=new Level(5e4,"ERROR"),Level.FATAL=new Level(6e4,"FATAL"),Level.OFF=new Level(Number.MAX_VALUE,"OFF"),log4javascript.Level=Level,Timer.prototype.getElapsedTime=function(){return(new Date).getTime()-this.start.getTime()};var anonymousLoggerName="[anonymous]",defaultLoggerName="[default]",nullLoggerName="[null]",rootLoggerName="root";function Logger(e){this.name=e,this.parent=null,this.children=[];var t=[],n=null,i=this.name===rootLoggerName,r=this.name===nullLoggerName,o=null,a=!1;this.addChild=function(e){this.children.push(e),e.parent=this,e.invalidateAppenderCache()};var s=!0;this.getAdditivity=function(){return s},this.setAdditivity=function(e){var t=s!=e;s=e,t&&this.invalidateAppenderCache()},this.addAppender=function(e){r?handleError("Logger.addAppender: you may not add an appender to the null logger"):e instanceof log4javascript.Appender?array_contains(t,e)||(t.push(e),e.setAddedToLogger(this),this.invalidateAppenderCache()):handleError("Logger.addAppender: appender supplied ('"+toStr(e)+"') is not a subclass of Appender")},this.removeAppender=function(e){array_remove(t,e),e.setRemovedFromLogger(this),this.invalidateAppenderCache()},this.removeAllAppenders=function(){var e=t.length;if(e>0){for(var n=0;n<e;n++)t[n].setRemovedFromLogger(this);t.length=0,this.invalidateAppenderCache()}},this.getEffectiveAppenders=function(){if(null===o||a){var e=i||!this.getAdditivity()?[]:this.parent.getEffectiveAppenders();o=e.concat(t),a=!1}return o},this.invalidateAppenderCache=function(){a=!0;for(var e=0,t=this.children.length;e<t;e++)this.children[e].invalidateAppenderCache()},this.log=function(e,t){if(enabled&&e.isGreaterOrEqual(this.getEffectiveLevel())){var n,i=t.length-1,r=t[i];t.length>1&&isError(r)&&(n=r,i--);for(var o=[],a=0;a<=i;a++)o[a]=t[a];var s=new LoggingEvent(this,new Date,e,o,n);this.callAppenders(s)}},this.callAppenders=function(e){for(var t=this.getEffectiveAppenders(),n=0,i=t.length;n<i;n++)t[n].doAppend(e)},this.setLevel=function(e){i&&null===e?handleError("Logger.setLevel: you cannot set the level of the root logger to null"):e instanceof Level?n=e:handleError("Logger.setLevel: level supplied to logger "+this.name+" is not an instance of log4javascript.Level")},this.getLevel=function(){return n},this.getEffectiveLevel=function(){for(var e=this;null!==e;e=e.parent){var t=e.getLevel();if(null!==t)return t}},this.group=function(e,t){if(enabled)for(var n=this.getEffectiveAppenders(),i=0,r=n.length;i<r;i++)n[i].group(e,t)},this.groupEnd=function(){if(enabled)for(var e=this.getEffectiveAppenders(),t=0,n=e.length;t<n;t++)e[t].groupEnd()};var c={};this.time=function(e,t){enabled&&(isUndefined(e)?handleError("Logger.time: a name for the timer must be supplied"):!t||t instanceof Level?c[e]=new Timer(e,t):handleError("Logger.time: level supplied to timer "+e+" is not an instance of log4javascript.Level"))},this.timeEnd=function(e){if(enabled)if(isUndefined(e))handleError("Logger.timeEnd: a name for the timer must be supplied");else if(c[e]){var t=c[e],n=t.getElapsedTime();this.log(t.level,["Timer "+toStr(e)+" completed in "+n+"ms"]),delete c[e]}else logLog.warn("Logger.timeEnd: no timer found with name "+e)},this.assert=function(e){if(enabled&&!e){for(var t=[],n=1,i=arguments.length;n<i;n++)t.push(arguments[n]);(t=t.length>0?t:["Assertion Failure"]).push(newLine),t.push(e),this.log(Level.ERROR,t)}},this.toString=function(){return"Logger["+this.name+"]"}}Logger.prototype={trace:function(){this.log(Level.TRACE,arguments)},debug:function(){this.log(Level.DEBUG,arguments)},info:function(){this.log(Level.INFO,arguments)},warn:function(){this.log(Level.WARN,arguments)},error:function(){this.log(Level.ERROR,arguments)},fatal:function(){this.log(Level.FATAL,arguments)},isEnabledFor:function(e){return e.isGreaterOrEqual(this.getEffectiveLevel())},isTraceEnabled:function(){return this.isEnabledFor(Level.TRACE)},isDebugEnabled:function(){return this.isEnabledFor(Level.DEBUG)},isInfoEnabled:function(){return this.isEnabledFor(Level.INFO)},isWarnEnabled:function(){return this.isEnabledFor(Level.WARN)},isErrorEnabled:function(){return this.isEnabledFor(Level.ERROR)},isFatalEnabled:function(){return this.isEnabledFor(Level.FATAL)}},Logger.prototype.trace.isEntryPoint=!0,Logger.prototype.debug.isEntryPoint=!0,Logger.prototype.info.isEntryPoint=!0,Logger.prototype.warn.isEntryPoint=!0,Logger.prototype.error.isEntryPoint=!0,Logger.prototype.fatal.isEntryPoint=!0;var loggers={},loggerNames=[],ROOT_LOGGER_DEFAULT_LEVEL=Level.DEBUG,rootLogger=new Logger(rootLoggerName);rootLogger.setLevel(ROOT_LOGGER_DEFAULT_LEVEL),log4javascript.getRootLogger=function(){return rootLogger},log4javascript.getLogger=function(e){if("string"!=typeof e&&(e=anonymousLoggerName,logLog.warn("log4javascript.getLogger: non-string logger name "+toStr(e)+" supplied, returning anonymous logger")),e==rootLoggerName&&handleError("log4javascript.getLogger: root logger may not be obtained by name"),!loggers[e]){var t=new Logger(e);loggers[e]=t,loggerNames.push(e);var n,i=e.lastIndexOf(".");if(i>-1){var r=e.substring(0,i);n=log4javascript.getLogger(r)}else n=rootLogger;n.addChild(t)}return loggers[e]};var defaultLogger=null;log4javascript.getDefaultLogger=function(){return defaultLogger||(defaultLogger=createDefaultLogger()),defaultLogger};var nullLogger=null;log4javascript.getNullLogger=function(){return nullLogger||(nullLogger=new Logger(nullLoggerName)).setLevel(Level.OFF),nullLogger},log4javascript.resetConfiguration=function(){rootLogger.setLevel(ROOT_LOGGER_DEFAULT_LEVEL),loggers={}};var LoggingEvent=function(e,t,n,i,r){this.logger=e,this.timeStamp=t,this.timeStampInMilliseconds=t.getTime(),this.timeStampInSeconds=Math.floor(this.timeStampInMilliseconds/1e3),this.milliseconds=this.timeStamp.getMilliseconds(),this.level=n,this.messages=i,this.exception=r};LoggingEvent.prototype={getThrowableStrRep:function(){return this.exception?getExceptionStringRep(this.exception):""},getCombinedMessages:function(){return 1==this.messages.length?this.messages[0]:this.messages.join(newLine)},toString:function(){return"LoggingEvent["+this.level+"]"}},log4javascript.LoggingEvent=LoggingEvent;var Layout=function(){};Layout.prototype={defaults:{loggerKey:"logger",timeStampKey:"timestamp",millisecondsKey:"milliseconds",levelKey:"level",messageKey:"message",exceptionKey:"exception",urlKey:"url"},loggerKey:"logger",timeStampKey:"timestamp",millisecondsKey:"milliseconds",levelKey:"level",messageKey:"message",exceptionKey:"exception",urlKey:"url",batchHeader:"",batchFooter:"",batchSeparator:"",returnsPostData:!1,overrideTimeStampsSetting:!1,useTimeStampsInMilliseconds:null,format:function(){handleError("Layout.format: layout supplied has no format() method")},ignoresThrowable:function(){handleError("Layout.ignoresThrowable: layout supplied has no ignoresThrowable() method")},getContentType:function(){return"text/plain"},allowBatching:function(){return!0},setTimeStampsInMilliseconds:function(e){this.overrideTimeStampsSetting=!0,this.useTimeStampsInMilliseconds=bool(e)},isTimeStampsInMilliseconds:function(){return this.overrideTimeStampsSetting?this.useTimeStampsInMilliseconds:useTimeStampsInMilliseconds},getTimeStampValue:function(e){return this.isTimeStampsInMilliseconds()?e.timeStampInMilliseconds:e.timeStampInSeconds},getDataValues:function(e,t){var n=[[this.loggerKey,e.logger.name],[this.timeStampKey,this.getTimeStampValue(e)],[this.levelKey,e.level.name],[this.urlKey,window.location.href],[this.messageKey,t?e.getCombinedMessages():e.messages]];if(this.isTimeStampsInMilliseconds()||n.push([this.millisecondsKey,e.milliseconds]),e.exception&&n.push([this.exceptionKey,getExceptionStringRep(e.exception)]),this.hasCustomFields())for(var i=0,r=this.customFields.length;i<r;i++){var o=this.customFields[i].value;"function"==typeof o&&(o=o(this,e)),n.push([this.customFields[i].name,o])}return n},setKeys:function(e,t,n,i,r,o,a){this.loggerKey=extractStringFromParam(e,this.defaults.loggerKey),this.timeStampKey=extractStringFromParam(t,this.defaults.timeStampKey),this.levelKey=extractStringFromParam(n,this.defaults.levelKey),this.messageKey=extractStringFromParam(i,this.defaults.messageKey),this.exceptionKey=extractStringFromParam(r,this.defaults.exceptionKey),this.urlKey=extractStringFromParam(o,this.defaults.urlKey),this.millisecondsKey=extractStringFromParam(a,this.defaults.millisecondsKey)},setCustomField:function(e,t){for(var n=!1,i=0,r=this.customFields.length;i<r;i++)this.customFields[i].name===e&&(this.customFields[i].value=t,n=!0);n||this.customFields.push({name:e,value:t})},hasCustomFields:function(){return this.customFields.length>0},formatWithException:function(e){var t=this.format(e);return e.exception&&this.ignoresThrowable()&&(t+=e.getThrowableStrRep()),t},toString:function(){handleError("Layout.toString: all layouts must override this method")}},log4javascript.Layout=Layout;var Appender=function(){},SimpleDateFormat;function SimpleLayout(){this.customFields=[]}function NullLayout(){this.customFields=[]}function XmlLayout(e){this.combineMessages=extractBooleanFromParam(e,!0),this.customFields=[]}function escapeNewLines(e){return e.replace(/\r\n|\r|\n/g,"\\r\\n")}function JsonLayout(e,t){this.readable=extractBooleanFromParam(e,!1),this.combineMessages=extractBooleanFromParam(t,!0),this.batchHeader=this.readable?"["+newLine:"[",this.batchFooter=this.readable?"]"+newLine:"]",this.batchSeparator=this.readable?","+newLine:",",this.setKeys(),this.colon=this.readable?": ":":",this.tab=this.readable?"\t":"",this.lineBreak=this.readable?newLine:"",this.customFields=[]}function HttpPostDataLayout(){this.setKeys(),this.customFields=[],this.returnsPostData=!0}function formatObjectExpansion(e,t,n){var i=[];return function e(t,n,r){var o,a,s,c,l,u,d;function p(e){for(var t=splitIntoLines(e),n=1,i=t.length;n<i;n++)t[n]=r+t[n];return t.join(newLine)}if(r||(r=""),null===t)return"null";if(void 0===t)return"undefined";if("string"==typeof t)return p(t);if("object"==typeof t&&array_contains(i,t)){try{u=toStr(t)}catch(e){u="Error formatting property. Details: "+getExceptionStringRep(e)}return u+" [already expanded]"}if(t instanceof Array&&n>0){for(i.push(t),u="["+newLine,s=n-1,c=r+"  ",l=[],o=0,a=t.length;o<a;o++)try{d=e(t[o],s,c),l.push(c+d)}catch(e){l.push(c+"Error formatting array member. Details: "+getExceptionStringRep(e))}return u+=l.join(","+newLine)+newLine+r+"]"}if("[object Date]"==Object.prototype.toString.call(t))return t.toString();if("object"==typeof t&&n>0){for(o in i.push(t),u="{"+newLine,s=n-1,c=r+"  ",l=[],t)try{d=e(t[o],s,c),l.push(c+o+": "+d)}catch(e){l.push(c+o+": Error formatting property. Details: "+getExceptionStringRep(e))}return u+=l.join(","+newLine)+newLine+r+"}"}return p(toStr(t))}(e,t,n)}function PatternLayout(e){this.pattern=e||PatternLayout.DEFAULT_CONVERSION_PATTERN,this.customFields=[]}function AlertAppender(){}function BrowserConsoleAppender(){}Appender.prototype=new EventSupport,Appender.prototype.layout=new PatternLayout,Appender.prototype.threshold=Level.ALL,Appender.prototype.loggers=[],Appender.prototype.doAppend=function(e){enabled&&e.level.level>=this.threshold.level&&this.append(e)},Appender.prototype.append=function(e){},Appender.prototype.setLayout=function(e){e instanceof Layout?this.layout=e:handleError("Appender.setLayout: layout supplied to "+this.toString()+" is not a subclass of Layout")},Appender.prototype.getLayout=function(){return this.layout},Appender.prototype.setThreshold=function(e){e instanceof Level?this.threshold=e:handleError("Appender.setThreshold: threshold supplied to "+this.toString()+" is not a subclass of Level")},Appender.prototype.getThreshold=function(){return this.threshold},Appender.prototype.setAddedToLogger=function(e){this.loggers.push(e)},Appender.prototype.setRemovedFromLogger=function(e){array_remove(this.loggers,e)},Appender.prototype.group=emptyFunction,Appender.prototype.groupEnd=emptyFunction,Appender.prototype.toString=function(){handleError("Appender.toString: all appenders must override this method")},log4javascript.Appender=Appender,SimpleLayout.prototype=new Layout,SimpleLayout.prototype.format=function(e){return e.level.name+" - "+e.getCombinedMessages()},SimpleLayout.prototype.ignoresThrowable=function(){return!0},SimpleLayout.prototype.toString=function(){return"SimpleLayout"},log4javascript.SimpleLayout=SimpleLayout,NullLayout.prototype=new Layout,NullLayout.prototype.format=function(e){return e.messages},NullLayout.prototype.ignoresThrowable=function(){return!0},NullLayout.prototype.formatWithException=function(e){var t=e.messages,n=e.exception;return n?t.concat([n]):t},NullLayout.prototype.toString=function(){return"NullLayout"},log4javascript.NullLayout=NullLayout,XmlLayout.prototype=new Layout,XmlLayout.prototype.isCombinedMessages=function(){return this.combineMessages},XmlLayout.prototype.getContentType=function(){return"text/xml"},XmlLayout.prototype.escapeCdata=function(e){return e.replace(/\]\]>/,"]]>]]&gt;<![CDATA[")},XmlLayout.prototype.format=function(e){var t,n,i=this;function r(e){return e="string"==typeof e?e:toStr(e),"<log4javascript:message><![CDATA["+i.escapeCdata(e)+"]]></log4javascript:message>"}var o='<log4javascript:event logger="'+e.logger.name+'" timestamp="'+this.getTimeStampValue(e)+'"';if(this.isTimeStampsInMilliseconds()||(o+=' milliseconds="'+e.milliseconds+'"'),o+=' level="'+e.level.name+'">'+newLine,this.combineMessages)o+=r(e.getCombinedMessages());else{for(o+="<log4javascript:messages>"+newLine,t=0,n=e.messages.length;t<n;t++)o+=r(e.messages[t])+newLine;o+="</log4javascript:messages>"+newLine}if(this.hasCustomFields())for(t=0,n=this.customFields.length;t<n;t++)o+='<log4javascript:customfield name="'+this.customFields[t].name+'"><![CDATA['+this.customFields[t].value.toString()+"]]></log4javascript:customfield>"+newLine;return e.exception&&(o+="<log4javascript:exception><![CDATA["+getExceptionStringRep(e.exception)+"]]></log4javascript:exception>"+newLine),o+="</log4javascript:event>"+newLine+newLine},XmlLayout.prototype.ignoresThrowable=function(){return!1},XmlLayout.prototype.toString=function(){return"XmlLayout"},log4javascript.XmlLayout=XmlLayout,JsonLayout.prototype=new Layout,JsonLayout.prototype.isReadable=function(){return this.readable},JsonLayout.prototype.isCombinedMessages=function(){return this.combineMessages},JsonLayout.prototype.format=function(e){var t,n,i=this,r=this.getDataValues(e,this.combineMessages),o="{"+this.lineBreak;function a(e,t,n){var r,o=typeof e;if(e instanceof Date)r=String(e.getTime());else if(n&&e instanceof Array){r="["+i.lineBreak;for(var s=0,c=e.length;s<c;s++){var l=t+i.tab;r+=l+a(e[s],l,!1),s<e.length-1&&(r+=","),r+=i.lineBreak}r+=t+"]"}else r="number"!==o&&"boolean"!==o?'"'+escapeNewLines(toStr(e).replace(/\"/g,'\\"'))+'"':e;return r}for(t=0,n=r.length-1;t<=n;t++)o+=this.tab+'"'+r[t][0]+'"'+this.colon+a(r[t][1],this.tab,!0),t<n&&(o+=","),o+=this.lineBreak;return o+="}"+this.lineBreak},JsonLayout.prototype.ignoresThrowable=function(){return!1},JsonLayout.prototype.toString=function(){return"JsonLayout"},JsonLayout.prototype.getContentType=function(){return"application/json"},log4javascript.JsonLayout=JsonLayout,HttpPostDataLayout.prototype=new Layout,HttpPostDataLayout.prototype.allowBatching=function(){return!1},HttpPostDataLayout.prototype.format=function(e){for(var t=this.getDataValues(e),n=[],i=0,r=t.length;i<r;i++){var o=t[i][1]instanceof Date?String(t[i][1].getTime()):t[i][1];n.push(urlEncode(t[i][0])+"="+urlEncode(o))}return n.join("&")},HttpPostDataLayout.prototype.ignoresThrowable=function(e){return!1},HttpPostDataLayout.prototype.toString=function(){return"HttpPostDataLayout"},log4javascript.HttpPostDataLayout=HttpPostDataLayout,function(){var e=/('[^']*')|(G+|y+|M+|w+|W+|D+|d+|F+|E+|a+|H+|k+|K+|h+|m+|s+|S+|Z+)|([a-zA-Z]+)|([^a-zA-Z']+)/,t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i={G:0,y:3,M:4,w:2,W:2,D:2,d:2,F:2,E:1,a:0,H:2,k:2,K:2,h:2,m:2,s:2,S:2,Z:5},r=function(e,t,n){var i=new Date(e,t,n,0,0,0);return i.setMilliseconds(0),i};Date.prototype.getDifference=function(e){return this.getTime()-e.getTime()},Date.prototype.isBefore=function(e){return this.getTime()<e.getTime()},Date.prototype.getUTCTime=function(){return Date.UTC(this.getFullYear(),this.getMonth(),this.getDate(),this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds())},Date.prototype.getTimeSince=function(e){return this.getUTCTime()-e.getUTCTime()},Date.prototype.getPreviousSunday=function(){var e=new Date(this.getFullYear(),this.getMonth(),this.getDate(),12,0,0),t=new Date(e.getTime()-864e5*this.getDay());return r(t.getFullYear(),t.getMonth(),t.getDate())},Date.prototype.getWeekInYear=function(e){isUndefined(this.minimalDaysInFirstWeek)&&(e=1);var t=this.getPreviousSunday(),n=r(this.getFullYear(),0,1),i=t.isBefore(n)?0:1+Math.floor(t.getTimeSince(n)/6048e5);return 7-n.getDay()<e&&i--,i},Date.prototype.getWeekInMonth=function(e){isUndefined(this.minimalDaysInFirstWeek)&&(e=1);var t=this.getPreviousSunday(),n=r(this.getFullYear(),this.getMonth(),1),i=t.isBefore(n)?0:1+Math.floor(t.getTimeSince(n)/6048e5);return 7-n.getDay()>=e&&i++,i},Date.prototype.getDayInYear=function(){var e=r(this.getFullYear(),0,1);return 1+Math.floor(this.getTimeSince(e)/864e5)},(SimpleDateFormat=function(e){this.formatString=e}).prototype.setMinimalDaysInFirstWeek=function(e){this.minimalDaysInFirstWeek=e},SimpleDateFormat.prototype.getMinimalDaysInFirstWeek=function(){return isUndefined(this.minimalDaysInFirstWeek)?1:this.minimalDaysInFirstWeek};var o=function(e,t){for(;e.length<t;)e="0"+e;return e},a=function(e,t,n){return t>=4?e:e.substr(0,Math.max(n,t))},s=function(e,t){return o(""+e,t)};SimpleDateFormat.prototype.format=function(r){for(var c,l="",u=this.formatString;c=e.exec(u);){var d=c[1],p=c[2],h=c[3],f=c[4];if(d)l+="''"==d?"'":d.substring(1,d.length-1);else if(h);else if(f)l+=f;else if(p){var g=p.charAt(0),m=p.length,E="";switch(g){case"G":E="AD";break;case"y":E=r.getFullYear();break;case"M":E=r.getMonth();break;case"w":E=r.getWeekInYear(this.getMinimalDaysInFirstWeek());break;case"W":E=r.getWeekInMonth(this.getMinimalDaysInFirstWeek());break;case"D":E=r.getDayInYear();break;case"d":E=r.getDate();break;case"F":E=1+Math.floor((r.getDate()-1)/7);break;case"E":E=n[r.getDay()];break;case"a":E=r.getHours()>=12?"PM":"AM";break;case"H":E=r.getHours();break;case"k":E=r.getHours()||24;break;case"K":E=r.getHours()%12;break;case"h":E=r.getHours()%12||12;break;case"m":E=r.getMinutes();break;case"s":E=r.getSeconds();break;case"S":E=r.getMilliseconds();break;case"Z":E=r.getTimezoneOffset()}switch(i[g]){case 0:l+=a(E,m,2);break;case 1:l+=a(E,m,3);break;case 2:l+=s(E,m);break;case 3:l+=m<=3?(""+E).substr(2,2):s(E,m);break;case 4:l+=m>=3?a(t[E],m,m):s(E+1,m);break;case 5:var _=E>0?"-":"+",S=Math.abs(E),T=""+Math.floor(S/60),v=""+S%60;l+=_+(T=o(T,2))+(v=o(v,2))}}u=u.substr(c.index+c[0].length)}return l}}(),log4javascript.SimpleDateFormat=SimpleDateFormat,PatternLayout.TTCC_CONVERSION_PATTERN="%r %p %c - %m%n",PatternLayout.DEFAULT_CONVERSION_PATTERN="%m%n",PatternLayout.ISO8601_DATEFORMAT="yyyy-MM-dd HH:mm:ss,SSS",PatternLayout.DATETIME_DATEFORMAT="dd MMM yyyy HH:mm:ss,SSS",PatternLayout.ABSOLUTETIME_DATEFORMAT="HH:mm:ss,SSS",PatternLayout.prototype=new Layout,PatternLayout.prototype.format=function(e){for(var t,n=/%(-?[0-9]+)?(\.?[0-9]+)?([acdfmMnpr%])(\{([^\}]+)\})?|([^%]+)/,i="",r=this.pattern;t=n.exec(r);){var o=t[0],a=t[1],s=t[2],c=t[3],l=t[5],u=t[6];if(u)i+=""+u;else{var d,p="";switch(c){case"a":case"m":var h=0;l&&(h=parseInt(l,10),isNaN(h)&&(handleError("PatternLayout.format: invalid specifier '"+l+"' for conversion character '"+c+"' - should be a number"),h=0));for(var f="a"===c?e.messages[0]:e.messages,g=0,m=f.length;g<m;g++)g>0&&" "!==p.charAt(p.length-1)&&(p+=" "),p+=0===h?f[g]:formatObjectExpansion(f[g],h);break;case"c":var E=e.logger.name;if(l){var _=parseInt(l,10),S=e.logger.name.split(".");p=_>=S.length?E:S.slice(S.length-_).join(".")}else p=E;break;case"d":var T=PatternLayout.ISO8601_DATEFORMAT;l&&("ISO8601"==(T=l)?T=PatternLayout.ISO8601_DATEFORMAT:"ABSOLUTE"==T?T=PatternLayout.ABSOLUTETIME_DATEFORMAT:"DATE"==T&&(T=PatternLayout.DATETIME_DATEFORMAT)),p=new SimpleDateFormat(T).format(e.timeStamp);break;case"f":if(this.hasCustomFields()){var v=0;l&&(v=parseInt(l,10),isNaN(v)?handleError("PatternLayout.format: invalid specifier '"+l+"' for conversion character 'f' - should be a number"):0===v?handleError("PatternLayout.format: invalid specifier '"+l+"' for conversion character 'f' - must be greater than zero"):v>this.customFields.length?handleError("PatternLayout.format: invalid specifier '"+l+"' for conversion character 'f' - there aren't that many custom fields"):v-=1);var I=this.customFields[v].value;"function"==typeof I&&(I=I(this,e)),p=I}break;case"n":p=newLine;break;case"p":p=e.level.name;break;case"r":p=""+e.timeStamp.getDifference(applicationStartDate);break;case"%":p="%";break;default:p=o}if(s){d=parseInt(s.substr(1),10);var b=p.length;d<b&&(p=p.substring(b-d,b))}if(a)if("-"==a.charAt(0))for(d=parseInt(a.substr(1),10);p.length<d;)p+=" ";else for(d=parseInt(a,10);p.length<d;)p=" "+p;i+=p}r=r.substr(t.index+t[0].length)}return i},PatternLayout.prototype.ignoresThrowable=function(){return!0},PatternLayout.prototype.toString=function(){return"PatternLayout"},log4javascript.PatternLayout=PatternLayout,AlertAppender.prototype=new Appender,AlertAppender.prototype.layout=new SimpleLayout,AlertAppender.prototype.append=function(e){alert(this.getLayout().formatWithException(e))},AlertAppender.prototype.toString=function(){return"AlertAppender"},log4javascript.AlertAppender=AlertAppender,BrowserConsoleAppender.prototype=new log4javascript.Appender,BrowserConsoleAppender.prototype.layout=new NullLayout,BrowserConsoleAppender.prototype.threshold=Level.DEBUG,BrowserConsoleAppender.prototype.append=function(e){var t,n=this,i=function(t){var i=n.getLayout().formatWithException(e);return"string"==typeof i?t?i:[i]:t?i.join(" "):i},r=window.console;r&&r.log?"function"==typeof r[t=r.debug&&Level.DEBUG.isGreaterOrEqual(e.level)?"debug":r.info&&Level.INFO.equals(e.level)?"info":r.warn&&Level.WARN.equals(e.level)?"warn":r.error&&e.level.isGreaterOrEqual(Level.ERROR)?"error":"log"].apply?r[t].apply(r,i(!1)):r[t](i(!0)):"undefined"!=typeof opera&&opera.postError&&opera.postError(i(!0))},BrowserConsoleAppender.prototype.group=function(e){window.console&&window.console.group&&window.console.group(e)},BrowserConsoleAppender.prototype.groupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},BrowserConsoleAppender.prototype.toString=function(){return"BrowserConsoleAppender"},log4javascript.BrowserConsoleAppender=BrowserConsoleAppender;var xhrFactory=function(){return new XMLHttpRequest},xmlHttpFactories=[xhrFactory,function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],withCredentialsSupported=!1,getXmlHttp=function(e){for(var t,n=null,i=0,r=xmlHttpFactories.length;i<r;i++){t=xmlHttpFactories[i];try{return n=t(),withCredentialsSupported=t==xhrFactory&&"withCredentials"in n,getXmlHttp=t,n}catch(e){}}e?e():handleError("getXmlHttp: unable to obtain XMLHttpRequest object")},ConsoleAppender;function isHttpRequestSuccessful(e){return isUndefined(e.status)||0===e.status||e.status>=200&&e.status<300||1223==e.status}function AjaxAppender(e,t){var n=this,i=!0;e||(handleError("AjaxAppender: URL must be specified in constructor"),i=!1);var r=this.defaults.timed,o=this.defaults.waitForResponse,a=this.defaults.batchSize,s=this.defaults.timerInterval,c=this.defaults.requestSuccessCallback,l=this.defaults.failCallback,u=this.defaults.postVarName,d=this.defaults.sendAllOnUnload,p=this.defaults.contentType,h=null,f=[],g=[],m=[],E=!1,_=!1;function S(e){return!_||(handleError("AjaxAppender: configuration option '"+e+"' may not be set after the appender has been initialized"),!1)}function T(){var e;if(i&&enabled)if(E=!0,o)g.length>0?C(I(e=g.shift()),T):(E=!1,r&&b());else{for(;e=g.shift();)C(I(e));E=!1,r&&b()}}function v(){var e=!1;if(i&&enabled){for(var t,s=n.getLayout().allowBatching()?a:1,c=[];t=f.shift();)c.push(t),f.length>=s&&(g.push(c),c=[]);c.length>0&&g.push(c),e=g.length>0,o=!1,r=!1,T()}return e}function I(e){for(var t,i=[],r="";t=e.shift();)i.push(n.getLayout().formatWithException(t));return r=1==e.length?i.join(""):n.getLayout().batchHeader+i.join(n.getLayout().batchSeparator)+n.getLayout().batchFooter,p==n.defaults.contentType&&((r=n.getLayout().returnsPostData?r:urlEncode(u)+"="+urlEncode(r)).length>0&&(r+="&"),r+="layout="+urlEncode(n.getLayout().toString())),r}function b(){window.setTimeout(T,s)}function y(){var e="AjaxAppender: could not create XMLHttpRequest object. AjaxAppender disabled";handleError(e),i=!1,l&&l(e)}function C(n,r){try{var o=getXmlHttp(y);if(i){o.onreadystatechange=function(){if(4==o.readyState){if(isHttpRequestSuccessful(o))c&&c(o),r&&r(o);else{var t="AjaxAppender.append: XMLHttpRequest request to URL "+e+" returned status code "+o.status;handleError(t),l&&l(t)}o.onreadystatechange=emptyFunction,o=null}},o.open("POST",e,!0),t&&withCredentialsSupported&&(o.withCredentials=!0);try{for(var a,s=0;a=m[s++];)o.setRequestHeader(a.name,a.value);o.setRequestHeader("Content-Type",p)}catch(e){var u="AjaxAppender.append: your browser's XMLHttpRequest implementation does not support setRequestHeader, therefore cannot post data. AjaxAppender disabled";return handleError(u),i=!1,void(l&&l(u))}o.send(n)}}catch(t){var d="AjaxAppender.append: error sending log message to "+e;handleError(d,t),i=!1,l&&l(d+". Details: "+getExceptionStringRep(t))}}this.getSessionId=function(){return h},this.setSessionId=function(e){h=extractStringFromParam(e,null),this.layout.setCustomField("sessionid",h)},this.setLayout=function(e){S("layout")&&(this.layout=e,null!==h&&this.setSessionId(h))},this.isTimed=function(){return r},this.setTimed=function(e){S("timed")&&(r=bool(e))},this.getTimerInterval=function(){return s},this.setTimerInterval=function(e){S("timerInterval")&&(s=extractIntFromParam(e,s))},this.isWaitForResponse=function(){return o},this.setWaitForResponse=function(e){S("waitForResponse")&&(o=bool(e))},this.getBatchSize=function(){return a},this.setBatchSize=function(e){S("batchSize")&&(a=extractIntFromParam(e,a))},this.isSendAllOnUnload=function(){return d},this.setSendAllOnUnload=function(e){S("sendAllOnUnload")&&(d=extractBooleanFromParam(e,d))},this.setRequestSuccessCallback=function(e){c=extractFunctionFromParam(e,c)},this.setFailCallback=function(e){l=extractFunctionFromParam(e,l)},this.getPostVarName=function(){return u},this.setPostVarName=function(e){S("postVarName")&&(u=extractStringFromParam(e,u))},this.getHeaders=function(){return m},this.addHeader=function(e,t){"content-type"==e.toLowerCase()?p=t:m.push({name:e,value:t})},this.sendAll=T,this.sendAllRemaining=v,this.append=function(e){if(i){_||function(){if(_=!0,d){var e=window.onbeforeunload;window.onbeforeunload=function(){e&&e(),v()}}r&&b()}(),f.push(e);var t=this.getLayout().allowBatching()?a:1;if(f.length>=t){for(var n,s=[];n=f.shift();)s.push(n);g.push(s),r||o&&(!o||E)||T()}}}}function setCookie(e,t,n,i){var r;if(i=i?"; path="+i:"",n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),r="; expires="+o.toGMTString()}else r="";document.cookie=escape(e)+"="+escape(t)+r+i}function getCookie(e){for(var t=escape(e)+"=",n=document.cookie.split(";"),i=0,r=n.length;i<r;i++){for(var o=n[i];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return unescape(o.substring(t.length,o.length))}return null}function getBaseUrl(){for(var e=document.getElementsByTagName("script"),t=0,n=e.length;t<n;++t)if(-1!=e[t].src.indexOf("log4javascript")){var i=e[t].src.lastIndexOf("/");return-1==i?"":e[t].src.substr(0,i+1)}return null}function isLoaded(e){try{return bool(e.loaded)}catch(e){return!1}}function padWithSpaces(e,t){if(e.length<t){for(var n=[],i=Math.max(0,t-e.length),r=0;r<i;r++)n[r]=" ";e+=n.join("")}return e}function createDefaultLogger(){var e=log4javascript.getLogger(defaultLoggerName),t=new log4javascript.PopUpAppender;return e.addAppender(t),e}if(AjaxAppender.prototype=new Appender,AjaxAppender.prototype.defaults={waitForResponse:!1,timed:!1,timerInterval:1e3,batchSize:1,sendAllOnUnload:!1,requestSuccessCallback:null,failCallback:null,postVarName:"data",contentType:"application/x-www-form-urlencoded"},AjaxAppender.prototype.layout=new HttpPostDataLayout,AjaxAppender.prototype.toString=function(){return"AjaxAppender"},log4javascript.AjaxAppender=AjaxAppender,function(){var e=[],t=1;function n(e,t,n,i,r){this.create(!1,null,e,t,n,i,r,this.defaults.focusPopUp)}function i(e,t,n,i,r,o){this.create(!0,e,t,n,i,r,o,!1)}(ConsoleAppender=function(){}).prototype=new Appender,ConsoleAppender.prototype.create=function(n,i,r,o,a,s,c,l){var u=this,d=!1,p=!1,h=!1,f=!1,g=[],m=!0,E=t++;o=extractBooleanFromParam(o,this.defaults.initiallyMinimized),r=extractBooleanFromParam(r,this.defaults.lazyInit),a=extractBooleanFromParam(a,this.defaults.useDocumentWrite);var _=this.defaults.newestMessageAtTop,S=this.defaults.scrollToLatestMessage;s=s||this.defaults.width,c=c||this.defaults.height;var T,v,I,b,y,C=this.defaults.maxMessages,A=this.defaults.showCommandLine,O=this.defaults.commandLineObjectExpansionDepth,N=this.defaults.showHideButton,R=this.defaults.showCloseButton;this.setLayout(this.defaults.layout);var P=n?"InPageAppender":"PopUpAppender",w=function(e){return!p||(handleError(P+": configuration option '"+e+"' may not be set after the appender has been initialized"),!1)},M=function(){return h&&m&&!f};this.isNewestMessageAtTop=function(){return _},this.setNewestMessageAtTop=function(e){_=bool(e),M()&&b().setNewestAtTop(_)},this.isScrollToLatestMessage=function(){return S},this.setScrollToLatestMessage=function(e){S=bool(e),M()&&b().setScrollToLatest(S)},this.getWidth=function(){return s},this.setWidth=function(e){w("width")&&(s=extractStringFromParam(e,s))},this.getHeight=function(){return c},this.setHeight=function(e){w("height")&&(c=extractStringFromParam(e,c))},this.getMaxMessages=function(){return C},this.setMaxMessages=function(e){C=extractIntFromParam(e,C),M()&&b().setMaxMessages(C)},this.isShowCommandLine=function(){return A},this.setShowCommandLine=function(e){A=bool(e),M()&&b().setShowCommandLine(A)},this.isShowHideButton=function(){return N},this.setShowHideButton=function(e){N=bool(e),M()&&b().setShowHideButton(N)},this.isShowCloseButton=function(){return R},this.setShowCloseButton=function(e){R=bool(e),M()&&b().setShowCloseButton(R)},this.getCommandLineObjectExpansionDepth=function(){return O},this.setCommandLineObjectExpansionDepth=function(e){O=extractIntFromParam(e,O)};var D=o;function L(e,t){this.loggingEvent=e,this.levelName=e.level.name,this.formattedMessage=t}function x(e,t){this.name=e,this.initiallyExpanded=t}function k(){}this.isInitiallyMinimized=function(){return o},this.setInitiallyMinimized=function(e){w("initiallyMinimized")&&(o=bool(e),D=o)},this.isUseDocumentWrite=function(){return a},this.setUseDocumentWrite=function(e){w("useDocumentWrite")&&(a=bool(e))},L.prototype.append=function(){b().log(this.levelName,this.formattedMessage)},x.prototype.append=function(){b().group(this.name,this.initiallyExpanded)},k.prototype.append=function(){b().groupEnd()};var U=function(){I(),d?f&&ee&&v():T(),I()&&G()};this.append=function(e){if(m){var t=u.getLayout().formatWithException(e);g.push(new L(e,t)),U()}},this.group=function(e,t){m&&(g.push(new x(e,t)),U())},this.groupEnd=function(){m&&(g.push(new k),U())};var G=function(){for(;g.length>0;)g.shift().append();l&&b().focus()};this.setAddedToLogger=function(e){this.loggers.push(e),enabled&&!r&&T()},this.clear=function(){M()&&b().clearLog(),g.length=0},this.focus=function(){M()&&b().focus()},this.focusCommandLine=function(){M()&&b().focusCommandLine()},this.focusSearch=function(){M()&&b().focusSearch()};var F=window;this.getCommandWindow=function(){return F},this.setCommandWindow=function(e){F=e},this.executeLastCommand=function(){M()&&b().evalLastCommand()};var B=new PatternLayout("%m");this.getCommandLayout=function(){return B},this.setCommandLayout=function(e){B=e},this.evalCommandAndAppend=function(e){var t={appendResult:!0,isError:!1},n="";try{var i,r;!F.eval&&F.execScript&&F.execScript("null");var o={};for(r=0,len=V.length;r<len;r++)o[V[r][0]]=V[r][1];var a=[],s=function(e){a.push([e,F[e]])};s("appender"),F.appender=u,s("commandReturnValue"),F.commandReturnValue=t,s("commandLineFunctionsHash"),F.commandLineFunctionsHash=o;var c=function(e){s(e),F[e]=function(){return this.commandLineFunctionsHash[e](u,arguments,t)}};for(r=0,len=V.length;r<len;r++)c(V[r][0]);for(F===window&&F.execScript?(s("evalExpr"),s("result"),window.evalExpr=e,F.execScript("window.result=eval(window.evalExpr);"),i=window.result):i=F.eval(e),n=isUndefined(i)?i:formatObjectExpansion(i,O),r=0,len=a.length;r<len;r++)F[a[r][0]]=a[r][1]}catch(e){n="Error evaluating command: "+getExceptionStringRep(e),t.isError=!0}if(t.appendResult){var l=">>> "+e;isUndefined(n)||(l+=newLine+n);var d=t.isError?Level.ERROR:Level.INFO,p=new LoggingEvent(null,new Date,d,[l],null),h=this.getLayout();this.setLayout(B),this.append(p),this.setLayout(h)}};var V=e.concat([]);this.addCommandLineFunction=function(e,t){V.push([e,t])},this.storeCommandHistory=function(e){setCookie("log4javascriptCommandHistory",e.join(","))};var W=function(e){var t=['<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">','<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">',"<head>","<title>log4javascript</title>",'<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />',"\x3c!-- Make IE8 behave like IE7, having gone to all the trouble of making IE work --\x3e",'<meta http-equiv="X-UA-Compatible" content="IE=7" />','<script type="text/javascript">var isIe = false, isIePre7 = false;<\/script>','\x3c!--[if IE]><script type="text/javascript">isIe = true<\/script><![endif]--\x3e','\x3c!--[if lt IE 7]><script type="text/javascript">isIePre7 = true<\/script><![endif]--\x3e','<script type="text/javascript">',"//<![CDATA[","var loggingEnabled=true;var logQueuedEventsTimer=null;var logEntries=[];var logEntriesAndSeparators=[];var logItems=[];var renderDelay=100;var unrenderedLogItemsExist=false;var rootGroup,currentGroup=null;var loaded=false;var currentLogItem=null;var logMainContainer;function copyProperties(obj,props){for(var i in props){obj[i]=props[i];}}","function LogItem(){}","LogItem.prototype={mainContainer:null,wrappedContainer:null,unwrappedContainer:null,group:null,appendToLog:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].appendToLog();}","this.group.update();},doRemove:function(doUpdate,removeFromGroup){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].remove();}","this.unwrappedElementContainer=null;this.wrappedElementContainer=null;this.mainElementContainer=null;}","if(this.group&&removeFromGroup){this.group.removeChild(this,doUpdate);}","if(this===currentLogItem){currentLogItem=null;}},remove:function(doUpdate,removeFromGroup){this.doRemove(doUpdate,removeFromGroup);},render:function(){},accept:function(visitor){visitor.visit(this);},getUnwrappedDomContainer:function(){return this.group.unwrappedElementContainer.contentDiv;},getWrappedDomContainer:function(){return this.group.wrappedElementContainer.contentDiv;},getMainDomContainer:function(){return this.group.mainElementContainer.contentDiv;}};LogItem.serializedItemKeys={LOG_ENTRY:0,GROUP_START:1,GROUP_END:2};function LogItemContainerElement(){}",'LogItemContainerElement.prototype={appendToLog:function(){var insertBeforeFirst=(newestAtTop&&this.containerDomNode.hasChildNodes());if(insertBeforeFirst){this.containerDomNode.insertBefore(this.mainDiv,this.containerDomNode.firstChild);}else{this.containerDomNode.appendChild(this.mainDiv);}}};function SeparatorElementContainer(containerDomNode){this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="separator";this.mainDiv.innerHTML="&nbsp;";}',"SeparatorElementContainer.prototype=new LogItemContainerElement();SeparatorElementContainer.prototype.remove=function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;};function Separator(){this.rendered=false;}","Separator.prototype=new LogItem();copyProperties(Separator.prototype,{render:function(){var containerDomNode=this.group.contentDiv;if(isIe){this.unwrappedElementContainer=new SeparatorElementContainer(this.getUnwrappedDomContainer());this.wrappedElementContainer=new SeparatorElementContainer(this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new SeparatorElementContainer(this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}",'this.content=this.formattedMessage;this.rendered=true;}});function GroupElementContainer(group,containerDomNode,isRoot,isWrapped){this.group=group;this.containerDomNode=containerDomNode;this.isRoot=isRoot;this.isWrapped=isWrapped;this.expandable=false;if(this.isRoot){if(isIe){this.contentDiv=logMainContainer.appendChild(document.createElement("div"));this.contentDiv.id=this.isWrapped?"log_wrapped":"log_unwrapped";}else{this.contentDiv=logMainContainer;}}else{var groupElementContainer=this;this.mainDiv=document.createElement("div");this.mainDiv.className="group";this.headingDiv=this.mainDiv.appendChild(document.createElement("div"));this.headingDiv.className="groupheading";this.expander=this.headingDiv.appendChild(document.createElement("span"));this.expander.className="expander unselectable greyedout";this.expander.unselectable=true;var expanderText=this.group.expanded?"-":"+";this.expanderTextNode=this.expander.appendChild(document.createTextNode(expanderText));this.headingDiv.appendChild(document.createTextNode(" "+this.group.name));this.contentDiv=this.mainDiv.appendChild(document.createElement("div"));var contentCssClass=this.group.expanded?"expanded":"collapsed";this.contentDiv.className="groupcontent "+contentCssClass;this.expander.onclick=function(){if(groupElementContainer.group.expandable){groupElementContainer.group.toggleExpanded();}};}}','GroupElementContainer.prototype=new LogItemContainerElement();copyProperties(GroupElementContainer.prototype,{toggleExpanded:function(){if(!this.isRoot){var oldCssClass,newCssClass,expanderText;if(this.group.expanded){newCssClass="expanded";oldCssClass="collapsed";expanderText="-";}else{newCssClass="collapsed";oldCssClass="expanded";expanderText="+";}',"replaceClass(this.contentDiv,newCssClass,oldCssClass);this.expanderTextNode.nodeValue=expanderText;}},remove:function(){if(!this.isRoot){this.headingDiv=null;this.expander.onclick=null;this.expander=null;this.expanderTextNode=null;this.contentDiv=null;this.containerDomNode=null;this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;}},reverseChildren:function(){var node=null;var childDomNodes=[];while((node=this.contentDiv.firstChild)){this.contentDiv.removeChild(node);childDomNodes.push(node);}",'while((node=childDomNodes.pop())){this.contentDiv.appendChild(node);}},update:function(){if(!this.isRoot){if(this.group.expandable){removeClass(this.expander,"greyedout");}else{addClass(this.expander,"greyedout");}}},clear:function(){if(this.isRoot){this.contentDiv.innerHTML="";}}});function Group(name,isRoot,initiallyExpanded){this.name=name;this.group=null;this.isRoot=isRoot;this.initiallyExpanded=initiallyExpanded;this.elementContainers=[];this.children=[];this.expanded=initiallyExpanded;this.rendered=false;this.expandable=false;}',"Group.prototype=new LogItem();copyProperties(Group.prototype,{addChild:function(logItem){this.children.push(logItem);logItem.group=this;},render:function(){if(isIe){var unwrappedDomContainer,wrappedDomContainer;if(this.isRoot){unwrappedDomContainer=logMainContainer;wrappedDomContainer=logMainContainer;}else{unwrappedDomContainer=this.getUnwrappedDomContainer();wrappedDomContainer=this.getWrappedDomContainer();}","this.unwrappedElementContainer=new GroupElementContainer(this,unwrappedDomContainer,this.isRoot,false);this.wrappedElementContainer=new GroupElementContainer(this,wrappedDomContainer,this.isRoot,true);this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{var mainDomContainer=this.isRoot?logMainContainer:this.getMainDomContainer();this.mainElementContainer=new GroupElementContainer(this,mainDomContainer,this.isRoot,false);this.elementContainers=[this.mainElementContainer];}","this.rendered=true;},toggleExpanded:function(){this.expanded=!this.expanded;for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].toggleExpanded();}},expand:function(){if(!this.expanded){this.toggleExpanded();}},accept:function(visitor){visitor.visitGroup(this);},reverseChildren:function(){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].reverseChildren();}}},update:function(){var previouslyExpandable=this.expandable;this.expandable=(this.children.length!==0);if(this.expandable!==previouslyExpandable){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].update();}}},flatten:function(){var visitor=new GroupFlattener();this.accept(visitor);return visitor.logEntriesAndSeparators;},removeChild:function(child,doUpdate){array_remove(this.children,child);child.group=null;if(doUpdate){this.update();}},remove:function(doUpdate,removeFromGroup){for(var i=0,len=this.children.length;i<len;i++){this.children[i].remove(false,false);}","this.children=[];this.update();if(this===currentGroup){currentGroup=this.group;}","this.doRemove(doUpdate,removeFromGroup);},serialize:function(items){items.push([LogItem.serializedItemKeys.GROUP_START,this.name]);for(var i=0,len=this.children.length;i<len;i++){this.children[i].serialize(items);}","if(this!==currentGroup){items.push([LogItem.serializedItemKeys.GROUP_END]);}},clear:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clear();}}});function LogEntryElementContainer(){}",'LogEntryElementContainer.prototype=new LogItemContainerElement();copyProperties(LogEntryElementContainer.prototype,{remove:function(){this.doRemove();},doRemove:function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;this.contentElement=null;this.containerDomNode=null;},setContent:function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML="";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=content;}},setSearchMatch:function(isMatch){var oldCssClass=isMatch?"searchnonmatch":"searchmatch";var newCssClass=isMatch?"searchmatch":"searchnonmatch";replaceClass(this.mainDiv,newCssClass,oldCssClass);},clearSearch:function(){removeClass(this.mainDiv,"searchmatch");removeClass(this.mainDiv,"searchnonmatch");}});function LogEntryWrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.mainDiv.className="logentry wrapped "+this.logEntry.level;this.contentElement=this.mainDiv;}','LogEntryWrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryWrappedElementContainer.prototype.setContent=function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML="";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=wrappedContent;}};function LogEntryUnwrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="logentry unwrapped "+this.logEntry.level;this.pre=this.mainDiv.appendChild(document.createElement("pre"));this.pre.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.pre.className="unwrapped";this.contentElement=this.pre;}','LogEntryUnwrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryUnwrappedElementContainer.prototype.remove=function(){this.doRemove();this.pre=null;};function LogEntryMainElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="logentry nonielogentry "+this.logEntry.level;this.contentElement=this.mainDiv.appendChild(document.createElement("span"));this.contentElement.appendChild(document.createTextNode(this.logEntry.formattedMessage));}',"LogEntryMainElementContainer.prototype=new LogEntryElementContainer();function LogEntry(level,formattedMessage){this.level=level;this.formattedMessage=formattedMessage;this.rendered=false;}",'LogEntry.prototype=new LogItem();copyProperties(LogEntry.prototype,{render:function(){var logEntry=this;var containerDomNode=this.group.contentDiv;if(isIe){this.formattedMessage=this.formattedMessage.replace(/\\r\\n/g,"\\r");this.unwrappedElementContainer=new LogEntryUnwrappedElementContainer(this,this.getUnwrappedDomContainer());this.wrappedElementContainer=new LogEntryWrappedElementContainer(this,this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new LogEntryMainElementContainer(this,this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}','this.content=this.formattedMessage;this.rendered=true;},setContent:function(content,wrappedContent){if(content!=this.content){if(isIe&&(content!==this.formattedMessage)){content=content.replace(/\\r\\n/g,"\\r");}',"for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setContent(content,wrappedContent);}",'this.content=content;}},getSearchMatches:function(){var matches=[];var i,len;if(isIe){var unwrappedEls=getElementsByClass(this.unwrappedElementContainer.mainDiv,"searchterm","span");var wrappedEls=getElementsByClass(this.wrappedElementContainer.mainDiv,"searchterm","span");for(i=0,len=unwrappedEls.length;i<len;i++){matches[i]=new Match(this.level,null,unwrappedEls[i],wrappedEls[i]);}}else{var els=getElementsByClass(this.mainElementContainer.mainDiv,"searchterm","span");for(i=0,len=els.length;i<len;i++){matches[i]=new Match(this.level,els[i]);}}',"return matches;},setSearchMatch:function(isMatch){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setSearchMatch(isMatch);}},clearSearch:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clearSearch();}},accept:function(visitor){visitor.visitLogEntry(this);},serialize:function(items){items.push([LogItem.serializedItemKeys.LOG_ENTRY,this.level,this.formattedMessage]);}});function LogItemVisitor(){}","LogItemVisitor.prototype={visit:function(logItem){},visitParent:function(logItem){if(logItem.group){logItem.group.accept(this);}},visitChildren:function(logItem){for(var i=0,len=logItem.children.length;i<len;i++){logItem.children[i].accept(this);}},visitLogEntry:function(logEntry){this.visit(logEntry);},visitSeparator:function(separator){this.visit(separator);},visitGroup:function(group){this.visit(group);}};function GroupFlattener(){this.logEntriesAndSeparators=[];}",'GroupFlattener.prototype=new LogItemVisitor();GroupFlattener.prototype.visitGroup=function(group){this.visitChildren(group);};GroupFlattener.prototype.visitLogEntry=function(logEntry){this.logEntriesAndSeparators.push(logEntry);};GroupFlattener.prototype.visitSeparator=function(separator){this.logEntriesAndSeparators.push(separator);};window.onload=function(){if(location.search){var queryBits=unescape(location.search).substr(1).split("&"),nameValueBits;for(var i=0,len=queryBits.length;i<len;i++){nameValueBits=queryBits[i].split("=");if(nameValueBits[0]=="log4javascript_domain"){document.domain=nameValueBits[1];break;}}}','logMainContainer=$("log");if(isIePre7){addClass(logMainContainer,"oldIe");}','rootGroup=new Group("root",true);rootGroup.render();currentGroup=rootGroup;setCommandInputWidth();setLogContainerHeight();toggleLoggingEnabled();toggleSearchEnabled();toggleSearchFilter();toggleSearchHighlight();applyFilters();checkAllLevels();toggleWrap();toggleNewestAtTop();toggleScrollToLatest();renderQueuedLogItems();loaded=true;$("command").value="";$("command").autocomplete="off";$("command").onkeydown=function(evt){evt=getEvent(evt);if(evt.keyCode==10||evt.keyCode==13){evalCommandLine();stopPropagation(evt);}else if(evt.keyCode==27){this.value="";this.focus();}else if(evt.keyCode==38&&commandHistory.length>0){currentCommandIndex=Math.max(0,currentCommandIndex-1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}else if(evt.keyCode==40&&commandHistory.length>0){currentCommandIndex=Math.min(commandHistory.length-1,currentCommandIndex+1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}};$("command").onkeypress=function(evt){evt=getEvent(evt);if(evt.keyCode==38&&commandHistory.length>0&&evt.preventDefault){evt.preventDefault();}};$("command").onkeyup=function(evt){evt=getEvent(evt);if(evt.keyCode==27&&evt.preventDefault){evt.preventDefault();this.focus();}};document.onkeydown=function keyEventHandler(evt){evt=getEvent(evt);switch(evt.keyCode){case 69:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){evalLastCommand();cancelKeyEvent(evt);return false;}',"break;case 75:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusSearch();cancelKeyEvent(evt);return false;}","break;case 40:case 76:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusCommandLine();cancelKeyEvent(evt);return false;}","break;}};setTimeout(setLogContainerHeight,20);setShowCommandLine(showCommandLine);doSearch();};window.onunload=function(){if(mainWindowExists()){appender.unload();}",'appender=null;};function toggleLoggingEnabled(){setLoggingEnabled($("enableLogging").checked);}',"function setLoggingEnabled(enable){loggingEnabled=enable;}","var appender=null;function setAppender(appenderParam){appender=appenderParam;}",'function setShowCloseButton(showCloseButton){$("closeButton").style.display=showCloseButton?"inline":"none";}','function setShowHideButton(showHideButton){$("hideButton").style.display=showHideButton?"inline":"none";}',"var newestAtTop=false;function LogItemContentReverser(){}","LogItemContentReverser.prototype=new LogItemVisitor();LogItemContentReverser.prototype.visitGroup=function(group){group.reverseChildren();this.visitChildren(group);};function setNewestAtTop(isNewestAtTop){var oldNewestAtTop=newestAtTop;var i,iLen,j,jLen;newestAtTop=Boolean(isNewestAtTop);if(oldNewestAtTop!=newestAtTop){var visitor=new LogItemContentReverser();rootGroup.accept(visitor);if(currentSearch){var currentMatch=currentSearch.matches[currentMatchIndex];var matchIndex=0;var matches=[];var actOnLogEntry=function(logEntry){var logEntryMatches=logEntry.getSearchMatches();for(j=0,jLen=logEntryMatches.length;j<jLen;j++){matches[matchIndex]=logEntryMatches[j];if(currentMatch&&logEntryMatches[j].equals(currentMatch)){currentMatchIndex=matchIndex;}","matchIndex++;}};if(newestAtTop){for(i=logEntries.length-1;i>=0;i--){actOnLogEntry(logEntries[i]);}}else{for(i=0,iLen=logEntries.length;i<iLen;i++){actOnLogEntry(logEntries[i]);}}","currentSearch.matches=matches;if(currentMatch){currentMatch.setCurrent();}}else if(scrollToLatest){doScrollToLatest();}}",'$("newestAtTop").checked=isNewestAtTop;}','function toggleNewestAtTop(){var isNewestAtTop=$("newestAtTop").checked;setNewestAtTop(isNewestAtTop);}',"var scrollToLatest=true;function setScrollToLatest(isScrollToLatest){scrollToLatest=isScrollToLatest;if(scrollToLatest){doScrollToLatest();}",'$("scrollToLatest").checked=isScrollToLatest;}','function toggleScrollToLatest(){var isScrollToLatest=$("scrollToLatest").checked;setScrollToLatest(isScrollToLatest);}','function doScrollToLatest(){var l=logMainContainer;if(typeof l.scrollTop!="undefined"){if(newestAtTop){l.scrollTop=0;}else{var latestLogEntry=l.lastChild;if(latestLogEntry){l.scrollTop=l.scrollHeight;}}}}',"var closeIfOpenerCloses=true;function setCloseIfOpenerCloses(isCloseIfOpenerCloses){closeIfOpenerCloses=isCloseIfOpenerCloses;}","var maxMessages=null;function setMaxMessages(max){maxMessages=max;pruneLogEntries();}",'var showCommandLine=false;function setShowCommandLine(isShowCommandLine){showCommandLine=isShowCommandLine;if(loaded){$("commandLine").style.display=showCommandLine?"block":"none";setCommandInputWidth();setLogContainerHeight();}}','function focusCommandLine(){if(loaded){$("command").focus();}}','function focusSearch(){if(loaded){$("searchBox").focus();}}',"function getLogItems(){var items=[];for(var i=0,len=logItems.length;i<len;i++){logItems[i].serialize(items);}","return items;}","function setLogItems(items){var loggingReallyEnabled=loggingEnabled;loggingEnabled=true;for(var i=0,len=items.length;i<len;i++){switch(items[i][0]){case LogItem.serializedItemKeys.LOG_ENTRY:log(items[i][1],items[i][2]);break;case LogItem.serializedItemKeys.GROUP_START:group(items[i][1]);break;case LogItem.serializedItemKeys.GROUP_END:groupEnd();break;}}","loggingEnabled=loggingReallyEnabled;}","function log(logLevel,formattedMessage){if(loggingEnabled){var logEntry=new LogEntry(logLevel,formattedMessage);logEntries.push(logEntry);logEntriesAndSeparators.push(logEntry);logItems.push(logEntry);currentGroup.addChild(logEntry);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}","logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}","function renderQueuedLogItems(){logQueuedEventsTimer=null;var pruned=pruneLogEntries();var initiallyHasMatches=currentSearch?currentSearch.hasMatches():false;for(var i=0,len=logItems.length;i<len;i++){if(!logItems[i].rendered){logItems[i].render();logItems[i].appendToLog();if(currentSearch&&(logItems[i]instanceof LogEntry)){currentSearch.applyTo(logItems[i]);}}}","if(currentSearch){if(pruned){if(currentSearch.hasVisibleMatches()){if(currentMatchIndex===null){setCurrentMatchIndex(0);}","displayMatches();}else{displayNoMatches();}}else if(!initiallyHasMatches&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}}","if(scrollToLatest){doScrollToLatest();}","unrenderedLogItemsExist=false;}","function pruneLogEntries(){if((maxMessages!==null)&&(logEntriesAndSeparators.length>maxMessages)){var numberToDelete=logEntriesAndSeparators.length-maxMessages;var prunedLogEntries=logEntriesAndSeparators.slice(0,numberToDelete);if(currentSearch){currentSearch.removeMatches(prunedLogEntries);}","var group;for(var i=0;i<numberToDelete;i++){group=logEntriesAndSeparators[i].group;array_remove(logItems,logEntriesAndSeparators[i]);array_remove(logEntries,logEntriesAndSeparators[i]);logEntriesAndSeparators[i].remove(true,true);if(group.children.length===0&&group!==currentGroup&&group!==rootGroup){array_remove(logItems,group);group.remove(true,true);}}","logEntriesAndSeparators=array_removeFromStart(logEntriesAndSeparators,numberToDelete);return true;}","return false;}",'function group(name,startExpanded){if(loggingEnabled){initiallyExpanded=(typeof startExpanded==="undefined")?true:Boolean(startExpanded);var newGroup=new Group(name,false,initiallyExpanded);currentGroup.addChild(newGroup);currentGroup=newGroup;logItems.push(newGroup);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}',"logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}","function groupEnd(){currentGroup=(currentGroup===rootGroup)?rootGroup:currentGroup.group;}","function mainPageReloaded(){currentGroup=rootGroup;var separator=new Separator();logEntriesAndSeparators.push(separator);logItems.push(separator);currentGroup.addChild(separator);}","function closeWindow(){if(appender&&mainWindowExists()){appender.close(true);}else{window.close();}}","function hide(){if(appender&&mainWindowExists()){appender.hide();}}",'var mainWindow=window;var windowId="log4javascriptConsoleWindow_"+new Date().getTime()+"_"+(""+Math.random()).substr(2);function setMainWindow(win){mainWindow=win;mainWindow[windowId]=window;if(opener&&closeIfOpenerCloses){pollOpener();}}',"function pollOpener(){if(closeIfOpenerCloses){if(mainWindowExists()){setTimeout(pollOpener,500);}else{closeWindow();}}}","function mainWindowExists(){try{return(mainWindow&&!mainWindow.closed&&mainWindow[windowId]==window);}catch(ex){}","return false;}",'var logLevels=["TRACE","DEBUG","INFO","WARN","ERROR","FATAL"];function getCheckBox(logLevel){return $("switch_"+logLevel);}','function getIeWrappedLogContainer(){return $("log_wrapped");}','function getIeUnwrappedLogContainer(){return $("log_unwrapped");}',"function applyFilters(){for(var i=0;i<logLevels.length;i++){if(getCheckBox(logLevels[i]).checked){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}","updateSearchFromFilters();}",'function toggleAllLevels(){var turnOn=$("switch_ALL").checked;for(var i=0;i<logLevels.length;i++){getCheckBox(logLevels[i]).checked=turnOn;if(turnOn){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}}','function checkAllLevels(){for(var i=0;i<logLevels.length;i++){if(!getCheckBox(logLevels[i]).checked){getCheckBox("ALL").checked=false;return;}}','getCheckBox("ALL").checked=true;}',"function clearLog(){rootGroup.clear();currentGroup=rootGroup;logEntries=[];logItems=[];logEntriesAndSeparators=[];doSearch();}",'function toggleWrap(){var enable=$("wrap").checked;if(enable){addClass(logMainContainer,"wrap");}else{removeClass(logMainContainer,"wrap");}',"refreshCurrentMatch();}","var searchTimer=null;function scheduleSearch(){try{clearTimeout(searchTimer);}catch(ex){}","searchTimer=setTimeout(doSearch,500);}","function Search(searchTerm,isRegex,searchRegex,isCaseSensitive){this.searchTerm=searchTerm;this.isRegex=isRegex;this.searchRegex=searchRegex;this.isCaseSensitive=isCaseSensitive;this.matches=[];}","Search.prototype={hasMatches:function(){return this.matches.length>0;},hasVisibleMatches:function(){if(this.hasMatches()){for(var i=0;i<this.matches.length;i++){if(this.matches[i].isVisible()){return true;}}}","return false;},match:function(logEntry){var entryText=String(logEntry.formattedMessage);var matchesSearch=false;if(this.isRegex){matchesSearch=this.searchRegex.test(entryText);}else if(this.isCaseSensitive){matchesSearch=(entryText.indexOf(this.searchTerm)>-1);}else{matchesSearch=(entryText.toLowerCase().indexOf(this.searchTerm.toLowerCase())>-1);}","return matchesSearch;},getNextVisibleMatchIndex:function(){for(var i=currentMatchIndex+1;i<this.matches.length;i++){if(this.matches[i].isVisible()){return i;}}","for(i=0;i<=currentMatchIndex;i++){if(this.matches[i].isVisible()){return i;}}","return-1;},getPreviousVisibleMatchIndex:function(){for(var i=currentMatchIndex-1;i>=0;i--){if(this.matches[i].isVisible()){return i;}}","for(var i=this.matches.length-1;i>=currentMatchIndex;i--){if(this.matches[i].isVisible()){return i;}}",'return-1;},applyTo:function(logEntry){var doesMatch=this.match(logEntry);if(doesMatch){logEntry.group.expand();logEntry.setSearchMatch(true);var logEntryContent;var wrappedLogEntryContent;var searchTermReplacementStartTag="<span class=\\"searchterm\\">";var searchTermReplacementEndTag="<"+"/span>";var preTagName=isIe?"pre":"span";var preStartTag="<"+preTagName+" class=\\"pre\\">";var preEndTag="<"+"/"+preTagName+">";var startIndex=0;var searchIndex,matchedText,textBeforeMatch;if(this.isRegex){var flags=this.isCaseSensitive?"g":"gi";var capturingRegex=new RegExp("("+this.searchRegex.source+")",flags);var rnd=(""+Math.random()).substr(2);var startToken="%%s"+rnd+"%%";var endToken="%%e"+rnd+"%%";logEntryContent=logEntry.formattedMessage.replace(capturingRegex,startToken+"$1"+endToken);logEntryContent=escapeHtml(logEntryContent);var result;var searchString=logEntryContent;logEntryContent="";wrappedLogEntryContent="";while((searchIndex=searchString.indexOf(startToken,startIndex))>-1){var endTokenIndex=searchString.indexOf(endToken,searchIndex);matchedText=searchString.substring(searchIndex+startToken.length,endTokenIndex);textBeforeMatch=searchString.substring(startIndex,searchIndex);logEntryContent+=preStartTag+textBeforeMatch+preEndTag;logEntryContent+=searchTermReplacementStartTag+preStartTag+matchedText+',"preEndTag+searchTermReplacementEndTag;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+","matchedText+searchTermReplacementEndTag;}","startIndex=endTokenIndex+endToken.length;}",'logEntryContent+=preStartTag+searchString.substr(startIndex)+preEndTag;if(isIe){wrappedLogEntryContent+=searchString.substr(startIndex);}}else{logEntryContent="";wrappedLogEntryContent="";var searchTermReplacementLength=searchTermReplacementStartTag.length+',"this.searchTerm.length+searchTermReplacementEndTag.length;var searchTermLength=this.searchTerm.length;var searchTermLowerCase=this.searchTerm.toLowerCase();var logTextLowerCase=logEntry.formattedMessage.toLowerCase();while((searchIndex=logTextLowerCase.indexOf(searchTermLowerCase,startIndex))>-1){matchedText=escapeHtml(logEntry.formattedMessage.substr(searchIndex,this.searchTerm.length));textBeforeMatch=escapeHtml(logEntry.formattedMessage.substring(startIndex,searchIndex));var searchTermReplacement=searchTermReplacementStartTag+","preStartTag+matchedText+preEndTag+searchTermReplacementEndTag;logEntryContent+=preStartTag+textBeforeMatch+preEndTag+searchTermReplacement;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+","matchedText+searchTermReplacementEndTag;}","startIndex=searchIndex+searchTermLength;}","var textAfterLastMatch=escapeHtml(logEntry.formattedMessage.substr(startIndex));logEntryContent+=preStartTag+textAfterLastMatch+preEndTag;if(isIe){wrappedLogEntryContent+=textAfterLastMatch;}}","logEntry.setContent(logEntryContent,wrappedLogEntryContent);var logEntryMatches=logEntry.getSearchMatches();this.matches=this.matches.concat(logEntryMatches);}else{logEntry.setSearchMatch(false);logEntry.setContent(logEntry.formattedMessage,logEntry.formattedMessage);}","return doesMatch;},removeMatches:function(logEntries){var matchesToRemoveCount=0;var currentMatchRemoved=false;var matchesToRemove=[];var i,iLen,j,jLen;for(i=0,iLen=this.matches.length;i<iLen;i++){for(j=0,jLen=logEntries.length;j<jLen;j++){if(this.matches[i].belongsTo(logEntries[j])){matchesToRemove.push(this.matches[i]);if(i===currentMatchIndex){currentMatchRemoved=true;}}}}","var newMatch=currentMatchRemoved?null:this.matches[currentMatchIndex];if(currentMatchRemoved){for(i=currentMatchIndex,iLen=this.matches.length;i<iLen;i++){if(this.matches[i].isVisible()&&!array_contains(matchesToRemove,this.matches[i])){newMatch=this.matches[i];break;}}}","for(i=0,iLen=matchesToRemove.length;i<iLen;i++){array_remove(this.matches,matchesToRemove[i]);matchesToRemove[i].remove();}","if(this.hasVisibleMatches()){if(newMatch===null){setCurrentMatchIndex(0);}else{var newMatchIndex=0;for(i=0,iLen=this.matches.length;i<iLen;i++){if(newMatch===this.matches[i]){newMatchIndex=i;break;}}","setCurrentMatchIndex(newMatchIndex);}}else{currentMatchIndex=null;displayNoMatches();}}};function getPageOffsetTop(el,container){var currentEl=el;var y=0;while(currentEl&&currentEl!=container){y+=currentEl.offsetTop;currentEl=currentEl.offsetParent;}","return y;}",'function scrollIntoView(el){var logContainer=logMainContainer;if(!$("wrap").checked){var logContainerLeft=logContainer.scrollLeft;var logContainerRight=logContainerLeft+logContainer.offsetWidth;var elLeft=el.offsetLeft;var elRight=elLeft+el.offsetWidth;if(elLeft<logContainerLeft||elRight>logContainerRight){logContainer.scrollLeft=elLeft-(logContainer.offsetWidth-el.offsetWidth)/2;}}',"var logContainerTop=logContainer.scrollTop;var logContainerBottom=logContainerTop+logContainer.offsetHeight;var elTop=getPageOffsetTop(el)-getToolBarsHeight();var elBottom=elTop+el.offsetHeight;if(elTop<logContainerTop||elBottom>logContainerBottom){logContainer.scrollTop=elTop-(logContainer.offsetHeight-el.offsetHeight)/2;}}","function Match(logEntryLevel,spanInMainDiv,spanInUnwrappedPre,spanInWrappedDiv){this.logEntryLevel=logEntryLevel;this.spanInMainDiv=spanInMainDiv;if(isIe){this.spanInUnwrappedPre=spanInUnwrappedPre;this.spanInWrappedDiv=spanInWrappedDiv;}","this.mainSpan=isIe?spanInUnwrappedPre:spanInMainDiv;}",'Match.prototype={equals:function(match){return this.mainSpan===match.mainSpan;},setCurrent:function(){if(isIe){addClass(this.spanInUnwrappedPre,"currentmatch");addClass(this.spanInWrappedDiv,"currentmatch");var elementToScroll=$("wrap").checked?this.spanInWrappedDiv:this.spanInUnwrappedPre;scrollIntoView(elementToScroll);}else{addClass(this.spanInMainDiv,"currentmatch");scrollIntoView(this.spanInMainDiv);}},belongsTo:function(logEntry){if(isIe){return isDescendant(this.spanInUnwrappedPre,logEntry.unwrappedPre);}else{return isDescendant(this.spanInMainDiv,logEntry.mainDiv);}},setNotCurrent:function(){if(isIe){removeClass(this.spanInUnwrappedPre,"currentmatch");removeClass(this.spanInWrappedDiv,"currentmatch");}else{removeClass(this.spanInMainDiv,"currentmatch");}},isOrphan:function(){return isOrphan(this.mainSpan);},isVisible:function(){return getCheckBox(this.logEntryLevel).checked;},remove:function(){if(isIe){this.spanInUnwrappedPre=null;this.spanInWrappedDiv=null;}else{this.spanInMainDiv=null;}}};var currentSearch=null;var currentMatchIndex=null;function doSearch(){var searchBox=$("searchBox");var searchTerm=searchBox.value;var isRegex=$("searchRegex").checked;var isCaseSensitive=$("searchCaseSensitive").checked;var i;if(searchTerm===""){$("searchReset").disabled=true;$("searchNav").style.display="none";removeClass(document.body,"searching");removeClass(searchBox,"hasmatches");removeClass(searchBox,"nomatches");for(i=0;i<logEntries.length;i++){logEntries[i].clearSearch();logEntries[i].setContent(logEntries[i].formattedMessage,logEntries[i].formattedMessage);}','currentSearch=null;setLogContainerHeight();}else{$("searchReset").disabled=false;$("searchNav").style.display="block";var searchRegex;var regexValid;if(isRegex){try{searchRegex=isCaseSensitive?new RegExp(searchTerm,"g"):new RegExp(searchTerm,"gi");regexValid=true;replaceClass(searchBox,"validregex","invalidregex");searchBox.title="Valid regex";}catch(ex){regexValid=false;replaceClass(searchBox,"invalidregex","validregex");searchBox.title="Invalid regex: "+(ex.message?ex.message:(ex.description?ex.description:"unknown error"));return;}}else{searchBox.title="";removeClass(searchBox,"validregex");removeClass(searchBox,"invalidregex");}','addClass(document.body,"searching");currentSearch=new Search(searchTerm,isRegex,searchRegex,isCaseSensitive);for(i=0;i<logEntries.length;i++){currentSearch.applyTo(logEntries[i]);}',"setLogContainerHeight();if(currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}else{displayNoMatches();}}}","function updateSearchFromFilters(){if(currentSearch){if(currentSearch.hasMatches()){if(currentMatchIndex===null){currentMatchIndex=0;}","var currentMatch=currentSearch.matches[currentMatchIndex];if(currentMatch.isVisible()){displayMatches();setCurrentMatchIndex(currentMatchIndex);}else{currentMatch.setNotCurrent();var nextVisibleMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextVisibleMatchIndex>-1){setCurrentMatchIndex(nextVisibleMatchIndex);displayMatches();}else{displayNoMatches();}}}else{displayNoMatches();}}}","function refreshCurrentMatch(){if(currentSearch&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(currentMatchIndex);}}",'function displayMatches(){replaceClass($("searchBox"),"hasmatches","nomatches");$("searchBox").title=""+currentSearch.matches.length+" matches found";$("searchNav").style.display="block";setLogContainerHeight();}','function displayNoMatches(){replaceClass($("searchBox"),"nomatches","hasmatches");$("searchBox").title="No matches found";$("searchNav").style.display="none";setLogContainerHeight();}','function toggleSearchEnabled(enable){enable=(typeof enable=="undefined")?!$("searchDisable").checked:enable;$("searchBox").disabled=!enable;$("searchReset").disabled=!enable;$("searchRegex").disabled=!enable;$("searchNext").disabled=!enable;$("searchPrevious").disabled=!enable;$("searchCaseSensitive").disabled=!enable;$("searchNav").style.display=(enable&&($("searchBox").value!=="")&&currentSearch&&currentSearch.hasVisibleMatches())?"block":"none";if(enable){removeClass($("search"),"greyedout");addClass(document.body,"searching");if($("searchHighlight").checked){addClass(logMainContainer,"searchhighlight");}else{removeClass(logMainContainer,"searchhighlight");}','if($("searchFilter").checked){addClass(logMainContainer,"searchfilter");}else{removeClass(logMainContainer,"searchfilter");}','$("searchDisable").checked=!enable;}else{addClass($("search"),"greyedout");removeClass(document.body,"searching");removeClass(logMainContainer,"searchhighlight");removeClass(logMainContainer,"searchfilter");}',"setLogContainerHeight();}",'function toggleSearchFilter(){var enable=$("searchFilter").checked;if(enable){addClass(logMainContainer,"searchfilter");}else{removeClass(logMainContainer,"searchfilter");}',"refreshCurrentMatch();}",'function toggleSearchHighlight(){var enable=$("searchHighlight").checked;if(enable){addClass(logMainContainer,"searchhighlight");}else{removeClass(logMainContainer,"searchhighlight");}}','function clearSearch(){$("searchBox").value="";doSearch();}','function searchNext(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var nextMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextMatchIndex>currentMatchIndex||confirm("Reached the end of the page. Start from the top?")){setCurrentMatchIndex(nextMatchIndex);}}}','function searchPrevious(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var previousMatchIndex=currentSearch.getPreviousVisibleMatchIndex();if(previousMatchIndex<currentMatchIndex||confirm("Reached the start of the page. Continue from the bottom?")){setCurrentMatchIndex(previousMatchIndex);}}}',"function setCurrentMatchIndex(index){currentMatchIndex=index;currentSearch.matches[currentMatchIndex].setCurrent();}",'function addClass(el,cssClass){if(!hasClass(el,cssClass)){if(el.className){el.className+=" "+cssClass;}else{el.className=cssClass;}}}','function hasClass(el,cssClass){if(el.className){var classNames=el.className.split(" ");return array_contains(classNames,cssClass);}',"return false;}",'function removeClass(el,cssClass){if(hasClass(el,cssClass)){var existingClasses=el.className.split(" ");var newClasses=[];for(var i=0,len=existingClasses.length;i<len;i++){if(existingClasses[i]!=cssClass){newClasses[newClasses.length]=existingClasses[i];}}','el.className=newClasses.join(" ");}}',"function replaceClass(el,newCssClass,oldCssClass){removeClass(el,oldCssClass);addClass(el,newCssClass);}","function getElementsByClass(el,cssClass,tagName){var elements=el.getElementsByTagName(tagName);var matches=[];for(var i=0,len=elements.length;i<len;i++){if(hasClass(elements[i],cssClass)){matches.push(elements[i]);}}","return matches;}","function $(id){return document.getElementById(id);}","function isDescendant(node,ancestorNode){while(node!=null){if(node===ancestorNode){return true;}","node=node.parentNode;}","return false;}","function isOrphan(node){var currentNode=node;while(currentNode){if(currentNode==document.body){return false;}","currentNode=currentNode.parentNode;}","return true;}",'function escapeHtml(str){return str.replace(/&/g,"&amp;").replace(/[<]/g,"&lt;").replace(/>/g,"&gt;");}',"function getWindowWidth(){if(window.innerWidth){return window.innerWidth;}else if(document.documentElement&&document.documentElement.clientWidth){return document.documentElement.clientWidth;}else if(document.body){return document.body.clientWidth;}","return 0;}","function getWindowHeight(){if(window.innerHeight){return window.innerHeight;}else if(document.documentElement&&document.documentElement.clientHeight){return document.documentElement.clientHeight;}else if(document.body){return document.body.clientHeight;}","return 0;}",'function getToolBarsHeight(){return $("switches").offsetHeight;}','function getChromeHeight(){var height=getToolBarsHeight();if(showCommandLine){height+=$("commandLine").offsetHeight;}',"return height;}",'function setLogContainerHeight(){if(logMainContainer){var windowHeight=getWindowHeight();$("body").style.height=getWindowHeight()+"px";logMainContainer.style.height=""+','Math.max(0,windowHeight-getChromeHeight())+"px";}}','function setCommandInputWidth(){if(showCommandLine){$("command").style.width=""+Math.max(0,$("commandLineContainer").offsetWidth-','($("evaluateButton").offsetWidth+13))+"px";}}',"window.onresize=function(){setCommandInputWidth();setLogContainerHeight();};if(!Array.prototype.push){Array.prototype.push=function(){for(var i=0,len=arguments.length;i<len;i++){this[this.length]=arguments[i];}","return this.length;};}","if(!Array.prototype.pop){Array.prototype.pop=function(){if(this.length>0){var val=this[this.length-1];this.length=this.length-1;return val;}};}","if(!Array.prototype.shift){Array.prototype.shift=function(){if(this.length>0){var firstItem=this[0];for(var i=0,len=this.length-1;i<len;i++){this[i]=this[i+1];}","this.length=this.length-1;return firstItem;}};}","if(!Array.prototype.splice){Array.prototype.splice=function(startIndex,deleteCount){var itemsAfterDeleted=this.slice(startIndex+deleteCount);var itemsDeleted=this.slice(startIndex,startIndex+deleteCount);this.length=startIndex;var argumentsArray=[];for(var i=0,len=arguments.length;i<len;i++){argumentsArray[i]=arguments[i];}","var itemsToAppend=(argumentsArray.length>2)?itemsAfterDeleted=argumentsArray.slice(2).concat(itemsAfterDeleted):itemsAfterDeleted;for(i=0,len=itemsToAppend.length;i<len;i++){this.push(itemsToAppend[i]);}","return itemsDeleted;};}","function array_remove(arr,val){var index=-1;for(var i=0,len=arr.length;i<len;i++){if(arr[i]===val){index=i;break;}}","if(index>=0){arr.splice(index,1);return index;}else{return false;}}","function array_removeFromStart(array,numberToRemove){if(Array.prototype.splice){array.splice(0,numberToRemove);}else{for(var i=numberToRemove,len=array.length;i<len;i++){array[i-numberToRemove]=array[i];}","array.length=array.length-numberToRemove;}","return array;}","function array_contains(arr,val){for(var i=0,len=arr.length;i<len;i++){if(arr[i]==val){return true;}}","return false;}","function getErrorMessage(ex){if(ex.message){return ex.message;}else if(ex.description){return ex.description;}",'return""+ex;}',"function moveCaretToEnd(input){if(input.setSelectionRange){input.focus();var length=input.value.length;input.setSelectionRange(length,length);}else if(input.createTextRange){var range=input.createTextRange();range.collapse(false);range.select();}","input.focus();}",'function stopPropagation(evt){if(evt.stopPropagation){evt.stopPropagation();}else if(typeof evt.cancelBubble!="undefined"){evt.cancelBubble=true;}}',"function getEvent(evt){return evt?evt:event;}","function getTarget(evt){return evt.target?evt.target:evt.srcElement;}",'function getRelatedTarget(evt){if(evt.relatedTarget){return evt.relatedTarget;}else if(evt.srcElement){switch(evt.type){case"mouseover":return evt.fromElement;case"mouseout":return evt.toElement;default:return evt.srcElement;}}}',"function cancelKeyEvent(evt){evt.returnValue=false;stopPropagation(evt);}",'function evalCommandLine(){var expr=$("command").value;evalCommand(expr);$("command").value="";}',"function evalLastCommand(){if(lastCommand!=null){evalCommand(lastCommand);}}",'var lastCommand=null;var commandHistory=[];var currentCommandIndex=0;function evalCommand(expr){if(appender){appender.evalCommandAndAppend(expr);}else{var prefix=">>> "+expr+"\\r\\n";try{log("INFO",prefix+eval(expr));}catch(ex){log("ERROR",prefix+"Error: "+getErrorMessage(ex));}}',"if(expr!=commandHistory[commandHistory.length-1]){commandHistory.push(expr);if(appender){appender.storeCommandHistory(commandHistory);}}","currentCommandIndex=(expr==commandHistory[currentCommandIndex])?currentCommandIndex+1:commandHistory.length;lastCommand=expr;}","//]]>","<\/script>",'<style type="text/css">',"body{background-color:white;color:black;padding:0;margin:0;font-family:tahoma,verdana,arial,helvetica,sans-serif;overflow:hidden}div#switchesContainer input{margin-bottom:0}div.toolbar{border-top:solid #ffffff 1px;border-bottom:solid #aca899 1px;background-color:#f1efe7;padding:3px 5px;font-size:68.75%}div.toolbar,div#search input{font-family:tahoma,verdana,arial,helvetica,sans-serif}div.toolbar input.button{padding:0 5px;font-size:100%}div.toolbar input.hidden{display:none}div#switches input#clearButton{margin-left:20px}div#levels label{font-weight:bold}div#levels label,div#options label{margin-right:5px}div#levels label#wrapLabel{font-weight:normal}div#search label{margin-right:10px}div#search label.searchboxlabel{margin-right:0}div#search input{font-size:100%}div#search input.validregex{color:green}div#search input.invalidregex{color:red}div#search input.nomatches{color:white;background-color:#ff6666}div#search input.nomatches{color:white;background-color:#ff6666}div#searchNav{display:none}div#commandLine{display:none}div#commandLine input#command{font-size:100%;font-family:Courier New,Courier}div#commandLine input#evaluateButton{}*.greyedout{color:gray !important;border-color:gray !important}*.greyedout *.alwaysenabled{color:black}*.unselectable{-khtml-user-select:none;-moz-user-select:none;user-select:none}div#log{font-family:Courier New,Courier;font-size:75%;width:100%;overflow:auto;clear:both;position:relative}div.group{border-color:#cccccc;border-style:solid;border-width:1px 0 1px 1px;overflow:visible}div.oldIe div.group,div.oldIe div.group *,div.oldIe *.logentry{height:1%}div.group div.groupheading span.expander{border:solid black 1px;font-family:Courier New,Courier;font-size:0.833em;background-color:#eeeeee;position:relative;top:-1px;color:black;padding:0 2px;cursor:pointer;cursor:hand;height:1%}div.group div.groupcontent{margin-left:10px;padding-bottom:2px;overflow:visible}div.group div.expanded{display:block}div.group div.collapsed{display:none}*.logentry{overflow:visible;display:none;white-space:pre}span.pre{white-space:pre}pre.unwrapped{display:inline !important}pre.unwrapped pre.pre,div.wrapped pre.pre{display:inline}div.wrapped pre.pre{white-space:normal}div.wrapped{display:none}body.searching *.logentry span.currentmatch{color:white !important;background-color:green !important}body.searching div.searchhighlight *.logentry span.searchterm{color:black;background-color:yellow}div.wrap *.logentry{white-space:normal !important;border-width:0 0 1px 0;border-color:#dddddd;border-style:dotted}div.wrap #log_wrapped,#log_unwrapped{display:block}div.wrap #log_unwrapped,#log_wrapped{display:none}div.wrap *.logentry span.pre{overflow:visible;white-space:normal}div.wrap *.logentry pre.unwrapped{display:none}div.wrap *.logentry span.wrapped{display:inline}div.searchfilter *.searchnonmatch{display:none !important}div#log *.TRACE,label#label_TRACE{color:#666666}div#log *.DEBUG,label#label_DEBUG{color:green}div#log *.INFO,label#label_INFO{color:#000099}div#log *.WARN,label#label_WARN{color:#999900}div#log *.ERROR,label#label_ERROR{color:red}div#log *.FATAL,label#label_FATAL{color:#660066}div.TRACE#log *.TRACE,div.DEBUG#log *.DEBUG,div.INFO#log *.INFO,div.WARN#log *.WARN,div.ERROR#log *.ERROR,div.FATAL#log *.FATAL{display:block}div#log div.separator{background-color:#cccccc;margin:5px 0;line-height:1px}","</style>","</head>",'<body id="body">','<div id="switchesContainer">','<div id="switches">','<div id="levels" class="toolbar">',"Filters:",'<input type="checkbox" id="switch_TRACE" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide trace messages" /><label for="switch_TRACE" id="label_TRACE">trace</label>','<input type="checkbox" id="switch_DEBUG" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide debug messages" /><label for="switch_DEBUG" id="label_DEBUG">debug</label>','<input type="checkbox" id="switch_INFO" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide info messages" /><label for="switch_INFO" id="label_INFO">info</label>','<input type="checkbox" id="switch_WARN" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide warn messages" /><label for="switch_WARN" id="label_WARN">warn</label>','<input type="checkbox" id="switch_ERROR" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide error messages" /><label for="switch_ERROR" id="label_ERROR">error</label>','<input type="checkbox" id="switch_FATAL" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide fatal messages" /><label for="switch_FATAL" id="label_FATAL">fatal</label>','<input type="checkbox" id="switch_ALL" onclick="toggleAllLevels(); applyFilters()" checked="checked" title="Show/hide all messages" /><label for="switch_ALL" id="label_ALL">all</label>',"</div>",'<div id="search" class="toolbar">','<label for="searchBox" class="searchboxlabel">Search:</label> <input type="text" id="searchBox" onclick="toggleSearchEnabled(true)" onkeyup="scheduleSearch()" size="20" />','<input type="button" id="searchReset" disabled="disabled" value="Reset" onclick="clearSearch()" class="button" title="Reset the search" />','<input type="checkbox" id="searchRegex" onclick="doSearch()" title="If checked, search is treated as a regular expression" /><label for="searchRegex">Regex</label>','<input type="checkbox" id="searchCaseSensitive" onclick="doSearch()" title="If checked, search is case sensitive" /><label for="searchCaseSensitive">Match case</label>','<input type="checkbox" id="searchDisable" onclick="toggleSearchEnabled()" title="Enable/disable search" /><label for="searchDisable" class="alwaysenabled">Disable</label>','<div id="searchNav">','<input type="button" id="searchNext" disabled="disabled" value="Next" onclick="searchNext()" class="button" title="Go to the next matching log entry" />','<input type="button" id="searchPrevious" disabled="disabled" value="Previous" onclick="searchPrevious()" class="button" title="Go to the previous matching log entry" />','<input type="checkbox" id="searchFilter" onclick="toggleSearchFilter()" title="If checked, non-matching log entries are filtered out" /><label for="searchFilter">Filter</label>','<input type="checkbox" id="searchHighlight" onclick="toggleSearchHighlight()" title="Highlight matched search terms" /><label for="searchHighlight" class="alwaysenabled">Highlight all</label>',"</div>","</div>",'<div id="options" class="toolbar">',"Options:",'<input type="checkbox" id="enableLogging" onclick="toggleLoggingEnabled()" checked="checked" title="Enable/disable logging" /><label for="enableLogging" id="enableLoggingLabel">Log</label>','<input type="checkbox" id="wrap" onclick="toggleWrap()" title="Enable / disable word wrap" /><label for="wrap" id="wrapLabel">Wrap</label>','<input type="checkbox" id="newestAtTop" onclick="toggleNewestAtTop()" title="If checked, causes newest messages to appear at the top" /><label for="newestAtTop" id="newestAtTopLabel">Newest at the top</label>','<input type="checkbox" id="scrollToLatest" onclick="toggleScrollToLatest()" checked="checked" title="If checked, window automatically scrolls to a new message when it is added" /><label for="scrollToLatest" id="scrollToLatestLabel">Scroll to latest</label>','<input type="button" id="clearButton" value="Clear" onclick="clearLog()" class="button" title="Clear all log messages"  />','<input type="button" id="hideButton" value="Hide" onclick="hide()" class="hidden button" title="Hide the console" />','<input type="button" id="closeButton" value="Close" onclick="closeWindow()" class="hidden button" title="Close the window" />',"</div>","</div>","</div>",'<div id="log" class="TRACE DEBUG INFO WARN ERROR FATAL"></div>','<div id="commandLine" class="toolbar">','<div id="commandLineContainer">','<input type="text" id="command" title="Enter a JavaScript command here and hit return or press \'Evaluate\'" />','<input type="button" id="evaluateButton" value="Evaluate" class="button" title="Evaluate the command" onclick="evalCommandLine()" />',"</div>","</div>","</body>","</html>",""];e.open();for(var n=0,i=t.length;n<i;n++)e.writeln(t[n]);e.close()};this.setEventTypes(["load","unload"]);var j=function(){var e=b();e.setAppender(u),e.setNewestAtTop(_),e.setScrollToLatest(S),e.setMaxMessages(C),e.setShowCommandLine(A),e.setShowHideButton(N),e.setShowCloseButton(R),e.setMainWindow(window);var t=getCookie("log4javascriptCommandHistory");t&&(e.commandHistory=t.split(","),e.currentCommandIndex=e.commandHistory.length),u.dispatchEvent("load",{win:e})};this.unload=function(){logLog.debug("unload "+this+", caller: "+this.unload.caller),f||(logLog.debug("really doing unload "+this),f=!0,h=!1,p=!1,u.dispatchEvent("unload",{}))};var H=function(e,t,n,i){var r=setInterval((function(){try{f&&clearInterval(r),e(b())&&(clearInterval(r),n())}catch(e){clearInterval(r),m=!1,handleError(i,e)}}),t)},z=function(){var e=document.domain!=location.hostname;return a?"":getBaseUrl()+"console.html"+(e?"?log4javascript_domain="+escape(document.domain):"")};if(n){var Y=null,K=[];this.addCssProperty=function(e,t){w("cssProperties")&&K.push([e,t])};var q,Q=!1,J=uniqueId+"_InPageAppender_"+E;this.hide=function(){d&&p&&(M()&&b().$("command").blur(),q.style.display="none",D=!0)},this.show=function(){d&&(p?(q.style.display="block",this.setShowCommandLine(A),D=!1):Q||v(!0))},this.isVisible=function(){return!D&&!f},this.close=function(e){f||e&&!confirm("This will permanently remove the console from the page. No more messages will be logged. Do you wish to continue?")||(q.parentNode.removeChild(q),this.unload())},y=function(){var e="InPageAppender.open: unable to create console iframe";function t(){try{o||u.show(),j(),h=!0,G()}catch(t){m=!1,handleError(e,t)}}function n(){try{var n=function(e){return isLoaded(e)};a&&W(b().document),n(b())?t():H(n,100,t,e)}catch(t){m=!1,handleError(e,t)}}D=!1,(q=Y.appendChild(document.createElement("div"))).style.width=s,q.style.height=c,q.style.border="solid gray 1px";for(var i=0,r=K.length;i<r;i++)q.style[K[i][0]]=K[i][1];var l=a?"":" src='"+z()+"'";q.innerHTML="<iframe id='"+J+"' name='"+J+"' width='100%' height='100%' frameborder='0'"+l+" scrolling='no'></iframe>",f=!1;var d=function(e){try{return bool(e)&&bool(e.document)}catch(e){return!1}};d(b())?n():H(d,100,n,e),p=!0},v=function(e){if(e||!o){var t=function(){if(i)try{var e=document.getElementById(i);1==e.nodeType&&(Y=e),y()}catch(e){handleError("InPageAppender.init: invalid container element '"+i+"' supplied",e)}else(Y=document.createElement("div")).style.position="fixed",Y.style.left="0",Y.style.right="0",Y.style.bottom="0",document.body.appendChild(Y),u.addCssProperty("borderWidth","1px 0 0 0"),u.addCssProperty("zIndex",1e6),y()};pageLoaded&&i&&i.appendChild?(Y=i,y()):pageLoaded?t():log4javascript.addEventListener("load",t),Q=!0}},T=function(){v(),d=!0},b=function(){var e=window.frames[J];if(e)return e},I=function(){return!(!m||f)&&(p&&!h&&b()&&isLoaded(b())&&(h=!0),h)}}else{var X,$=u.defaults.useOldPopUp,Z=u.defaults.complainAboutPopUpBlocking,ee=this.defaults.reopenWhenClosed;this.isUseOldPopUp=function(){return $},this.setUseOldPopUp=function(e){w("useOldPopUp")&&($=bool(e))},this.isComplainAboutPopUpBlocking=function(){return Z},this.setComplainAboutPopUpBlocking=function(e){w("complainAboutPopUpBlocking")&&(Z=bool(e))},this.isFocusPopUp=function(){return l},this.setFocusPopUp=function(e){l=bool(e)},this.isReopenWhenClosed=function(){return ee},this.setReopenWhenClosed=function(e){ee=bool(e)},this.close=function(){logLog.debug("close "+this);try{X.close(),this.unload()}catch(e){}},this.hide=function(){logLog.debug("hide "+this),M()&&this.close()},this.show=function(){logLog.debug("show "+this),p||y()},this.isVisible=function(){return I()},y=function(){var e="width="+s+",height="+c+",status,resizable",t="";try{var n=window.frameElement;n&&(t="_"+n.tagName+"_"+(n.name||n.id||""))}catch(e){t="_inaccessibleParentFrame"}var i="PopUp_"+location.host.replace(/[^a-z0-9]/gi,"_")+"_"+E+t;$&&a||(i=i+"_"+uniqueId);var r=function(e){if(f)return!0;try{return bool(e)&&e.closed}catch(e){}return!1},o=function(){f||u.unload()};function l(){b().setCloseIfOpenerCloses(!$||!a),j(),h=!0,G(),H(r,500,o,"PopUpAppender.checkPopUpClosed: error checking pop-up window")}try{X=window.open(z(),i,e),f=!1,p=!0,X&&X.document?a&&$&&isLoaded(X)?(X.mainPageReloaded(),l()):(a&&W(X.document),isLoaded(X)?l():H((function(e){return bool(e)&&isLoaded(e)}),100,l,"PopUpAppender.init: unable to create console window")):(m=!1,logLog.warn("PopUpAppender.init: pop-ups blocked, please unblock to use PopUpAppender"),Z&&handleError("log4javascript: pop-up windows appear to be blocked. Please unblock them to use pop-up logging."))}catch(e){handleError("PopUpAppender.init: error creating pop-up",e)}},v=function(){o||y()},T=function(){v(),d=!0},b=function(){return X},I=function(){if(m&&!isUndefined(X)&&!f){if(X.closed||h&&isUndefined(X.closed))return u.unload(),logLog.debug("PopUpAppender: pop-up closed"),!1;!h&&isLoaded(X)&&(h=!0)}return m&&h&&!f}}this.getConsoleWindow=b},ConsoleAppender.addGlobalCommandLineFunction=function(t,n){e.push([t,n])},n.prototype=new ConsoleAppender,n.prototype.defaults={layout:new PatternLayout("%d{HH:mm:ss} %-5p - %m{1}%n"),initiallyMinimized:!1,focusPopUp:!1,lazyInit:!0,useOldPopUp:!0,complainAboutPopUpBlocking:!0,newestMessageAtTop:!1,scrollToLatestMessage:!0,width:"600",height:"400",reopenWhenClosed:!1,maxMessages:null,showCommandLine:!0,commandLineObjectExpansionDepth:1,showHideButton:!1,showCloseButton:!0,useDocumentWrite:!0},n.prototype.toString=function(){return"PopUpAppender"},log4javascript.PopUpAppender=n,i.prototype=new ConsoleAppender,i.prototype.defaults={layout:new PatternLayout("%d{HH:mm:ss} %-5p - %m{1}%n"),initiallyMinimized:!1,lazyInit:!0,newestMessageAtTop:!1,scrollToLatestMessage:!0,width:"100%",height:"220px",maxMessages:null,showCommandLine:!0,commandLineObjectExpansionDepth:1,showHideButton:!1,showCloseButton:!1,showLogEntryDeleteButtons:!0,useDocumentWrite:!0},i.prototype.toString=function(){return"InPageAppender"},log4javascript.InPageAppender=i,log4javascript.InlineAppender=i}(),function(){function e(e){var t=0;for(var n in e)t=Math.max(toStr(n).length,t);var i=[];for(n in e){var r,o="  "+padWithSpaces(toStr(n),t+2);try{r=splitIntoLines(toStr(e[n])).join(padWithSpaces(newLine,t+6))}catch(e){r="[Error obtaining property. Details: "+getExceptionMessage(e)+"]"}i.push(o+r)}return i.join(newLine)}var t=1,n=3,i=4,r=9,o=11,a=["script","pre"],s=["br","img","hr","param","link","area","input","col","base","meta"];function c(e,l,u,d,p){var h,f,g,m,E;function _(e){for(var t=e.style.cssText.split(";"),n="",i=0,r=t.length;i<r;i++){var o=t[i].split(":"),a=[];/^\s*$/.test(o[0])||a.push(trim(o[0]).toLowerCase()+":"+trim(o[1])),n=a.join(";")}return n}if("string"!=typeof u&&(u=""),d=!!d,p=!!p,!(l=void 0===l||!!l)||e.nodeType==o){for(h="",f=0,g=e.childNodes.length;f<g;f++)h+=c(e.childNodes[f],!0,u+"  ");return h}switch(e.nodeType){case t:var S=e.tagName.toLowerCase();h=d?newLine+u:"",h+="<";var T=(E=e).prefix?E.prefix:E.outerHTML&&new RegExp("<([^:]+):"+E.tagName+"[^>]*>","i").test(E.outerHTML)?RegExp.$1.toLowerCase():"",v=!!T;for(v&&(h+=T+":"),h+=S,f=0,g=e.attributes.length;f<g;f++){var I=e.attributes[f];I.specified&&null!==I.nodeValue&&"style"!==I.nodeName.toLowerCase()&&"string"==typeof I.nodeValue&&0!==I.nodeName.indexOf("_moz")&&(h+=" "+I.nodeName.toLowerCase()+'="',h+=I.nodeValue.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;"),h+='"')}if(e.style.cssText&&""!==_(e)&&(h+=' style="'+_(e)+'"'),array_contains(s,S)||v&&!e.hasChildNodes())h+="/>";else{h+=">";var b=!(1===e.childNodes.length&&e.childNodes[0].nodeType===n),y=array_contains(a,S);for(f=0,g=e.childNodes.length;f<g;f++)h+=c(e.childNodes[f],!0,u+"  ",b,y);var C="</"+S+">";h+=b?newLine+u+C:C}return h;case n:if((m=e).nodeType==n&&/^[ \t\r\n]*$/.test(m.nodeValue))h="";else{if(p)h=e.nodeValue;else{var A=splitIntoLines(trim(e.nodeValue)),O=[];for(f=0,g=A.length;f<g;f++)O[f]=trim(A[f]);h=O.join(newLine+u)}d&&(h=newLine+u+h)}return h;case i:return"<![CDATA["+e.nodeValue+"]]>"+newLine;case r:for(h="",f=0,g=e.childNodes.length;f<g;f++)h+=c(e.childNodes[f],!0,u);return h;default:return""}}ConsoleAppender.addGlobalCommandLineFunction("$",(function(e,t,n){return document.getElementById(t[0])})),ConsoleAppender.addGlobalCommandLineFunction("dir",(function(t,n,i){for(var r=[],o=0,a=n.length;o<a;o++)r[o]=e(n[o]);return r.join(newLine+newLine)})),ConsoleAppender.addGlobalCommandLineFunction("dirxml",(function(e,t,n){for(var i=[],r=0,o=t.length;r<o;r++)i[r]=c(t[r]);return i.join(newLine+newLine)})),ConsoleAppender.addGlobalCommandLineFunction("cd",(function(e,t,n){var i,r;return 0===t.length||""===t[0]?(i=window,r="Command line set to run in main window"):t[0].window==t[0]?(i=t[0],r="Command line set to run in frame '"+t[0].name+"'"):(i=window.frames[t[0]])?r="Command line set to run in frame '"+t[0]+"'":(n.isError=!0,r="Frame '"+t[0]+"' does not exist",i=e.getCommandWindow()),e.setCommandWindow(i),r})),ConsoleAppender.addGlobalCommandLineFunction("clear",(function(e,t,n){n.appendResult=!1,e.clear()})),ConsoleAppender.addGlobalCommandLineFunction("keys",(function(e,t,n){var i=[];for(var r in t[0])i.push(r);return i})),ConsoleAppender.addGlobalCommandLineFunction("values",(function(e,t,n){var i=[];for(var r in t[0])try{i.push(t[0][r])}catch(e){logLog.warn("values(): Unable to obtain value for key "+r+". Details: "+getExceptionMessage(e))}return i})),ConsoleAppender.addGlobalCommandLineFunction("expansionDepth",(function(e,t,n){var i=parseInt(t[0],10);return isNaN(i)||i<0?(n.isError=!0,t[0]+" is not a valid expansion depth"):(e.setCommandLineObjectExpansionDepth(i),"Object expansion depth set to "+i)}))}(),log4javascript.setDocumentReady=function(){pageLoaded=!0,log4javascript.dispatchEvent("load",{})},window.addEventListener)window.addEventListener("load",log4javascript.setDocumentReady,!1);else if(window.attachEvent)window.attachEvent("onload",log4javascript.setDocumentReady);else{var oldOnload=window.onload;"function"!=typeof window.onload?window.onload=log4javascript.setDocumentReady:window.onload=function(e){oldOnload&&oldOnload(e),log4javascript.setDocumentReady()}}return log4javascript},void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=factory)?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(e,t,n){"use strict";e.exports=function(e){var t,n=e||navigator.userAgent,i=function(e){return-1!==e.indexOf("Windows Phone")?"Windows Phone":-1!==e.indexOf("Win")?"Windows":-1!==e.indexOf("Android")?"Android":-1!==e.indexOf("Linux")?"Linux":-1!==e.indexOf("X11")?"UNIX":/iPad|iPhone|iPod/.test(e)?"iOS":-1!==e.indexOf("Mac")?"OS X":void 0}(n),r=n.match(/(opera|coast|chrome|safari|firefox|edge|trident(?=\/))\/?\s*?(\S+)/i)||[];if(null!==(t=n.match(/\bIEMobile\/(\S+[0-9])/)))return{name:"IEMobile",version:t[1].split(".")[0],fullVersion:t[1],os:i};if(/trident/i.test(r[1]))return{name:"IE",version:(t=/\brv[ :]+(\S+[0-9])/g.exec(n)||[])[1]&&t[1].split(".")[0],fullVersion:t[1],os:i};if("Chrome"===r[1]){if(null!==(t=n.match(/\bOPR\/(\d+)/)))return{name:"Opera",version:t[1].split(".")[0],fullVersion:t[1],os:i};if(null!==(t=n.match(/\bEdg\/(\S+)/)||n.match(/\bEdge\/(\S+)/)))return{name:"Edge",version:t[1].split(".")[0],fullVersion:t[1],os:i}}return"Coast"===(r=r[2]?[r[1],r[2]]:[navigator.appName,navigator.appVersion,"-?"])[0]&&(r[0]="OperaCoast"),"Chrome"!==r[0]&&null!==(t=n.match(/version\/(\S+)/i))&&""!==t&&r.splice(1,1,t[1]),"Firefox"===r[0]&&(r[0]=/waterfox/i.test(n)?"Waterfox":r[0]),{name:r[0],version:r[1].split(".")[0],fullVersion:r[1],os:i}}},,,function(e,t,n){"use strict";n.r(t);var i=n(72),r=n.n(i)()(!1);r.push([e.i,".ExtraLargeMediumTextStyle{font-size:24px;font-weight:500}.ExtraLargeTextStyle{font-size:24}.LargeTitleMediumTextStyle{font-weight:500;font-size:22px}.LargeTitleTextStyle{font-size:22px}.HeaderMediumTextStyle{font-weight:500;font-size:20px}.HeaderTextStyle{font-size:20px}.LargeTextStyle{font-size:18px}.LargeMediumTextStyle{font-weight:500;font-size:18px}.SmallTextStyle{font-size:12px}.SmallMediumTextStyle{font-weight:500;font-size:12px}.ExtraSmallTextStyle{font-size:10px}.ExtraSmallMediumTextStyle{font-weight:500;font-size:10px}.BodyTextStyle{font-size:16px}.BodyMediumTextStyle{font-weight:500;font-size:16px}.description-text-style{font-size:14px}.DescriptionMediumTextStyle{font-weight:500;font-size:14px}\n",""]),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(172),r=n(658),o=n(278),a=n(668),s=n(252),c=n(217),l=function(){function e(e,t,n,o){this._queueSizeLimit=t,this._isCurrentlyUploadingNow=!1,this._uploadNowQueue=[],this._shouldDropEventsOnPause=!1,this._paused=!1,this._queueSize=0,this._outboundQueue=[],this._inboundQueues={},this._inboundQueues[i.AWTEventPriority.High]=[],this._inboundQueues[i.AWTEventPriority.Normal]=[],this._inboundQueues[i.AWTEventPriority.Low]=[],this._addEmptyQueues(),this._batcher=new a.default(this._outboundQueue,500),this._httpManager=new r.default(this._outboundQueue,e,this,n,o)}return e.prototype.addEvent=function(e){c.isPriority(e.priority)||(e.priority=i.AWTEventPriority.Normal),e.priority===i.AWTEventPriority.Immediate_sync?this._httpManager.sendSynchronousRequest(this._batcher.addEventToBatch(e),e.apiKey):this._queueSize<this._queueSizeLimit||this._dropEventWithPriorityOrLess(e.priority)?this._addEventToProperQueue(e):s.default.eventsDropped([e],i.AWTEventsDroppedReason.QueueFull)},e.prototype.sendEventsForPriorityAndAbove=function(e){this._batchEvents(e),this._httpManager.sendQueuedRequests()},e.prototype.hasEvents=function(){return(this._inboundQueues[i.AWTEventPriority.High][0].length>0||this._inboundQueues[i.AWTEventPriority.Normal][0].length>0||this._inboundQueues[i.AWTEventPriority.Low][0].length>0||this._batcher.hasBatch())&&this._httpManager.hasIdleConnection()},e.prototype.addBackRequest=function(e){if(!this._paused||!this._shouldDropEventsOnPause){for(var t in e)if(e.hasOwnProperty(t))for(var n=0;n<e[t].length;++n)e[t][n].sendAttempt<6?this.addEvent(e[t][n]):s.default.eventsDropped([e[t][n]],i.AWTEventsDroppedReason.MaxRetryLimit);o.default.scheduleTimer()}},e.prototype.teardown=function(){this._paused||(this._batchEvents(i.AWTEventPriority.Low),this._httpManager.teardown())},e.prototype.uploadNow=function(e){var t=this;this._addEmptyQueues(),this._isCurrentlyUploadingNow?this._uploadNowQueue.push(e):(this._isCurrentlyUploadingNow=!0,setTimeout((function(){return t._uploadNow(e)}),0))},e.prototype.pauseTransmission=function(){this._paused=!0,this._httpManager.pause(),this.shouldDropEventsOnPause&&(this._queueSize-=this._inboundQueues[i.AWTEventPriority.High][0].length+this._inboundQueues[i.AWTEventPriority.Normal][0].length+this._inboundQueues[i.AWTEventPriority.Low][0].length,this._inboundQueues[i.AWTEventPriority.High][0]=[],this._inboundQueues[i.AWTEventPriority.Normal][0]=[],this._inboundQueues[i.AWTEventPriority.Low][0]=[],this._httpManager.removeQueuedRequests())},e.prototype.resumeTransmission=function(){this._paused=!1,this._httpManager.resume()},e.prototype.shouldDropEventsOnPause=function(e){this._shouldDropEventsOnPause=e},e.prototype._removeFirstQueues=function(){this._inboundQueues[i.AWTEventPriority.High].shift(),this._inboundQueues[i.AWTEventPriority.Normal].shift(),this._inboundQueues[i.AWTEventPriority.Low].shift()},e.prototype._addEmptyQueues=function(){this._inboundQueues[i.AWTEventPriority.High].push([]),this._inboundQueues[i.AWTEventPriority.Normal].push([]),this._inboundQueues[i.AWTEventPriority.Low].push([])},e.prototype._addEventToProperQueue=function(e){this._paused&&this._shouldDropEventsOnPause||(this._queueSize++,this._inboundQueues[e.priority][this._inboundQueues[e.priority].length-1].push(e))},e.prototype._dropEventWithPriorityOrLess=function(e){for(var t=i.AWTEventPriority.Low;t<=e;){if(this._inboundQueues[t][this._inboundQueues[t].length-1].length>0)return s.default.eventsDropped([this._inboundQueues[t][this._inboundQueues[t].length-1].shift()],i.AWTEventsDroppedReason.QueueFull),!0;t++}return!1},e.prototype._batchEvents=function(e){for(var t=i.AWTEventPriority.High;t>=e;){for(;this._inboundQueues[t][0].length>0;){var n=this._inboundQueues[t][0].pop();this._queueSize--,this._batcher.addEventToBatch(n)}t--}this._batcher.flushBatch()},e.prototype._uploadNow=function(e){var t=this;this.hasEvents()&&this.sendEventsForPriorityAndAbove(i.AWTEventPriority.Low),this._checkOutboundQueueEmptyAndSent((function(){t._removeFirstQueues(),null!=e&&e(),t._uploadNowQueue.length>0?setTimeout((function(){return t._uploadNow(t._uploadNowQueue.shift())}),0):(t._isCurrentlyUploadingNow=!1,t.hasEvents()&&o.default.scheduleTimer())}))},e.prototype._checkOutboundQueueEmptyAndSent=function(e){var t=this;this._httpManager.isCompletelyIdle()?e():setTimeout((function(){return t._checkOutboundQueueEmptyAndSent(e)}),250)},e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(172),r=n(463),o=n(665),a=n(666),s=n(667),c=n(464),l=n(217),u=n(252),d=n(278),p=function(){function e(e,t,n,i,r){var o=this;this._requestQueue=e,this._queueManager=n,this._httpInterface=i,this._urlString="?qsp=true&content-type=application%2Fbond-compact-binary&client-id=NO_AUTH&sdk-version="+c.FullVersionString,this._killSwitch=new a.default,this._paused=!1,this._useBeacons=!1,this._activeConnections=0,this._clockSkewManager=new s.default(r),l.isUint8ArrayAvailable()||(this._urlString+="&content-encoding=base64"),this._urlString=t+this._urlString,this._httpInterface||(this._useBeacons=!l.isReactNative(),this._httpInterface={sendPOST:function(e,t,n,i,r,a){try{if(l.useFetchRequest())fetch(e,{body:t,method:"POST"}).then((function(e){var t={};e.headers&&e.headers.forEach((function(e,n){t[n]=e})),r(e.status,t)})).catch((function(e){i(0,{})}));else if(l.useXDomainRequest()){var s=new XDomainRequest;s.open("POST",e),s.onload=function(){r(200,null)},s.onerror=function(){i(400,null)},s.ontimeout=function(){n(500,null)},s.send(t)}else{var c=new XMLHttpRequest;c.open("POST",e,!a),c.onload=function(){r(c.status,o._convertAllHeadersToMap(c.getAllResponseHeaders()))},c.onerror=function(){i(c.status,o._convertAllHeadersToMap(c.getAllResponseHeaders()))},c.ontimeout=function(){n(c.status,o._convertAllHeadersToMap(c.getAllResponseHeaders()))},c.send(t)}}catch(e){i(400,null)}}})}return e.prototype.hasIdleConnection=function(){return this._activeConnections<2},e.prototype.sendQueuedRequests=function(){for(;this.hasIdleConnection()&&!this._paused&&this._requestQueue.length>0&&this._clockSkewManager.allowRequestSending();)this._activeConnections++,this._sendRequest(this._requestQueue.shift(),0,!1);this.hasIdleConnection()&&d.default.scheduleTimer()},e.prototype.isCompletelyIdle=function(){return 0===this._activeConnections},e.prototype.teardown=function(){for(;this._requestQueue.length>0;)this._sendRequest(this._requestQueue.shift(),0,!0)},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){this._paused=!1,this.sendQueuedRequests()},e.prototype.removeQueuedRequests=function(){this._requestQueue.length=0},e.prototype.sendSynchronousRequest=function(e,t){this._paused&&(e[t][0].priority=i.AWTEventPriority.High),this._activeConnections++,this._sendRequest(e,0,!1,!0)},e.prototype._sendRequest=function(e,t,n,o){var a=this;void 0===o&&(o=!1);try{if(this._paused)return this._activeConnections--,void this._queueManager.addBackRequest(e);var s=0,c="";for(var d in e)e.hasOwnProperty(d)&&(this._killSwitch.isTenantKilled(d)?(u.default.eventsRejected(e[d],i.AWTEventsRejectedReason.KillSwitch),delete e[d]):(c.length>0&&(c+=","),c+=d,s++));if(s>0){var p=r.default.getPayloadBlob(e,s);p.remainingRequest&&this._requestQueue.push(p.remainingRequest);var h=this._urlString+"&x-apikey="+c+"&client-time-epoch-millis="+Date.now().toString();this._clockSkewManager.shouldAddClockSkewHeaders()&&(h=h+"&time-delta-to-apply-millis="+this._clockSkewManager.getClockSkewHeaderValue());var f=void 0;for(var d in f=l.isUint8ArrayAvailable()?new Uint8Array(p.payloadBlob):r.default.base64Encode(p.payloadBlob),e)if(e.hasOwnProperty(d))for(var g=0;g<e[d].length;++g)e[d][g].sendAttempt>0?e[d][g].sendAttempt++:e[d][g].sendAttempt=1;if(this._useBeacons&&n&&l.isBeaconsSupported()&&navigator.sendBeacon(h,f))return;this._httpInterface.sendPOST(h,f,(function(i,r){a._retryRequestIfNeeded(i,r,e,s,c,t,n,o)}),(function(i,r){a._retryRequestIfNeeded(i,r,e,s,c,t,n,o)}),(function(i,r){a._retryRequestIfNeeded(i,r,e,s,c,t,n,o)}),n||o)}else n||this._handleRequestFinished(!1,{},n,o)}catch(e){this._handleRequestFinished(!1,{},n,o)}},e.prototype._retryRequestIfNeeded=function(e,t,n,r,a,s,c,l){var p=this,h=!0;if(void 0!==e){if(t){var f=this._killSwitch.setKillSwitchTenants(t["kill-tokens"],t["kill-duration-seconds"]);this._clockSkewManager.setClockSkew(t["time-delta-millis"]);for(var g=0;g<f.length;++g)u.default.eventsRejected(n[f[g]],i.AWTEventsRejectedReason.KillSwitch),delete n[f[g]],r--}else this._clockSkewManager.setClockSkew(null);if(200===e)return void this._handleRequestFinished(!0,n,c,l);(!o.default.shouldRetryForStatus(e)||r<=0)&&(h=!1)}if(h)if(l)this._activeConnections--,n[a][0].priority=i.AWTEventPriority.High,this._queueManager.addBackRequest(n);else if(s<1){for(var m in n)n.hasOwnProperty(m)&&u.default.eventsRetrying(n[m]);setTimeout((function(){return p._sendRequest(n,s+1,!1)}),o.default.getMillisToBackoffForRetry(s))}else this._activeConnections--,d.default.backOffTransmission(),this._queueManager.addBackRequest(n);else this._handleRequestFinished(!1,n,c,l)},e.prototype._handleRequestFinished=function(e,t,n,r){for(var o in e&&d.default.clearBackOff(),t)t.hasOwnProperty(o)&&(e?u.default.eventsSent(t[o]):u.default.eventsDropped(t[o],i.AWTEventsDroppedReason.NonRetryableStatus));this._activeConnections--,r||n||this.sendQueuedRequests()},e.prototype._convertAllHeadersToMap=function(e){var t={};if(e)for(var n=e.split("\n"),i=0;i<n.length;++i){var r=n[i].split(": ");t[r[0]]=r[1]}return t},e}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(660);t._BondDataType=i._BondDataType;var r=n(661);t._Encoding=r;var o=n(664);t.IO=o;var a=n(309);t.Int64=a.Int64,t.UInt64=a.UInt64,t.Number=a.Number;var s=function(){function e(e){this._stream=e}return e.prototype._WriteBlob=function(e){this._stream._Write(e,0,e.length)},e.prototype._WriteBool=function(e){this._stream._WriteByte(e?1:0)},e.prototype._WriteContainerBegin=function(e,t){this._WriteUInt8(t),this._WriteUInt32(e)},e.prototype._WriteMapContainerBegin=function(e,t,n){this._WriteUInt8(t),this._WriteUInt8(n),this._WriteUInt32(e)},e.prototype._WriteDouble=function(e){var t=r._Double_GetBytes(e);this._stream._Write(t,0,t.length)},e.prototype._WriteFieldBegin=function(e,t,n){t<=5?this._stream._WriteByte(e|t<<5):t<=255?(this._stream._WriteByte(192|e),this._stream._WriteByte(t)):(this._stream._WriteByte(224|e),this._stream._WriteByte(t),this._stream._WriteByte(t>>8))},e.prototype._WriteInt32=function(e){e=r._Zigzag_EncodeZigzag32(e),this._WriteUInt32(e)},e.prototype._WriteInt64=function(e){this._WriteUInt64(r._Zigzag_EncodeZigzag64(e))},e.prototype._WriteString=function(e){if(""===e)this._WriteUInt32(0);else{var t=r._Utf8_GetBytes(e);this._WriteUInt32(t.length),this._stream._Write(t,0,t.length)}},e.prototype._WriteStructEnd=function(e){this._WriteUInt8(e?i._BondDataType._BT_STOP_BASE:i._BondDataType._BT_STOP)},e.prototype._WriteUInt32=function(e){var t=r._Varint_GetBytes(a.Number._ToUInt32(e));this._stream._Write(t,0,t.length)},e.prototype._WriteUInt64=function(e){var t=r._Varint64_GetBytes(e);this._stream._Write(t,0,t.length)},e.prototype._WriteUInt8=function(e){this._stream._WriteByte(a.Number._ToUInt8(e))},e}();t.CompactBinaryProtocolWriter=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e._BT_STOP=0]="_BT_STOP",e[e._BT_STOP_BASE=1]="_BT_STOP_BASE",e[e._BT_BOOL=2]="_BT_BOOL",e[e._BT_DOUBLE=8]="_BT_DOUBLE",e[e._BT_STRING=9]="_BT_STRING",e[e._BT_STRUCT=10]="_BT_STRUCT",e[e._BT_LIST=11]="_BT_LIST",e[e._BT_MAP=13]="_BT_MAP",e[e._BT_INT32=16]="_BT_INT32",e[e._BT_INT64=17]="_BT_INT64"}(t._BondDataType||(t._BondDataType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(309),r=n(662),o=n(663);t._Utf8_GetBytes=function(e){for(var t=[],n=0;n<e.length;++n){var i=e.charCodeAt(n);i<128?t.push(i):i<2048?t.push(192|i>>6,128|63&i):i<55296||i>=57344?t.push(224|i>>12,128|i>>6&63,128|63&i):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++n)),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i))}return t},t._Base64_GetString=function(e){for(var t,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=[],r=e.length%3,o=0,a=e.length-r;o<a;o+=3){var s=(e[o]<<16)+(e[o+1]<<8)+e[o+2];i.push([n.charAt((t=s)>>18&63),n.charAt(t>>12&63),n.charAt(t>>6&63),n.charAt(63&t)].join(""))}switch(r){case 1:s=e[e.length-1];i.push(n.charAt(s>>2)),i.push(n.charAt(s<<4&63)),i.push("==");break;case 2:var c=(e[e.length-2]<<8)+e[e.length-1];i.push(n.charAt(c>>10)),i.push(n.charAt(c>>4&63)),i.push(n.charAt(c<<2&63)),i.push("=")}return i.join("")},t._Varint_GetBytes=function(e){for(var t=[];4294967168&e;)t.push(127&e|128),e>>>=7;return t.push(127&e),t},t._Varint64_GetBytes=function(e){for(var t=e.low,n=e.high,i=[];n||4294967168&t;)i.push(127&t|128),t=(127&n)<<25|t>>>7,n>>>=7;return i.push(127&t),i},t._Double_GetBytes=function(e){if(o.BrowserChecker._IsDataViewSupport()){var t=new DataView(new ArrayBuffer(8));t.setFloat64(0,e,!0);for(var n=[],i=0;i<8;++i)n.push(t.getUint8(i));return n}return r.FloatUtils._ConvertNumberToArray(e,!0)},t._Zigzag_EncodeZigzag32=function(e){return(e=i.Number._ToInt32(e))<<1^e>>31},t._Zigzag_EncodeZigzag64=function(e){var t=e.low,n=e.high,r=n<<1|t>>>31,o=t<<1;2147483648&n&&(r=~r,o=~o);var a=new i.UInt64("0");return a.low=o,a.high=r,a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e._ConvertNumberToArray=function(e,t){if(!e)return t?this._doubleZero:this._floatZero;var n=t?52:23,i=(1<<(t?11:8)-1)-1,r=1-i,o=i,a=e<0?1:0;e=Math.abs(e);for(var s=Math.floor(e),c=e-s,l=2*(i+2)+n,u=new Array(l),d=0;d<l;)u[d++]=0;for(d=i+2;d&&s;)u[--d]=s%2,s=Math.floor(s/2);for(d=i+1;d<l-1&&c>0;)(c*=2)>=1?(u[++d]=1,--c):u[++d]=0;for(var p=0;p<l&&!u[p];)p++;var h=i+1-p,f=p+n;if(u[f+1]){for(d=f;d>p&&(u[d]=1-u[d],!u);--d);d===p&&++h}if(h>o||s)return a?t?this._doubleNegInifinity:this._floatNegInifinity:t?this._doubleInifinity:this._floatInifinity;if(h<r)return t?this._doubleZero:this._floatZero;if(t){var g=0;for(d=0;d<20;++d)g=g<<1|u[++p];for(var m=0;d<52;++d)m=m<<1|u[++p];return[255&m,m>>8&255,m>>16&255,m>>>24,255&(g=a<<31|2147483647&(g|=h+i<<20)),g>>8&255,g>>16&255,g>>>24]}var E=0;for(d=0;d<23;++d)E=E<<1|u[++p];return[255&(E=a<<31|2147483647&(E|=h+i<<23)),E>>8&255,E>>16&255,E>>>24]},e._floatZero=[0,0,0,0],e._doubleZero=[0,0,0,0,0,0,0,0],e._floatInifinity=[0,0,128,127],e._floatNegInifinity=[0,0,128,255],e._doubleInifinity=[0,0,0,0,0,0,240,127],e._doubleNegInifinity=[0,0,0,0,0,0,240,255],e}();t.FloatUtils=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e._IsDataViewSupport=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},e}();t.BrowserChecker=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(309),r=function(){function e(){this._buffer=[]}return e.prototype._WriteByte=function(e){this._buffer.push(i.Number._ToByte(e))},e.prototype._Write=function(e,t,n){for(;n--;)this._WriteByte(e[t++])},e.prototype._GetBuffer=function(){return this._buffer},e}();t.MemoryStream=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.shouldRetryForStatus=function(e){return!(e>=300&&e<500&&408!==e||501===e||505===e)},e.getMillisToBackoffForRetry=function(e){var t,n=Math.floor(1200*Math.random())+2400;return t=Math.pow(4,e)*n,Math.min(t,12e4)},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this._killedTokenDictionary={}}return e.prototype.setKillSwitchTenants=function(e,t){if(e&&t)try{var n=e.split(",");if("this-request-only"===t)return n;for(var i=1e3*parseInt(t,10),r=0;r<n.length;++r)this._killedTokenDictionary[n[r]]=Date.now()+i}catch(e){return[]}return[]},e.prototype.isTenantKilled=function(e){return void 0!==this._killedTokenDictionary[e]&&this._killedTokenDictionary[e]>Date.now()||(delete this._killedTokenDictionary[e],!1)},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.clockSkewRefreshDurationInMins=e,this._reset()}return e.prototype.allowRequestSending=function(){return this._isFirstRequest&&!this._clockSkewSet?(this._isFirstRequest=!1,this._allowRequestSending=!1,!0):this._allowRequestSending},e.prototype.shouldAddClockSkewHeaders=function(){return this._shouldAddClockSkewHeaders},e.prototype.getClockSkewHeaderValue=function(){return this._clockSkewHeaderValue},e.prototype.setClockSkew=function(e){this._clockSkewSet||(e?this._clockSkewHeaderValue=e:this._shouldAddClockSkewHeaders=!1,this._clockSkewSet=!0,this._allowRequestSending=!0)},e.prototype._reset=function(){var e=this;this._isFirstRequest=!0,this._clockSkewSet=!1,this._allowRequestSending=!0,this._shouldAddClockSkewHeaders=!0,this._clockSkewHeaderValue="use-collector-delta",this.clockSkewRefreshDurationInMins>0&&setTimeout((function(){return e._reset()}),6e4*this.clockSkewRefreshDurationInMins)},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(172),r=function(){function e(e,t){this._outboundQueue=e,this._maxNumberOfEvents=t,this._currentBatch={},this._currentNumEventsInBatch=0}return e.prototype.addEventToBatch=function(e){if(e.priority===i.AWTEventPriority.Immediate_sync){var t={};return t[e.apiKey]=[e],t}return this._currentNumEventsInBatch>=this._maxNumberOfEvents&&this.flushBatch(),void 0===this._currentBatch[e.apiKey]&&(this._currentBatch[e.apiKey]=[]),this._currentBatch[e.apiKey].push(e),this._currentNumEventsInBatch++,null},e.prototype.flushBatch=function(){this._currentNumEventsInBatch>0&&(this._outboundQueue.push(this._currentBatch),this._currentBatch={},this._currentNumEventsInBatch=0)},e.prototype.hasBatch=function(){return this._currentNumEventsInBatch>0},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(278),r=function(){function e(){}return e.setEventsHandler=function(e){i.default.setEventsHandler(e)},e.getEventsHandler=function(){return i.default.getEventsHandler()},e.scheduleTimer=function(){i.default.scheduleTimer()},e}();t.default=r},function(e,t){e.exports=function(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(r);++i<r;)o[i]=e[i+t];return o}},function(e,t,n){var i=n(272),r=n(249),o=n(313),a=n(301),s=i.isFinite,c=Math.min;e.exports=function(e){var t=Math[e];return function(e,n){if(e=o(e),(n=null==n?0:c(r(n),292))&&s(e)){var i=(a(e)+"e").split("e"),l=t(i[0]+"e"+(+i[1]+n));return+((i=(a(l)+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}},function(e,t,n){var i=n(228);e.exports=function(e,t){return i(t,(function(t){return e[t]}))}},function(e,t,n){var i=n(114),r=n(674);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};i(r,o);e.exports=r.locals||{}},function(e,t,n){"use strict";n.r(t);var i=n(72),r=n.n(i)()(!1);r.push([e.i,":root{--primary500: #00508d;--primary400: #0078d4;--primary300: #00a1ff;--primary200: #c1d9eb;--primary100: #bfe8ff;--backgroundColor1: #f3f6f8;--backgroundColor2: #ffffff;--backgroundColor3: #00000000;--backgroundColor4: #ffffff;--backgroundColor5: #f4f4f4;--backgroundColor6: #c5eaff;--backgroundColor7: #e3fafe;--backgroundColor8: #ffffff99;--backgroundColor9: #b4dbf1;--backgroundColor10: #eaf1f5;--backgroundColor11: #a2c5d8;--backgroundColor12: #d9d9d9;--backgroundColor13: #bcbcbc;--backgroundColor14: #f4f4f4;--backgroundColor15: #ffffff;--backgroundColor16: #f3f6f8;--surfaceColor1: #ffffff;--surfaceColor2: #000000;--surfaceColor3: #323639;--separatorColor1: #f4f4f4;--separatorColor2: #d4d8db;--separatorColor3: #0078d4;--textPrimaryColor: #000000;--textSecondaryColor: #737373;--textTertiaryColor: #98a3a5;--textQuaternaryColor: #32495f;--textQuinaryColor: #636363;--textReverseColor: #ffffff;--textLinkColor: #0078d4;--textBoldColor: #00508d;--textNegativeColor: #e81123;--textPositiveColor: #107c10;--textWhiteColor: #ffffff;--textPinkColor: #de1289;--iconPrimaryColor: #0078d4;--iconSecondaryColor: #667787;--iconTertiaryColor: #98a3a5;--iconReverseColor: #ffffff;--iconNegativeColor: #e81123;--iconPositiveColor: #107c10;--indicatorColor1: #e81123;--indicatorColor2: #107c10;--indicatorColor3: #ffb900;--indicatorColor4: #e5faff;--listHeaderColor: #ffffff;--listItemHoverColor: #f4f4f4;--tabBackgroundColor: #00508d;--tabBackgroundHoverColor: #0078d480;--tabSelectedBackgroundColor: #0078d4;--scrollBarColor1: #d3d3d3;--scrollBarColor2: #a9a9a9;--shimmerShineColor1: #f6f7f8;--shimmerShineColor2: #edeef1}:root[theme='dark']{--primary500: #00508d;--primary400: #0078d4;--primary300: #0090ff;--primary200: #c1d9eb;--primary100: #bfe8ff;--backgroundColor1: #292929;--backgroundColor2: #141414;--backgroundColor3: #00000000;--backgroundColor4: #212121;--backgroundColor5: #292929;--backgroundColor6: #00508d;--backgroundColor7: #193e57;--backgroundColor8: #21212160;--backgroundColor9: #347bb2;--backgroundColor10: #292929;--backgroundColor11: #3c7390;--backgroundColor12: #12181c;--backgroundColor13: #6b757b;--backgroundColor14: #212121;--backgroundColor15: #292929;--backgroundColor16: #000000;--surfaceColor1: #000000;--surfaceColor2: #000000;--surfaceColor3: #323639;--separatorColor1: #292929;--separatorColor2: #4e4e52;--separatorColor3: #b3dfe6;--textPrimaryColor: #ffffff;--textSecondaryColor: #8e8e8e;--textTertiaryColor: #acacac;--textQuaternaryColor: #e1e1e1;--textQuinaryColor: #bfbfbf;--textReverseColor: #000000;--textLinkColor: #00a1ff;--textBoldColor: #00508d;--textNegativeColor: #e81123;--textPositiveColor: #107c10;--textWhiteColor: #ffffff;--textPinkColor: #f359b3;--iconPrimaryColor: #ffffff;--iconSecondaryColor: #767676;--iconTertiaryColor: #98a3a5;--iconReverseColor: #000000;--iconNegativeColor: #e81123;--iconPositiveColor: #107c10;--indicatorColor1: #e81123;--indicatorColor2: #107c10;--indicatorColor3: #ffb900;--indicatorColor4: #e5faff;--listHeaderColor: #212121;--listItemHoverColor: #404040;--tabBackgroundColor: #212121cc;--tabBackgroundHoverColor: #404040;--tabSelectedBackgroundColor: #505050;--scrollBarColor1: #a9a9a9;--scrollBarColor2: #808080;--shimmerShineColor1: #545454;--shimmerShineColor2: #424242}a{color:inherit;text-decoration:inherit}.error-container{background:transparent;opacity:50%}.canvas-container{flex:1;display:flex;flex-direction:column;min-height:0px;min-width:520px;background-repeat:repeat}.qrcode-container{margin-bottom:10px;margin-left:10px;margin-right:10px;margin-top:10px}.display-none{display:none !important}.shadow-left-top{border:0.5px solid var(--textTertiaryColor);margin:10px}.loader{border:4px solid #f3f3f3;border-top:4px solid #3498db;border-radius:50%;width:56px;height:56px;-webkit-animation:spin 1s linear infinite;animation:spin 1s linear infinite}.very-small-loader{border:2px solid #f3f3f3;border-top:2px solid #3498db;width:20px;height:20px}.small-loader{border:3px solid #f3f3f3;border-top:3px solid #3498db;width:35px;height:35px}.large-loader{border:5px solid #f3f3f3;border-top:5px solid #3498db;width:70px;height:70px}.notification_loader{border:4px solid #fff;border-top:4px solid rgba(255,255,255,0.4);border-radius:50%;width:32px;height:32px;-webkit-animation:spin 1.5s linear infinite;animation:spin 1.5s linear infinite}@-webkit-keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.connectivity-view{z-index:1000;height:0px;overflow:'visible'}a.webapp-links{display:inline-block;color:#006ff1;cursor:pointer;word-break:break-all}a.webapp-links.label{cursor:pointer}a.webapp-links:link{color:#006ff1}a.webapp-links:visited{color:#006ff1}a.webapp-links:hover{color:#006ff1}a.webapp-links:active{color:#006ff1}a.webapp-links:focus{color:#006ff1;border-bottom:solid 1px #006ff1}.webapp-button{background-color:#0078d4 !important;border:solid 2px #0078d4 !important;cursor:pointer}.tappable-icon{cursor:pointer}*:focus{outline:0}.progress{min-width:200px}input:invalid{border:solid 1px #e32c00 !important}.context-menu:hover{background-color:var(--separatorColor2);cursor:pointer}.circular-background{border-radius:8px;color:#fff;float:right;line-height:20px;text-align:center;vertical-align:middle;height:20px;min-width:20px;font-size:14px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;padding-left:4px;padding-right:4px;margin-left:4px;margin-right:4px;font-weight:bold}.clickable_sender_link:hover{text-decoration:underline}.alert-dialog-button{align-items:center;display:flex;justify-content:center;height:32px;min-width:108px;border-radius:16px;margin-left:28px;border:solid 1px #0078d4;cursor:pointer;font-family:Roboto;font-weight:bold;font-size:14px;white-space:nowrap;color:#0078d4}.alert-dialog-button-rect{border-radius:8px !important}.alert-dialog-button:focus{background:#0078d4;color:#ffffff}.alert-dialog-button:blur{background:#ffffff;color:#0078d4}.alert-dialog-button-medium{width:128px}.picker-submit-button-container{min-height:52px;height:auto;display:flex;flex-direction:column;align-items:center;background-image:linear-gradient(to bottom, rgba(255,255,255,0), var(--backgroundColor8) 14%, var(--backgroundColor2) 24%);z-index:1}.picker-submit-button{align-items:center;display:flex;justify-content:center;height:44px;width:312px;border-radius:100px;margin-left:42px;margin-right:42px;margin-top:22px;border:solid 1px #0078d4;cursor:pointer;font-family:Roboto;font-weight:500;font-size:14px;white-space:nowrap;background:#0078d4;color:#ffffff}.picker-submit-button-disabled{align-items:center;display:flex;justify-content:center;height:44px;width:312px;border-radius:100px;margin-left:42px;margin-right:42px;margin-top:22px;border:solid 1px #0078d4;font-family:Roboto;font-weight:500;font-size:14px;white-space:nowrap;background:#0078d4;color:#ffffff;opacity:0.4;pointer-events:none}.message-options{position:absolute;right:0px;top:0px}.message-options-rtl{position:absolute;left:0px;top:0px}.div-scrollable{overflow:hidden;overflow-y:auto;min-height:0px;flex:1;-ms-overflow-style:-ms-scrollbar;scrollbar-width:thin}.div-scrollable::-webkit-scrollbar{width:5px}.div-scrollable::-webkit-scrollbar-track{background:var(--backgroundColor3)}.div-scrollable::-webkit-scrollbar-thumb{background:var(--scrollBarColor1)}.div-scrollable::-webkit-scrollbar-thumb:hover{background:var(--scrollBarColor2)}.div-scrollable::-moz-scrollbar{display:none}.div-scrollable::-ms-scrollbar{display:none}.div-scrollable::-o-scrollbar{display:none}.floating-view-content{display:flex;flex:1 1 auto !important;overflow-y:auto !important}@media only screen and (max-width: 1024px){.floating-view-content{display:flex;flex:1 1 100vh !important;overflow-y:auto !important}}\n",""]),t.default=r},function(e,t,n){var i,r,o=n(676),a=n(677),s=(r=[],{activateTrap:function(e){if(r.length>0){var t=r[r.length-1];t!==e&&t.pause()}var n=r.indexOf(e);-1===n||r.splice(n,1),r.push(e)},deactivateTrap:function(e){var t=r.indexOf(e);-1!==t&&r.splice(t,1),r.length>0&&r[r.length-1].unpause()}});function c(e){return setTimeout(e,0)}e.exports=function(e,t){var n=document,r="string"==typeof e?n.querySelector(e):e,l=a({returnFocusOnDeactivate:!0,escapeDeactivates:!0},t),u={firstTabbableNode:null,lastTabbableNode:null,nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1},d={activate:function(e){if(u.active)return;v(),u.active=!0,u.paused=!1,u.nodeFocusedBeforeActivation=n.activeElement;var t=e&&e.onActivate?e.onActivate:l.onActivate;t&&t();return h(),d},deactivate:p,pause:function(){if(u.paused||!u.active)return;u.paused=!0,f()},unpause:function(){if(!u.paused||!u.active)return;u.paused=!1,v(),h()}};return d;function p(e){if(u.active){clearTimeout(i),f(),u.active=!1,u.paused=!1,s.deactivateTrap(d);var t=e&&void 0!==e.onDeactivate?e.onDeactivate:l.onDeactivate;return t&&t(),(e&&void 0!==e.returnFocus?e.returnFocus:l.returnFocusOnDeactivate)&&c((function(){var e;I((e=u.nodeFocusedBeforeActivation,g("setReturnFocus")||e))})),d}}function h(){if(u.active)return s.activateTrap(d),i=c((function(){I(m())})),n.addEventListener("focusin",_,!0),n.addEventListener("mousedown",E,{capture:!0,passive:!1}),n.addEventListener("touchstart",E,{capture:!0,passive:!1}),n.addEventListener("click",T,{capture:!0,passive:!1}),n.addEventListener("keydown",S,{capture:!0,passive:!1}),d}function f(){if(u.active)return n.removeEventListener("focusin",_,!0),n.removeEventListener("mousedown",E,!0),n.removeEventListener("touchstart",E,!0),n.removeEventListener("click",T,!0),n.removeEventListener("keydown",S,!0),d}function g(e){var t=l[e],i=t;if(!t)return null;if("string"==typeof t&&!(i=n.querySelector(t)))throw new Error("`"+e+"` refers to no known node");if("function"==typeof t&&!(i=t()))throw new Error("`"+e+"` did not return a node");return i}function m(){var e;if(!(e=null!==g("initialFocus")?g("initialFocus"):r.contains(n.activeElement)?n.activeElement:u.firstTabbableNode||g("fallbackFocus")))throw new Error("Your focus-trap needs to have at least one focusable element");return e}function E(e){r.contains(e.target)||(l.clickOutsideDeactivates?p({returnFocus:!o.isFocusable(e.target)}):l.allowOutsideClick&&l.allowOutsideClick(e)||e.preventDefault())}function _(e){r.contains(e.target)||e.target instanceof Document||(e.stopImmediatePropagation(),I(u.mostRecentlyFocusedNode||m()))}function S(e){if(!1!==l.escapeDeactivates&&function(e){return"Escape"===e.key||"Esc"===e.key||27===e.keyCode}(e))return e.preventDefault(),void p();(function(e){return"Tab"===e.key||9===e.keyCode})(e)&&function(e){if(v(),e.shiftKey&&e.target===u.firstTabbableNode)return e.preventDefault(),void I(u.lastTabbableNode);if(!e.shiftKey&&e.target===u.lastTabbableNode)e.preventDefault(),I(u.firstTabbableNode)}(e)}function T(e){l.clickOutsideDeactivates||r.contains(e.target)||l.allowOutsideClick&&l.allowOutsideClick(e)||(e.preventDefault(),e.stopImmediatePropagation())}function v(){var e=o(r);u.firstTabbableNode=e[0]||m(),u.lastTabbableNode=e[e.length-1]||m()}function I(e){e!==n.activeElement&&(e&&e.focus?(e.focus(),u.mostRecentlyFocusedNode=e,function(e){return e.tagName&&"input"===e.tagName.toLowerCase()&&"function"==typeof e.select}(e)&&e.select()):I(m()))}}},function(e,t){var n=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'],i=n.join(","),r="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;function o(e,t){t=t||{};var n,o,s,c=[],d=[],p=e.querySelectorAll(i);for(t.includeContainer&&r.call(e,i)&&(p=Array.prototype.slice.apply(p)).unshift(e),n=0;n<p.length;n++)a(o=p[n])&&(0===(s=l(o))?c.push(o):d.push({documentOrder:n,tabIndex:s,node:o}));return d.sort(u).map((function(e){return e.node})).concat(c)}function a(e){return!(!s(e)||function(e){return function(e){return d(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t=function(e){for(var t=0;t<e.length;t++)if(e[t].checked)return e[t]}(e.ownerDocument.querySelectorAll('input[type="radio"][name="'+e.name+'"]'));return!t||t===e}(e)}(e)||l(e)<0)}function s(e){return!(e.disabled||function(e){return d(e)&&"hidden"===e.type}(e)||function(e){return null===e.offsetParent||"hidden"===getComputedStyle(e).visibility}(e))}o.isTabbable=function(e){if(!e)throw new Error("No node provided");return!1!==r.call(e,i)&&a(e)},o.isFocusable=function(e){if(!e)throw new Error("No node provided");return!1!==r.call(e,c)&&s(e)};var c=n.concat("iframe").join(",");function l(e){var t=parseInt(e.getAttribute("tabindex"),10);return isNaN(t)?function(e){return"true"===e.contentEditable}(e)?0:e.tabIndex:t}function u(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex}function d(e){return"INPUT"===e.tagName}e.exports=o},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var i=arguments[t];for(var r in i)n.call(i,r)&&(e[r]=i[r])}return e};var n=Object.prototype.hasOwnProperty},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i="function"==typeof Symbol&&Symbol.for,r=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,u=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.async_mode"):60111,p=i?Symbol.for("react.concurrent_mode"):60111,h=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113,g=i?Symbol.for("react.suspense_list"):60120,m=i?Symbol.for("react.memo"):60115,E=i?Symbol.for("react.lazy"):60116,_=i?Symbol.for("react.block"):60121,S=i?Symbol.for("react.fundamental"):60117,T=i?Symbol.for("react.responder"):60118,v=i?Symbol.for("react.scope"):60119;function I(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case d:case p:case a:case c:case s:case f:return e;default:switch(e=e&&e.$$typeof){case u:case h:case E:case m:case l:return e;default:return t}}case o:return t}}}function b(e){return I(e)===p}t.AsyncMode=d,t.ConcurrentMode=p,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=E,t.Memo=m,t.Portal=o,t.Profiler=c,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return b(e)||I(e)===d},t.isConcurrentMode=b,t.isContextConsumer=function(e){return I(e)===u},t.isContextProvider=function(e){return I(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return I(e)===h},t.isFragment=function(e){return I(e)===a},t.isLazy=function(e){return I(e)===E},t.isMemo=function(e){return I(e)===m},t.isPortal=function(e){return I(e)===o},t.isProfiler=function(e){return I(e)===c},t.isStrictMode=function(e){return I(e)===s},t.isSuspense=function(e){return I(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===p||e===c||e===s||e===f||e===g||"object"==typeof e&&null!==e&&(e.$$typeof===E||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===h||e.$$typeof===S||e.$$typeof===T||e.$$typeof===v||e.$$typeof===_)},t.typeOf=I},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e){e.exports=JSON.parse('{"MainTitle":"Microsoft Kaizala Web","Preview":"Preview","PreviewLink":"https://go.microsoft.com/fwlink/?linkid=874861","KaizalaIcon":"Kaizala icon","Me":"Me","Chats":"Chats","People":"People","Discover":"Discover","NewChat":"New Chat","NewGroup":"New Group","AddGroupPicture":"Add Group Picture","EnterGroupName":"Enter Group Name","CreatingGroup":"Creating Group","CreatedGroup":"Created Group","CreateGroupText":"Create Group","CreatingChat":"Creating chat","CreatedChat":"Created chat","PrivateMemberInGroup":"Private Member in Group","ChatCreationFailed":"Unable to create chat","NotAllowedToChat":"Not permitted to create chat","AddGroupParticipants":"Add group participants","NoParticipantsAddedTitle":"No participants Added","FindPeopleAndGroupsPlaceholder":"Find people and groups","NoParticipantsAddedText":"You can go back to add participants or proceed to create group","UnableToCreateAGroup":"Unable to create a group","people":"people","person":"person","group":"group","groups":"groups","conversation":" conversation","conversations":" conversations","separator":", ","characters":"characters","NextButton":"Next","Disabled":"Disabled","ChangeGroupImage":"Change Group Image","SetGroupPicture":"Set Group Picture","CrossButton":"Cross Button","You":"You","Reminder":"Reminder","PleaseWait":"Please wait","ProfilePicture":"Profile Picture","UnSupportedBrowserMessage":"Kaizala currently supports the following list of browsers.","SupportedBrowserMessage":"We recommend you choose one of these.","ComingSoonBrowserMessage":"Coming soon on","GeneratingPairingCodeText":"Generating Pairing Code","GeneratingPairingCodeSubText":"You will receive the pairing code on your Kaizala app on your phone shortly","InvalidUser":"Pairing code generation failed. Download Microsoft Kaizala on your phone and try again.","FirstTimeHere":"First time here!","JoinGroupText":"Install Kaizala and Signup to join","InstallKaizalaText":"Install Kaizala and signup to access Kaizala Web","PairingCodeGenerationSuccess":"Pairing Code Send.","PairingCodeGenerationSuccessWithRemainingRetry":"Pairing Code Send, {0} attempts remaining.","PairingCodeVerificationInvalid":"The code you entered isn\'t valid, please try again.","PairingCodeVerificationExpired":"The code you entered isn\'t valid anymore, please try again.","_PairingCodeVerificationRemainingRetry":" {0} attempts remaining.","PairingCodeGenerationLimitExceeded":"Pairing code generation attempts have exceeded the limit. Please try again after some time.","ServerErrorInPairingCodeGeneration":"Pairing code generation failed. Please try refreshing the page.","ReGeneratingPairingCodeText":"Resending Pairing code","PairingCodeReGenerationSuccess":"Resend success. Pairing code has been resent to your device.","VerifyingPairingCodeText":"Please wait","VerifyingPairingCodeSubText":"Verifying pairing code","TooManyPairingCodeGenerationFailed":"Too many requests. Please try again after {0} hours.","TooManyPairingCodeVerificationFailed":"Too many failed attempts, please try again after {0} hours.","VerificationFailed":"Verification failed. Not able to verify your phone number.","VerificationSuccess":"Verification completed successfully","InvalidPairingCode":"Invalid pairing code","UnSupportedMessageTitle":"Unsupported","UnSupportedSchemaMessage":"Please update the app to see the original message","UnSupportedSchemaTitle":"NEW IN KAIZALA","BadMessageTitle":"Bad Message","CurrentIndexOfTotalSizeText":"{0} of {1}","MyLocation":"My Location","CurrentLocation":"Current Location","NearByLocation":"Nearby Location","EmptyCanvasSectionMainText":"Keep your phone connected","EmptyCanvasSectionSubTextFirstLine":"Kaizala Web connects to your phone to sync messages.","EmptyCanvasSectionSubTextSecondLine":"To reduce data usage, connect your phone to Wi-Fi.","NoConversationsFoundTitle":"No conversations found for you. Start one now.","NoResultsFoundTitle":"No results found!","ParticipantListAccessibilityLabel":"Contact list, Total contacts {0}","ConversationListAccessibilityLabel":"Conversation list, Total conversation {0}","TextMessageInputHint":"Type a message","ClickableSenderNameAccessibilityLabel":"Message {0}","EmptyProfileSectionMainText":"Tap on a section to get started","PrivacyStatementLink":"https://go.microsoft.com/fwlink/?LinkId=521839","KaizalaWebPreviewAgreement":"/assets/Microsoft-Kaizala-Web-Preview-Agreement-022818.htm","EULAFilePath":"/assets/eula.htm","TPNFilePath":"/assets/thirdpartynotice.htm","billSubmitCardTitle":"Bill Submit","billSubmittedALabel":"{0} Submitted by {1}","videoCardTitle":"Video attachment","AudioCardTitle":"Audio attachment","AlbumCardTitle":"Photo Story","DocumentAttachmentCardTitle":"Document Attachment","PhotoCheckinCardTitle":"PHOTO + LOCATION","AttachmentStagingHeader":"Send to {0}","AttachmentImmersiveHeader":"{0} @ {1}","MediaCaptionPlaceholder":"Add a caption","ImagePreviewListAccessibilityLabel":"Image list, Total images {0}","AttchmentSegmentTitle":"Attachments","ActionSegmentTitle":"Actions","ImageAttachmentCaption":"Photo","VideoAttachmentCaption":"Video","DocumentAttachmentCaption":"Document","ContactAttachmentCaption":"Contact","AudioAttachmentCaption":"Audio","MediaAttachmentCaption":"Audio/Video","SizeInKBString":"{0} KB","SizeInMBString":"{0} MB","NoTextInputString":"Click to get started","OnlyAdminCanSendMessages":"Only admins can send messages","NoActionIndicatorString":"You can only respond to posts sent here","ManagedPaletteIndicatorText":"These actions have been set by your admin","NoActionsSetPaletteIndicatorText":"No Actions have been set by your admin","NoSupportedActionsIndicatorText":"No actions supported by WebApp have been set","ImageCaptionTextAreaCaption":"{0}, Image Caption {1}","PhoneNumberCaption":"Mobile","EmailCaption":"Email","StatusCaption":"Status","AttributeUnAvailableCaption":"Not Available","DefaultStatusText":"Hello, Kaizala !","EulaCaption":"EULA of Kaizala app","TPNCaption":"TPN of Kaizala app","ReplyCaption":"Reply","ReplyLabel":"Reply to Message","CopyCaption":"Copy","CopyLabel":"Copy Message","CopiedMessage":"Message copied to clipboard","DeleteCaption":"Delete","DeleteLabel":"Delete Message","DeleteMessageTitle":"Delete message?","DeleteMessageButtonText":"Delete for me","DeleteForEveryoneButtonText":"Delete for everyone","DeletingMessage":"Deleting Message","DeletedMessage":"Message Deleted","UnableToPerformAction":"Unable to perform this action","ForwardCaption":"Forward","ForwardLabel":"Forward Message","ForwardingMessage":"Forwarding Message","ForwardedMessage":"Message Forwarded","CloseForwardModal":"Cancel Forward To","ForwardModalTitle":"Forward To","SendToTitle":"Send To","ForwardModalSendButton":"Send","ForwardToListAccessibilityLabel":"Forward to list","ForwardToTotalChatsAccessibilityLabel":"Total chats {0}","ForwardToTotalContactsAccessibilityLabel":"Total contacts {0}","ForwardingFailedDueToStorageAccessTitle":"Please allow storage access on your phone","DeviceStorageAccessDeniedMessage":"Open the same attachment in the Kaizala app installed on your phone. You will be prompted for storage access. Please try forwarding again after the access has been provided.","ForwardingFailedDueToNotDownloadedTitle":"Attachment is not downloaded on your phone","AttachmentNotDownloadedOnDeviceMessage":"Please download the attachment on your phone and try forwarding the message again.","UnselectParticipantAccessibilityLabel":"Unselect","SelectedParticipantsAccessibilityLabel":", Selected Participants","UnselectFilteredParticipantAccessibilityLabel":"{0} unselected","MeChatSubtitleText":"Forward here to save","FwdMsgConvSearchPlaceholder":"Search chats and contacts","RecentConversations":"Recent Chats","KaizalaContacts":"Kaizala contacts","CloseInfoModal":"Cancel Info","ReadReceiptsCaption":"Info","ReadReceiptsLabel":"Message Info","ReadReceiptViewHeaderTitle":"Info","ReadReceiptListAccessibilityLabel":"Message info list, Total users {0}","ReadReceiptListOneOnOneAccessibilityLabel":"Message info list","ReadReceiptItemOneOnOneAccessibilityLabel":"Message {0} at {1}, {2}","ReadReceiptItemAccessibilityPlayedLabel":"Message played by {0} at {1}, {2}","ReadReceiptItemAccessibilityReadLabel":"Message read by {0} at {1}, {2}","ReadReceiptItemAccessibilityDeliverLabel":"Message delivered to {0} at {1}, {2}","ReadReceiptTypeRead":"Read","ReadReceiptTypeDelivered":"Delivered","ReadReceiptTypePlayed":"Played","NoDeliveredReadReceipt":"No delivery receipts as of yet","NoSeenReadReceipt":"No seen receipts as of yet","NoPlayedReadReceipt":"No played receipts as of yet","ReadReceiptTabPlayedTitle":"Played ({0})","ReadReceiptTabSeenTitle":"Seen ({0})","ReadReceiptTabDeliverTitle":"Delivered ({0})","SeenByUsersText":"Seen by {0}","PlayedByUsersText":"Played by {0}","FetchingReadReceipts":"Loading...","ContextMenuIconLabel":"Message Options","CloseReplyPreviewLabel":"Cancel Reply To","CloseUrlPreviewLabel":"Cancel Url Preview","OpenUrlPreview":"Url Preview Shown","PrivacyNoticeCaption":"Privacy Statement","ReportAnIssueCaption":"Report An Issue","ReportAnIssueInvalidEmailId":"Invalid email id","ReportAnIssueEmptyEmailId":"Please enter a valid email id","RestrictedText":"Restricted Group","RestrictedActionMessage":"This action is not allowed by Admin.","InspectionAlertTitle":"Cannot access this group now","InspectionAlertMessage":"You may have opened browser page source through inspect, please close it to access the selected group.","AlignmentChangeTitle":"Please reload the WebApp to reflect the changes","AlignmentChangeMessage":"You may have changed the language in the device, please reload the page to apply the changes here.","UnsupportedMessageText":"This card is not supported on web yet","UnsupportedPolicyViewText":"Cannot access this group as group policies are not supported on Kaizala Web currently.","IntuneManagedUnsupportedViewText":"Cannot access this group as the group has been disabled on Web by your Admin","SigInRequiredViewText":"Please Sign-In to your Office 365 account from your device to access the group on Kaizala Web","ChatTextBoxHintDisabled":"You can only respond to Kaizala Actions here","ReadOnlyConversationNotification":"You cannot send or receive messages because you are not a part of this group","ReadOnlyPeerDeletedNotification":"This user is not on kaizala anymore","ReadOnlyGroupNotReachableNotification":"You will no longer receive messages in this group","ReadOnlyJoinRequestedNotification":"You cannot send or receive messages because your membership is not confirmed","ReadOnlyPublicGroupNotification":"You can no longer connect with {0}","UnCompatibleDeviceViewText":"Your version of Kaizala on device is not supported on web. Please upgrade your app to use Web Client.","ConversationLoadingMessage":"Loading conversations","PdfPluginNotSupportedText":"Browser doesn\'t support pdf plugin","PhoneNumberInputPlaceholder":"Phone Number","PhoneNumberLabel":"Enter Phone Number","EnterPhoneNumber":"Please enter your phone number registered with Kaizala","EnterValidPhoneNumber":"Please enter a valid phone number","SignInHeading":"Sign in","SignInGraphic":"Sign in graphic","SignInHelpText":"To begin, please enter your phone number registered with Kaizala.","SignInText":"Login with your Kaizala","PhoneNumber":"phone number","CheckKaizalaApp":"Check Kaizala App for","GoTo":"Go to","ChatsTab":"Chats Tab","TapOn":"and tap on","Choose":"Choose","JoinGroupWithQRCode":"Join Group > QR Code","ScanQRCode":"Scan the below QR Code","PairingCode":"pairing code","PairingCodeHelpText":"A pairing code has been sent to you on {0}. Go to your Kaizala app to access your code.","LoginNoAuthText":"LOGIN (NO AUTH IN PREVIEW)","iosSupportText":"If you are an iOS user, please install the latest version of Kaizala on your phone to access the WebApp.","WebSupportText":"For best experience, we recommend you to use Microsoft Edge or Google Chrome.","VerifyCodeHeading":"Verify Code","VerifyCodeGraphic":"Verify Code graphic","VerifyCodeHelpText":"A pairing code has been sent to you on your phone number. Follow the instructions on the left to access it.","GenerateCodeText":"Generate Code","ContinueText":"Continue","PairingCodeText":"Pairing Code","PairingCodeLabel":"Enter Pairing Code","EnterPairingCode":"Please enter four digit pairing code","NotYourPhoneText":"Not your phone number ?","EnterPhoneNoAgainText":"Enter it again","EnterPhoneNoAgainLabel":"Enter phone number again","VerifyAndSignInText":"Verify & Sign In","RememberMeText":"Remember me","DidNotReceiveCodeText":"Didn’t receive a code?","ResendCodeLabel":"Resend pairing code","ResendCodeText":"RESEND IT","TryAgainResendCodeText":"TRY AGAIN","AgreementDeclarationLabel":"I have read, understood and accepted the Microsoft Kaizala Web agreement and the Microsoft Privacy statement","AgreementDeclarationText":"I have read, understood and accepted the {0}{1}{2}Microsoft Kaizala Web agreement{3} and the {4}{5}{6}Microsoft Privacy statement{7}","PleaseAgreeToTnC":"Please indicate that you have read and agreed to Microsoft Kaizala Web agreement and the Microsoft Privacy statement","NetworkUnavailableTitle":"Computer not connected","NetworkUnavailableText":"Make sure your computer is connected to the internet.","NetworkAvailableTitle":"Connected to the internet","ServerConnectingText":"We are trying to connect back to server. Please wait","ServerConnectingTitle":"Connecting ...","ServerDisconnectedNotificationTitle":"Oops, something went wrong","ServerDisconnectedNotificationText":"Please try again.","ServerDisconnectedCTA":"Refresh","DeviceDisconnectedNotificationTitle":"Phone not connected","DeviceDisconnectedNotificationText":"Make sure your app is active and phone is connected to internet.","DeviceConnectedNotificationTitle":"Connected","ServerDisconnectedText":"Connection lost. Please ensure that your computer is connected to internet.","DeviceConnectingText":"We are trying to connect back to your device. Please wait","DeviceConnectingTitle":"Connecting ...","DeviceDisconnectedText":"We are not able to connect to your device. Please ensure that your app is running and device has an active internet connection.","ReconnectText":"Reconnect","FetchingParticipants":"Loading...","ParticipantsNotFound":"No Kaizala contacts found","AssigneePickerTitle":"Assign To","AssigneePickDone":"DONE","FindContactsPlaceholder":"Find contacts","FindConversationsPlaceholder":"Find conversations","DefaultPeopleDetailText":"Tap on a contact to see details","NoteText":"Note","DontHaveKaizalaText":"Don\'t have Kaizala installed?","DoneText":"Done","OkButton":"Ok Button","NewUserOkButtonText":"OK, Got it","SelectPhoto":"Select Photo","DownloadFromPlayStore":"Download from play store","DownloadFromAppStore":"Download from app store","MicrosoftKaizala":"Microsoft Kaizala","RemovePhoto":"Remove Photo","NoMembersAddedText":"No Members added","MembersText":"Members","ParticipantGroupsMissingNote":"Selection of sub-groups and associated contacts is not supported at the moment. We are working hard to bring it to you in a future release.","StartPeerChattingText":"Start chatting","GoBackToChats":"Go back to chats","GoBackToUserProfile":"Go back to profile","SelectContactForPeopleDetail":"Select a contact to view details","DeviceCompatibilityFetchingText":"Please wait while we setup your Web App","UserProfileFetchingText":"Please wait while we setup your Web App","LoadingPreviousMessagesText":"Loading previous messages","LoadingNextMessagesText":"Loading messages","ScrollToBottomButtonLabel":"Scroll to end of conversation","ScrollToMessageLabel":"Scroll to message, {0}","AlertDialogYesText":"Yes","AlertDialogNoText":"No","ImmersiveViewActiveWhenConversationSwitchText":"Are you sure you want to discard all changes?","ImmersiveDurationPickerText":"Set Duration","ImmersiveDurationPickerDaysText":"Days","ImmersiveDurationPickerHoursText":"Hours","ImmersiveDurationPickerMinutesText":"Minutes","ImmersiveDateTimePickerDateTimeText":"Set Date and Time","ImmersiveDateTimePickerDateText":"Set Date","ImmersiveDateTimePickerTimeText":"Set Time","ImmersiveDateTimePickerTimeCaptionText":"Time","ImmersiveDateTimePickerTodayButtonText":"Today","ImmersiveLoadingTimeoutCancelText":"Cancel","ImmersiveLoadingTimeoutCancelMessage":"This operation is taking longer than expected","ImmersiveShimmerTimeoutCancelMessage":"This is taking longer than expected","ImmersiveLoadingNetworkTimeoutCancelMessage":"This operation is taking longer than expected due to network issues","ImmersiveShimmerNetworkTimeoutCancelMessage":"This is taking longer than expected due to network issues","ImmersiveSendSurveyTitle":"Copy Survey Result Link","ImmersiveMiniappSupportCheckText":"verifying whether Kaizala Web supports this Action","ImmersiveMiniappNotSupportedText":"This action is currently not supported on Kaizala Web. We will soon bring it for you.","ImmersiveUpgradeKasSdkText":"Please ask your admin to upgrade the card to latest Kaizala SDK for it to work on web app","ImmersiveUpgradeKasSdkTitle":"Please upgrade the card","ImmersiveMiniappNotSupportedTitle":"Oh no! We do not support it yet","ImmersiveMiniappNotSupportedOkButtonText":"Ok, got it","ImmersiveMiniappNetworkUnavailableTitle":"Not connected to the internet","ImmersiveMiniappNetworkUnavailableText":"Looks like you are not connected to the internet. Please check and try again.","ImmersivePlacePickerText":"Select Location","ImmersivePlacePickerPlaceholder":"Enter Location","ImmersivePlacePickerCurrentLocationTitle":"My Current Location","ImmersivePlacePickerNearbyPlacesTitle":"NEARBY PLACES","MiniappLoadFailedText":"Oh no! Something went wrong","MiniappLoadFailedRetryText":"Retry","MiniappLoadFailedCloseText":"Close","LocationPermissionDeniedAlertText":"You have blocked Kaizala Web to access your location. To use this Kaizala Action, change your location settings in the browser.","LocationErrorAlertText":"Unable to fetch your location. This Kaizala Action needs your location, please allow location access and retry.","LocationFetchingText":"Fetching Location","LocationRestrictedTitle":"Action not allowed","LocationRestrictedMessage":"Your organization has disabled location sharing in this group","LocationPolicyAlertMessage":"This action requires your location before you proceed. By accepting this, you allow Kaizala to share your location data with Google Maps service. The location data shared is subject to Google\'s privacy policy.","ComingSoonTitle":"Coming Soon","ComingSoonMessage":"Hi there. Thank you for your interest in this feature. We’re working hard to bring this to you very soon. Stay tuned.","OkButtonText":"Got it","SetText":"Set","CloseText":"Close","CopyLinkButtonText":"Copy Link","CloseButtonText":"CLOSE","ImmersiveSelectAttachmentTopText":"Attach","EmptyConversationSubText":"(No new messages)","Like":"Like","Comment":"Comment","LikesNCommentsSectionHeader":"LIKES & COMMENTS","UnableToConnectText":"Unable to connect","PhoneNotConnectedTitle":"Phone not connected","ComputerNotConnected":"Computer not connected","RetryButtonText":"Retry","LogoutButtonText":"Logout","CancelButtonText":"Cancel","SendButtonText":"SEND","ReportAnIssueEmailPlaceholder":"Your email ID","ReportAnIssueIssuePlaceholder":"Tell us about your issue","ReportAnIssueIssueDisclaimer":"Log files are attached. No personal data is sent.","ReportAnIssue":"Report an issue","ReportAnIssueSubmitted":"Thank you for your feedback.","Oops":"Oops!","ReportAnIssueFailedToSubmit":"We ran into a problem sending your issue. Would you like to try again?","Settings":"Settings","SendingLogs":"Sending logs","DownloadText":"Download","DisabledDownLoadText":"Download disabled by admin","BaseLoadingFailedMessage":"The attachment you selected can not be loaded. Please select a different attachment.","BaseLoadingFailedTitle":"Attachment loading failed","ok":"OK","LearnMore":"Learn more","NotNow":"Not now","LoadingFailedForPublicGroupMessage":"Only admins can send messages or attachments in this group.","MultipleFilesMessage":"Please drop one file at a time!","MultipleFilesTitle":"Multiple files dropped","DifferentFilesMessage":"Please drop same type of file at a time!","DifferentFilesTitle":"Different type of files dropped","ImageLoadingFailedMessage":"The image you selected can not be loaded. Please select a different image.","AlbumLoadingFailedMessage":"Some of the images you selected can not be loaded. Please select a different ones.","ImageLoadingFailedTitle":"Image loading Failed","DocumentLoadingFailedMessage":"The file you selected is not a valid document. Please select a valid document with any of the following as file extension: .docx, .doc, .ppt, .pptx, .xls, .xlsx, .pdf","DocumentLoadingFailedTitle":"Document attachment Failed","WrongFileSelectionMessage":"The type of file you have selected is not matching with attachment type","WrongFileSelectionTitle":"Wrong Selection of file","VideoLoadingFailedMessage":"The video you selected can not be loaded. Please select a different video.","VideoLoadingFailedTitle":"Video loading Failed","AudioLoadingFailedMessage":"The audio you selected can not be loaded. Please select a different audio.","AudioLoadingFailedTitle":"Audio loading Failed","InActiveWebInstanceTitle":"Multiple browser login","InActiveWebInstanceMessage":"You\'re using Kaizala Web on a different browser or computer.","LowBatteryNotitifcationTitle":"Phone Battery Low","LowBatteryNotitifcationDescription":"Please connect your phone to a charger","PowerSaveModeNotificationTitle":"Battery Save Mode On","PowerSaveModeNotificationDescription":"For better connectivity experience, please turn off battery save mode on your device.","EnableBrowserNotitifcationTitle":"Get message alerts","EnableBrowserNotitifcationDescription":"Turn on notifications","PlayNewMessageSound":"Play sound for a new message","DesktopNotifications":"Desktop Notifications","MessageContentInNotification":"See message content in notification","DarkTheme":"Dark Theme","ThemeTitle":"Switch theme","OptimizeBatteryNotitifcationTitle":"Optimize Notifications","OptimizeBatteryNotitifcationDescription":"For better connectivity experience, please turn off battery optimizations on Kaizala.","OptimizeBatteryNotitifcationSubText":"Go to “Optimize notifications” tab in Kaizala settings for detailed instructions on battery optimization","KnowMoreText":" Know More","TurnOnNotificationText":"Turn on Notifications","AllowNotification":"Allow Notification","OkGotItText":"Ok Got it","PermissionInfoChromeTextLine1":"To get notifications for new messages, click on","PermissionInfoChromeTextLine2":"\\"Allow\\"","PermissionInfoChromeTextLine3":"from the prompt below the URL bar","PermissionInfoEdgeTextLine1":"To get notifications for new messages,","PermissionInfoEdgeTextLine2":"click on\\"Yes\\" from the prompt below","InActiveWebDialogPositiveButton":"USE HERE","InActiveWebDialogUseHereButton":"Use Here","AttachmentSizeExceededTitle":"Attachment size Exceeded","AttachmentCountExceededTitle":"Attachment count Exceeded","AttachmentSizeExceededMessage":"Please select an attachment of size < 50MB for uploading","AttachmentCountExceededMessage":"You can select max {0} files","SelectCountryCode":"Select country code","PaletteButtonLabel":"Palette","SendButtonLabel":"Send message","ThreeDotsLabel":"More options","StagingViewAttachmentLabel":"Attachment added","DismissAttachmentStagingLabel":"Cancel sending attachment","DismissAttachmentViewLabel":"Close attachment","YouText":"You","LeftClickViewPagerLabel":"Go to previous","RightClickViewPagerLabel":"Go to next","FilterResultCountLabel":"{0} results on filtering","ItemSelectedLabel":"Selected,","ItemUnselectedLabel":" Not selected,","ItemDisabledLabel":" Disabled,","ConversationMutedLabel":"Muted,","ConversationPinnedLabel":"Pinned,","ConversationUnreadMsgCount":"Unread message count {0},","ConversationItemLabel":"Conversation {0}, Latest message {1}, {2},","RestrictedConversationItemLabel":"Restricted Conversation {0}, {1}","ExpandedStateMoreOption":"Expanded","CollapsedStateMoreOption":"Collapsed","ConversationMarkedAsUnreadTalkbackDescription":"Marked as unread","DismissNotificationLabel":"Dismiss notification","BackButtonLabel":"Back, button","SelectedTabLabel":"{0} tab selected","RespondButtonGenericLabel":"Respond to action","BackButtonAccessibilityText":"Go Back","ShowResponseViewLabel":"Show response view","ImageAttachmentLabel":"Image attachment,","SentByLabel":"Sent by {0},","FeedbackInputHintText":"Is there something we can do better? Leave a detailed description","StarRatingText":"Rate us:","IncludeEmailText":"Include email address","EmailInputHintText":"Your email address","IncludeEmailDeclaration":"By including your email address, you agree that Microsoft can send you email if we have questions about your feedback.","FeedbackSendButtonLabel":"Send Feedback","FeedbackSubmittedTitle":"Feedback Submitted","FeedbackFormTitle":"Feedback","FeedbackSubmittedAck":"Thank you for providing your valuable feedback. You may close this window now.","FeedbackTooltipHeaderText":"Help us improve","FeedbackTooltipText":"This is a preview version of Kaizala Web, please help us improve by providing your valuable feedback by clicking on the Smiley icon above.","FeedbackTooltipCloseButtonAL":"This is a preview version of Kaizala Web, please help us improve by providing your valuable feedback by clicking the Feedback Button. Close","StarLabel":"Rate us {0} star","FeedbackClose":"Close Feedback","AttachScreenshotText":"Attach Screenshot ({0}/{1})","RemoveScreenshotButton":"Remove Screenshot {0}, of {1}","AddScreenshotButton":"Add screenshot, maximum screenshot allowed {0}","WrongExtFileAttached":"Supported formats are JPEG, JPG, PNG and GIF only.","FeedbackSubmittedClose":" Feedback Submitted. Thank you for providing your valuable feedback. You may close this window now. Close Feedback","SendDisabledInvalidEmail":"Please add a valid email to Send feedback","SendDisabledNoFeedback":"Please add feedback to Send feedback","ViewMoreText":"View More","UnreadMessageMarker":"UNREAD MESSAGE","UnreadMessagesMarker":"{0} UNREAD MESSAGES","SignInRequiredLatestMsg":"Sign-in to Office 365 account","PolicyUnsupportedLatestMsg":"Restricted Group- Group policy is currently not supported on Kaizala Web","PolicyRestrictedAttachmentTitle":"Restricted document","PolicyRestrictedAttachmentMessage":"This document type is restricted by group policy. Please convert to PDF before sharing","PolicyRestrictAttachmentTitle":"Restricted attachment","PolicyRestrictAttachment":"Attachments restricted by admin.","CountryNames":{"Afghanistan":"Afghanistan","Åland_Islands":"Åland Islands","Albania":"Albania","Algeria":"Algeria","American_Samoa":"American Samoa","Andorra":"Andorra","Angola":"Angola","Anguilla":"Anguilla","Antarctica":"Antarctica","Antigua_and_Barbuda":"Antigua and Barbuda","Argentina":"Argentina","Armenia":"Armenia","Aruba":"Aruba","Australia":"Australia","Austria":"Austria","Azerbaijan":"Azerbaijan","Bahamas":"Bahamas","Bahrain":"Bahrain","Bangladesh":"Bangladesh","Barbados":"Barbados","Belarus":"Belarus","Belgium":"Belgium","Belize":"Belize","Benin":"Benin","Bermuda":"Bermuda","Bhutan":"Bhutan","Bolivia":"Bolivia","Bonaire":"Bonaire","Bosnia_and_Herzegovina":"Bosnia and Herzegovina","Botswana":"Botswana","Bouvet_Island":"Bouvet Island","Brazil":"Brazil","British_Indian_Ocean_Territory":"British Indian Ocean Territory","British_Virgin_Islands":"British Virgin Islands","Brunei":"Brunei","Bulgaria":"Bulgaria","Burkina_Faso":"Burkina Faso","Burundi":"Burundi","Cabo_Verde":"Cabo Verde","Cambodia":"Cambodia","Cameroon":"Cameroon","Canada":"Canada","Cayman_Islands":"Cayman Islands","Central_African_Republic":"Central African Republic","Chad":"Chad","Chile":"Chile","China":"China","Christmas_Island":"Christmas Island","Cocos_(Keeling)_Islands":"Cocos (Keeling) Islands","Colombia":"Colombia","Comoros":"Comoros","Congo":"Congo","Congo_(DRC)":"Congo (DRC)","Cook_Islands":"Cook Islands","Costa_Rica":"Costa Rica","Côte_d’Ivoire":"Côte d’Ivoire","Croatia":"Croatia","Cuba":"Cuba","Curaçao":"Curaçao","Cyprus":"Cyprus","Czech_Republic":"Czech Republic","Denmark":"Denmark","Djibouti":"Djibouti","Dominica":"Dominica","Dominican_Republic":"Dominican Republic","Ecuador":"Ecuador","Egypt":"Egypt","El_Salvador":"El Salvador","Equatorial_Guinea":"Equatorial Guinea","Eritrea":"Eritrea","Estonia":"Estonia","Ethiopia":"Ethiopia","Falkland_Islands":"Falkland Islands","Faroe_Islands":"Faroe Islands","Fiji":"Fiji","Finland":"Finland","France":"France","French_Guiana":"French Guiana","French_Polynesia":"French Polynesia","French_Southern_Territories":"French Southern Territories","Gabon":"Gabon","Gambia":"Gambia","Georgia":"Georgia","Germany":"Germany","Ghana":"Ghana","Gibraltar":"Gibraltar","Greece":"Greece","Greenland":"Greenland","Grenada":"Grenada","Guadeloupe":"Guadeloupe","Guam":"Guam","Guatemala":"Guatemala","Guernsey":"Guernsey","Guinea":"Guinea","Guinea-Bissau":"Guinea-Bissau","Guyana":"Guyana","Haiti":"Haiti","Heard_Island_and_McDonald_Islands":"Heard Island and McDonald Islands","Honduras":"Honduras","Hong_Kong_SAR":"Hong Kong SAR","Hungary":"Hungary","Iceland":"Iceland","India":"India","Indonesia":"Indonesia","Iran":"Iran","Iraq":"Iraq","Ireland":"Ireland","Isle_of_Man":"Isle of Man","Israel":"Israel","Italy":"Italy","Jamaica":"Jamaica","Jan_Mayen":"Jan Mayen","Japan":"Japan","Jersey":"Jersey","Jordan":"Jordan","Kazakhstan":"Kazakhstan","Kenya":"Kenya","Kiribati":"Kiribati","Korea":"Korea","Kosovo":"Kosovo","Kuwait":"Kuwait","Kyrgyzstan":"Kyrgyzstan","Laos":"Laos","Latvia":"Latvia","Lebanon":"Lebanon","Lesotho":"Lesotho","Liberia":"Liberia","Libya":"Libya","Liechtenstein":"Liechtenstein","Lithuania":"Lithuania","Luxembourg":"Luxembourg","Macao_SAR":"Macao SAR","North_Macedonia":"North Macedonia","Madagascar":"Madagascar","Malawi":"Malawi","Malaysia":"Malaysia","Maldives":"Maldives","Mali":"Mali","Malta":"Malta","Marshall_Islands":"Marshall Islands","Martinique":"Martinique","Mauritania":"Mauritania","Mauritius":"Mauritius","Mayotte":"Mayotte","Mexico":"Mexico","Micronesia":"Micronesia","Moldova":"Moldova","Monaco":"Monaco","Mongolia":"Mongolia","Montenegro":"Montenegro","Montserrat":"Montserrat","Morocco":"Morocco","Mozambique":"Mozambique","Myanmar":"Myanmar","Namibia":"Namibia","Nauru":"Nauru","Nepal":"Nepal","Netherlands":"Netherlands","New_Caledonia":"New Caledonia","New_Zealand":"New Zealand","Nicaragua":"Nicaragua","Niger":"Niger","Nigeria":"Nigeria","Niue":"Niue","Norfolk_Island":"Norfolk Island","North_Korea":"North Korea","Northern_Mariana_Islands":"Northern Mariana Islands","Norway":"Norway","Oman":"Oman","Pakistan":"Pakistan","Palau":"Palau","Palestinian_Authority":"Palestinian Authority","Panama":"Panama","Papua_New_Guinea":"Papua New Guinea","Paraguay":"Paraguay","Peru":"Peru","Philippines":"Philippines","Pitcairn_Islands":"Pitcairn Islands","Poland":"Poland","Portugal":"Portugal","Puerto_Rico":"Puerto Rico","Qatar":"Qatar","Réunion":"Réunion","Romania":"Romania","Russia":"Russia","Rwanda":"Rwanda","Saba":"Saba","Saint_Barthélemy":"Saint Barthélemy","Saint_Kitts_and_Nevis":"Saint Kitts and Nevis","Saint_Lucia":"Saint Lucia","Saint_Martin":"Saint Martin","Saint_Pierre_and_Miquelon":"Saint Pierre and Miquelon","Saint_Vincent_and_the_Grenadines":"Saint Vincent and the Grenadines","Samoa":"Samoa","San_Marino":"San Marino","São_Tomé_and_Príncipe":"São Tomé and Príncipe","Saudi_Arabia":"Saudi Arabia","Senegal":"Senegal","Serbia":"Serbia","Seychelles":"Seychelles","Sierra_Leone":"Sierra Leone","Singapore":"Singapore","Sint_Eustatius":"Sint Eustatius","Sint_Maarten":"Sint Maarten","Slovakia":"Slovakia","Slovenia":"Slovenia","Solomon_Islands":"Solomon Islands","Somalia":"Somalia","South_Africa":"South Africa","South_Georgia_and_South_Sandwich_Islands":"South Georgia and South Sandwich Islands","South_Sudan":"South Sudan","Spain":"Spain","Sri_Lanka":"Sri Lanka","St_Helena,_Ascension,_Tristan_da_Cunha":"St Helena, Ascension, Tristan da Cunha","Sudan":"Sudan","Suriname":"Suriname","Svalbard":"Svalbard","Swaziland":"Swaziland","Sweden":"Sweden","Switzerland":"Switzerland","Syria":"Syria","Taiwan":"Taiwan","Tajikistan":"Tajikistan","Tanzania":"Tanzania","Thailand":"Thailand","Timor-Leste":"Timor-Leste","Togo":"Togo","Tokelau":"Tokelau","Tonga":"Tonga","Trinidad_and_Tobago":"Trinidad and Tobago","Tunisia":"Tunisia","Turkey":"Turkey","Turkmenistan":"Turkmenistan","Turks_and_Caicos_Islands":"Turks and Caicos Islands","Tuvalu":"Tuvalu","US_Outlying_Islands":"U.S. Outlying Islands","US_Virgin_Islands":"U.S. Virgin Islands","Uganda":"Uganda","Ukraine":"Ukraine","United_Arab_Emirates":"United Arab Emirates","United_Kingdom":"United Kingdom","United_States":"United States","Uruguay":"Uruguay","Uzbekistan":"Uzbekistan","Vanuatu":"Vanuatu","Vatican_City":"Vatican City","Venezuela":"Venezuela","Vietnam":"Vietnam","Wallis_and_Futuna":"Wallis and Futuna","Yemen":"Yemen","Zambia":"Zambia","Zimbabwe":"Zimbabwe"},"SingleSelect":"SELECT ANY ONE","MultiSelect":"SELECT ALL THAT APPLY","SurveyIdentifier":"Name to identify this response …","HintText":"Enter your answer here","TextSubtitle":"TYPE YOUR ANSWER","ImageSubtitle":"ATTACH FILE","DateSubtitle":"TIME STAMP PRE POPULATED","LocationSubtitle":"YOUR CURRENT LOCATION","LocationQuestion":"Responder location","Next":"NEXT","NextQuestion":"NEXT QUESTION","Submit":"SUBMIT","ResponseSummaryTitle":"REVIEW YOUR RESPONSES BELOW","ResponseQuestionHeader":"Question","UniqueQuestion":"You can respond to this survey multiple times. To remember each response, you can give it any name or leave it as-is below.","identifierPrefix":"Response","LocationStatutory":"Your location will be included in response","emptyWarning":"Answer cannot be empty","locationWarning":"Please enable location service on your device to respond to this survey","limitWarning":"Answer too large to enter","NextQuesIndicator":"({0} of {1})","checkedRadioButton":"Checked, radio button","notCheckedRadioButton":"Not checked, radio button","checkedCheckBox":"Checked, checkbox","notCheckedCheckbox":"Not checked, checkbox","DummyUserName":"Member","MemberText":"Member","chooseCountryOption":"Choose your country/region","chooseCountryError":"Please choose your country/region","todayLabel":"Today","yesterdayLabel":"Yesterday","sendMessageTo":"Message ","chatMessageMissedCall":"Missed call at {0}","chatMessageCallEnded":"Call ended at {0}","chatMessageCallDeclined":"Call declined at {0}","chatMessageCallNotAnswered":"Call not answered at {0}","callStatusFailedOutgoing":"{0} is not reachable","callNoAnswer":"Call, no answer","callSingleDuration":"Call, {0}","callDefaultDuration":"Call, {0} {1}","secondDuration":"second","secondsDuration":"seconds","minuteDuration":"minute","minutesDuration":"minutes","hourDuration":"hour","hoursDuration":"hours","InterOpNonImDialogEnableContent":"This chat is now visible on Microsoft Teams as both participants have logged into O365 accounts on Kaizala","InterOpNonImDialogDisableContent":"This chat is no longer visible on Microsoft Teams as {0} has logged out of O365","InterOpNonImDialogSelfDisableContent":"This chat is no longer visible on Microsoft Teams as you have logged out of O365","InterOpNonImDialogAdminEnableContent":"This chat is now visible on Microsoft Teams as your organization has enabled it","InterOpNonImDialogAdminDisableContent":"This chat is no longer visible on Microsoft Teams as your organization has disabled it","InterOpNonImDialogLearnMore":"Learn more","InterOpUnsupportedMessageTypeContent":"You have received a message on Microsoft Teams that Kaizala does not support.","InterOpUnsupportedMessageOpenTeamsLinkLabel":"Open Microsoft Teams","XMoreFiles":"{0} more files","OneUserIsTyping":"{0} is typing...","TwoOrMoreUsersAreTyping":"2 or more people are typing...","ReportedMessageRemoved":"This message was found abusive and removed by Microsoft.","ReportedMessageText":"This message was reported and deleted for you.","DeleteForEveryoneDefault":"This message was deleted.","DeleteForEveryoneAdmin":"Admin deleted this message.","DeleteForEveryoneYou":"You deleted this message.","JoinGroupInviteUnsupportedTitle":"Unable to check invite link","JoinGroupInviteUnsupportedMessage":"Please update your Kaizala app and try again.","JoinGroupInviteInvalidTokenTitle":"Invalid invite link","JoinGroupInviteInvalidTokenMessage":"Oops! this Invite link has been revoked, please ask the group admin for a new link.","JoinGroupInviteAddingGroup":"Adding you to the group","JoinGroupInviteSubscribingGroup":"Subscribing you to the group","JoinGroupInviteFailedToJoin":"Unable to perform this action","JoinGroupInviteSuccessToAdd":"You are now added to the group","JoinGroupInviteSuccessToSubscribe":"You are now subscribed to the group","JoinGroupInviteFetchingAccessibilityText":"You have been invited to a group; Please wait, getting group information.","JoinGroupInviteToJoinAccessibilityText":"You have been invited to a group; Please Join this Group to get latest update","JoinGroupInviteToOpenAccessibilityText":"You have been invited to a group; Please Open this Group to see the messages","JoinGroupInviteTitleNonMemberPrivate":"You have been invited to the group","JoinGroupInviteTitleNonMemberPublic":"Please subscribe to this public group","JoinGroupInviteTitleMemberPrivate":"You are already a member of this group","JoinGroupInviteTitleMemberPublic":"You are already a member of this public group","JoinGroupInviteTitleSubscriberPublic":"You are already subscriber of this public group","JoinGroupInviteFetchInfoText":"Checking invite link...","JoinGroupInvitePrivateGroupDescription":"Welcome to the group \\"{0}\\"","JoinGroupInvitePublicGroupDescription":"Hello! Welcome to {0}. Here, you will receive important updates, you can share your feedback and do much more.","JoinGroupInviteJoinButtonText":"Join Group","JoinGroupInviteSubscribeButtonText":"Subscribe","JoinGroupInviteCancelButtonText":"Cancel","JoinGroupInviteOkGotItButtonText":"Ok, got it","JoinGroupInviteViewGroupButtonText":"View Group","JoinGroupInviteSignInToolTipText":"Sign in to Kaizala Web to join this Kaizala Group","ActionMessageDeleted":"The action message you are trying to view does not exist anymore","Year":{"January":"Jan","February":"Feb","March":"Mar","April":"Apr","May":"May","June":"Jun","July":"Jul","August":"Aug","September":"Sep","October":"Oct","November":"Nov","December":"Dec"},"Days":{"Monday":"Mon","Tuesday":"Tue","Wednesday":"Wed","Thursday":"Thu","Friday":"Fri","Saturday":"Sat","Sunday":"Sun"},"AM":"AM","PM":"PM","Online":"Online","LastSeenFewSecondsAgo":"Last seen few seconds ago","LastSeen_":"Last seen ","_MinsAgo":" mins ago","LastSeenAt_":"Last seen at ","LastSeenYesterdayAt_":"Last seen yesterday at ","NewWebAppVersionAvailableTitle":"Update available","NewWebAppVersionAvailableLink":"Click to update Kaizala","removeGroupFromGroup":"Remove from group","members":"Members","FetchingGroupInformation":"Loading...","MakingAdmin":"Making {0} group admin","MakeAdminSuccess":"{0} is now a group admin","MakeAdminFailure":"Unable to make {0} group admin","RemovingAdmin":"Removing {0} as a group admin","RemoveAdminSuccess":"{0} is no longer group admin ","RemoveAdminFailure":"Unable to remove {0} from admin\'s role","RemovingFromGroup":"Removing {0}","RemoveFromGroupSuccess":"You removed {0}","RemoveFromGroupFailure":"Unable to remove {0}","AddingMembers":"Adding {0} members","AddMembersSuccess":"You added {0} members","AddMembersFailure":"Unable to add members","AddingMember":"Adding {0}","AddMemberSuccess":"You added {0}","AddMemberFailure":"Unable to add {0} to group","InviteByEmailText":"Invite via email","InviteByPhoneText":"Invite via SMS","AddedButNotOnKaizalaText":"Added but not on Kaizala","RegisteredMembersText":"Registered","unProvisionedUsersText":"Unregistered","ProfilemailAccessiblityText":"Email-Id","ProfilenumAccessiblityText":"phone number","ProfiledesignAccessiblityText":"Designation","ProfilelocAccessiblityText":"Location","ProfilenameAccessiblityText":"Name","ProfileStatusAccessibilityText":"Status","ProfileOrgAccessibilityText":"Organization","ProfileCloseAccessibiltyText":"Close profile","groupInformation":"Group Info","subscribers":"subscribers","Subscriber":"subscriber","participants":"Participants","searchParticipants":"search participants","admin":"ADMIN","addParticipant":"Add Participant","makeAdmin":"Make admin","removeFromGroup":"Remove","removeAdmin":"Remove as admin","addParticipants":"Add Participants","search":"Search","publicGroupText":"Public Group","clickForInfoText":"click here for more info","MembersAddedText":"Members Added","MembersAddedFailed":"Unable to add members","userProfileImmViewHeader":"Profile Info","closeGroupInfo":"Close Group Info","groupDescription":"Group Description","participantList":"Participants List","publicGroupDesc":"Public Group Description","openGroupInfo":"Open Group Info","openUserProfileInfo":"Open User Profile Info","GroupPictureAccessibilityText":"Group photo","O365LoginCheck":"Checking O365 Login","O365CloseAccessibilityText":"Close office 365 login information","O365LoginPopUpTitleText":"Sign in to office 365 on your mobile device!","O365LoginPopUpDescriptionText":"Conversations are waiting for you!","O365LoginPopUpSignInText":"Please sign in with your Office 365 account from Me > Linked accounts","OneOnOneChatInviteSignInToolTipText":"Sign in to Kaizala Web to join this conversation","MessageSentText":"Message sent","MessageReadText":"Message read","MessagePlayedText":"Message played","MessageDeliveredText":"Message delivered","SendingText":"Sending...","SendingFailed":"Message send failed","JSDownloadFailedText":"We are unable to download a required file. Please check your network and refresh the page.","GroupExternalUserPreviewMessage":"Only employees can access","GroupExternalUserPreviewMessageFormat":"Only employees of {0} can access","SmileFeedbackError":"Couldn\'t submit feedback at this time. Please try after some time.","MiniAppInspectionAlertTitle":"Cannot access this card now","MiniAppInspectionAlertMessage":"You may have opened browser page source through inspect, please close it to open the selected card.","EmoticonButtonLabel":"Emoticon","ClosePaletteButtonLabel":"Close Palette","CloseEmoticonButtonLabel":"Close Emoticon","AudioPlayButton":"Play","AudioPauseButton":"Pause","WebAppUpgradeHeaderText":"Updated Terms of Service","WebAppUpgradeText":"With this update to Kaizala Web, the Microsoft Software License Terms (\\"Terms\\") have been changed.","WebAppUpgradeTermsText":" Please review the changed Terms here.","WebAppUpgradePolicyText":"If you accept the changed terms, please click on \\"Agree\\" below. If you do not accept the changed Terms, please click on \\"Disagree\\" to logout of Kaizala Web.","AgreeText":"Agree","DisagreeText":"Disagree","GroupOptionsText":"GroupOptions","DraftMessage":"Drafted Message : ","LoadingParticipantsForAtMentions":"Loading Participants, please wait","ReactionDetailsLikeTitle":"Likes","ReactionDetailsCommentTitle":"Comments","ReactionDetailsLikesAndCommentsTitle":"Likes and Comments","LikedByText":"Liked by :","CommentedByText":", Commented by :","FetchingReactionDetails":"Loading...","LikeDetailsText":"Like details","CommentDetailsText":"Comment details","NoLikesText":"Be the first one to Like!","NoCommentText":"Be the first one to Comment!","CommentInputHintText":"Write a comment...","SendCommentButtonLabel":"Send comment","SendingCommentText":"Sending comment...","CommentSentText":"Comment sent","ConversationOptionsText":"ConversationOptions","pinConversation":"Pin this conversation","unpinConversation":"Unpin this conversation","muteConversation":"Mute conversation","unmuteConversation":"Unmute conversation","markAsRead":"Mark as read","markAsUnread":"Mark as unread","clearChatFromMe":"Clear chat for me","YouCommented":"You have commented","YouDidNotComment":"You have not made any comment","YouLiked":"You have liked","YouDidNotLike":"You have not liked","PinnedChat":"Chat pinned","UnpinnedChat":"Chat unpinned","PinningChat":"Pinning chat","UnpinningChat":"Unpinning chat","MutedChat":"Chat muted","UnmutedChat":"Chat unmuted","MutingChat":"Muting chat","UnmutingChat":"Unmuting chat","MuteNotificationTitle":"Mute notifications for","eightHours":"8 hours","oneWeek":"1 week","oneYear":"1 year","mute":"Mute","showNotifications":"Show notifications","MarkedAsRead":"Marked as read","MarkedAsUnread":"Marked as unread","MarkingAsRead":"Marking as read","MarkingAsUnread":"Marking as unread","O365signInRequiredTitle":"Office 365 sign in required","ClearingChat":"Clearing chat","ClearedChat":"Chat cleared","ClearChatAlertTitle":"Clear chat history?","clearButtonText":"Clear","ClearChatAlertMessage":"All conversations and media in this chat will be cleared. You can restore chat history for a maximum of past 1 month.","Allow":"Allow","CustomAppConsentTitle":"Trust this action?","CustomAppConsentMessage":"\\"{0}\\" is a custom action created by \\"{1}\\" and may use your information registered with Kaizala"}')},function(e,t,n){var i=n(114),r=n(682);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};i(r,o);e.exports=r.locals||{}},function(e,t,n){"use strict";n.r(t);var i=n(72),r=n.n(i)()(!1);r.push([e.i,".text-view-white-space{white-space:pre-wrap}\n",""]),t.default=r},,function(e,t,n){"use strict";n.r(t);var i=n(72),r=n.n(i)()(!1);r.push([e.i,".auth-container{width:100%;height:100%;min-height:100%;overflow:auto;display:flex;flex-direction:column-reverse}.lower-white-div{width:100%;height:50%;min-height:50%;background-color:white;position:absolute;bottom:0}.content-wrapper{width:100%;height:100%;position:absolute;margin:auto;left:0;right:0;top:0;bottom:0;display:flex;background:#f4f4f4;flex-direction:row}.kaizala-online-container{margin-top:20px;margin-left:25px;display:flex;flex-direction:row;align-content:center;width:-webkit-max-content;width:-moz-max-content;width:max-content}.kaizala-online-title{-ms-high-contrast-adjust:none;display:flex;flex-direction:row;align-content:center;width:-webkit-max-content;width:-moz-max-content;width:max-content;padding:2px}.kaizala-online-text{font-size:20px;color:white;margin-left:10px}.kaizala-preview-text{font-size:20px;color:white;margin-left:4px;font-weight:100}.sign-in-wrapper{display:flex;flex-direction:column;position:relative;width:100%;height:100%;margin-top:4%;margin-left:30px}.sign-in-form-wrapper{display:flex;flex-direction:column;justify-content:center;align-self:center;max-width:348px}.image-div{display:flex;flex-direction:column;align-items:center;justify-content:center}.image-div>img{width:545px;height:545px}.empty-div{width:4%}.sign-in-div{background:transparent;display:flex;flex-direction:row;justify-content:center;min-width:900px}.sign-in-heading{font-size:32px;font-weight:bold;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal;text-align:left;color:#32485f}.sign-in-help-text{width:203;height:44;font-size:16px;font-weight:normal;font-style:normal;font-stretch:normal;letter-spacing:normal;text-align:left;color:#32485f;line-height:44px}.sign-in-text{font-size:24px;font-weight:normal;font-style:normal;font-stretch:normal;line-height:32px;letter-spacing:0px;text-align:left;margin-left:2px;color:#000000}.phone-number-text{font-size:24px;font-weight:normal;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:0px;text-align:left;margin-left:2px;color:#000000}.kaizala-logo-wrapper{display:flex;flex-direction:row;align-items:flex-start;margin-bottom:83px;margin-left:-4px}.kaizala-logo{height:40px;width:40px;margin-right:10px}.kaizala-title{font-size:1.5em}@media (-ms-high-contrast){.webapp-logo-high-contrast{background-color:white}}.auth-code-verification-wrapper{width:100%;height:100%;display:flex;flex-direction:row;justify-content:center;margin-top:4%;min-width:900px;background:#f4f4f4}.auth-code-verification-form-wrapper{background:transparent;display:flex;flex-direction:column;max-width:348px}.auth-code-verification-image-div{display:flex;flex-direction:row}.auth-code-verification-image-div>img{width:545px;height:545px}.auth-code-verification-div{display:flex;flex-direction:row;background:transparent;justify-content:center;margin-left:90px}.auth-code-verification-text{font-size:24px;font-weight:normal;font-style:normal;font-stretch:normal;line-height:32px;letter-spacing:0px;text-align:left;margin-left:2px;color:#000000}.auth-code-verification-empty-div{width:34px}.auth-code-verification-sign-in-button{width:160px;height:60px;border-radius:30px;outline:0px none;display:'flex';align-items:'center';flex-direction:row;text-align:center;border:0px none;margin-top:20px;margin-bottom:20px}.pairing-code-text{font-size:24px;font-weight:normal;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:0px;text-align:left;margin-left:2px;color:#000000}.ok-button{width:160px;height:48px;border-radius:30px;outline:0px none;display:'flex';align-items:'center';flex-direction:row;text-align:center;border:0px none}.ok-button-text{font-size:18px;font-style:normal;font-weight:normal;font-stretch:normal;line-height:normal;text-align:center;color:white}.preview-tag-icon{margin-left:16px;align-self:center;border-radius:8px}.kaizala-icons-wrapper{display:flex;flex-direction:row;align-items:center;justify-content:center}.fallback-options{margin-top:8px;margin-left:2px;font-size:14px;font-weight:normal;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal;text-align:left;color:#000000}.midnight-blue-text{color:#32495f}.sign-in-flow-link a{color:#004fa8;cursor:pointer}.sign-in-flow-link a label{cursor:pointer}.sign-in-flow-link a:link{color:#004fa8}.sign-in-flow-link a:visited{color:#004fa8}.sign-in-flow-link a:hover{color:#004fa8}.sign-in-flow-link a:focus{color:#004fa8;border-bottom:solid 1px #004fa8}.sign-in-flow-link a:active{color:#004fa8}.align-center{text-align:center}.align-left{text-align:left}.inputs-wrapper{border:solid 1px #d4d8db;border-radius:30px;background:white;margin-top:24px;height:60px;width:344px;display:flex;flex-direction:row}.inputs-wrapper>input[type='text']{flex:1;border:0px none;font-size:16px;padding-left:20px;outline:0px none;min-width:50px;border-radius:30px}.phone-number-input{font-size:16px;border:solid 1px #e5e5e5;height:60px;width:344px;display:flex;flex-direction:row;padding:12px;text-align:center;font-family:Roboto;background:white;border-radius:30px}.phone-number-input:focus{border:solid 1px #00508d}.phone-number-input>span{border:0px none;font-size:16px;outline:0px none;min-width:40px;align-content:center;margin-right:6px}.phone-number-input>input[type='text']{flex:1;font-size:16px;padding-left:12px;outline:0px none;min-width:50px;border-left:solid 1px #d4d8db;border-right:0px;border-bottom:0px;border-top:0px;margin-bottom:2px}.error-wrapper{border:solid 1px var(--indicatorColor1) !important}.error-text{font-size:12px;color:var(--indicatorColor1);margin-top:6px}.normal-text{font-size:12px;color:#000000;margin-top:6px;text-align:left}.success-text{font-size:12px;color:green;margin-top:6px}::-moz-placeholder{color:#9e9e9e;opacity:1}:-ms-input-placeholder{color:#9e9e9e;opacity:1}::placeholder{color:#9e9e9e;opacity:1}:-ms-input-placeholder{color:#9e9e9e}::-ms-input-placeholder{color:#9e9e9e}.left-border{border-left:solid 1px #d4d8db}.remember-me{text-align:center;margin-top:15px;margin-bottom:32px}.sign-in-button{width:160px;height:60px;border-radius:30px;outline:0px none;display:'flex';align-items:'center';flex-direction:row;text-align:center;border:0px none}.sign-in-button-disable{background-color:#98a3af}.sign-in-button-disable:focus{background-color:#818a94}.sign-in-button-text{font-size:16px;font-weight:500;text-align:center;flex:1;color:white;font-family:'Roboto'}.sign-in-using-qrcode-button{width:100%;margin-top:4vh;height:45px;border-radius:22px;border:solid 1px #006ff1;background-color:white;outline:0px none}.sign-in-using-qrcode-button-content{text-align:center;display:inline;font-size:14px;font-weight:normal;font-style:normal;font-stretch:normal;text-align:center;color:#004fa8}.sign-in-using-qrcode-button-content>img{vertical-align:text-top;width:14px;height:14px}.agreement-container{margin-top:54px;display:flex;flex-direction:row;text-align:center}.agreement-checkbox{width:15px !important;height:15px !important;border-radius:2px;background-color:var(--textWhiteColor);border:solid 1px var(--separatorColor2);vertical-align:middle}.agreement-checkbox:focus{outline:solid 1px #00508d}.agreement-declaration-text{flex:1;font-family:Roboto;font-size:12px;text-align:left;outline:0px none;color:#000000}.network-status{background-color:#98a3af;color:white;text-align:center;height:25px;font-size:14px;align-items:center;justify-content:center;display:flex}.reconnect-button{margin-left:8px;color:white;cursor:pointer}.reconnect-button:focus{border:dashed 1px white;padding:2px 4px 2px 4px}.sign-in-tooltip{align-self:center;margin-right:-10px;margin-top:-66px}\n",""]),t.default=r},function(e,t,n){"use strict";var i=n(162),r=n(468),o=n(686),a=n(474);function s(e){var t=new o(e),n=r(o.prototype.request,t);return i.extend(n,o.prototype,t),i.extend(n,t),n}var c=s(n(384));c.Axios=o,c.create=function(e){return s(a(c.defaults,e))},c.Cancel=n(475),c.CancelToken=n(700),c.isCancel=n(473),c.all=function(e){return Promise.all(e)},c.spread=n(701),c.isAxiosError=n(702),e.exports=c,e.exports.default=c},function(e,t,n){"use strict";var i=n(162),r=n(469),o=n(687),a=n(688),s=n(474),c=n(698),l=c.validators;function u(e){this.defaults=e,this.interceptors={request:new o,response:new o}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&c.assertOptions(t,{silentJSONParsing:l.transitional(l.boolean,"1.0.0"),forcedJSONParsing:l.transitional(l.boolean,"1.0.0"),clarifyTimeoutError:l.transitional(l.boolean,"1.0.0")},!1);var n=[],i=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(i=i&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var r,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!i){var u=[a,void 0];for(Array.prototype.unshift.apply(u,n),u=u.concat(o),r=Promise.resolve(e);u.length;)r=r.then(u.shift(),u.shift());return r}for(var d=e;n.length;){var p=n.shift(),h=n.shift();try{d=p(d)}catch(e){h(e);break}}try{r=a(d)}catch(e){return Promise.reject(e)}for(;o.length;)r=r.then(o.shift(),o.shift());return r},u.prototype.getUri=function(e){return e=s(this.defaults,e),r(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),i.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,i){return this.request(s(i||{},{method:e,url:t,data:n}))}})),e.exports=u},function(e,t,n){"use strict";var i=n(162);function r(){this.handlers=[]}r.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){i.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r},function(e,t,n){"use strict";var i=n(162),r=n(689),o=n(473),a=n(384);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=r.call(e,e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=r.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(s(e),t&&t.response&&(t.response.data=r.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var i=n(162),r=n(384);e.exports=function(e,t,n){var o=this||r;return i.forEach(n,(function(n){e=n.call(o,e,t)})),e}},function(e,t,n){"use strict";var i=n(162);e.exports=function(e,t){i.forEach(e,(function(n,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[i])}))}},function(e,t,n){"use strict";var i=n(472);e.exports=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(i("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";var i=n(162);e.exports=i.isStandardBrowserEnv()?{write:function(e,t,n,r,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(r)&&s.push("path="+r),i.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var i=n(694),r=n(695);e.exports=function(e,t){return e&&!i(t)?r(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var i=n(162),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(i.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=i.trim(e.substr(0,o)).toLowerCase(),n=i.trim(e.substr(o+1)),t){if(a[t]&&r.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},function(e,t,n){"use strict";var i=n(162);e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=i.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";(function(t){var i=n(699),r={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){r[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={},a=i.version.split(".");function s(e,t){for(var n=t?t.split("."):a,i=e.split("."),r=0;r<3;r++){if(n[r]>i[r])return!0;if(n[r]<i[r])return!1}return!1}r.transitional=function(e,n,r){var a=n&&s(n);function c(e,t){return"[Axios v"+i.version+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(i,r,s){if(!1===e)throw new Error(c(r," has been removed in "+n));return a&&!o[r]&&(o[r]=!0,t.warn(c(r," has been deprecated since v"+n+" and will be removed in the near future"))),!e||e(i,r,s)}},e.exports={isOlderVersion:s,assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var i=Object.keys(e),r=i.length;r-- >0;){var o=i[r],a=t[o];if(a){var s=e[o],c=void 0===s||a(s,o,e);if(!0!==c)throw new TypeError("option "+o+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:r}}).call(this,n(110))},function(e){e.exports=JSON.parse('{"_args":[["axios@0.21.4","C:\\\\Kaizala_Client\\\\WebApp"]],"_from":"axios@0.21.4","_id":"axios@0.21.4","_inBundle":false,"_integrity":"sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==","_location":"/axios","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"axios@0.21.4","name":"axios","escapedName":"axios","rawSpec":"0.21.4","saveSpec":null,"fetchSpec":"0.21.4"},"_requiredBy":["/","/chromedriver"],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.21.4.tgz","_spec":"0.21.4","_where":"C:\\\\Kaizala_Client\\\\WebApp","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"^1.14.0"},"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"homepage":"https://axios-http.com","jsdelivr":"dist/axios.min.js","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","unpkg":"dist/axios.min.js","version":"0.21.4"}')},function(e,t,n){"use strict";var i=n(475);function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new i(e),t(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r((function(t){e=t})),cancel:e}},e.exports=r},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},function(e,t,n){"use strict";n.r(t);var i=n(72),r=n.n(i)()(!1);r.push([e.i,":root{--primary500: #00508d;--primary400: #0078d4;--primary300: #00a1ff;--primary200: #c1d9eb;--primary100: #bfe8ff;--backgroundColor1: #f3f6f8;--backgroundColor2: #ffffff;--backgroundColor3: #00000000;--backgroundColor4: #ffffff;--backgroundColor5: #f4f4f4;--backgroundColor6: #c5eaff;--backgroundColor7: #e3fafe;--backgroundColor8: #ffffff99;--backgroundColor9: #b4dbf1;--backgroundColor10: #eaf1f5;--backgroundColor11: #a2c5d8;--backgroundColor12: #d9d9d9;--backgroundColor13: #bcbcbc;--backgroundColor14: #f4f4f4;--backgroundColor15: #ffffff;--backgroundColor16: #f3f6f8;--surfaceColor1: #ffffff;--surfaceColor2: #000000;--surfaceColor3: #323639;--separatorColor1: #f4f4f4;--separatorColor2: #d4d8db;--separatorColor3: #0078d4;--textPrimaryColor: #000000;--textSecondaryColor: #737373;--textTertiaryColor: #98a3a5;--textQuaternaryColor: #32495f;--textQuinaryColor: #636363;--textReverseColor: #ffffff;--textLinkColor: #0078d4;--textBoldColor: #00508d;--textNegativeColor: #e81123;--textPositiveColor: #107c10;--textWhiteColor: #ffffff;--textPinkColor: #de1289;--iconPrimaryColor: #0078d4;--iconSecondaryColor: #667787;--iconTertiaryColor: #98a3a5;--iconReverseColor: #ffffff;--iconNegativeColor: #e81123;--iconPositiveColor: #107c10;--indicatorColor1: #e81123;--indicatorColor2: #107c10;--indicatorColor3: #ffb900;--indicatorColor4: #e5faff;--listHeaderColor: #ffffff;--listItemHoverColor: #f4f4f4;--tabBackgroundColor: #00508d;--tabBackgroundHoverColor: #0078d480;--tabSelectedBackgroundColor: #0078d4;--scrollBarColor1: #d3d3d3;--scrollBarColor2: #a9a9a9;--shimmerShineColor1: #f6f7f8;--shimmerShineColor2: #edeef1}:root[theme='dark']{--primary500: #00508d;--primary400: #0078d4;--primary300: #0090ff;--primary200: #c1d9eb;--primary100: #bfe8ff;--backgroundColor1: #292929;--backgroundColor2: #141414;--backgroundColor3: #00000000;--backgroundColor4: #212121;--backgroundColor5: #292929;--backgroundColor6: #00508d;--backgroundColor7: #193e57;--backgroundColor8: #21212160;--backgroundColor9: #347bb2;--backgroundColor10: #292929;--backgroundColor11: #3c7390;--backgroundColor12: #12181c;--backgroundColor13: #6b757b;--backgroundColor14: #212121;--backgroundColor15: #292929;--backgroundColor16: #000000;--surfaceColor1: #000000;--surfaceColor2: #000000;--surfaceColor3: #323639;--separatorColor1: #292929;--separatorColor2: #4e4e52;--separatorColor3: #b3dfe6;--textPrimaryColor: #ffffff;--textSecondaryColor: #8e8e8e;--textTertiaryColor: #acacac;--textQuaternaryColor: #e1e1e1;--textQuinaryColor: #bfbfbf;--textReverseColor: #000000;--textLinkColor: #00a1ff;--textBoldColor: #00508d;--textNegativeColor: #e81123;--textPositiveColor: #107c10;--textWhiteColor: #ffffff;--textPinkColor: #f359b3;--iconPrimaryColor: #ffffff;--iconSecondaryColor: #767676;--iconTertiaryColor: #98a3a5;--iconReverseColor: #000000;--iconNegativeColor: #e81123;--iconPositiveColor: #107c10;--indicatorColor1: #e81123;--indicatorColor2: #107c10;--indicatorColor3: #ffb900;--indicatorColor4: #e5faff;--listHeaderColor: #212121;--listItemHoverColor: #404040;--tabBackgroundColor: #212121cc;--tabBackgroundHoverColor: #404040;--tabSelectedBackgroundColor: #505050;--scrollBarColor1: #a9a9a9;--scrollBarColor2: #808080;--shimmerShineColor1: #545454;--shimmerShineColor2: #424242}a{color:inherit;text-decoration:inherit}.error-container{background:transparent;opacity:50%}.canvas-container{flex:1;display:flex;flex-direction:column;min-height:0px;min-width:520px;background-repeat:repeat}.qrcode-container{margin-bottom:10px;margin-left:10px;margin-right:10px;margin-top:10px}.display-none{display:none !important}.shadow-left-top{border:0.5px solid var(--textTertiaryColor);margin:10px}.loader{border:4px solid #f3f3f3;border-top:4px solid #3498db;border-radius:50%;width:56px;height:56px;-webkit-animation:spin 1s linear infinite;animation:spin 1s linear infinite}.very-small-loader{border:2px solid #f3f3f3;border-top:2px solid #3498db;width:20px;height:20px}.small-loader{border:3px solid #f3f3f3;border-top:3px solid #3498db;width:35px;height:35px}.large-loader{border:5px solid #f3f3f3;border-top:5px solid #3498db;width:70px;height:70px}.notification_loader{border:4px solid #fff;border-top:4px solid rgba(255,255,255,0.4);border-radius:50%;width:32px;height:32px;-webkit-animation:spin 1.5s linear infinite;animation:spin 1.5s linear infinite}@-webkit-keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.connectivity-view{z-index:1000;height:0px;overflow:'visible'}a.webapp-links{display:inline-block;color:#006ff1;cursor:pointer;word-break:break-all}a.webapp-links.label{cursor:pointer}a.webapp-links:link{color:#006ff1}a.webapp-links:visited{color:#006ff1}a.webapp-links:hover{color:#006ff1}a.webapp-links:active{color:#006ff1}a.webapp-links:focus{color:#006ff1;border-bottom:solid 1px #006ff1}.webapp-button{background-color:#0078d4 !important;border:solid 2px #0078d4 !important;cursor:pointer}.tappable-icon{cursor:pointer}*:focus{outline:0}.progress{min-width:200px}input:invalid{border:solid 1px #e32c00 !important}.context-menu:hover{background-color:var(--separatorColor2);cursor:pointer}.circular-background{border-radius:8px;color:#fff;float:right;line-height:20px;text-align:center;vertical-align:middle;height:20px;min-width:20px;font-size:14px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;padding-left:4px;padding-right:4px;margin-left:4px;margin-right:4px;font-weight:bold}.clickable_sender_link:hover{text-decoration:underline}.alert-dialog-button{align-items:center;display:flex;justify-content:center;height:32px;min-width:108px;border-radius:16px;margin-left:28px;border:solid 1px #0078d4;cursor:pointer;font-family:Roboto;font-weight:bold;font-size:14px;white-space:nowrap;color:#0078d4}.alert-dialog-button-rect{border-radius:8px !important}.alert-dialog-button:focus{background:#0078d4;color:#ffffff}.alert-dialog-button:blur{background:#ffffff;color:#0078d4}.alert-dialog-button-medium{width:128px}.picker-submit-button-container{min-height:52px;height:auto;display:flex;flex-direction:column;align-items:center;background-image:linear-gradient(to bottom, rgba(255,255,255,0), var(--backgroundColor8) 14%, var(--backgroundColor2) 24%);z-index:1}.picker-submit-button{align-items:center;display:flex;justify-content:center;height:44px;width:312px;border-radius:100px;margin-left:42px;margin-right:42px;margin-top:22px;border:solid 1px #0078d4;cursor:pointer;font-family:Roboto;font-weight:500;font-size:14px;white-space:nowrap;background:#0078d4;color:#ffffff}.picker-submit-button-disabled{align-items:center;display:flex;justify-content:center;height:44px;width:312px;border-radius:100px;margin-left:42px;margin-right:42px;margin-top:22px;border:solid 1px #0078d4;font-family:Roboto;font-weight:500;font-size:14px;white-space:nowrap;background:#0078d4;color:#ffffff;opacity:0.4;pointer-events:none}.message-options{position:absolute;right:0px;top:0px}.message-options-rtl{position:absolute;left:0px;top:0px}.div-scrollable{overflow:hidden;overflow-y:auto;min-height:0px;flex:1;-ms-overflow-style:-ms-scrollbar;scrollbar-width:thin}.div-scrollable::-webkit-scrollbar{width:5px}.div-scrollable::-webkit-scrollbar-track{background:var(--backgroundColor3)}.div-scrollable::-webkit-scrollbar-thumb{background:var(--scrollBarColor1)}.div-scrollable::-webkit-scrollbar-thumb:hover{background:var(--scrollBarColor2)}.div-scrollable::-moz-scrollbar{display:none}.div-scrollable::-ms-scrollbar{display:none}.div-scrollable::-o-scrollbar{display:none}\n",""]),t.default=r},function(e,t,n){"use strict";t.byteLength=function(e){var t=l(e),n=t[0],i=t[1];return 3*(n+i)/4-i},t.toByteArray=function(e){var t,n,i=l(e),a=i[0],s=i[1],c=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),u=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[u++]=255&t);1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t);return c},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,o=[],a=0,s=n-r;a<s;a+=16383)o.push(u(e,a,a+16383>s?s:a+16383));1===r?(t=e[n-1],o.push(i[t>>2]+i[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"="));return o.join("")};for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)i[s]=a[s],r[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var r,o,a=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,i,r){var o,a,s=8*r-i-1,c=(1<<s)-1,l=c>>1,u=-7,d=n?r-1:0,p=n?-1:1,h=e[t+d];for(d+=p,o=h&(1<<-u)-1,h>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=p,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=i;u>0;a=256*a+e[t+d],d+=p,u-=8);if(0===o)o=1-l;else{if(o===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,i),o-=l}return(h?-1:1)*a*Math.pow(2,o-i)},t.write=function(e,t,n,i,r,o){var a,s,c,l=8*o-r-1,u=(1<<l)-1,d=u>>1,p=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:o-1,f=i?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+d>=1?p/c:p*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*c-1)*Math.pow(2,r),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,r),a=0));r>=8;e[n+h]=255&s,h+=f,s/=256,r-=8);for(a=a<<r|s,l+=r;l>0;e[n+h]=255&a,h+=f,a/=256,l-=8);e[n+h-f]|=128*g}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";var i=n(708),r=n(218),o=n(478),a=n(386),s=n(479),c=Object.prototype.toString;function l(e){if(!(this instanceof l))return new l(e);this.options=r.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(a[n]);if(t.header&&i.deflateSetHeader(this.strm,t.header),t.dictionary){var u;if(u="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=i.deflateSetDictionary(this.strm,u)))throw new Error(a[n]);this._dict_set=!0}}function u(e,t){var n=new l(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}l.prototype.push=function(e,t){var n,a,s=this.strm,l=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===c.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new r.Buf8(l),s.next_out=0,s.avail_out=l),1!==(n=i.deflate(s,a))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(r.shrinkBuf(s.output,s.next_out))):this.onData(r.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===a?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==a||(this.onEnd(0),s.avail_out=0,!0)},l.prototype.onData=function(e){this.chunks.push(e)},l.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=l,t.deflate=u,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,u(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,u(e,t)}},function(e,t,n){"use strict";var i,r=n(218),o=n(709),a=n(476),s=n(477),c=n(386);function l(e,t){return e.msg=c[t],t}function u(e){return(e<<1)-(e>4?9:0)}function d(e){for(var t=e.length;--t>=0;)e[t]=0}function p(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(r.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function h(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,p(e.strm)}function f(e,t){e.pending_buf[e.pending++]=t}function g(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function m(e,t,n,i){var o=e.avail_in;return o>i&&(o=i),0===o?0:(e.avail_in-=o,r.arraySet(t,e.input,e.next_in,o,n),1===e.state.wrap?e.adler=a(e.adler,t,o,n):2===e.state.wrap&&(e.adler=s(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)}function E(e,t){var n,i,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,l=e.window,u=e.w_mask,d=e.prev,p=e.strstart+258,h=l[o+a-1],f=l[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(l[(n=t)+a]===f&&l[n+a-1]===h&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do{}while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<p);if(i=258-(p-o),o=p-258,i>a){if(e.match_start=t,a=i,i>=s)break;h=l[o+a-1],f=l[o+a]}}}while((t=d[t&u])>c&&0!=--r);return a<=e.lookahead?a:e.lookahead}function _(e){var t,n,i,o,a,s=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=s+(s-262)){r.arraySet(e.window,e.window,s,s,0),e.match_start-=s,e.strstart-=s,e.block_start-=s,t=n=e.hash_size;do{i=e.head[--t],e.head[t]=i>=s?i-s:0}while(--n);t=n=s;do{i=e.prev[--t],e.prev[t]=i>=s?i-s:0}while(--n);o+=s}if(0===e.strm.avail_in)break;if(n=m(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=n,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+3-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function S(e,t){for(var n,i;;){if(e.lookahead<262){if(_(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=E(e,n)),e.match_length>=3)if(i=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(h(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(h(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(h(e,!1),0===e.strm.avail_out)?1:2}function T(e,t){for(var n,i,r;;){if(e.lookahead<262){if(_(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=E(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,i=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(h(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=o._tr_tally(e,0,e.window[e.strstart-1]))&&h(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(h(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(h(e,!1),0===e.strm.avail_out)?1:2}function v(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function I(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(1146),this.dyn_dtree=new r.Buf16(122),this.bl_tree=new r.Buf16(78),d(this.dyn_ltree),d(this.dyn_dtree),d(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(16),this.heap=new r.Buf16(573),d(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(573),d(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function b(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):l(e,-2)}function y(e){var t,n=b(e);return 0===n&&((t=e.state).window_size=2*t.w_size,d(t.head),t.max_lazy_match=i[t.level].max_lazy,t.good_match=i[t.level].good_length,t.nice_match=i[t.level].nice_length,t.max_chain_length=i[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function C(e,t,n,i,o,a){if(!e)return-2;var s=1;if(-1===t&&(t=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),o<1||o>9||8!==n||i<8||i>15||t<0||t>9||a<0||a>4)return l(e,-2);8===i&&(i=9);var c=new I;return e.state=c,c.strm=e,c.wrap=s,c.gzhead=null,c.w_bits=i,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+3-1)/3),c.window=new r.Buf8(2*c.w_size),c.head=new r.Buf16(c.hash_size),c.prev=new r.Buf16(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new r.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=a,c.method=n,y(e)}i=[new v(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(_(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,h(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(h(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(h(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(h(e,!1),e.strm.avail_out),1)})),new v(4,4,8,4,S),new v(4,5,16,8,S),new v(4,6,32,32,S),new v(4,4,16,16,T),new v(8,16,32,32,T),new v(8,16,128,128,T),new v(8,32,128,256,T),new v(32,128,258,1024,T),new v(32,258,258,4096,T)],t.deflateInit=function(e,t){return C(e,t,8,15,8,0)},t.deflateInit2=C,t.deflateReset=y,t.deflateResetKeep=b,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?-2:(e.state.gzhead=t,0):-2},t.deflate=function(e,t){var n,r,a,c;if(!e||!e.state||t>5||t<0)return e?l(e,-2):-2;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||666===r.status&&4!==t)return l(e,0===e.avail_out?-5:-2);if(r.strm=e,n=r.last_flush,r.last_flush=t,42===r.status)if(2===r.wrap)e.adler=0,f(r,31),f(r,139),f(r,8),r.gzhead?(f(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),f(r,255&r.gzhead.time),f(r,r.gzhead.time>>8&255),f(r,r.gzhead.time>>16&255),f(r,r.gzhead.time>>24&255),f(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),f(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(f(r,255&r.gzhead.extra.length),f(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=s(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(f(r,0),f(r,0),f(r,0),f(r,0),f(r,0),f(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),f(r,3),r.status=113);else{var m=8+(r.w_bits-8<<4)<<8;m|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(m|=32),m+=31-m%31,r.status=113,g(r,m),0!==r.strstart&&(g(r,e.adler>>>16),g(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),p(e),a=r.pending,r.pending!==r.pending_buf_size));)f(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),p(e),a=r.pending,r.pending===r.pending_buf_size)){c=1;break}c=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,f(r,c)}while(0!==c);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===c&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),p(e),a=r.pending,r.pending===r.pending_buf_size)){c=1;break}c=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,f(r,c)}while(0!==c);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===c&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&p(e),r.pending+2<=r.pending_buf_size&&(f(r,255&e.adler),f(r,e.adler>>8&255),e.adler=0,r.status=113)):r.status=113),0!==r.pending){if(p(e),0===e.avail_out)return r.last_flush=-1,0}else if(0===e.avail_in&&u(t)<=u(n)&&4!==t)return l(e,-5);if(666===r.status&&0!==e.avail_in)return l(e,-5);if(0!==e.avail_in||0!==r.lookahead||0!==t&&666!==r.status){var E=2===r.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(_(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(h(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(h(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(h(e,!1),0===e.strm.avail_out)?1:2}(r,t):3===r.strategy?function(e,t){for(var n,i,r,a,s=e.window;;){if(e.lookahead<=258){if(_(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=s[r=e.strstart-1])===s[++r]&&i===s[++r]&&i===s[++r]){a=e.strstart+258;do{}while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<a);e.match_length=258-(a-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(h(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(h(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(h(e,!1),0===e.strm.avail_out)?1:2}(r,t):i[r.level].func(r,t);if(3!==E&&4!==E||(r.status=666),1===E||3===E)return 0===e.avail_out&&(r.last_flush=-1),0;if(2===E&&(1===t?o._tr_align(r):5!==t&&(o._tr_stored_block(r,0,0,!1),3===t&&(d(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),p(e),0===e.avail_out))return r.last_flush=-1,0}return 4!==t?0:r.wrap<=0?1:(2===r.wrap?(f(r,255&e.adler),f(r,e.adler>>8&255),f(r,e.adler>>16&255),f(r,e.adler>>24&255),f(r,255&e.total_in),f(r,e.total_in>>8&255),f(r,e.total_in>>16&255),f(r,e.total_in>>24&255)):(g(r,e.adler>>>16),g(r,65535&e.adler)),p(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?l(e,-2):(e.state=null,113===t?l(e,-3):0):-2},t.deflateSetDictionary=function(e,t){var n,i,o,s,c,l,u,p,h=t.length;if(!e||!e.state)return-2;if(2===(s=(n=e.state).wrap)||1===s&&42!==n.status||n.lookahead)return-2;for(1===s&&(e.adler=a(e.adler,t,h,0)),n.wrap=0,h>=n.w_size&&(0===s&&(d(n.head),n.strstart=0,n.block_start=0,n.insert=0),p=new r.Buf8(n.w_size),r.arraySet(p,t,h-n.w_size,n.w_size,0),t=p,h=n.w_size),c=e.avail_in,l=e.next_in,u=e.input,e.avail_in=h,e.next_in=0,e.input=t,_(n);n.lookahead>=3;){i=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+3-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--o);n.strstart=i,n.lookahead=2,_(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=l,e.input=u,e.avail_in=c,n.wrap=s,0},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){"use strict";var i=n(218);function r(e){for(var t=e.length;--t>=0;)e[t]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],c=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],l=new Array(576);r(l);var u=new Array(60);r(u);var d=new Array(512);r(d);var p=new Array(256);r(p);var h=new Array(29);r(h);var f,g,m,E=new Array(30);function _(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function S(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function T(e){return e<256?d[e]:d[256+(e>>>7)]}function v(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function I(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,v(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function b(e,t,n){I(e,n[2*t],n[2*t+1])}function y(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function C(e,t,n){var i,r,o=new Array(16),a=0;for(i=1;i<=15;i++)o[i]=a=a+n[i-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=y(o[s]++,s))}}function A(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function O(e){e.bi_valid>8?v(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function N(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]}function R(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&N(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!N(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function P(e,t,n){var i,r,s,c,l=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],r=e.pending_buf[e.l_buf+l],l++,0===i?b(e,r,t):(b(e,(s=p[r])+256+1,t),0!==(c=o[s])&&I(e,r-=h[s],c),b(e,s=T(--i),n),0!==(c=a[s])&&I(e,i-=E[s],c))}while(l<e.last_lit);b(e,256,t)}function w(e,t){var n,i,r,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<c;n++)0!==o[2*n]?(e.heap[++e.heap_len]=l=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(r=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=a[2*r+1]);for(t.max_code=l,n=e.heap_len>>1;n>=1;n--)R(e,o,n);r=c;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],R(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,R(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,o,a,s,c=t.dyn_tree,l=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,f=t.stat_desc.max_length,g=0;for(o=0;o<=15;o++)e.bl_count[o]=0;for(c[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=c[2*c[2*(i=e.heap[n])+1]+1]+1)>f&&(o=f,g++),c[2*i+1]=o,i>l||(e.bl_count[o]++,a=0,i>=h&&(a=p[i-h]),s=c[2*i],e.opt_len+=s*(o+a),d&&(e.static_len+=s*(u[2*i+1]+a)));if(0!==g){do{for(o=f-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[f]--,g-=2}while(g>0);for(o=f;0!==o;o--)for(i=e.bl_count[o];0!==i;)(r=e.heap[--n])>l||(c[2*r+1]!==o&&(e.opt_len+=(o-c[2*r+1])*c[2*r],c[2*r+1]=o),i--)}}(e,t),C(o,l,e.bl_count)}function M(e,t,n){var i,r,o=-1,a=t[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=t[2*(i+1)+1],++s<c&&r===a||(s<l?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=r,0===a?(c=138,l=3):r===a?(c=6,l=3):(c=7,l=4))}function D(e,t,n){var i,r,o=-1,a=t[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),i=0;i<=n;i++)if(r=a,a=t[2*(i+1)+1],!(++s<c&&r===a)){if(s<l)do{b(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==o&&(b(e,r,e.bl_tree),s--),b(e,16,e.bl_tree),I(e,s-3,2)):s<=10?(b(e,17,e.bl_tree),I(e,s-3,3)):(b(e,18,e.bl_tree),I(e,s-11,7));s=0,o=r,0===a?(c=138,l=3):r===a?(c=6,l=3):(c=7,l=4)}}r(E);var L=!1;function x(e,t,n,r){I(e,0+(r?1:0),3),function(e,t,n,r){O(e),r&&(v(e,n),v(e,~n)),i.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){L||(!function(){var e,t,n,i,r,c=new Array(16);for(n=0,i=0;i<28;i++)for(h[i]=n,e=0;e<1<<o[i];e++)p[n++]=i;for(p[n-1]=i,r=0,i=0;i<16;i++)for(E[i]=r,e=0;e<1<<a[i];e++)d[r++]=i;for(r>>=7;i<30;i++)for(E[i]=r<<7,e=0;e<1<<a[i]-7;e++)d[256+r++]=i;for(t=0;t<=15;t++)c[t]=0;for(e=0;e<=143;)l[2*e+1]=8,e++,c[8]++;for(;e<=255;)l[2*e+1]=9,e++,c[9]++;for(;e<=279;)l[2*e+1]=7,e++,c[7]++;for(;e<=287;)l[2*e+1]=8,e++,c[8]++;for(C(l,287,c),e=0;e<30;e++)u[2*e+1]=5,u[2*e]=y(e,5);f=new _(l,o,257,286,15),g=new _(u,a,0,30,15),m=new _(new Array(0),s,0,19,7)}(),L=!0),e.l_desc=new S(e.dyn_ltree,f),e.d_desc=new S(e.dyn_dtree,g),e.bl_desc=new S(e.bl_tree,m),e.bi_buf=0,e.bi_valid=0,A(e)},t._tr_stored_block=x,t._tr_flush_block=function(e,t,n,i){var r,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),w(e,e.l_desc),w(e,e.d_desc),a=function(e){var t;for(M(e,e.dyn_ltree,e.l_desc.max_code),M(e,e.dyn_dtree,e.d_desc.max_code),w(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*c[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),r=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=r&&(r=o)):r=o=n+5,n+4<=r&&-1!==t?x(e,t,n,i):4===e.strategy||o===r?(I(e,2+(i?1:0),3),P(e,l,u)):(I(e,4+(i?1:0),3),function(e,t,n,i){var r;for(I(e,t-257,5),I(e,n-1,5),I(e,i-4,4),r=0;r<i;r++)I(e,e.bl_tree[2*c[r]+1],3);D(e,e.dyn_ltree,t-1),D(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),P(e,e.dyn_ltree,e.dyn_dtree)),A(e),i&&O(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(p[n]+256+1)]++,e.dyn_dtree[2*T(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){I(e,2,3),b(e,256,l),function(e){16===e.bi_valid?(v(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,n){"use strict";var i=n(711),r=n(218),o=n(478),a=n(480),s=n(386),c=n(479),l=n(714),u=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);if(this.header=new l,i.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=o.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=i.inflateSetDictionary(this.strm,t.dictionary))!==a.Z_OK))throw new Error(s[n])}function p(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}d.prototype.push=function(e,t){var n,s,c,l,d,p=this.strm,h=this.options.chunkSize,f=this.options.dictionary,g=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?p.input=o.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?p.input=new Uint8Array(e):p.input=e,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new r.Buf8(h),p.next_out=0,p.avail_out=h),(n=i.inflate(p,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&f&&(n=i.inflateSetDictionary(this.strm,f)),n===a.Z_BUF_ERROR&&!0===g&&(n=a.Z_OK,g=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;p.next_out&&(0!==p.avail_out&&n!==a.Z_STREAM_END&&(0!==p.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(c=o.utf8border(p.output,p.next_out),l=p.next_out-c,d=o.buf2string(p.output,c),p.next_out=l,p.avail_out=h-l,l&&r.arraySet(p.output,p.output,c,l,0),this.onData(d)):this.onData(r.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(g=!0)}while((p.avail_in>0||0===p.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),p.avail_out=0,!0)},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=d,t.inflate=p,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},t.ungzip=p},function(e,t,n){"use strict";var i=n(218),r=n(476),o=n(477),a=n(712),s=n(713);function c(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function l(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function u(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(852),t.distcode=t.distdyn=new i.Buf32(592),t.sane=1,t.back=-1,0):-2}function d(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,u(e)):-2}function p(e,t){var n,i;return e&&e.state?(i=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?-2:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,d(e))):-2}function h(e,t){var n,i;return e?(i=new l,e.state=i,i.window=null,0!==(n=p(e,t))&&(e.state=null),n):-2}var f,g,m=!0;function E(e){if(m){var t;for(f=new i.Buf32(512),g=new i.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,f,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,g,0,e.work,{bits:5}),m=!1}e.lencode=f,e.lenbits=9,e.distcode=g,e.distbits=5}function _(e,t,n,r){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new i.Buf8(a.wsize)),r>=a.wsize?(i.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>r&&(o=r),i.arraySet(a.window,t,n-r,o,a.wnext),(r-=o)?(i.arraySet(a.window,t,n-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}t.inflateReset=d,t.inflateReset2=p,t.inflateResetKeep=u,t.inflateInit=function(e){return h(e,15)},t.inflateInit2=h,t.inflate=function(e,t){var n,l,u,d,p,h,f,g,m,S,T,v,I,b,y,C,A,O,N,R,P,w,M,D,L=0,x=new i.Buf8(4),k=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;12===(n=e.state).mode&&(n.mode=13),p=e.next_out,u=e.output,f=e.avail_out,d=e.next_in,l=e.input,h=e.avail_in,g=n.hold,m=n.bits,S=h,T=f,w=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;m<16;){if(0===h)break e;h--,g+=l[d++]<<m,m+=8}if(2&n.wrap&&35615===g){n.check=0,x[0]=255&g,x[1]=g>>>8&255,n.check=o(n.check,x,2,0),g=0,m=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&g)<<8)+(g>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&g)){e.msg="unknown compression method",n.mode=30;break}if(m-=4,P=8+(15&(g>>>=4)),0===n.wbits)n.wbits=P;else if(P>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<P,e.adler=n.check=1,n.mode=512&g?10:12,g=0,m=0;break;case 2:for(;m<16;){if(0===h)break e;h--,g+=l[d++]<<m,m+=8}if(n.flags=g,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=g>>8&1),512&n.flags&&(x[0]=255&g,x[1]=g>>>8&255,n.check=o(n.check,x,2,0)),g=0,m=0,n.mode=3;case 3:for(;m<32;){if(0===h)break e;h--,g+=l[d++]<<m,m+=8}n.head&&(n.head.time=g),512&n.flags&&(x[0]=255&g,x[1]=g>>>8&255,x[2]=g>>>16&255,x[3]=g>>>24&255,n.check=o(n.check,x,4,0)),g=0,m=0,n.mode=4;case 4:for(;m<16;){if(0===h)break e;h--,g+=l[d++]<<m,m+=8}n.head&&(n.head.xflags=255&g,n.head.os=g>>8),512&n.flags&&(x[0]=255&g,x[1]=g>>>8&255,n.check=o(n.check,x,2,0)),g=0,m=0,n.mode=5;case 5:if(1024&n.flags){for(;m<16;){if(0===h)break e;h--,g+=l[d++]<<m,m+=8}n.length=g,n.head&&(n.head.extra_len=g),512&n.flags&&(x[0]=255&g,x[1]=g>>>8&255,n.check=o(n.check,x,2,0)),g=0,m=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((v=n.length)>h&&(v=h),v&&(n.head&&(P=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,l,d,v,P)),512&n.flags&&(n.check=o(n.check,l,v,d)),h-=v,d+=v,n.length-=v),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===h)break e;v=0;do{P=l[d+v++],n.head&&P&&n.length<65536&&(n.head.name+=String.fromCharCode(P))}while(P&&v<h);if(512&n.flags&&(n.check=o(n.check,l,v,d)),h-=v,d+=v,P)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===h)break e;v=0;do{P=l[d+v++],n.head&&P&&n.length<65536&&(n.head.comment+=String.fromCharCode(P))}while(P&&v<h);if(512&n.flags&&(n.check=o(n.check,l,v,d)),h-=v,d+=v,P)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;m<16;){if(0===h)break e;h--,g+=l[d++]<<m,m+=8}if(g!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}g=0,m=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;m<32;){if(0===h)break e;h--,g+=l[d++]<<m,m+=8}e.adler=n.check=c(g),g=0,m=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=p,e.avail_out=f,e.next_in=d,e.avail_in=h,n.hold=g,n.bits=m,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){g>>>=7&m,m-=7&m,n.mode=27;break}for(;m<3;){if(0===h)break e;h--,g+=l[d++]<<m,m+=8}switch(n.last=1&g,m-=1,3&(g>>>=1)){case 0:n.mode=14;break;case 1:if(E(n),n.mode=20,6===t){g>>>=2,m-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}g>>>=2,m-=2;break;case 14:for(g>>>=7&m,m-=7&m;m<32;){if(0===h)break e;h--,g+=l[d++]<<m,m+=8}if((65535&g)!=(g>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&g,g=0,m=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(v=n.length){if(v>h&&(v=h),v>f&&(v=f),0===v)break e;i.arraySet(u,l,d,v,p),h-=v,d+=v,f-=v,p+=v,n.length-=v;break}n.mode=12;break;case 17:for(;m<14;){if(0===h)break e;h--,g+=l[d++]<<m,m+=8}if(n.nlen=257+(31&g),g>>>=5,m-=5,n.ndist=1+(31&g),g>>>=5,m-=5,n.ncode=4+(15&g),g>>>=4,m-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;m<3;){if(0===h)break e;h--,g+=l[d++]<<m,m+=8}n.lens[k[n.have++]]=7&g,g>>>=3,m-=3}for(;n.have<19;)n.lens[k[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,M={bits:n.lenbits},w=s(0,n.lens,0,19,n.lencode,0,n.work,M),n.lenbits=M.bits,w){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;C=(L=n.lencode[g&(1<<n.lenbits)-1])>>>16&255,A=65535&L,!((y=L>>>24)<=m);){if(0===h)break e;h--,g+=l[d++]<<m,m+=8}if(A<16)g>>>=y,m-=y,n.lens[n.have++]=A;else{if(16===A){for(D=y+2;m<D;){if(0===h)break e;h--,g+=l[d++]<<m,m+=8}if(g>>>=y,m-=y,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}P=n.lens[n.have-1],v=3+(3&g),g>>>=2,m-=2}else if(17===A){for(D=y+3;m<D;){if(0===h)break e;h--,g+=l[d++]<<m,m+=8}m-=y,P=0,v=3+(7&(g>>>=y)),g>>>=3,m-=3}else{for(D=y+7;m<D;){if(0===h)break e;h--,g+=l[d++]<<m,m+=8}m-=y,P=0,v=11+(127&(g>>>=y)),g>>>=7,m-=7}if(n.have+v>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;v--;)n.lens[n.have++]=P}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,M={bits:n.lenbits},w=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,M),n.lenbits=M.bits,w){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,M={bits:n.distbits},w=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,M),n.distbits=M.bits,w){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(h>=6&&f>=258){e.next_out=p,e.avail_out=f,e.next_in=d,e.avail_in=h,n.hold=g,n.bits=m,a(e,T),p=e.next_out,u=e.output,f=e.avail_out,d=e.next_in,l=e.input,h=e.avail_in,g=n.hold,m=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;C=(L=n.lencode[g&(1<<n.lenbits)-1])>>>16&255,A=65535&L,!((y=L>>>24)<=m);){if(0===h)break e;h--,g+=l[d++]<<m,m+=8}if(C&&0==(240&C)){for(O=y,N=C,R=A;C=(L=n.lencode[R+((g&(1<<O+N)-1)>>O)])>>>16&255,A=65535&L,!(O+(y=L>>>24)<=m);){if(0===h)break e;h--,g+=l[d++]<<m,m+=8}g>>>=O,m-=O,n.back+=O}if(g>>>=y,m-=y,n.back+=y,n.length=A,0===C){n.mode=26;break}if(32&C){n.back=-1,n.mode=12;break}if(64&C){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&C,n.mode=22;case 22:if(n.extra){for(D=n.extra;m<D;){if(0===h)break e;h--,g+=l[d++]<<m,m+=8}n.length+=g&(1<<n.extra)-1,g>>>=n.extra,m-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;C=(L=n.distcode[g&(1<<n.distbits)-1])>>>16&255,A=65535&L,!((y=L>>>24)<=m);){if(0===h)break e;h--,g+=l[d++]<<m,m+=8}if(0==(240&C)){for(O=y,N=C,R=A;C=(L=n.distcode[R+((g&(1<<O+N)-1)>>O)])>>>16&255,A=65535&L,!(O+(y=L>>>24)<=m);){if(0===h)break e;h--,g+=l[d++]<<m,m+=8}g>>>=O,m-=O,n.back+=O}if(g>>>=y,m-=y,n.back+=y,64&C){e.msg="invalid distance code",n.mode=30;break}n.offset=A,n.extra=15&C,n.mode=24;case 24:if(n.extra){for(D=n.extra;m<D;){if(0===h)break e;h--,g+=l[d++]<<m,m+=8}n.offset+=g&(1<<n.extra)-1,g>>>=n.extra,m-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===f)break e;if(v=T-f,n.offset>v){if((v=n.offset-v)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}v>n.wnext?(v-=n.wnext,I=n.wsize-v):I=n.wnext-v,v>n.length&&(v=n.length),b=n.window}else b=u,I=p-n.offset,v=n.length;v>f&&(v=f),f-=v,n.length-=v;do{u[p++]=b[I++]}while(--v);0===n.length&&(n.mode=21);break;case 26:if(0===f)break e;u[p++]=n.length,f--,n.mode=21;break;case 27:if(n.wrap){for(;m<32;){if(0===h)break e;h--,g|=l[d++]<<m,m+=8}if(T-=f,e.total_out+=T,n.total+=T,T&&(e.adler=n.check=n.flags?o(n.check,u,T,p-T):r(n.check,u,T,p-T)),T=f,(n.flags?g:c(g))!==n.check){e.msg="incorrect data check",n.mode=30;break}g=0,m=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;m<32;){if(0===h)break e;h--,g+=l[d++]<<m,m+=8}if(g!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}g=0,m=0}n.mode=29;case 29:w=1;break e;case 30:w=-3;break e;case 31:return-4;case 32:default:return-2}return e.next_out=p,e.avail_out=f,e.next_in=d,e.avail_in=h,n.hold=g,n.bits=m,(n.wsize||T!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&_(e,e.output,e.next_out,T-e.avail_out)?(n.mode=31,-4):(S-=e.avail_in,T-=e.avail_out,e.total_in+=S,e.total_out+=T,n.total+=T,n.wrap&&T&&(e.adler=n.check=n.flags?o(n.check,u,T,e.next_out-T):r(n.check,u,T,e.next_out-T)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===S&&0===T||4===t)&&0===w&&(w=-5),w)},t.inflateEnd=function(e){if(!e||!e.state)return-2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?-2:(n.head=t,t.done=!1,0):-2},t.inflateSetDictionary=function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?-2:11===n.mode&&r(1,t,i,0)!==n.check?-3:_(e,t,i,i)?(n.mode=31,-4):(n.havedict=1,0):-2},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){"use strict";e.exports=function(e,t){var n,i,r,o,a,s,c,l,u,d,p,h,f,g,m,E,_,S,T,v,I,b,y,C,A;n=e.state,i=e.next_in,C=e.input,r=i+(e.avail_in-5),o=e.next_out,A=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),c=n.dmax,l=n.wsize,u=n.whave,d=n.wnext,p=n.window,h=n.hold,f=n.bits,g=n.lencode,m=n.distcode,E=(1<<n.lenbits)-1,_=(1<<n.distbits)-1;e:do{f<15&&(h+=C[i++]<<f,f+=8,h+=C[i++]<<f,f+=8),S=g[h&E];t:for(;;){if(h>>>=T=S>>>24,f-=T,0===(T=S>>>16&255))A[o++]=65535&S;else{if(!(16&T)){if(0==(64&T)){S=g[(65535&S)+(h&(1<<T)-1)];continue t}if(32&T){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}v=65535&S,(T&=15)&&(f<T&&(h+=C[i++]<<f,f+=8),v+=h&(1<<T)-1,h>>>=T,f-=T),f<15&&(h+=C[i++]<<f,f+=8,h+=C[i++]<<f,f+=8),S=m[h&_];n:for(;;){if(h>>>=T=S>>>24,f-=T,!(16&(T=S>>>16&255))){if(0==(64&T)){S=m[(65535&S)+(h&(1<<T)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(I=65535&S,f<(T&=15)&&(h+=C[i++]<<f,(f+=8)<T&&(h+=C[i++]<<f,f+=8)),(I+=h&(1<<T)-1)>c){e.msg="invalid distance too far back",n.mode=30;break e}if(h>>>=T,f-=T,I>(T=o-a)){if((T=I-T)>u&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(b=0,y=p,0===d){if(b+=l-T,T<v){v-=T;do{A[o++]=p[b++]}while(--T);b=o-I,y=A}}else if(d<T){if(b+=l+d-T,(T-=d)<v){v-=T;do{A[o++]=p[b++]}while(--T);if(b=0,d<v){v-=T=d;do{A[o++]=p[b++]}while(--T);b=o-I,y=A}}}else if(b+=d-T,T<v){v-=T;do{A[o++]=p[b++]}while(--T);b=o-I,y=A}for(;v>2;)A[o++]=y[b++],A[o++]=y[b++],A[o++]=y[b++],v-=3;v&&(A[o++]=y[b++],v>1&&(A[o++]=y[b++]))}else{b=o-I;do{A[o++]=A[b++],A[o++]=A[b++],A[o++]=A[b++],v-=3}while(v>2);v&&(A[o++]=A[b++],v>1&&(A[o++]=A[b++]))}break}}break}}while(i<r&&o<s);i-=v=f>>3,h&=(1<<(f-=v<<3))-1,e.next_in=i,e.next_out=o,e.avail_in=i<r?r-i+5:5-(i-r),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=h,n.bits=f}},function(e,t,n){"use strict";var i=n(218),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,c,l,u,d,p){var h,f,g,m,E,_,S,T,v,I=p.bits,b=0,y=0,C=0,A=0,O=0,N=0,R=0,P=0,w=0,M=0,D=null,L=0,x=new i.Buf16(16),k=new i.Buf16(16),U=null,G=0;for(b=0;b<=15;b++)x[b]=0;for(y=0;y<c;y++)x[t[n+y]]++;for(O=I,A=15;A>=1&&0===x[A];A--);if(O>A&&(O=A),0===A)return l[u++]=20971520,l[u++]=20971520,p.bits=1,0;for(C=1;C<A&&0===x[C];C++);for(O<C&&(O=C),P=1,b=1;b<=15;b++)if(P<<=1,(P-=x[b])<0)return-1;if(P>0&&(0===e||1!==A))return-1;for(k[1]=0,b=1;b<15;b++)k[b+1]=k[b]+x[b];for(y=0;y<c;y++)0!==t[n+y]&&(d[k[t[n+y]]++]=y);if(0===e?(D=U=d,_=19):1===e?(D=r,L-=257,U=o,G-=257,_=256):(D=a,U=s,_=-1),M=0,y=0,b=C,E=u,N=O,R=0,g=-1,m=(w=1<<O)-1,1===e&&w>852||2===e&&w>592)return 1;for(;;){S=b-R,d[y]<_?(T=0,v=d[y]):d[y]>_?(T=U[G+d[y]],v=D[L+d[y]]):(T=96,v=0),h=1<<b-R,C=f=1<<N;do{l[E+(M>>R)+(f-=h)]=S<<24|T<<16|v|0}while(0!==f);for(h=1<<b-1;M&h;)h>>=1;if(0!==h?(M&=h-1,M+=h):M=0,y++,0==--x[b]){if(b===A)break;b=t[n+d[y]]}if(b>O&&(M&m)!==g){for(0===R&&(R=O),E+=C,P=1<<(N=b-R);N+R<A&&!((P-=x[N+R])<=0);)N++,P<<=1;if(w+=1<<N,1===e&&w>852||2===e&&w>592)return 1;l[g=M&m]=O<<24|N<<16|E-u|0}}return 0!==M&&(l[E+M]=b-R<<24|64<<16|0),p.bits=O,0}},function(e,t,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,t,n){"use strict";var i=n(716).Buffer,r=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(i.isEncoding===r||!r(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=l,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=u,this.end=d,t=3;break;default:return this.write=p,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function u(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function p(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var n=function(e,t,n){var i=t.length-1;if(i<n)return 0;var r=a(t[i]);if(r>=0)return r>0&&(e.lastNeed=r-1),r;if(--i<n||-2===r)return 0;if((r=a(t[i]))>=0)return r>0&&(e.lastNeed=r-2),r;if(--i<n||-2===r)return 0;if((r=a(t[i]))>=0)return r>0&&(2===r?r=0:e.lastNeed=r-3),r;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var i=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var i=n(385),r=i.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=i:(o(i,t),t.Buffer=a),a.prototype=Object.create(r.prototype),o(r,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},function(e,t,n){var i=n(718),r=n(483),o=n(720);e.exports=function(e){return r(e)?o(e):i(e)}},function(e,t,n){var i=n(719)("length");e.exports=i},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t){var n="[\\ud800-\\udfff]",i="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+i+"|"+r+")"+"?",l="[\\ufe0e\\ufe0f]?"+c+("(?:\\u200d(?:"+[o,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+c+")*"),u="(?:"+[o+i+"?",i,a,s,n].join("|")+")",d=RegExp(r+"(?="+r+")|"+u+l,"g");e.exports=function(e){for(var t=d.lastIndex=0;d.test(e);)++t;return t}},function(e,t,n){var i=n(722),r=n(368),o=n(723);e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&r(t,n,a)&&(n=a=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),a=void 0===a?t<n?1:-1:o(a),i(t,n,a,e)}}},function(e,t){var n=Math.ceil,i=Math.max;e.exports=function(e,t,r,o){for(var a=-1,s=i(n((t-e)/(r||1)),0),c=Array(s);s--;)c[o?s:++a]=e,e+=r;return c}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var i=n(302),r=n(376),o=n(377),a=n(228),s=n(305),c=n(303),l=Math.min;e.exports=function(e,t,n){for(var u=n?o:r,d=e[0].length,p=e.length,h=p,f=Array(p),g=1/0,m=[];h--;){var E=e[h];h&&t&&(E=a(E,s(t))),g=l(E.length,g),f[h]=!n&&(t||d>=120&&E.length>=120)?new i(h&&E):void 0}E=e[0];var _=-1,S=f[0];e:for(;++_<d&&m.length<g;){var T=E[_],v=t?t(T):T;if(T=n||0!==T?T:0,!(S?c(S,v):u(m,v,n))){for(h=p;--h;){var I=f[h];if(!(I?c(I,v):u(e[h],v,n)))continue e}S&&S.push(v),m.push(T)}}return m}},function(e,t,n){var i=n(276);e.exports=function(e){return i(e)?e:[]}},function(e,t){e.exports=function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var i=n(730),r=n(483),o=n(731);e.exports=function(e){return r(e)?o(e):i(e)}},function(e,t){e.exports=function(e){return e.split("")}},function(e,t){e.exports=function(e){return e.split("")}},function(e,t){e.exports=function(e,t,n,i){for(var r=-1,o=null==e?0:e.length;++r<o;){var a=e[r];t(i,a,n(a),e)}return i}},function(e,t){e.exports=function(e,t,n,i){for(var r=-1,o=null==e?0:e.length;++r<o;){var a=e[r];t(i,a,n(a),e)}return i}},function(e,t,n){var i=n(114),r=n(735);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};i(r,o);e.exports=r.locals||{}},function(e,t,n){"use strict";n.r(t);var i=n(72),r=n.n(i)()(!1);r.push([e.i,".switch{position:relative;display:inline-block;width:36px;height:20px}.switch input{opacity:0;width:0;height:0}.slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;transition:0.4s}.slider:before{position:absolute;content:'';height:16px;width:16px;left:2px;bottom:2px;background-color:white;transition:0.4s}input:checked+.slider{background-color:#0078d4}input:checked+.slider:before{transform:translateX(16px)}.slider.round{border-radius:34px}.slider.round:before{border-radius:50%}\n",""]),t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(72),r=n.n(i)()(!1);r.push([e.i,":root{--primary500: #00508d;--primary400: #0078d4;--primary300: #00a1ff;--primary200: #c1d9eb;--primary100: #bfe8ff;--backgroundColor1: #f3f6f8;--backgroundColor2: #ffffff;--backgroundColor3: #00000000;--backgroundColor4: #ffffff;--backgroundColor5: #f4f4f4;--backgroundColor6: #c5eaff;--backgroundColor7: #e3fafe;--backgroundColor8: #ffffff99;--backgroundColor9: #b4dbf1;--backgroundColor10: #eaf1f5;--backgroundColor11: #a2c5d8;--backgroundColor12: #d9d9d9;--backgroundColor13: #bcbcbc;--backgroundColor14: #f4f4f4;--backgroundColor15: #ffffff;--backgroundColor16: #f3f6f8;--surfaceColor1: #ffffff;--surfaceColor2: #000000;--surfaceColor3: #323639;--separatorColor1: #f4f4f4;--separatorColor2: #d4d8db;--separatorColor3: #0078d4;--textPrimaryColor: #000000;--textSecondaryColor: #737373;--textTertiaryColor: #98a3a5;--textQuaternaryColor: #32495f;--textQuinaryColor: #636363;--textReverseColor: #ffffff;--textLinkColor: #0078d4;--textBoldColor: #00508d;--textNegativeColor: #e81123;--textPositiveColor: #107c10;--textWhiteColor: #ffffff;--textPinkColor: #de1289;--iconPrimaryColor: #0078d4;--iconSecondaryColor: #667787;--iconTertiaryColor: #98a3a5;--iconReverseColor: #ffffff;--iconNegativeColor: #e81123;--iconPositiveColor: #107c10;--indicatorColor1: #e81123;--indicatorColor2: #107c10;--indicatorColor3: #ffb900;--indicatorColor4: #e5faff;--listHeaderColor: #ffffff;--listItemHoverColor: #f4f4f4;--tabBackgroundColor: #00508d;--tabBackgroundHoverColor: #0078d480;--tabSelectedBackgroundColor: #0078d4;--scrollBarColor1: #d3d3d3;--scrollBarColor2: #a9a9a9;--shimmerShineColor1: #f6f7f8;--shimmerShineColor2: #edeef1}:root[theme='dark']{--primary500: #00508d;--primary400: #0078d4;--primary300: #0090ff;--primary200: #c1d9eb;--primary100: #bfe8ff;--backgroundColor1: #292929;--backgroundColor2: #141414;--backgroundColor3: #00000000;--backgroundColor4: #212121;--backgroundColor5: #292929;--backgroundColor6: #00508d;--backgroundColor7: #193e57;--backgroundColor8: #21212160;--backgroundColor9: #347bb2;--backgroundColor10: #292929;--backgroundColor11: #3c7390;--backgroundColor12: #12181c;--backgroundColor13: #6b757b;--backgroundColor14: #212121;--backgroundColor15: #292929;--backgroundColor16: #000000;--surfaceColor1: #000000;--surfaceColor2: #000000;--surfaceColor3: #323639;--separatorColor1: #292929;--separatorColor2: #4e4e52;--separatorColor3: #b3dfe6;--textPrimaryColor: #ffffff;--textSecondaryColor: #8e8e8e;--textTertiaryColor: #acacac;--textQuaternaryColor: #e1e1e1;--textQuinaryColor: #bfbfbf;--textReverseColor: #000000;--textLinkColor: #00a1ff;--textBoldColor: #00508d;--textNegativeColor: #e81123;--textPositiveColor: #107c10;--textWhiteColor: #ffffff;--textPinkColor: #f359b3;--iconPrimaryColor: #ffffff;--iconSecondaryColor: #767676;--iconTertiaryColor: #98a3a5;--iconReverseColor: #000000;--iconNegativeColor: #e81123;--iconPositiveColor: #107c10;--indicatorColor1: #e81123;--indicatorColor2: #107c10;--indicatorColor3: #ffb900;--indicatorColor4: #e5faff;--listHeaderColor: #212121;--listItemHoverColor: #404040;--tabBackgroundColor: #212121cc;--tabBackgroundHoverColor: #404040;--tabSelectedBackgroundColor: #505050;--scrollBarColor1: #a9a9a9;--scrollBarColor2: #808080;--shimmerShineColor1: #545454;--shimmerShineColor2: #424242}.webapp-button:hover{background-color:var(--primary400) !important;border:solid 4px var(--primary400) !important}.webapp-button:focus{background-color:var(--primary400) !important;border:solid 4px var(--primary400) !important;outline:2px dashed rgba(0,0,0,0) !important;outline-offset:0px !important}.webapp-box:hover{background-color:var(--separatorColor2);cursor:pointer}.webapp-box:focus{outline:1px dashed #c6cfda !important;outline-offset:-1px !important}@media (-ms-high-contrast: active){.webapp-high-contrast:focus{background-color:turquoise}}.webapp-tab-icons:hover{background-color:var(--tabBackgroundHoverColor);cursor:pointer}.tab-icons-parent{background-color:var(--tabBackgroundColor);justify-content:space-between;position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;overflow:auto;align-items:stretch;box-shadow:0px 1px 8px 0px rgba(0,0,0,0.2)}.webapp-send-button:hover{background-color:rgba(0,0,0,0);cursor:pointer}.webapp-send-button:focus{outline:1px dashed #c6cfda !important;outline-offset:-1px !important}.webapp-close-button:hover{background-color:rgba(0,0,0,0);cursor:pointer}.webapp-close-button:focus{outline:1px dashed #c6cfda !important;outline-offset:-1px !important}.webapp-button-links:focus{outline:1px dashed #c6cfda !important;outline-offset:2px !important}.blue-outline-on-focus:focus{outline-color:#0095ff !important}.orange-outline-on-focus:focus{outline-color:#ff9f01 !important}.thick-outline-width:focus{outline-width:2px !important}.thicker-outline-width:focus{outline-width:3px !important}:root{--primary500: #00508d;--primary400: #0078d4;--primary300: #00a1ff;--primary200: #c1d9eb;--primary100: #bfe8ff;--backgroundColor1: #f3f6f8;--backgroundColor2: #ffffff;--backgroundColor3: #00000000;--backgroundColor4: #ffffff;--backgroundColor5: #f4f4f4;--backgroundColor6: #c5eaff;--backgroundColor7: #e3fafe;--backgroundColor8: #ffffff99;--backgroundColor9: #b4dbf1;--backgroundColor10: #eaf1f5;--backgroundColor11: #a2c5d8;--backgroundColor12: #d9d9d9;--backgroundColor13: #bcbcbc;--backgroundColor14: #f4f4f4;--backgroundColor15: #ffffff;--backgroundColor16: #f3f6f8;--surfaceColor1: #ffffff;--surfaceColor2: #000000;--surfaceColor3: #323639;--separatorColor1: #f4f4f4;--separatorColor2: #d4d8db;--separatorColor3: #0078d4;--textPrimaryColor: #000000;--textSecondaryColor: #737373;--textTertiaryColor: #98a3a5;--textQuaternaryColor: #32495f;--textQuinaryColor: #636363;--textReverseColor: #ffffff;--textLinkColor: #0078d4;--textBoldColor: #00508d;--textNegativeColor: #e81123;--textPositiveColor: #107c10;--textWhiteColor: #ffffff;--textPinkColor: #de1289;--iconPrimaryColor: #0078d4;--iconSecondaryColor: #667787;--iconTertiaryColor: #98a3a5;--iconReverseColor: #ffffff;--iconNegativeColor: #e81123;--iconPositiveColor: #107c10;--indicatorColor1: #e81123;--indicatorColor2: #107c10;--indicatorColor3: #ffb900;--indicatorColor4: #e5faff;--listHeaderColor: #ffffff;--listItemHoverColor: #f4f4f4;--tabBackgroundColor: #00508d;--tabBackgroundHoverColor: #0078d480;--tabSelectedBackgroundColor: #0078d4;--scrollBarColor1: #d3d3d3;--scrollBarColor2: #a9a9a9;--shimmerShineColor1: #f6f7f8;--shimmerShineColor2: #edeef1}:root[theme='dark']{--primary500: #00508d;--primary400: #0078d4;--primary300: #0090ff;--primary200: #c1d9eb;--primary100: #bfe8ff;--backgroundColor1: #292929;--backgroundColor2: #141414;--backgroundColor3: #00000000;--backgroundColor4: #212121;--backgroundColor5: #292929;--backgroundColor6: #00508d;--backgroundColor7: #193e57;--backgroundColor8: #21212160;--backgroundColor9: #347bb2;--backgroundColor10: #292929;--backgroundColor11: #3c7390;--backgroundColor12: #12181c;--backgroundColor13: #6b757b;--backgroundColor14: #212121;--backgroundColor15: #292929;--backgroundColor16: #000000;--surfaceColor1: #000000;--surfaceColor2: #000000;--surfaceColor3: #323639;--separatorColor1: #292929;--separatorColor2: #4e4e52;--separatorColor3: #b3dfe6;--textPrimaryColor: #ffffff;--textSecondaryColor: #8e8e8e;--textTertiaryColor: #acacac;--textQuaternaryColor: #e1e1e1;--textQuinaryColor: #bfbfbf;--textReverseColor: #000000;--textLinkColor: #00a1ff;--textBoldColor: #00508d;--textNegativeColor: #e81123;--textPositiveColor: #107c10;--textWhiteColor: #ffffff;--textPinkColor: #f359b3;--iconPrimaryColor: #ffffff;--iconSecondaryColor: #767676;--iconTertiaryColor: #98a3a5;--iconReverseColor: #000000;--iconNegativeColor: #e81123;--iconPositiveColor: #107c10;--indicatorColor1: #e81123;--indicatorColor2: #107c10;--indicatorColor3: #ffb900;--indicatorColor4: #e5faff;--listHeaderColor: #212121;--listItemHoverColor: #404040;--tabBackgroundColor: #212121cc;--tabBackgroundHoverColor: #404040;--tabSelectedBackgroundColor: #505050;--scrollBarColor1: #a9a9a9;--scrollBarColor2: #808080;--shimmerShineColor1: #545454;--shimmerShineColor2: #424242}*[dir='ltr']{direction:ltr;unicode-bidi:embed}*[dir='rtl']{direction:rtl;unicode-bidi:embed}body{margin:0px}span{word-break:break-word !important;word-wrap:break-word}div{word-break:break-word !important;word-wrap:break-word}.app-container{font-family:'Roboto';position:absolute;top:0;left:0;height:100%;width:100%;overflow:auto;padding:0;margin:0;background:#ffffff}.main-rtl-div{display:flex;height:100%;width:100%}::-webkit-input-placeholder{color:#667787;font-family:'Roboto'}::-moz-placeholder{color:#667787;font-family:'Roboto'}:-ms-input-placeholder{color:#667787;font-family:'Roboto'}.line-clamp{-webkit-line-clamp:3;-webkit-box-orient:vertical;display:-webkit-box}.main-screen{overflow:visible;border:none;display:flex;position:relative;flex-direction:column;flex-grow:1;flex-shrink:1;align-items:stretch;width:100%;min-width:1270px;background-color:var(--backgroundColor2)}.timestamp-gradient{position:absolute;bottom:0}.text-span-container{display:inline !important}.text-span-container::after{content:'';display:inline-block;margin-right:78px}.reply-to-container{border-width:0;border-left-width:4px;border-color:#de1289;border-style:solid;cursor:pointer}.reply-to-container-outgoing:hover{background-color:var(--backgroundColor11) !important}.reply-to-container-incoming:hover{background-color:var(--backgroundColor12) !important}.no-scrollbar::-webkit-scrollbar{display:none}\n",""]),t.default=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(135),r=n(176),o=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.pending=!1,i}return i.a(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,i=void 0;try{this.work(e)}catch(e){n=!0,i=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),i},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return i.a(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(198).a)),a=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}(),s=new(function(e){function t(n,i){void 0===i&&(i=a.now);var r=e.call(this,n,(function(){return t.delegate&&t.delegate!==r?t.delegate.now():i()}))||this;return r.actions=[],r.active=!1,r.scheduled=void 0,r}return i.a(t,e),t.prototype.schedule=function(n,i,r){return void 0===i&&(i=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,i,r):e.prototype.schedule.call(this,n,i,r)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(a))(o);function c(e,t){return void 0===t&&(t=s),function(n){return n.lift(new l(e,t))}}var l=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.dueTime,this.scheduler))},e}(),u=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.dueTime=n,r.scheduler=i,r.debouncedSubscription=null,r.lastValue=null,r.hasValue=!1,r}return i.a(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(d,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(r.a);function d(e){e.debouncedNext()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n(135),r=n(401),o=n(176),a=n(198),s=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),c=function(e){function t(t,n){var i=e.call(this)||this;return i.subject=t,i.subscriber=n,i.closed=!1,i}return i.a(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(a.a),l=n(230),u=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return i.a(t,e),t}(o.a),d=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return i.a(t,e),t.prototype[l.a]=function(){return new u(this)},t.prototype.lift=function(e){var t=new p(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new s;if(!this.isStopped)for(var t=this.observers,n=t.length,i=t.slice(),r=0;r<n;r++)i[r].next(e)},t.prototype.error=function(e){if(this.closed)throw new s;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,i=t.slice(),r=0;r<n;r++)i[r].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new s;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),i=0;i<t;i++)n[i].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new s;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new s;return this.hasError?(e.error(this.thrownError),a.a.EMPTY):this.isStopped?(e.complete(),a.a.EMPTY):(this.observers.push(e),new c(this,e))},t.prototype.asObservable=function(){var e=new r.a;return e.source=this,e},t.create=function(e,t){return new p(e,t)},t}(r.a),p=function(e){function t(t,n){var i=e.call(this)||this;return i.destination=t,i.source=n,i}return i.a(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):a.a.EMPTY},t}(d)}]);